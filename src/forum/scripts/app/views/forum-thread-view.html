<div>
    <md-content class="forum-content-padding">
        <h2 class="forum-section-header">Thread name: <span data-ng-bind="::vm.thread.subject"></span></h2>
        <div layout="row">
            <div layout="row" flex="50" layout-align="start center">
                <md-button aria-label="back" ui-sref="app.forum.threads-list({groupId: vm.threadGroupId})"
                           class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back
                </md-button>
                <div paging
                     page="vm.threadPageCurrent"
                     page-size="vm.itemPerPage"
                     total="vm.threadMessagesTotal"
                     paging-action="vm.changePage(page)"
                     class="global-pagination-div">
                </div>
            </div>
            <div layout="row" flex="50" layout-align="end center">
                <md-button aria-label="write" data-ng-click="vm.write($event)" class="md-raised md-primary">
                    Write
                </md-button>
            </div>
        </div>
        <div data-ng-if="vm.readyStatus.content">

            <!-- <md-list flex> -->

            <!-- <md-list-item class="thread-forum-list-item" class="md-3-line" ng-repeat="item in vm.messages"
            >
                <h4 class="author-username" data-ng-bind="item.sender_object.username"></h4>
                <p class="thread-message-text" data-ng-bind="item.text"></p>
                <md-divider></md-divider>
            </md-list-item> -->
            <md-card class="thread-forum-list-item" data-ng-repeat="item in vm.messages">
                <div class="thread-message-content">
                    <div layout="row" layout-align="start center" style="margin-bottom: 10px">
                        <h4 class="author-username" data-ng-bind="item.sender_object.username"></h4>
                        <p class="thread-message-create-data" data-ng-bind="item.created | date:'HH:mm dd/MM/yyyy'"></p>
                    </div>
                    <div layout="row">
                        <p class="thread-message-text" data-ng-bind-html="item.text | trustAsHtml"></p>
                    </div>
                    <div layout="row" layout-align="end center">
                        <md-button aria-label="reply" class="md-raised message-reply-btn" data-ng-click="vm.replyToMessage($event, item)">Reply</md-button>
                    </div>
                </div>
                <md-divider class="thread-message-divider"></md-divider>
            </md-card>

            <!-- </md-list> -->

            <div layout="row">
                <div layout="row" flex="50" layout-align="start center">
                    <md-button aria-label="back" ui-sref="app.forum.threads-list({groupId: vm.threadGroupId})"
                               class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back
                    </md-button>
                    <div paging
                         page="vm.threadPageCurrent"
                         page-size="vm.itemPerPage"
                         total="vm.threadMessagesTotal"
                         paging-action="vm.changePage(page)"
                         class="global-pagination-div">
                    </div>
                </div>
                <div layout="row" flex="50" layout-align="end center">
                    <md-button aria-label="write" data-ng-click="vm.write($event)" class="md-raised md-primary">
                        Write
                    </md-button>
                </div>
            </div>

        </div>
        <div data-ng-if="!vm.readyStatus.content">
            <div layout="row" layout-sm="column" layout-align="space-around" class="m-large">
                <md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular>
            </div>
        </div>
    </md-content>
</div>