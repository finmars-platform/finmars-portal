<div ng-class="{'disabled-field': !isEditableField()}">

    <div ng-class="{'display-none': !vm.readyStatus.content}">

        <div data-ng-if="fieldType['display_name'] === 'Number'"
             class="bind-field-number-field-container">

            <number-input
                    label="{{getName()}}"
                    model="entity[vm.fieldKey]"
                    number-format="item.options.number_format"
                    custom-buttons="item.buttons"
                    custom-styles="customStyles"
                    event-signal="ciEventObj.event"
                    small-options="{onlyPositive: item.options.onlyPositive,
                      tooltipText: tooltipText,
                      notNull: options.notNull}"
                    on-change-callback="itemChange()">
            </number-input>
        </div>

        <div ng-if="fieldType['display_name'] === 'String'">

            <text-input label="{{getName()}}"
                        placeholder-text="text"
                        model="entity[vm.fieldKey]"
                        custom-buttons="item.buttons"
                        custom-styles="customStyles"
                        event-signal="ciEventObj.event"
                        small-options="{tooltipText: tooltipText, notNull: options.notNull}"
                        render-hyperlinks="item.options.isHyperlink"
                        on-change-callback="itemChange()"
                        on-blur-callback="inputBlur()"></text-input>

        </div>

        <div data-ng-if="fieldType['display_name'] === 'Field'">

            <div>
                <ev-field-resolver data-item="item"
                                   data-entity="entity"
                                   data-options="options"
                                   ev-editor-data-service="evEditorDataService"
                                   ev-editor-event-service="evEditorEventService"
                                   data-entity-type="entityType"
                                   data-item-change="itemChange()">
                </ev-field-resolver>
            </div>

        </div>

        <div data-ng-if="fieldType['display_name'] === 'Multiple choice field'">
            <div>
                <ev-field-resolver data-item="item"
                                   data-entity="entity"
                                   data-options="options"
                                   ev-editor-data-service="evEditorDataService"
                                   ev-editor-event-service="evEditorEventService"
                                   data-entity-type="entityType"
                                   data-item-change="itemChange()">
                </ev-field-resolver>
            </div>
        </div>

        <div ng-if="fieldType['display_name'] === 'Date'" class="field-date-pick">
            <date-input
                    label="{{getName()}}"
                    model="entity[vm.fieldKey]"
                    custom-buttons="item.buttons"
                    custom-styles="customStyles"
                    event-signal="ciEventObj.event"
                    small-options="{tooltipText: tooltipText, notNull: options.notNull}"
                    on-change-callback="onDateChange()">
            </date-input>
        </div>

        <div data-ng-if="fieldType['display_name'] === 'Boolean' && hideIscanceledCheckbox(getName())">
            <md-checkbox
                    class="checkbox-bind-field"
                    data-ng-model="entity[vm.fieldKey]"
                    data-ng-change="itemChange()"
                    aria-label="checkbox">
                <label data-ng-bind="getName()"></label>
            </md-checkbox>
        </div>

        <div data-ng-if="fieldType['display_name'] === 'Classifier'">
            <div data-ng-if="vm.readyStatus.classifier">

                <!--  Victor 2020.10.23 Change for classifier-select
                      <md-input-container class="md-block md-select-pan">
                        <label data-ng-bind="getName()"></label>

                        <md-select
                          data-ng-model="entity[vm.fieldKey]"
                          data-classifier-modal-resolver
                          data-classifier-attr="item"
                          data-classifier-value="entity[vm.fieldKey]"
                          data-ng-change="changeClassifier()"
                          md-container-class="h-classifier-select"
                          data-entity-type="entityType"
                          style="{{inputBackgroundColor()}}"
                        >
                          <md-option ng-value="node.id" selected="selected">
                            {{node.name}}
                          </md-option>
                        </md-select>
                      </md-input-container>-->

                <classifier-select label="{{getName()}}"
                                   placeholder-text="{{getName()}}"
                                   model="entity[vm.fieldKey]"
                                   classifier-attr="item"
                                   classifier-value="entity[vm.fieldKey]"
                                   entity-type="entityType"
                ></classifier-select>

            </div>

            <div data-ng-if="!vm.readyStatus.classifier">
                <div layout="row" layout-sm="column" layout-align="space-around">
                    <progress-circular diameter="20"></progress-circular>
                </div>
            </div>
        </div>

        <div data-ng-if="fieldType['display_name'] === 'Decoration' && item.key === 'layoutLine'"
             class="ec-decoration-container">
            <span class="ec-decoration line" style="{{inputBackgroundColor()}}"></span>
        </div>

        <div data-ng-if="fieldType['display_name'] === 'Decoration' && item.key === 'layoutLineWithLabel'"
             class="ec-decoration-container">
            <span class="ec-decoration labeled" data-ng-if="item.options.labelText">
                <span class="w-rp" data-ng-bind="item.options.labelText"></span>
            </span>
        </div>

        <div data-ng-if="fieldType['display_name'] === 'Decoration' && item.key === 'layoutPlainText'"
             class="ec-decoration-container">
            <span class="ec-decoration plain-text" data-ng-bind="item.options.plainText"></span>
        </div>

        <div data-ng-if="fieldType['display_name'] === 'Selector'"
             class="ec-decoration-container">
            <ev-selector-resolver item="item"
                                  entity="entity"
                                  options="options"
                                  entity-type="entityType"
                                  item-change="itemChange()">
            </ev-selector-resolver>
        </div>

        <div data-ng-if="fieldType['display_name'] === 'Button'">
            <div class="custom-input-container">
                <md-button class="md-raised md-primary" data-ng-click="recalculate()">
                    {{getName()}}
                </md-button>
            </div>
        </div>

        <div ng-if="fieldType['display_name'] === 'Table'" style="padding: 0 10px;">
            <bind-field-table item="item" entity="entity"></bind-field-table>
        </div>

    </div>

    <div ng-if="!vm.readyStatus.content" class="bind-field-loader" style="height: 42px; margin-bottom: 13px;">
        <div layout="row" layout-sm="column" layout-align="space-around space-around" class="height-100">
            <progress-circular diameter="30"></progress-circular>
        </div>
    </div>

</div>
