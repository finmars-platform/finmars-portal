<div class="p-16">

<!--    <h1 class="m-0">Homepage</h1>-->
    <div layout="row" class="m-b-35">

        <md-button data-ng-click="vm.reactToEvents($event)" class="md-raised md-primary">React to events</md-button>

        <fieldset class="homepage-dashboards-fieldset" flex="50" style="margin-right: 15px">
            <legend>Dashboard</legend>

            <div data-ng-if="vm.dashboardsList.length > 0" layout="column">

                <div data-ng-repeat="dashboard in vm.dashboardsList">
                    <md-button class="md-raised md-button"
                               ui-sref="app.portal.dashboard({layoutUserCode: dashboard.user_code})"
                               ng-bind="dashboard.name"></md-button>
                </div>

            </div>
        </fieldset>

        <fieldset flex="50" style="margin-left: 15px">
            <legend>Messages</legend>

            <div class="homepage-messages-container">

                <table>

                    <thead>
                        <tr>
                            <td style="width: 140px;">
                                Date
                            </td>
                            <td>
                                Level
                            </td>
                            <td>
                                Source
                            </td>
                            <td>
                                Text
                            </td>
                            <td>
                                Status
                            </td>
                            <td>
                                Attachments
                            </td>
                        </tr>
                    </thead>

                    <tbody>

                        <tr data-ng-repeat="item in vm.systemMessages">

                            <td> {{item.verbose_created}}</td>
                            <td> {{item.verbose_level}}</td>
                            <td> {{item.source}}</td>
                            <td> {{item.text}}</td>
                            <td> {{item.verbose_status}}</td>
                            <td>

                                <div data-ng-repeat="item in item.attachments">
                                    <a href="{{item.file_report_url}}">{{item.file_report_object.name}}</a>
                                </div>

                            </td>

                        </tr>

                    </tbody>

                </table>


            </div>
        </fieldset>
    </div>

    <div layout="row">
        <fieldset flex="100">
            <legend>Events</legend>

            <div class="m-t-12 overflow-scroll-x width-100 p-b-24 p-t-24 margin-bottom-20">
                <div>
                    <div data-ng-include="'views/check-events-view.html'"></div>
                </div>
            </div>
        </fieldset>
    </div>

    <!--<div class="m-t-12 overflow-scroll-x width-100 p-b-24 p-t-24 margin-bottom-20">
        <div>
            <div data-ng-include="'views/check-events-schedules-tab-view.html'"></div>
        </div>
    </div>

    <div layout="row">
        <a data-ui-sref="app.portal.dashboard" class="md-button md-raised md-primary">Dashboard</a>
    </div>-->

</div>


<div class="overlay" data-ng-if="vm.eventsProcessing">
    <!--<div class="overlay">-->

    <div class="overlay-loader" layout="row" layout-sm="column" layout-align="space-around">
        <progress-circular diameter="100"></progress-circular>
    </div>

    <p class="overlay-text">Checking for Events</p>

</div>