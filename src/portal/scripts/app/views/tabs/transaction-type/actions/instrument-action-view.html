<div layout="row">
    <md-input-container class="orange-actions-selector width-100">
        <label for="" content-title>Action Specific</label>
        <md-select data-ng-model="item.rebook_reaction">
            <md-option data-ng-repeat="item in vm.rebookInstrumentReactions"
                       ng-value="item.id">
                {{item.name}}
            </md-option>
        </md-select>
    </md-input-container>
</div>
<div layout="row">
    <div flex="50">

        <div layout="row">

            <div flex="66" layout="row">
                <div flex>
                    <md-button
                            class="ttype-action-field-toggle md-icon-button md-raised {{!!item.instrument.instrument_type_toggle ? 'ref' : ''}}"
                            style="transform: scale(0.7,0.7)"
                            data-ng-click="vm.resetPropertyBtn(item, 'instrument', 'instrument_type')">
                        <span data-ng-if="!!item.instrument.instrument_type_toggle">R</span>
                        <span data-ng-if="!!!item.instrument.instrument_type_toggle">I</span>
                    </md-button>
                </div>
                <div flex="90">
                    <div>
                        <div data-ng-if="item.instrument.instrument_type_toggle">

                            <ttype-actions-relations-select label-title="Instrument type"
                                                            model="item.instrument.instrument_type"
                                                            load-relation="vm.loadRelation('instrument_type')"
                                                            relation-items="vm.relationItems['instrument_type']"
                                                            selected-value="item.instrument.instrument_type_object.id"
                                                            selected-name="item.instrument.instrument_type_object.name"
                                                            is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-relations-select>
                        </div>

                        <div data-ng-if="!item.instrument.instrument_type_toggle">

                            <ttype-actions-input-select label-title="Instrument type"
                                                        model="item.instrument.instrument_type_input"
                                                        find-inputs="vm.findInputs('instrument-type')"
                                                        is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-input-select>
                        </div>
                    </div>
                </div>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>User code: Text</label>
                    <input type="text" value-title data-ng-model="item.instrument.user_code">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.user_code"></expression-editor-button>
            </div>

        </div>

        <div layout="row">

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Name: Text</label>
                    <input type="text" value-title data-ng-model="item.instrument.name">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.name"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Short name: Text</label>
                    <input type="text" value-title data-ng-model="item.instrument.short_name">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.short_name"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Public name: Text</label>
                    <input type="text" value-title data-ng-model="item.instrument.public_name">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.public_name"></expression-editor-button>
            </div>

        </div>

        <div layout="row">

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>User text1: Text</label>
                    <input type="text" value-title data-ng-model="item.instrument.user_text_1">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.user_text_1"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>User text2: Text</label>
                    <input type="text" value-title data-ng-model="item.instrument.user_text_2">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.user_text_2"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>User text3: Text</label>
                    <input type="text" value-title data-ng-model="item.instrument.user_text_3">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.user_text_3"></expression-editor-button>
            </div>

        </div>

        <div layout="row">
            <div flex="100" layout="row" layout-align="start top">
                <md-input-container flex="grow">
                    <label for="" class="uncut-text-on-focus-label" content-title>Notes</label>
                    <input type="text" value-title data-ng-model="item.instrument.notes">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.notes"></expression-editor-button>
            </div>
        </div>

    </div>
    <div flex="50">

        <div layout="row">

            <div flex="33" layout="row">
                <div flex="20">
                    <md-button
                            class="ttype-action-field-toggle md-icon-button md-raised {{!!item.instrument.pricing_currency_toggle ? 'ref' : ''}}"
                            style="transform: scale(0.7,0.7)"
                            data-ng-click="vm.resetPropertyBtn(item, 'instrument', 'pricing_currency')">
                        <span data-ng-if="!!item.instrument.pricing_currency_toggle">R</span>
                        <span data-ng-if="!!!item.instrument.pricing_currency_toggle">I</span>
                    </md-button>
                </div>
                <div flex="80">
                    <div data-ng-if="item.instrument.pricing_currency_toggle">

                        <ttype-actions-relations-select label-title="Pricing currency"
                                                        model="item.instrument.pricing_currency"
                                                        load-relation="vm.loadRelation('pricing_currency')"
                                                        relation-items="vm.relationItems['pricing_currency']"
                                                        selected-value="item.instrument.pricing_currency_object.id"
                                                        selected-name="item.instrument.pricing_currency_object.name"
                                                        is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-relations-select>
                    </div>

                    <div data-ng-if="!item.instrument.pricing_currency_toggle">

                        <ttype-actions-input-select label-title="Pricing currency"
                                                    model="item.instrument.pricing_currency_input"
                                                    find-inputs="vm.findInputs('currency')"
                                                    is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-input-select>
                    </div>
                </div>
            </div>

            <div flex="33" layout="row">
                <div flex="20">
                    <md-button
                            class="ttype-action-field-toggle md-icon-button md-raised {{!!item.instrument.accrued_currency_toggle ? 'ref' : ''}}"
                            style="transform: scale(0.7,0.7)"
                            data-ng-click="vm.resetPropertyBtn(item, 'instrument', 'accrued_currency')">
                        <span data-ng-if="!!item.instrument.accrued_currency_toggle">R</span>
                        <span data-ng-if="!!!item.instrument.accrued_currency_toggle">I</span>
                    </md-button>
                </div>
                <div flex="80">
                    <div data-ng-if="item.instrument.accrued_currency_toggle">

                        <ttype-actions-relations-select label-title="Accrued currency"
                                                        model="item.instrument.accrued_currency"
                                                        load-relation="vm.loadRelation('accrued_currency')"
                                                        relation-items="vm.relationItems['accrued_currency']"
                                                        selected-value="item.instrument.accrued_currency_object.id"
                                                        selected-name="item.instrument.accrued_currency_object.name"
                                                        is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-relations-select>
                    </div>
                    <div data-ng-if="!item.instrument.accrued_currency_toggle">

                        <ttype-actions-input-select label-title="Accrued currency"
                                                    model="item.instrument.accrued_currency_input"
                                                    find-inputs="vm.findInputs('currency')"
                                                    is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-input-select>
                    </div>
                </div>
            </div>

            <div flex="33" layout="row">
                <div flex="20">
                    <md-button
                            class="ttype-action-field-toggle md-icon-button md-raised {{!!item.instrument.daily_pricing_model_toggle ? 'ref' : ''}}"
                            style="transform: scale(0.7,0.7)"
                            data-ng-click="vm.resetPropertyBtn(item, 'instrument', 'daily_pricing_model')">
                        <span data-ng-if="!!item.instrument.daily_pricing_model_toggle">R</span>
                        <span data-ng-if="!!!item.instrument.daily_pricing_model_toggle">I</span>
                    </md-button>
                </div>
                <div flex="80">
                    <div data-ng-if="item.instrument.daily_pricing_model_toggle">

                        <ttype-actions-relations-select label-title="Daily pricing model"
                                                        model="item.instrument.daily_pricing_model"
                                                        load-relation="vm.loadRelation('daily_pricing_model')"
                                                        relation-items="vm.relationItems['daily_pricing_model']"
                                                        selected-value="item.instrument.daily_pricing_model_object.id"
                                                        selected-name="item.instrument.daily_pricing_model_object.name"
                                                        is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-relations-select>
                    </div>
                    <div data-ng-if="!item.instrument.daily_pricing_model_toggle">

                        <ttype-actions-input-select label-title="Daily pricing model"
                                                    model="item.instrument.daily_pricing_model_input"
                                                    find-inputs="vm.findInputs('daily-pricing-model')"
                                                    is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-input-select>
                    </div>
                </div>
            </div>

        </div>

        <div layout="row">

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Price multiplier: Number</label>
                    <input type="text" value-title data-ng-model="item.instrument.price_multiplier">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.price_multiplier"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Accrued multiplier: Number</label>
                    <input type="text" value-title data-ng-model="item.instrument.accrued_multiplier">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.accrued_multiplier"></expression-editor-button>
            </div>

            <div flex="33" layout="row">
                <div flex="20">
                    <md-button
                            class="ttype-action-field-toggle md-icon-button md-raised {{!!item.instrument.price_download_scheme_toggle ? 'ref' : ''}}"
                            style="transform: scale(0.7,0.7)"
                            data-ng-click="vm.resetPropertyBtn(item, 'instrument', 'price_download_scheme')">
                        <span data-ng-if="!!item.instrument.price_download_scheme_toggle">R</span>
                        <span data-ng-if="!!!item.instrument.price_download_scheme_toggle">I</span>
                    </md-button>
                </div>
                <div flex="80">
                    <div data-ng-if="item.instrument.price_download_scheme_toggle">

                        <ttype-actions-relations-select label-title="Price download scheme"
                                                        model="item.instrument.price_download_scheme"
                                                        relation-items="vm.relationItems['price_download_scheme']"
                                                        load-relation="vm.loadRelation('price_download_scheme')"
                                                        property-name="scheme_name"
                                                        selected-value="item.instrument.price_download_scheme_object.id"
                                                        selected-name="item.instrument.price_download_scheme_object.scheme_name"
                                                        is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-relations-select>
                    </div>
                    <div data-ng-if="!item.instrument.price_download_scheme_toggle">

                        <ttype-actions-input-select label-title="Price download scheme"
                                                    model="item.instrument.price_download_scheme_input"
                                                    find-inputs="vm.findInputs('price-download-scheme')"
                                                    is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-input-select>
                    </div>
                </div>
            </div>

        </div>

        <div layout="row">

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Default price: Number</label>
                    <input type="text" value-title data-ng-model="item.instrument.default_price">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.default_price"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Default accrued: Number</label>
                    <input type="text" value-title data-ng-model="item.instrument.default_accrued">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.default_accrued"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Reference for pricing: Text</label>
                    <input type="text" value-title
                           data-ng-model="item.instrument.reference_for_pricing">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.reference_for_pricing"></expression-editor-button>
            </div>

        </div>

        <div layout="row" layout-align="center center">

            <div flex="33" layout="row">
                <div flex="20">
                    <md-button
                            class="ttype-action-field-toggle md-icon-button md-raised {{!!item.instrument.payment_size_detail_toggle ? 'ref' : ''}}"
                            style="transform: scale(0.7,0.7)"
                            data-ng-click="vm.resetPropertyBtn(item, 'instrument', 'payment_size_detail')">
                        <span data-ng-if="!!item.instrument.payment_size_detail_toggle">R</span>
                        <span data-ng-if="!!!item.instrument.payment_size_detail_toggle">I</span>
                    </md-button>
                </div>
                <div flex="80">
                    <div data-ng-if="item.instrument.payment_size_detail_toggle">

                        <ttype-actions-relations-select label-title="Payment size details"
                                                        model="item.instrument.payment_size_detail"
                                                        load-relation="vm.loadRelation('payment_size_detail')"
                                                        relation-items="vm.relationItems['payment_size_detail']"
                                                        selected-value="item.instrument.payment_size_detail_object.id"
                                                        selected-name="item.instrument.payment_size_detail_object.name"
                                                        is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-relations-select>
                    </div>
                    <div data-ng-if="!item.instrument.payment_size_detail_toggle">

                        <ttype-actions-input-select label-title="Payment size details"
                                                    model="item.instrument.payment_size_detail_input"
                                                    find-inputs="vm.findInputs('payment-size-detail')"
                                                    is-disabled="vm.isRelationInputFieldDisabled()"></ttype-actions-input-select>
                    </div>
                </div>
            </div>

            <!--<div flex="33">
                <md-input-container>
                    <label for="" class="uncut-text-on-focus-label" content-title>&nbsp;</label>
                </md-input-container>
            </div>-->

        </div>

        <div layout="row">

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Maturity price: Number</label>
                    <input type="text" value-title style="color: grey"
                           data-ng-model="item.instrument.maturity_price">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.maturity_price"></expression-editor-button>
            </div>

            <div flex="33" layout="row" layout-align="start top">
                <md-input-container class="expression-input-container">
                    <label for="" class="uncut-text-on-focus-label" content-title>Maturity date: Date</label>
                    <input type="text" value-title style="color: grey"
                           data-ng-model="item.instrument.maturity_date">
                </md-input-container>
                <expression-editor-button data-data="{groups: [vm.inputsGroup], functions: [vm.inputsFunctions]}"
                        data-item="item.instrument.maturity_date"></expression-editor-button>
            </div>

        </div>

    </div>
</div>