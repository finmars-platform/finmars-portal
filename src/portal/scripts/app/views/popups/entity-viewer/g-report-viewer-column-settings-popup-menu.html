<div class="popup-menu">

    <div ng-if="popupData.data.isGroup"
         ng-include="'views/popups/entity-viewer/g-rv-group-settings-menu-options.html'"></div>

    <div>
        <md-button ng-click="popupData.data.renameColumn(popupData.data.item, null, $event, _$popup)"
                   class="popup-menu-item">
            <span class="material-icons" style="visibility: hidden;">done</span>
            <span>Rename</span>
        </md-button>
    </div>

    <div data-ng-if="!popupData.data.columnHasCorrespondingGroup(popupData.data.item.key)">
        <md-button data-ng-click="popupData.data.addColumnEntityToGrouping(popupData.data.item)"
                   ng-disabled="popupData.data.item.error_data"
                   class="popup-menu-item">
            <span class="material-icons" style="visibility: hidden;">done</span>
            <span>Add to grouping</span>
        </md-button>
    </div>

    <div ng-if="!popupData.data.isReport || popupData.data.columnHasCorrespondingGroup(popupData.data.item.key)">
        <md-button data-ng-click="popupData.data.unGroup(popupData.data.item.key, _$popup)"
                   class="popup-menu-item">
            <!--            <ng-md-icon icon="visibility_off"
                                    style="visibility: hidden;"></ng-md-icon>-->
            <span class="material-icons" style="visibility: hidden;">done</span>
            <span>Ungroup</span>
        </md-button>
    </div>

    <div>
        <md-button data-ng-disabled="!popupData.data.checkForFilteringBySameAttr(popupData.data.item.key) || popupData.data.item.error_data"
                   data-ng-click="popupData.data.addFiltersWithColAttr(popupData.data.item)"
                   class="popup-menu-item">
            <span class="material-icons" style="visibility: hidden;">done</span>
            <span>Add to Filters</span>
        </md-button>
    </div>

    <div data-ng-if="popupData.data.item.value_type == 10">
        <md-button data-ng-click="popupData.data.editManualSorting($event, popupData.data.item)"
                   class="popup-menu-item">
            <span class="material-icons" style="visibility: hidden;">done</span>
            <span>Manual Sort</span>
        </md-button>
    </div>

<!--    <div>
        <md-button ng-click="popupData.data.resizeColumn(popupData.data.item, $mdMenu, $event)"
                   class="popup-menu-item">
            <span>Resize</span>
        </md-button>
    </div>-->

    <md-menu-divider data-ng-if="!popupData.data.isReport || !popupData.data.columnHasCorrespondingGroup(popupData.data.item.key)"></md-menu-divider>

    <div data-ng-if="!popupData.data.isReport || !popupData.data.columnHasCorrespondingGroup(popupData.data.item.key)" class="alignment-menu-item text-column">

        <md-button class="md-icon-button align-button rounded"
                   data-ng-class="{active: popupData.data.checkColTextAlign(popupData.data.item, 'left')}"
                   ng-click="popupData.data.changeColumnTextAlign(popupData.data.item, 'left')">
            <span class="material-icons">format_align_left</span>
            <md-tooltip md-direction="top">Left alignment</md-tooltip>
        </md-button>

        <md-button class="md-icon-button align-button rounded"
                   data-ng-class="{active: popupData.data.checkColTextAlign(popupData.data.item, 'center')}"
                   ng-click="popupData.data.changeColumnTextAlign(popupData.data.item, 'center')">
            <span class="material-icons">format_align_center</span>
            <md-tooltip md-direction="top">Center alignment</md-tooltip>
        </md-button>

        <md-button class="md-icon-button align-button rounded"
                   data-ng-class="{active: popupData.data.checkColTextAlign(popupData.data.item, 'right')}"
                   ng-click="popupData.data.changeColumnTextAlign(popupData.data.item, 'right')">
            <span class="material-icons">format_align_right</span>
            <md-tooltip md-direction="top">Right alignment</md-tooltip>
        </md-button>

    </div>

    <md-menu-divider data-ng-if="!popupData.data.isReport || !popupData.data.columnHasCorrespondingGroup(popupData.data.item.key)"></md-menu-divider>

    <div data-ng-if="popupData.data.isReport && popupData.data.columnHasCorrespondingGroup(popupData.data.item.key)">
        <md-button data-ng-click="popupData.data.removeGroup(popupData.data.item.key, _$popup)"
                   class="popup-menu-item">
            <span class="material-icons" style="visibility: hidden;">done</span>
            <span>Remove</span>
        </md-button>
    </div>

    <div data-ng-if="!popupData.data.isReport || !popupData.data.columnHasCorrespondingGroup(popupData.data.item.key)">
        <md-button ng-click="popupData.data.removeColumn(popupData.data.item)"
                   class="popup-menu-item">
            <span class="material-icons" style="visibility: hidden;">done</span>
            <span>Remove</span>
        </md-button>
    </div>
</div>