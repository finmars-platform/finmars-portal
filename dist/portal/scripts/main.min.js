!function e(t,n,o){function i(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return i(n?n:e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,n){!function(){"use strict";t.exports=function(e,t){console.log("Portfolio add dialog controller initialized...");var n,o=this;o.openMenu=function(e,t){n=t,e(t)},o.cancel=function(){t.cancel()},e.save=function(){t.hide()}}}()},{}],2:[function(e,t,n){!function(){"use strict";var n=e("../../services/portfolioService"),o=e("../../services/portfolioHelperService"),i=e("../../services/groupTable/groupTableService");t.exports=function(e,t,r){var s=this;s.portfolio=[],s.columns=[{name:"Name",notes:"",order:0,is_hidden:!1,short_name:"Name",value_type:10},{name:"Short name",notes:"",order:0,is_hidden:!1,short_name:"short name",value_type:10},{classifier_root:null,id:5,is_hidden:!1,name:"Country",notes:"",order:0,short_name:"Country",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/5/",user_code:"T2",value_type:10}],s.grouping=[{classifier_root:null,id:7,is_hidden:!1,name:"Strategy",notes:"",order:0,short_name:"Strategy",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/7/",user_code:"T4",value_type:10},{classifier_root:null,id:1,is_hidden:!1,name:"Industry",notes:"",order:0,short_name:"Industry",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/1/",user_code:"T1",value_type:10}],s.filters=[],s.sorting=[],console.log("Portfolio controller initialized..."),n.getList().then(function(t){console.log("data!",t),o.transformItems(t.results).then(function(t){s.portfolio=t,s.groupTableService=i.getInstance(),s.groupTableService.setItems(s.portfolio),s.groupTableService.columns.setColumns(s.columns),s.groupTableService.filtering.setFilters(s.filters),s.groupTableService.grouping.setGroups(s.grouping),s.groupTableService.sorting.group.sort(s.sorting.group),s.groupTableService.sorting.column.sort(s.sorting.column),e.$apply()})}),s.updateTable=function(){console.log("update table!",s.grouping),s.groupTableService.setItems(s.portfolio),s.groupTableService.columns.setColumns(s.columns),s.groupTableService.filtering.setFilters(s.filters),s.groupTableService.grouping.setGroups(s.grouping),s.groupTableService.sorting.group.sort(s.sorting.group),s.groupTableService.sorting.column.sort(s.sorting.column)},e.customFullscreen=r("xs")||r("sm"),s.addPortfolio=function(n){var o=(r("sm")||r("xs"))&&e.customFullscreen;t.show({controller:"PortfolioAddDialogController as vm",templateUrl:"views/administration/portfolio-add-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,fullscreen:o}).then(function(t){e.status='You said the information was "'+t+'".'},function(){e.status="You cancelled the dialog."})},s.getNodeList=function(){n.getClassifierNodeList().then(function(e){console.log("Portfolio Classifier Node List!",e)})},s.getClassifierNodeByKey=function(){n.getClassifierNodeByKey(1).then(function(e){console.log("Portfolio Classifier Node Instance!",e)})},s.getClassifierList=function(){n.getClassifierList().then(function(e){console.log("Portfolio Classifier List!",e)})},s.getClassifierByKey=function(){n.getClassifierByKey(1).then(function(e){console.log("Portfolio Classifier Instance!",e)})}}}()},{"../../services/groupTable/groupTableService":26,"../../services/portfolioHelperService":30,"../../services/portfolioService":31}],3:[function(e,t,n){!function(){"use strict";t.exports=function(e){console.log("Dashboard controller initialized...")}}()},{}],4:[function(e,t,n){!function(){"use strict";var n=e("../services/usersService");t.exports=function(e){console.log("Shell controller initialized...");var t=this;t.logout=function(){console.log("Logged out"),n.logout()},n.login("dev1","Uethohk0").then(function(){e.$apply()})}}()},{"../services/usersService":32}],5:[function(e,t,n){!function(){"use strict";var n=e("../services/metaService");t.exports=function(e){var t=this;t.sections=[],n.getMenu().then(function(n){t.sections=n,console.log("vm.sections",t.sections),e.$apply()}),t.isOpen=function(e){return t.openedSection===e},t.toggleOpen=function(e){t.openedSection=t.openedSection===e?null:e},t.autoFocusContent=!1}}()},{"../services/metaService":29}],6:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",scope:{columns:"="},templateUrl:"views/directives/groupTable/columns-view.html",link:function(e,t,n){console.log("Columns component"),e.openColumnSettings=function(e,t){e(t)},e.removeColumn=function(t){e.columns=e.columns.map(function(e){return e.id!==t.id&&e.name!==t.name?e:void 0}).filter(function(e){return!!e})}}}}}()},{}],7:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"A",link:function(e,t,n){function o(e){a=document.all?window.event.clientX:e.pageX,s=document.all?window.event.clientY:e.pageY,r[0].style.left=a-c-$(t).width()+8+"px",r[0].style.top=s-l-8-150+"px"}var i=$(t).find(".md-toolbar-tools"),r=$(t).parent(),s=0,a=0,c=0,l=0;$(r).width(400),$(r).height($(t).height()),$(r).css({left:"65%"}),i.bind("mousedown",function(e){return 0!==c&&(c=a-r[0].offsetLeft,l=s-r[0].offsetTop),$(window).bind("mousemove",o),$(window).bind("mouseup",function(e){console.log("unbind"),$(window).unbind("mousemove")}),!1})}}}}()},{}],8:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"A",scope:{items:"="},link:function(e,t,n){function o(){function e(){var e,o,i=$(t).find(".g-thead"),r=i.find(".g-cell"),s=$(t).find(".g-row");for(e=0;e<s.length;e+=1)for(n=$(s[e]).find(".g-cell"),o=0;o<r.length;o+=1)!function(e){$(n[e]).css({width:$(r[e]).width()+"px"})}(o)}var n,o=$(t).find(".g-thead"),i=o.find(".g-cell"),r=($(t).find(".g-row"),i.find(".resize-slider")),s=function(){var e;for(e=0;e<i.length;e+=1)$(i[e]).attr("min-width",$(i[e]).width())};s(),$(r).bind("mousedown",function(t){var n=$(this).parent(),o=n.width(),i=n.attr("min-width"),r=t.clientX;$(window).bind("mousemove",function(t){var s=t.clientX-r;e(),s+o>i&&n.width(o+s)}),$(window).bind("mouseup",function(){console.log("unbind"),$(window).unbind("mousemove")})}),setTimeout(function(){e()},100)}console.log("Aligner component initialized...",t),e.$watchCollection("items",function(){o()}),setTimeout(function(){o()},100)}}}}()},{}],9:[function(e,t,n){!function(){"use strict";t.exports=function(e,t){return{restrict:"AE",scope:{filters:"=",columns:"=",grouping:"=",externalCallback:"&"},templateUrl:"views/directives/groupTable/grouping-view.html",link:function(n,o,i){console.log("Grouping component"),n.openGroupSettings=function(e,t){e(t)},n.$watchCollection("grouping",function(){console.log("change"),n.externalCallback()}),n.removeGroup=function(e){n.grouping=n.grouping.map(function(t){return t.id!==e.id&&t.name!==e.name?t:void 0}).filter(function(e){return!!e}),setTimeout(function(){n.externalCallback()},0)},n.openModalSettings=function(o){var i=(t("sm")||t("xs"))&&n.customFullscreen;e.show({controller:"gModalController as vm",templateUrl:"views/directives/groupTable/modal-view.html",parent:angular.element(document.body),targetEvent:o,locals:{callback:n.externalCallback,parentScope:n},fullscreen:i}).then(function(e){n.status='You said the information was "'+e+'".'},function(){n.status="You cancelled the dialog."})}}}}}()},{}],10:[function(e,t,n){!function(){"use strict";var n=(e("../../services/metaService"),e("../../services/portfolioService"),e("../../services/demoPortfolioService"));t.exports=function(e,t,o,i){console.log("Group table modal controller initialized...");var r=this;r.tabs=[],r.general=[],r.attrs=[],r.custom=[];var s=o.columns,a=o.filters,c=o.grouping;n.getTabList().then(function(t){r.tabs=t,l(r.tabs),i(),e.$apply()}),o.$watch("columns",function(){s=o.columns,l(r.tabs),i()}),o.$watch("filters",function(){a=o.filters,l(r.tabs),i()}),o.$watch("grouping",function(){c=o.grouping,l(r.tabs),i()});var l=function(e){var t,n,o;for(console.log("columns 123322",s),n=0;n<e.length;n+=1)for(o=e[n].attrs,t=0;t<o.length;t+=1)o[t].columns=!1,o[t].filters=!1,o[t].groups=!1,s.map(function(e){return o[t].name===e.name&&(o[t].columns=!0),e}),a.map(function(e){return o[t].name===e.name&&(o[t].filters=!0),e}),c.map(function(e){return o[t].name===e.name&&(o[t].groups=!0),e});return o},u=function(){var e,t,n,o,i,a,l;for(o=0;o<r.tabs.length;o+=1)for(e=0;e<r.tabs[o].attrs.length;e+=1){for(i=!1,a=!1,l=!1,t=0;t<s.length;t+=1)r.tabs[o].attrs[e].name===s[t].name&&(i=!0,r.tabs[o].attrs[e].columns===!1&&(s.splice(t,1),t-=1));for(i||r.tabs[o].attrs[e].columns===!0&&s.push(r.tabs[o].attrs[e]),n=0;n<c.length;n+=1)r.tabs[o].attrs[e].name===c[n].name&&(a=!0,r.tabs[o].attrs[e].groups===!1&&(c.splice(n,1),n-=1));a||r.tabs[o].attrs[e].groups===!0&&c.push(r.tabs[o].attrs[e])}};r.updateAttrs=function(){u(),i()},r.cancel=function(){t.cancel()};var d={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var e=!1;this.dragula.on("drop",function(t,n){console.log("here?",n);var o,a=$(t).html();for(e=!1,o=0;o<s.length;o+=1)s[o]===a&&(e=!0);console.log("name",a),console.log("columns",s),e||(s.push(a),syncGeneralAttrs(r.general),l(r.attrs),i(),console.log("updated"))}),this.dragula.on("dragend",function(e){$(e).remove()})},dragula:function(){console.log("draguula!");var e,t=[document.querySelector("#columnsbag")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(e=0;e<n.length;e+=1)t.push(n[e]);this.dragula=dragula(t,{moves:this.canMove.bind(this),copy:!0})},canMove:function(){return!0}};setTimeout(function(){d.init()},500)}}()},{"../../services/demoPortfolioService":23,"../../services/metaService":29,"../../services/portfolioService":31}],11:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/report-settings-view.html",link:function(e,t,n){console.log("Report settings component")}}}}()},{}],12:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",scope:{items:"="},templateUrl:"views/directives/groupTable/row-selection-view.html",link:function(e,t,n){console.log("Row selection component"),e.rowItems=[],e.items.map(function(t){console.log("2132132",t),e.rowItems.push({type:"group"}),t.items.map(function(t){e.rowItems.push({type:"row"})})})}}}}()},{}],13:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/sidebar-filter-view.html",link:function(e,t,n){console.log("Sidebar filter component")}}}}()},{}],14:[function(e,t,n){!function(){"use strict";var n=e("../../services/metaService");t.exports=function(){return{restrict:"AE",scope:{items:"=",columns:"="},templateUrl:"views/directives/groupTable/table-body-view.html",link:function(e,t,o){console.log("Table component");var i="portfolio",r=[];e.keywordsReady=!1,n.getReservedKeys().then(function(t){r=t[i],e.keywordsReady=!0,console.log("keywords",r),e.$apply()}),e.bindCell=function(e,t){if(t.hasOwnProperty("id"))return e[t.name];var n;for(n=0;n<r.length;n+=1)if(r[n].caption===t.name)return e[r[n].key]}}}}}()},{"../../services/metaService":29}],15:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/group-table-shell-view.html",scope:{items:"=",filters:"=",columns:"=",grouping:"=",externalCallback:"&"},link:function(e,t,n){console.log("Group table initialized...")}}}}()},{}],16:[function(e,t,n){!function(){"use strict";t.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-link-view.html",link:function(e,t){var n=t.parent().controller();e.focusSection=function(){n.autoFocusContent=!0}}}}}()},{}],17:[function(e,t,n){!function(){"use strict";t.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-toggle-view.html",link:function(e,t){var n=t.parent().controller();e.isOpen=function(){return n.isOpen(e.section)},e.toggle=function(){n.toggleOpen(e.section)}}}}}()},{}],18:[function(e,t,n){!function(){"use strict";var e=function(){var e=[{id:1,name:"General",attrs:[{name:"Name",notes:"",order:0,is_hidden:!1,short_name:"Name",value_type:10},{name:"Short name",notes:"",order:0,is_hidden:!1,short_name:"short name",value_type:10}]},{id:2,name:"Attributes",attrs:[{classifier_root:null,id:6,is_hidden:!1,name:"Account",notes:"",order:0,short_name:"Account",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/6/",user_code:"T3",value_type:10},{classifier_root:null,id:5,is_hidden:!1,name:"Country",notes:"",order:0,short_name:"Country",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/5/",user_code:"T2",value_type:10},{classifier_root:null,id:1,is_hidden:!1,name:"Industry",notes:"",order:0,short_name:"Industry",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/1/",user_code:"T1",value_type:10},{classifier_root:null,id:7,is_hidden:!1,name:"Strategy",notes:"",order:0,short_name:"Strategy",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/7/",user_code:"T4",value_type:10}]},{id:3,name:"Custom",attrs:[{name:"Notes",notes:"",order:0,is_hidden:!1,short_name:"notes",value_type:10},{classifier_root:null,id:8,is_hidden:!1,name:"Influence",notes:"",order:0,short_name:"Influence",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/8/",user_code:"T4",value_type:10}]},{id:4,name:"Any",attrs:[{classifier_root:null,id:9,is_hidden:!1,name:"Stagnation",notes:"",order:0,short_name:"Stagnation",url:"https://dev.finmars.com/api/v1/portfolios/portfolio-attribute-type/9/",user_code:"T4",value_type:10}]}];return new Promise(function(t,n){t(e)})};t.exports={getTabList:e}}()},{}],19:[function(e,t,n){!function(){"use strict";var e=function(){return window.fetch("portal/content/json/menu.json").then(function(e){return e.json()})},n=function(){return window.fetch("portal/content/json/general-attrs.json").then(function(e){return e.json()})};t.exports={getMenu:e,getReservedKeys:n}}()},{}],20:[function(e,t,n){!function(){"use strict";var e="/api/v1/",n=function(){return window.fetch(e+"portfolios/portfolio-classifier/node/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},o=function(t){return window.fetch(e+"portfolios/portfolio-classifier/node/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},i=function(){return window.fetch(e+"portfolios/portfolio-classifier/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(t){return window.fetch(e+"portfolios/portfolio-classifier/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(){return window.fetch(e+"portfolios/portfolio-attribute-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(t){return window.fetch(e+"portfolios/portfolio-attribute-type/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(){return window.fetch(e+"portfolios/portfolio/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(t){return window.fetch(e+"portfolios/portfolio/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getClassifierNodeList:n,getClassifierNodeByKey:o,getClassifierList:i,getClassifierByKey:r,getAttributeTypeList:s,getAttributeTypeByKey:a,getList:c,getByKey:l}}()},{}],21:[function(e,t,n){!function(){"use strict";var e="/api/v1/",n=function(t,n){return window.fetch(e+"users/login/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({username:t,password:n})}).then(function(e){return e.json()})},o=function(){return window.fetch(e+"users/logout/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},i=function(){return window.fetch(e+"users/ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(){return window.fetch(e+"users/protected-ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(){return window.fetch(e+"users/user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(t){return window.fetch(e+"users/user/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(t,n){return window.fetch(e+"users/user/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()})},l=function(t,n){return window.fetch(e+"users/user/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()})},u=function(t){return window.fetch(e+"users/user/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},d=function(){return window.fetch(e+"users/master-user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},p=function(t){return window.fetch(e+"users/master-user/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},m=function(t,n){return window.fetch(e+"users/master-user/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()})},g=function(t,n){return window.fetch(e+"users/master-user/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()})},f=function(t){return window.fetch(e+"users/master-user/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},v=function(){return window.fetch(e+"users/member/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},h=function(t){return window.fetch(e+"users/member/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},b=function(t,n){return window.fetch(e+"users/member/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()})},y=function(t,n){return window.fetch(e+"users/member/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()})},w=function(t){return window.fetch(e+"users/member/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},C=function(){return window.fetch(e+"users/group/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={login:n,logout:o,ping:i,protectedPing:r,getList:s,getByKey:a,update:c,patch:l,deleteByKey:u,getMasterList:d,getMasterByKey:p,updateMaster:m,patchMaster:g,deleteMasterByKey:f,getMemberList:v,getMemberByKey:h,updateMember:b,patchMember:y,deleteMemberByKey:w,getGroupList:C}}()},{}],22:[function(e,t,n){!function(){t.exports=function(e,t){e.state("app",{url:"",templateUrl:"views/shell-view.html",controller:"ShellController as vm"}),e.state("app.dashboard",{url:"/",templateUrl:"views/dashboard-view.html",controller:"DashboardController as vm"}),e.state("app.administration",{url:"","abstract":!0,template:"<div data-ui-view></div>"}).state("app.administration.portfolio",{url:"/portfolio",templateUrl:"views/administration/portfolio-view.html",controller:"PortfolioController as vm"}),t.otherwise("/")}}()},{}],23:[function(e,t,n){!function(){"use strict";var n=e("../repositories/demoPortfolioRepository"),o=function(){return n.getTabList()};t.exports={getTabList:o}}()},{"../repositories/demoPortfolioRepository":18}],24:[function(e,t,n){!function(){"use strict";var e=function(e,t){return e};t.exports={setColumns:e}}()},{}],25:[function(e,t,n){!function(){"use strict";var e=function(e,t){var n=e;return n};t.exports={setFilters:e}}()},{}],26:[function(e,t,n){!function(){"use strict";var n=e("./groupingService"),o=e("./filteringService"),i=e("./sortingService"),r=e("./columnsService"),s=function(){function e(){console.log("instance created"),this.setItems=function(e){s=e},this.columns=a,this.grouping=c,this.filtering=l,this.sorting=u,this.projection=function(){return s}}var t,s=[],a={setColumns:function(e){console.log("setColumns",s),s=r.setColumns(s,e)}},c={setGroups:function(e){s=n.setGroups(s,e)}},l={setFilters:function(e){s=o.setFilters(s,e)}},u={group:{sort:function(e){s=i.group.sort(s,e)}},column:{sort:function(e){s=i.column.sort(s,e)}}};return e.getInstance=function(){return t||(t=new e),t},e}();t.exports=s}()},{"./columnsService":24,"./filteringService":25,"./groupingService":27,"./sortingService":28}],27:[function(e,t,n){!function(){"use strict";var e=function(e){var t,n=[],o=Object.keys(e);for(t=0;t<o.length;t+=1)n.push(e[o[t]]);return n},n=function(t,n){function o(e,t){var n,o;for(n=0;n<t.length;n+=1)for(o=0;o<e.attributes.length;r+=1)if(t.id===e.attributes.attribute_type||t.name===e.attributes.attribute_name)return!0;return!1}function i(e){return e.classifier?e.classifier:e.value_date?e.value_date:e.value_float?e.value_float:e.value_string}var r,s,a,c,l=[],u=[],d=[{key:"name",caption:"Name"},{key:"short_name",caption:"Short name"},{key:"notes",caption:"Notes"}],p=!0,m="",g=[];for(r=0;r<t.length;r+=1)if(p=o(t[r],n)){for(m="",g=[],console.log("groups",n),s=0;s<n.length;s+=1)for(a=0;a<t[r].attributes.length;a+=1){if(n[s].hasOwnProperty("id"))n[s].id===t[r].attributes[a].attribute_type&&g.push(i(t[r].attributes[a]));else for(c=0;c<d.length;c+=1)n[s].name===d[c].caption&&-1===g.indexOf(t[r][d[c].key])&&g.push(t[r][d[c].key]);if(s==n.length-1)if(n[s].hasOwnProperty("id"))n[s].id===t[r].attributes[a].attribute_type&&(m+=i(t[r].attributes[a]));else for(c=0;c<d.length;c+=1)s==n.length-1&&n[s].name===d[c].caption&&(m+=d[c].caption);else if(n[s].hasOwnProperty("id"))n[s].id===t[r].attributes[a].attribute_type&&(m=m+i(t[r].attributes[a])+"_");else for(c=0;c<d.length;c+=1)n[s].name===d[c].caption&&(m=m+d[c].caption+"_")}l[m]||(l[m]={groups:g,items:[]}),l[m].items.push(t[r])}return u=e(l),console.log("Items grouped",u),u};t.exports={setGroups:n}}()},{}],28:[function(e,t,n){!function(){"use strict";var e=function(e,t){var n=e;return n},n=function(e,t){var n=e;return n};t.exports={group:{sort:e},column:{sort:n}}}()},{}],29:[function(e,t,n){!function(){var n=e("../repositories/metaRepository"),o=function(){return n.getMenu()},i=function(){return n.getReservedKeys()};t.exports={getMenu:o,getReservedKeys:i}}()},{"../repositories/metaRepository":19}],30:[function(e,t,n){!function(){"use strict";var n=e("./portfolioService"),o=function(e){return new Promise(function(t,o){var i=[];n.getAttributeTypeList().then(function(n){var o,r,s=n.results;console.log("attrs",s),i=e.map(function(e){for(o=0;o<s.length;o+=1)for(r=0;r<e.attributes.length;r+=1)e.attributes[r].attribute_type===s[o].id&&(e.attributes[r].attirbute_name=s[o].name,e[s[o].name]=e.attributes[r].value_string);return e}),console.log("Items transformed",i),t(i)})})};t.exports={transformItems:o}}()},{"./portfolioService":31}],31:[function(e,t,n){!function(){var n=e("../repositories/portfolioRepository"),o=function(){return n.getClassifierNodeList()},i=function(e){return n.getClassifierNodeByKey(e)},r=function(){return n.getClassifierList()},s=function(e){return n.getClassifierByKey(e)},a=function(){return n.getAttributeTypeList()},c=function(e){return n.getAttributeTypeByKey(e)},l=function(){return n.getList()},u=function(e){return n.getByKey(e)};t.exports={getClassifierNodeList:o,getClassifierNodeByKey:i,getClassifierList:r,getClassifierByKey:s,getAttributeTypeList:a,getAttributeTypeByKey:c,getList:l,getByKey:u}}()},{"../repositories/portfolioRepository":20}],32:[function(e,t,n){!function(){"use strict";var n=e("../repositories/usersRepository"),o=function(e,t){return n.login(e,t)},i=function(){return n.logout()},r=function(){return n.ping()},s=function(){return n.protectedPing()},a=function(){return n.getList()},c=function(e){return n.getByKey(e)},l=function(e,t){return n.update(e,t)},u=function(e,t){return n.patch(e,t)},d=function(e){return n.deleteByKey(e)},p=function(){return n.getMasterList()},m=function(e){return n.getMasterByKey(e)},g=function(e,t){return n.updateMaster(e,t)},f=function(e,t){return n.patchMaster(e,t)},v=function(e){return n.deleteMasterByKey(e)},h=function(){return n.getMemberList()},b=function(e){return n.getMemberByKey(e)},y=function(e,t){return n.updateMember(e,t)},w=function(e,t){return n.patchMember(e,t)},C=function(e){return n.deleteMemberByKey(e)},T=function(){return n.getGroupList()};t.exports={login:o,logout:i,ping:r,protectedPing:s,getList:a,getByKey:c,update:l,patch:u,deleteByKey:d,getMasterList:p,getMasterByKey:m,updateMaster:g,patchMaster:f,deleteMasterByKey:v,getMemberList:h,getMemberByKey:b,updateMember:y,patchMember:w,deleteMemberByKey:C,getGroupList:T}}()},{"../repositories/usersRepository":21}],33:[function(e,t,n){"use strict";var o=angular.module("app",["ngAria","ngMaterial","ngMessages","ngMdIcons","ngResource","ngSanitize","ui.router",angularDragula(angular)]);o.config(["$stateProvider","$urlRouterProvider",e("./app/router.js")]),o.run(function(){console.log("App initialized")}),o.controller("ShellController",["$scope",e("./app/controllers/shellController")]),o.controller("SideNavController",["$scope",e("./app/controllers/sideNavController")]),o.controller("DashboardController",["$scope",e("./app/controllers/dashboardController")]),o.controller("PortfolioController",["$scope","$mdDialog","$mdMedia",e("./app/controllers/administration/portfolioController")]),o.controller("PortfolioAddDialogController",["$scope","$mdDialog",e("./app/controllers/administration/portfolioAddDialogController")]),o.directive("menuToggle",[e("./app/directives/menuToggleDirective")]),o.directive("menuLink",[e("./app/directives/menuLinkDirective")]),o.directive("groupTable",[e("./app/directives/groupTable/gTableComponent")]),o.directive("groupTableBody",[e("./app/directives/groupTable/gTableBodyComponent")]),o.directive("groupSidebarFilter",[e("./app/directives/groupTable/gSidebarFilterComponent")]),o.directive("groupRowSelection",[e("./app/directives/groupTable/gRowSelectionComponent")]),o.directive("groupReportSettings",[e("./app/directives/groupTable/gReportSettingsComponent")]),o.directive("groupGrouping",["$mdDialog","$mdMedia",e("./app/directives/groupTable/gGroupingComponent")]),o.directive("groupColumns",[e("./app/directives/groupTable/gColumnsComponent")]),o.directive("groupAligner",[e("./app/directives/groupTable/gGroupAlignerComponent")]),o.directive("gDialogDraggable",[e("./app/directives/groupTable/gDialogDraggableComponent")]),o.controller("gModalController",["$scope","$mdDialog","parentScope","callback",e("./app/directives/groupTable/gModalComponent")]),e("./templates.min.js")},{"./app/controllers/administration/portfolioAddDialogController":1,"./app/controllers/administration/portfolioController":2,"./app/controllers/dashboardController":3,"./app/controllers/shellController":4,"./app/controllers/sideNavController":5,"./app/directives/groupTable/gColumnsComponent":6,"./app/directives/groupTable/gDialogDraggableComponent":7,"./app/directives/groupTable/gGroupAlignerComponent":8,"./app/directives/groupTable/gGroupingComponent":9,"./app/directives/groupTable/gModalComponent":10,"./app/directives/groupTable/gReportSettingsComponent":11,"./app/directives/groupTable/gRowSelectionComponent":12,"./app/directives/groupTable/gSidebarFilterComponent":13,"./app/directives/groupTable/gTableBodyComponent":14,"./app/directives/groupTable/gTableComponent":15,"./app/directives/menuLinkDirective":16,"./app/directives/menuToggleDirective":17,"./app/router.js":22,"./templates.min.js":34}],34:[function(e,t,n){!function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/dashboard-view.html","dashboard!")}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/shell-view.html",'<div layout="row" class="min-height"><div layout="row" class="sidenav-wrapper" data-ng-controller="SideNavController as vm" data-ng-include="\'views/side-nav-view.html\'"></div><div layout="column" class="relative" layout-fill role="main"><md-toolbar ng-show="!showSearch"><div class="md-toolbar-tools"><md-button ng-click="toggleSidenav(\'left\')" hide-gt-md aria-label="Menu"><ng-md-icon icon="menu"></ng-md-icon></md-button><!--<a href="#" data-ng-click="vm.logout()">Log out</a>--></div></md-toolbar><md-toolbar class="md-hue-1" ng-show="showSearch"><div class="md-toolbar-tools"><md-button ng-click="showSearch = !showSearch" aria-label="Back"><ng-md-icon icon="arrow_back"></ng-md-icon></md-button><h3 flex="10">Back</h3><md-input-container md-theme="input" flex><label>&nbsp;</label><input ng-model="search.who" placeholder="enter search"></md-input-container><md-button aria-label="Search" ng-click="showSearch = !showSearch"><ng-md-icon icon="search"></ng-md-icon></md-button><md-button aria-label="Open Settings" ng-click="showListBottomSheet($event)"><ng-md-icon icon="more_vert"></ng-md-icon></md-button></div></md-toolbar><md-content flex md-scroll-y><div data-ui-view></div></md-content></div></div>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/side-nav-view.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z1" md-component-id="left" md-is-locked-open="$mdMedia(\'gt-sm\')"><md-toolbar md-scroll-shrink><div class="md-toolbar-tools"><img src="portal/content/img/finmars_logo.png" alt="" height="40" style="margin: 0 auto"></div></md-toolbar><md-content flex role="navigation"><ul class="side-menu"><li data-ng-repeat="section in vm.sections" class="parent-list-item" data-ng-class="{\'parentActive\' : vm.isSectionSelected(section)}"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul><md-button hide-gt-md aria-label="resize" class="to-small-btn fab"><ng-md-icon icon="chevron_left"></ng-md-icon></md-button></md-content></md-sidenav>');
}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/administration/portfolio-add-dialog-view.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak><md-toolbar><div class="md-toolbar-tools"><h2>Add portfolio</h2><span flex></span><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="vm.openMenu($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item style="padding-left: 20px"><md-checkbox ng-model="data.cb1">Country</md-checkbox></md-menu-item><md-menu-item style="padding-left: 20px"><md-checkbox ng-model="data.cb2">Industry</md-checkbox></md-menu-item><md-menu-item style="padding-left: 20px"><md-checkbox ng-model="data.cb3">Account</md-checkbox></md-menu-item><md-menu-item style="padding-left: 20px"><md-checkbox ng-model="data.cb4">Strategy</md-checkbox></md-menu-item></md-menu-content></md-menu></div></md-toolbar><md-dialog-content><form name="portfolioAddForm" layout="row"><md-input-container class="md-block" flex="33"><label>Name</label><input required name="name" data-ng-model="vm.portfolio.name"><div ng-messages="portfolioAddForm.name.$error"><div ng-message="required">This is required.</div></div></md-input-container><md-input-container class="md-block" flex="33"><label>Short name</label><input required name="shortName" data-ng-model="vm.portfolio.shortName"><div ng-messages="portfolioAddForm.shortName.$error"><div ng-message="required">This is required.</div></div></md-input-container><md-input-container class="md-block" flex="33"><label>Notes</label><textarea name="notes" id="" cols="30" data-ng-model="vm.portfolio.notes" rows="10"></textarea></md-input-container></form></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.save()" style="margin-right:20px">Add</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/administration/portfolio-view.html",'<md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addPortfolio($event)"><ng-md-icon icon="add"></ng-md-icon></md-button><div data-ng-if="vm.groupTableService.projection().length"><group-table items="vm.groupTableService.projection()" columns="vm.columns" filters="vm.filters" external-callback="vm.updateTable()" grouping="vm.grouping"></group-table></div><hr style="margin-top: 0"><div><h1>API TESTING (console output)</h1><button class="md-button" data-ng-click="vm.getNodeList()">Get Classifier Node List</button><br><button class="md-button" data-ng-click="vm.getClassifierNodeByKey()">Get Classifier Node Instance</button><br><button class="md-button" data-ng-click="vm.getClassifierList()">Get Classifier List</button><br><button class="md-button" data-ng-click="vm.getClassifierByKey()">Get Classifier Instance</button></div>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/menu-link-view.html",'<md-button ui-sref-active="active" class="sidemenu-btn" ui-sref="{{section.state}}" ng-click="focusSection()">{{section.title}} <span class="md-visually-hidden" data-ng-if="isSelected()">current page</span></md-button>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/menu-toggle-view.html",'<md-button class="md-button-toggle sidemenu-btn" ng-click="toggle()" aria-controls="side-menu-{{section.title}}" flex layout="row" aria-expanded="{{isOpen()}}">{{section.title}}<ng-md-icon icon="expand_more" class="dropdown-icon" data-ng-if="!isOpen()"></ng-md-icon><ng-md-icon icon="expand_less" class="dropdown-icon" data-ng-if="isOpen()"></ng-md-icon><!--<span aria-hidden="true" class="pull-right fa fa-chevron-down md-toggle-icon" data-ng-class="{\'toggled\' : isOpen()}"></span>--></md-button><ul data-ng-show="isOpen()" id="side-menu-{{section.title}}" class="menu-toggle-list"><li data-ng-repeat="page in section.pages"><menu-link section="page"></menu-link></li></ul>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/columns-view.html",'<div class="g-columns-component g-thead"><div dragula="\'columns-bag\'" dragula-model="columns"><md-card data-ng-repeat="column in columns" class="g-cell g-column"><div class="sort"><md-button class="" data-ng-click="openGroupSettings()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{column.name}}</div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openColumnSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item><md-menu-item><md-button ng-click="" class="g-settings-option-btn"><ng-md-icon icon="undo"></ng-md-icon><span>Cancel</span></md-button></md-menu-item></md-menu-content></md-menu></div><div class="resize-slider"></div></md-card></div><div class="drop-new-field" id="columnsbag">Drop New Field</div></div>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/group-table-shell-view.html",'<div class="g-wrapper"><div class="g-workarea"><div class="g-grouping-section"><group-grouping grouping="grouping" filters="filters" columns="columns" external-callback="externalCallback()"></group-grouping></div><div class="g-table-section"><div class="g-row-selection"><group-row-selection items="items"></group-row-selection></div><div class="g-table-wrap" group-aligner items="items"><group-columns columns="columns"></group-columns><group-table-body items="items" columns="columns"></group-table-body></div></div></div><div class="g-sidebar"><div class="g-filter"><group-sidebar-filter></group-sidebar-filter></div></div></div>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/grouping-view.html",'<div class="g-grouping-component"><div><p class="g-drag-section-title"><span class="g-meta-circle green">G</span>ROUPING AREA</p></div><div class="g-second-line"><div class="groups-holder"><div dragula="\'group-bag\'" dragula-model="grouping"><md-card data-ng-repeat="item in grouping" class="group-item card"><div class="add"><md-button class="" data-ng-click="add()"><ng-md-icon icon="add"></ng-md-icon></md-button></div><div class="sort"><md-button class="" data-ng-click="openGroupSettings()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{item.name}}</div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item><md-menu-item><md-button ng-click="" class="g-settings-option-btn"><ng-md-icon icon="undo"></ng-md-icon><span>Cancel</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-group">Drop level {{grouping.length + 1}} Group</div></div><md-button class="md-fab g-settings-btn" data-ng-click="openModalSettings($event)"><ng-md-icon icon="view_week"></ng-md-icon></md-button></div></div>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/modal-view.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools"><h2 style="user-select: none">DRAG FIELDS FROM HERE</h2><span flex></span></div></md-toolbar><md-dialog-content><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span> <span class="g-meta-circle red">C</span></div><div class="g-checkbox-row" data-ng-repeat="item in tab.attrs"><md-checkbox ng-model="item.groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card>{{item.name}}</md-card></div></div></md-content></md-tab></md-tabs></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/row-selection-view.html",'<div class="g-row-selection-component"><div class="g-cell-select all">*</div><div data-ng-repeat="item in rowItems" class="g-cell-select">&nbsp;</div></div>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/sidebar-filter-view.html",'<div class="g-sidebar-filter-component"><p><span class="g-meta-circle blue">F</span>ILTER AREA</p></div>')}])}(),function(e){try{e=angular.module("app")}catch(t){e=angular.module("app",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/table-body-view.html",'<div class="g-table-body-component" data-ng-if="keywordsReady"><div data-ng-repeat="item in items"><div data-ng-if="item.groups.length" class="g-group-holder"><div data-ng-repeat="group in item.groups track by $index" class="g-group">{{group}}</div></div><div data-ng-repeat="groupedItem in item.items" class="g-row"><div data-ng-repeat="column in columns" class="g-cell"><span data-ng-bind="bindCell(groupedItem, column)"></span></div></div></div></div>')}])}()},{}]},{},[33]);