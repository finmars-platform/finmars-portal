!function e(t,n,i){function o(r,s){if(!n[r]){if(!t[r]){var l="function"==typeof require&&require;if(!s&&l)return l(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return o(n?n:e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<i.length;r++)o(i[r]);return o}({1:[function(e,t,n){!function(){"use strict";var e=function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=jQuery.trim(n[i]);if(o.substring(0,e.length+1)==e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t};t.exports={getCookie:e}}()},{}],2:[function(e,t,n){!function(){"use strict";var e=function(e,t,n){var i=n||"color: #81C784";console.log('%c{"property": "'+e+'", "value": "',i,t,'"}')},n=function(e,t,n){var i=n||"color: #4FC3F7";console.log('%c{"collection": "'+e+'", "data":',i,t,"}")},i=function(e,t,n){var i=n||"color: #EF5350";console.log('%c{"event": "'+e+'", "data": "'+t+'"}',i)},o=function(e,t,n){var i=n||"color: #E0E0E0";console.log('%c{"controller": "'+e+'", "status": "'+t+'"}',i)},a=function(e,t,n){var i=n||"color: #B39DDB";console.log('%c{"component": "'+e+'", "status": "'+t+'"}',i)},r=function(e,t,n){var i=n||"color: #EC407A";console.log('%c{"service": "'+e+'", "status": "'+t+'"}',i)};t.exports={property:e,collection:n,event:i,controller:o,component:a,service:r}}()},{}],3:[function(e,t,n){!function(){"use strict";t.exports=function(e){}}()},{}],4:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/threadMessagesService"),o=e("../services/threadService");t.exports=function(e,t,a){n.controller("ForumThreadGroupListController","initialized");var r=this;r.readyStatus={content:!1},r.threadId=t.threadId,r.threadGroupId=t.groupId,r.threadPageCurrent=1,r.itemPerPage=20,o.getByKey(r.threadId).then(function(t){r.thread=t,e.$apply()}),r.getList=function(n){r.readyStatus.content=!1,console.log("vm.threadPageCurrent",r.threadPageCurrent,t),n&&"last-page"==n.position&&(r.threadMessagesTotal%r.itemPerPage!==0?r.threadPageCurrent=Math.round(r.threadMessagesTotal/r.itemPerPage)+1:r.threadPageCurrent=Math.round(r.threadMessagesTotal/r.itemPerPage)),0===r.threadPageCurrent&&(r.threadPageCurrent=1);var o={page:r.threadPageCurrent,thread:r.threadId};console.log("OPTIONS",o),console.log("params",n),i.getList(o).then(function(t){r.messages=t.results,console.log(t.results),r.threadMessagesTotal=t.count,r.readyStatus.content=!0,e.$apply()})},r.changePage=function(e){console.log("PAGE",e),r.threadPageCurrent=e,r.getList()},r.write=function(e){a.show({controller:"ForumWriteMessageDialogController as vm",templateUrl:"views/forum-message-dialog-view.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){"agree"===e.status&&i.create({thread:r.threadId,text:e.data.message}).then(function(){r.getList({position:"last-page"})})})},r.getList()}}()},{"../../../../core/services/logService":2,"../services/threadMessagesService":15,"../services/threadService":16}],5:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t){n.controller("threadGroupDialogController","initialized");var i=this;i.cancel=function(){t.cancel()},i.agree=function(){t.hide({status:"agree",data:{threadGroupTitle:i.groupTitle}})}}}()},{"../../../../core/services/logService":2}],6:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/threadGroupService");t.exports=function(e,t){n.controller("ForumThreadGroupListController","initialized");var o=this;o.readyStatus={content:!1},o.getList=function(){i.getList({page:1}).then(function(t){console.log("threadGroup items",t.results),o.threadGroups=t.results,o.readyStatus.content=!0,e.$apply()})},o.createThredsGroup=function(e){t.show({controller:"ForumThreadGroupDialogController as vm",templateUrl:"views/forum-thread-group-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&(console.log(e,e.data),i.create({name:e.data.threadGroupTitle}).then(function(){console.log("Threads group created"),o.getList()}))})},o.getList()}}()},{"../../../../core/services/logService":2,"../services/threadGroupService":14}],7:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/threadService"),o=e("../services/threadGroupService");t.exports=function(e,t,a){n.controller("ForumThreadListController","initialized");var r=this;r.threadPageCurrent=1,r.itemPerPage=20,r.threadGroupId=t.groupId,console.log(t),r.threadGroupName="",r.readyStatus={content:!1},r.getList=function(){var t={page:r.threadPageCurrent,threadGroup:r.threadGroupId};i.getList(t).then(function(t){console.log(t,t.results),r.threadMessagesTotal=t.count,r.threads=t.results,r.readyStatus.content=!0,e.$apply()})},r.getThreadGroupName=function(){o.getByKey(r.threadGroupId).then(function(t){r.threadGroupName=t.name,e.$apply()})},r.createThredsList=function(e){a.show({controller:"ForumThreadListDialogController as vm",templateUrl:"views/forum-thread-list-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&i.create({subject:e.data.threadListTitle,thread_group:r.threadGroupId}).then(function(){console.log("Thread list created"),r.getList()})})},r.getList(),r.getThreadGroupName()}}()},{"../../../../core/services/logService":2,"../services/threadGroupService":14,"../services/threadService":16}],8:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t){n.controller("threadListDialogController","initialized");var i=this;i.cancel=function(){t.cancel()},i.agree=function(){t.hide({status:"agree",data:{threadListTitle:i.listTitle}})}}}()},{"../../../../core/services/logService":2}],9:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t){n.controller("WriteMessageDialogController","initialized");var i=this;i.cancel=function(){t.cancel()},i.agree=function(){t.hide({status:"agree",data:{message:i.message}})}}}()},{"../../../../core/services/logService":2}],10:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(e){return window.fetch(i+"chats/thread-group/?ordering=created&page="+e.page,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e){return window.fetch(i+"chats/thread-group/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"chats/thread-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"chats/thread-group/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(i+"chats/thread-group/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:o,getByKey:a,create:r,update:s,deleteByKey:l}}()},{"../../../../core/services/cookieService":1}],11:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(e){return window.fetch(i+"chats/message/?ordering=created&thread="+e.thread+"&page="+e.page,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e){return window.fetch(i+"chats/message/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"chats/message/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"chats/message/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(i+"chats/message/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:o,getByKey:a,create:r,update:s,deleteByKey:l}}()},{"../../../../core/services/cookieService":1}],12:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(e){return window.fetch(i+"chats/thread/?ordering=created&page="+e.page+"&thread_group="+e.threadGroup,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e){return window.fetch(i+"chats/thread/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"chats/thread/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"chats/thread/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(i+"chats/thread/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:o,getByKey:a,create:r,update:s,deleteByKey:l}}()},{"../../../../core/services/cookieService":1}],13:[function(e,t,n){!function(){t.exports=function(e){e.state("app.forum",{url:"/forum",templateUrl:"views/forum-shell-view.html","abstract":!0,controller:"ForumController as vm"}).state("app.forum.thread-groups",{url:"",templateUrl:"views/forum-thread-groups-view.html",controller:"ForumThreadGroupListController as vm"}).state("app.forum.threads-list",{url:"/:groupId",templateUrl:"views/forum-threads-list-view.html",controller:"ForumThreadListController as vm"}).state("app.forum.thread",{url:"/:groupId/thread/:threadId",templateUrl:"views/forum-thread-view.html",controller:"ForumThreadController as vm"})}}()},{}],14:[function(e,t,n){!function(){"use strict";var n=e("../repositories/threadGroupRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/threadGroupRepository":10}],15:[function(e,t,n){!function(){"use strict";var n=e("../repositories/threadMessagesRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/threadMessagesRepository":11}],16:[function(e,t,n){!function(){"use strict";var n=e("../repositories/threadRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/threadRepository":12}],17:[function(e,t,n){"use strict";!function(){var t=angular.module("forum",[]);t.config(["$stateProvider",e("./app/router.js")]),t.run(function(){console.log("Forum initialized")}),t.controller("ForumController",["$scope",e("./app/controllers/forumController")]),t.controller("ForumThreadGroupListController",["$scope","$mdDialog",e("./app/controllers/forumThreadGroupListController")]),t.controller("ForumThreadListController",["$scope","$stateParams","$mdDialog",e("./app/controllers/forumThreadListController")]),t.controller("ForumThreadController",["$scope","$stateParams","$mdDialog",e("./app/controllers/forumThreadController")]),t.controller("ForumThreadGroupDialogController",["$scope","$mdDialog",e("./app/controllers/forumThreadGroupDialogController")]),t.controller("ForumThreadListDialogController",["$scope","$mdDialog",e("./app/controllers/forumThreadListDialogController")]),t.controller("ForumWriteMessageDialogController",["$scope","$mdDialog",e("./app/controllers/forumWriteMessageDialogController")]),e("./templates.min.js")}()},{"./app/controllers/forumController":3,"./app/controllers/forumThreadController":4,"./app/controllers/forumThreadGroupDialogController":5,"./app/controllers/forumThreadGroupListController":6,"./app/controllers/forumThreadListController":7,"./app/controllers/forumThreadListDialogController":8,"./app/controllers/forumWriteMessageDialogController":9,"./app/router.js":13,"./templates.min.js":18}],18:[function(e,t,n){!function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-message-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Write a message</h2><span flex></span></div></md-toolbar><md-dialog-content><md-input-container style="margin-bottom: 0"><label>Message</label><textarea data-ng-model="vm.message" cols="30" rows="10"></textarea></md-input-container></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Send</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-shell-view.html",'<div data-ui-view=""></div>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-group-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Enter threads group title</h2><span flex></span></div></md-toolbar><md-dialog-content><md-input-container style="margin-bottom: 0"><label>Title</label><textarea data-ng-model="vm.groupTitle" cols="30" rows="10"></textarea></md-input-container></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Create</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-groups-view.html",'<div><md-content class="forum-content-padding"><h2 class="forum-section-header">Thread groups list</h2><div data-ng-if="vm.readyStatus.content"><md-list flex><md-list-item class="group-forum-list-item" class="md-3-line" ng-repeat="item in vm.threadGroups"><a href="" data-ui-sref="app.forum.threads-list({groupId: item.id})"><span data-ng-bind="item.name"></span></a><md-divider></md-divider></md-list-item></md-list></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div><div layout="row" layout-align="end center"><md-button class="md-raised md-primary" data-ng-click="vm.createThredsGroup($event)">Create thread group</md-button></div></md-content></div>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-list-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Enter threads list title</h2><span flex></span></div></md-toolbar><md-dialog-content><md-input-container style="margin-bottom: 0"><label>Title</label><textarea data-ng-model="vm.listTitle" cols="30" rows="10"></textarea></md-input-container></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Create</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-view.html",'<div><md-content class="forum-content-padding"><h2 class="forum-section-header" data-ng-bind="::vm.thread.subject"></h2><div data-ng-if="vm.readyStatus.content"><!-- <md-list flex> --><!-- <md-list-item class="thread-forum-list-item" class="md-3-line" ng-repeat="item in vm.messages"\n\t\t\t\t>\n\t\t\t\t\t<h4 class="author-username" data-ng-bind="item.sender_object.username"></h4>\n\t\t\t\t\t<p class="thread-message-text" data-ng-bind="item.text"></p>\n\t\t\t\t\t<md-divider></md-divider>\n\t\t\t\t</md-list-item> --><div class="thread-forum-list-item" data-ng-repeat="item in vm.messages"><div class="thread-message-content"><h4 class="author-username" data-ng-bind="item.sender_object.username"></h4><p class="thread-message-text" data-ng-bind="item.text"></p><p class="thread-message-create-data" data-ng-bind="item.created | date:\'HH:mm dd/MM/yyyy\'"></p></div><md-divider class="thread-message-divider"></md-divider></div><!-- </md-list> --><div layout="row"><div layout="row" flex="50" layout-align="start center"><div paging page="vm.threadPageCurrent" page-size="vm.itemPerPage" total="vm.threadMessagesTotal" paging-action="vm.changePage(page)" class="global-pagination-div"></div><md-button ui-sref="app.forum.threads-list({groupId: vm.threadGroupId})" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button></div><div layout="row" flex="50" layout-align="end center"><md-button data-ng-click="vm.write($event)" class="md-raised md-primary">Write</md-button></div></div></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></div>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-threads-list-view.html",'<div><md-content class="forum-content-padding"><h2 data-ng-bind="vm.threadGroupName"></h2><h3 class="forum-section-header">Threads list</h3><div data-ng-if="vm.readyStatus.content"><md-list flex><md-list-item class="thread-forum-list-item" class="md-3-line" ng-repeat="item in vm.threads"><a data-ui-sref="app.forum.thread({groupId: vm.threadGroupId, threadId: item.id})"><span data-ng-bind="item.subject"></span></a><md-divider></md-divider></md-list-item></md-list></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div><div layout="row"><div layout="row" flex="50"><md-button ui-sref="app.forum.thread-groups" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button></div><div layout="row" layout-align="end center" flex="50"><md-button class="md-raised md-primary" data-ng-click="vm.createThredsList($event)">Create thread</md-button></div></div></md-content></div>')}])}()},{}],19:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/attributeTypeService"),o=e("../services/entityResolverService"),a=e("../services/uiService"),r=e("../services/gridHelperService"),s=e("../services/metaService"),l=e("../services/layoutService");t.exports=function(e,t,c){n.controller("AdditionsEditorEntityEditController","initialized");var d=this;d.readyStatus={content:!1},d.entityType=e.$parent.entityType,d.entityIsChanged=!1,e.$parent.$watch("itemId",function(t){console.log("what1"),t&&(d.readyStatus.content=!1,o.getByKey(d.entityType,t).then(function(t){d.readyStatus.content=!0,d.entity=t,console.log("vm.entity",d.entity),e.$apply()}))}),a.getEditLayout(d.entityType).then(function(t){d.tabs=t.results[0].data,n.collection("vm.tabs",d.tabs),e.$apply()}),d.attrs=[],d.baseAttrs=[],d.entityAttrs=[],d.layoutAttrs=l.getLayoutAttrs(),i.getList(d.entityType).then(function(t){d.attrs=t.results,d.readyStatus.content=!0,e.$apply()}),d.baseAttrs=s.getBaseAttrs(),d.entityAttrs=s.getEntityAttrs(d.entityType),d.layoutAttrs=l.getLayoutAttrs();var u;d.range=r.range,d.bindFlex=function(e,t,n){var i,o=0;for(i=0;i<e.layout.fields.length;i+=1)e.layout.fields[i].row===t&&(o+=e.layout.fields[i].colspan);var a=100/e.layout.columns;return Math.floor(n.colspan*a)},d.bindField=function(e,t){var n,i,o;if("field"===t.type)if(t.hasOwnProperty("id")&&null!==t.id){for(n=0;n<d.attrs.length;n+=1)if(t.id===d.attrs[n].id)return d.attrs[n].options=t.options,d.attrs[n]}else{for(n=0;n<d.baseAttrs.length;n+=1)if(t.name===d.baseAttrs[n].name)return d.baseAttrs[n].options=t.options,d.baseAttrs[n];for(o=0;o<d.entityAttrs.length;o+=1)if(t.name===d.entityAttrs[o].name)return d.entityAttrs[o].options=t.options,d.entityAttrs[o];for(i=0;i<d.layoutAttrs.length;i+=1)if(t.name===d.layoutAttrs[i].name)return d.layoutAttrs[i].options=t.options,d.layoutAttrs[i]}},d.checkFieldRender=function(e,t,n){if(n.row===t){if("field"===n.type)return!0;var i,o,a,r=[];for(i=0;i<e.layout.fields.length;i+=1)if(e.layout.fields[i].row===t&&"field"===e.layout.fields[i].type)for(o=e.layout.fields[i].column;o<=e.layout.fields[i].column+e.layout.fields[i].colspan-1;o+=1)r.push(o);for(a=0;a<r.length;a+=1)if(r[a]===n.column)return!1;return!0}return!1},d.openMenu=function(e,t){u=t,e(t)},d.editLayout=function(){t.go("app.data-constructor",{entityType:d.entityType})},d.save=function(){function e(e,t,n){return 10===t.value_type&&(e.value_string=n),20===t.value_type&&(e.value_float=n),30===t.value_type&&(e.classifier=n),40===t.value_type&&(e.value_date=n),e}function t(e,t){var n={attribute_name:e.name,attribute_type:e.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===e.value_type&&(n.value_string=t),20===e.value_type&&(n.value_float=t),30===e.value_type&&(n.classifier=t),40===e.value_type&&(n.value_date=t),n}function n(){var e;for(e=0;e<d.entityAttrs.length;e+=1)if(console.log("vm.entityAttrs[i]",d.entityAttrs[e]),40===d.entityAttrs[e].value_type&&(d.entity[d.entityAttrs[e].key]=moment(new Date(d.entity[d.entityAttrs[e].key])).format("YYYY-MM-DD")),20===d.entityAttrs[e].value_type||"float"===d.entityAttrs[e].value_type){var t,n=(d.entity[d.entityAttrs[e].key]+"").replace(" ","");t=n.indexOf(",")!==-1?n.replace(",","."):n,d.entity[d.entityAttrs[e].key]=parseFloat(t)}}var i,a,r,s,l=Object.keys(d.entity);for(i=0;i<d.attrs.length;i+=1)for(a=0;a<l.length;a+=1)if(d.attrs[i].name===l[a]){for(s=!1,r=0;r<d.entity.attributes.length;r+=1)d.entity.attributes[r].attribute_type===d.attrs[i].id&&(s=!0,d.entity.attributes[r]=e(d.entity.attributes[r],d.attrs[i],d.entity[l[a]]));s||d.entity.attributes.push(t(d.attrs[i],d.entity[l[a]]))}n(),o.update(d.entityType,d.entity.id,d.entity).then(function(e){console.log("saved!",e)})}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":99,"../services/entityResolverService":107,"../services/gridHelperService":110,"../services/layoutService":118,"../services/metaService":119,"../services/uiService":125}],20:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/metaService");t.exports=function(e,t){n.controller("AttributesAddDialogManagerController","initialized");var o=this;o.attribute={name:"",value_type:""},o.editRestriction=!1,console.log("vm.attribute",o.attribute),o.valueTypes=[],o.valueTypes=i.getTypeCaptions(),console.log("Value type is ",o.valueTypes),o.agree=function(){console.log("vm.attr",o.attribute),t.hide({status:"agree",data:{attribute:o.attribute}})},o.cancel=function(){t.cancel()}}}()},{"../../../../core/services/logService":2,"../services/metaService":119}],21:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/attributeTypeService"),o=e("../services/metaService");t.exports=function(e,t,a,r){function s(e){return e.name=e.text,e.id.indexOf("j")!==-1&&(delete e.li_attr,delete e.state,delete e.icon,delete e.a_attr,delete e.data,delete e.text,delete e.type,delete e.id),e.children=e.children.map(s),e}n.controller("AttributesManagerController","initialized");var l=this,c=o.getTypeCaptions();l.attrs=[],l.entityType=a.entityType;var d=function(){i.getList(l.entityType).then(function(t){l.attrs=t.results,e.$apply()})};d(),l.addAttribute=function(e){r.show({controller:"AttributesManagerAddDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){"agree"===e.status&&(console.log(e.data.attribute.value_type),console.log("res",e.data),i.create(l.entityType,e.data.attribute).then(d))})},l.bindType=function(e){var t;for(t=0;t<c.length;t+=1)if(e.value_type===c[t].value)return c[t].caption_name},l.editTreeAttr=function(e,t){r.show({controller:"ClassificationEditorDialogController as vm",templateUrl:"views/classification-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{data:{classifier:e,entityType:l.entityType}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),e.data.classifier.classifiers=e.data.classifier.children.map(s),i.update(l.entityType,e.data.classifier.id,e.data.classifier).then(d))})},l.editAttr=function(e,t){r.show({controller:"AttributesManagerEditDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{attribute:e}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.update(l.entityType,e.data.attribute.id,e.data.attribute).then(d))})},l.deleteAttr=function(e,t){var n="Are you sure to delete attribute "+e.name+" ?";r.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:n}}}).then(function(n){console.log("res",n),"agree"===n.status&&i.deleteByKey(l.entityType,e.id).then(function(e){"conflict"===e.status?r.show({controller:"InfoDialogController as vm",templateUrl:"views/info-dialog-view.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,locals:{info:{title:"Notification",description:"You can not delete attributed that already in use"}}}):d()})})}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":99,"../services/metaService":119}],22:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/metaService");t.exports=function(e,t,o){n.controller("AttributesAddDialogManagerController","initialized");var a=this;a.attribute=JSON.parse(JSON.stringify(o)),a.editRestriction=!0,console.log("vm.attribute",a.attribute),a.valueTypes=i.getValueTypes().filter(function(e){return 30!==e.value&&"decoration"!==e.value}),a.valueTypes=a.valueTypes.map(function(e){switch(e.display_name){case"Number":e.caption_name="Integer";break;case"Float":e.caption_name="Number with decimals";break;case"Field":e.caption_name="Classification";break;default:e.caption_name=e.display_name}return e}),a.agree=function(){console.log("vm.attr",a.attribute),t.hide({status:"agree",data:{attribute:a.attribute}})},a.cancel=function(){t.cancel()}}}()},{"../../../../core/services/logService":2,"../services/metaService":119}],23:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/auditService");t.exports=function(e){function t(){a.instrumentCurrent=a.instrumentCurrent||1,a.readyStatus.instrument=!1,i.getList({filters:{content_type:"instruments.instrument"},page:a.instrumentCurrent}).then(function(t){a.instruments=t.results.map(function(e){return e.dateFormatted=moment(new Date(e.created)).format("DD/MM/YYYY"),e}),a.instrumentTotal=t.count,a.readyStatus.instrument=!0,e.$apply()})}function o(){a.transactionCurrent=a.transactionCurrent||1,a.readyStatus.transaction=!1,i.getList({filters:{content_type:"transactions.transaction"},page:a.transactionCurrent}).then(function(t){a.transactions=t.results.map(function(e){return e.dateFormatted=moment(new Date(e.created)).format("DD/MM/YYYY"),e}),a.transactionTotal=t.count,a.readyStatus.transaction=!0,e.$apply()})}n.controller("AuditController","initialized");var a=this;a.readyStatus={transaction:!1,instrument:!1},a.itemPerPage=20,a.checkActiveTab=function(e){return window.location.hash.split("tab=")[1]==e},a.setActiveTab=function(e){window.location.hash="#/system/audit?tab="+e,a.instrumentCurrent=1,a.transactionCurrent=1},a.changePage=function(e,n){"instrument"===e?(a.instrumentCurrent=n,t()):(o(),a.transactionCurrent=n),console.log("--------",e,n)},t(),o()}}()},{"../../../../core/services/logService":2,"../services/auditService":100}],24:[function(e,t,n){!function(){"use strict";var n=e("../services/attributeTypeService"),i=e("../../../../core/services/logService");t.exports=function(e,t,o){var a=this;i.controller("ClassificationEditorDialogController","initialized"),a.classifier=o.classifier,n.getByKey(o.entityType,o.classifier.id).then(function(t){function n(e){return e.text=e.name,e.type="default",e.children.length&&(e.type="folder"),e.children=e.children.map(n),e}var i=t.classifiers.map(n);$("#jstree_demo").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0},data:[{text:"Root",state:{opened:!0,selected:!0},children:i}]},types:{"#":{valid_children:["root"]},root:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default"]},"default":{icon:"portal/content/img/ic_label_outline_black_1x.png",valid_children:["default","folder"]},folder:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default","folder"]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),e.$apply()}),a.createNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();e.set_type(t,"folder"),t=t[0],t=e.create_node(t,{type:"default"}),t&&e.edit(t)},a.renameNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();return!!t.length&&(t=t[0],void e.edit(t));
},a.deleteNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();return!!t.length&&void e.delete_node(t)},a.agree=function(){console.log("vm.attr",a.classifier);var e=$("#jstree_demo").jstree(!0),n=e.get_json("#");console.log("ref",n),console.log("classifier",a.classifier),a.classifier.children=n[0].children,t.hide({status:"agree",data:{classifier:a.classifier}})},a.cancel=function(){t.cancel()}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":99}],25:[function(e,t,n){!function(){"use strict";var n=(e("../../../../core/services/logService"),e("../services/attributeTypeService"));t.exports=function(e,t,i){var o=this;n.getByKey(i.entityType,i.classifier.id).then(function(t){function n(e){return e.text=e.name,e.type="default",e.children.length&&(e.type="folder"),e.children=e.children.map(n),e}var i=t.classifiers.map(n);console.log("atatatata"),$("#jstree_demo").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0,dots:!0},data:[{text:"Root",state:{opened:!0,selected:!0},children:i}]},types:{"#":{valid_children:["root"]},root:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default"]},"default":{icon:"portal/content/img/ic_label_outline_black_1x.png",valid_children:["default","folder"]},folder:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default","folder"]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),$("#jstree_demo").jstree(!0).show_dots(),e.$apply()}),o.agree=function(){var e=$("#jstree_demo").jstree(!0).get_selected();t.hide({status:"agree",data:{item:e[0]}})},o.cancel=function(){t.cancel()}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":99}],26:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e){n.controller("DashboardController","initialized")}}()},{"../../../../core/services/logService":2}],27:[function(e,t,n){!function(){"use strict";var n=e("../../services/accountService");t.exports=function(e){console.log('{"controller": "DataAccountController", status: "initialized"}');var t=this;t.entityType="account",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,console.log("vm.entityRaw",t.entityRaw),e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/accountService":98}],28:[function(e,t,n){!function(){"use strict";var n=e("../../services/counterpartyService");t.exports=function(e){console.log('{"controller": "DataCounterpartytController", status: "initialized"}');var t=this;t.entityType="counterparty",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/counterpartyService":103}],29:[function(e,t,n){!function(){"use strict";var n=e("../../services/currencyHistoryService");t.exports=function(e){console.log('{"controller": "DataCurrencyHistoryController", status: "initialized"}');var t=this;t.entityType="currency-history",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/currencyHistoryService":104}],30:[function(e,t,n){!function(){"use strict";var n=e("../../services/instrumentService");t.exports=function(e){console.log('{"controller": "DataInstrumentController", status: "initialized"}');var t=this;t.entityType="instrument",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/instrumentService":117}],31:[function(e,t,n){!function(){"use strict";var n=e("../../services/portfolioService");t.exports=function(e){console.log('{"controller": "DataPortfolioController", status: "initialized"}');var t=this;t.entityType="portfolio",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/portfolioService":121}],32:[function(e,t,n){!function(){"use strict";var n=e("../../services/priceHistoryService");t.exports=function(e){console.log('{"controller": "DataPriceHistoryController", status: "initialized"}');var t=this;t.entityType="price-history",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/priceHistoryService":122}],33:[function(e,t,n){!function(){"use strict";var n=e("../../services/responsibleService");t.exports=function(e){console.log('{"controller": "DataResponsibleController", status: "initialized"}');var t=this;t.entityType="responsible",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/responsibleService":123}],34:[function(e,t,n){!function(){"use strict";var n=e("../../services/transactionService");t.exports=function(e){console.log('{"controller": "DataTransactionController", status: "initialized"}');var t=this;t.entityType="transaction",t.entityRaw=[],n.getList().then(function(n){t.entityRaw=n.results,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e.results})}}}()},{"../../services/transactionService":124}],35:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/attributeTypeService"),o=(e("../services/demo/demoPortfolioService"),e("../services/demo/demoTransactionsService"),e("../services/uiService")),a=(e("../services/portfolioService"),e("../services/metaService")),r=e("../services/gridHelperService");t.exports=function(e,t,s,l){function c(){var e;for(e=0;e<p.tabs.length;e+=1)d(p.tabs[e])}function d(e){var t;for(e.layout.rows=e.layout.rows+1,t=0;t<e.layout.columns;t+=1)e.layout.fields.push({row:e.layout.rows,column:t+1,colspan:1,type:"empty"})}function u(e){var t;for(t=0;t<e.layout.fields.length;t+=1)e.layout.fields[t].row===e.layout.rows&&(e.layout.fields.splice(t,1),t-=1);e.layout.rows=e.layout.rows-1}n.controller("EntityDataConstructorController","initialized");var p=this;p.boxColumns=[1,2,3,4,5,6],p.readyStatus={constructor:!1},console.log(t),p.entityType=t.entityType,o.getEditLayout(p.entityType).then(function(t){p.ui=t.results[0],p.tabs=p.ui.data,p.tabs.forEach(function(e){e.layout.fields.forEach(function(e){e.editMode=!1})}),c(),e.$apply()}),p.attrs=[],p.baseAttrs=[],p.entityAttrs=[],p.cancel=function(){s.go("app.data."+p.entityType)},i.getList(p.entityType).then(function(t){n.collection("data",t),p.attrs=t.results,n.collection("vm attrs",p.attrs),a.getEntitiesWithoutBaseAttrsList().indexOf(p.entityType)===-1&&(console.log("1111111111111111111111"),p.baseAttrs=a.getBaseAttrs()),n.collection("vm.baseAttrs",p.baseAttrs),p.entityAttrs=a.getEntityAttrs(p.entityType),n.collection("vm.entityAttrs",p.entityAttrs),p.readyStatus.constructor=!0,e.$apply()}),p.checkColspan=function(e,t,n){var i,o,a,r,s=[];for(i=0;i<e.layout.fields.length;i+=1)if(e.layout.fields[i].row==t)for(a=e.layout.fields[i].column,r=parseInt(e.layout.fields[i].colspan,10),o=0;o<r;o+=1)s[a]||(s[a]=[]),s[a].push(parseInt(a,10)+parseInt(o,10));var l,c,d=Object.keys(s);for(l=0;l<d.length;l+=1){if(d[l]===n)return!0;for(c=1;c<s[d[l]].length;c+=1)if(n==s[d[l]][c])return!1}return!0},p.range=r.range,p.setLayoutColumns=function(e,t,n){if(t<e.layout.columns){var i,o=[];for(i=t;i<e.layout.columns;i+=1)o.push(i+1);var a;a=o.length>1?"If you switch to less number of columns you lose data of "+o.join(", ")+" columns":"If you switch to less number of columns you lose data of "+o.join(", ")+" column",l.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:a}}}).then(function(n){if("agree"===n.status){var i,o,a;for(i=0;i<e.layout.fields.length;i+=1)for(o=0;o<e.layout.rows;o+=1)for(a=t;a<e.layout.columns;a+=1)e.layout.fields[i].row==o+1&&e.layout.fields[i].column==a+1&&e.layout.fields.splice(i,1);e.layout.columns=t}})}else{var r,s;for(r=1;r<=e.layout.rows;r+=1)for(s=e.layout.columns+1;s<=t;s+=1)e.layout.fields.push({row:r,column:s,colspan:1,type:"empty"});e.layout.columns=t}},p.saveLayout=function(){var t;for(t=0;t<p.tabs.length;t+=1)u(p.tabs[t]);p.ui.data=p.tabs,o.updateEditLayout(p.ui.id,p.ui).then(function(){console.log("layout saved"),s.go("app.data."+p.entityType),e.$apply()})},p.bindFlex=function(e,t,n){var i,o,a=0;for(i=0;i<e.layout.fields.length;i+=1)e.layout.fields[i].row===t&&(e.layout.fields[i].column===n&&(o=e.layout.fields[i]),a+=parseInt(e.layout.fields[i].colspan,10));var r=100/e.layout.columns;return o?Math.floor(o.colspan*r):Math.floor(r)},p.deleteTab=function(e){var t;for(t=0;t<p.tabs.length;t+=1)if(e.name===p.tabs[t].name){p.tabs.splice(t,1);break}},p.addTab=function(){p.tabs.push({name:"",editState:!0,layout:{rows:0,columns:1,fields:[]}}),d(p.tabs[p.tabs.length-1])},p.toggleEditTab=function(e,t,n){e.editState||(e.editState=!1),e.captionName||(e.captionName=e.name),"back"===t&&(console.log("??"),e.captionName||""!==e.name?e.captionName=e.name:p.tabs.splice(n,1)),e.editState=!e.editState},p.saveEditedTab=function(e){console.log(e),""!==e.captionName&&(e.name=e.captionName,e.editState=!e.editState)},p.MABtnVisibility=function(e){return a.checkRestrictedEntityTypesForAM(e)}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":99,"../services/demo/demoPortfolioService":105,"../services/demo/demoTransactionsService":106,"../services/gridHelperService":110,"../services/metaService":119,"../services/portfolioService":121,"../services/uiService":125}],36:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/attributeTypeService"),o=e("../../services/entityResolverService"),a=e("../../services/uiService"),r=e("../../services/metaService"),s=e("../../services/layoutService");t.exports=function(e,t,l,c){n.controller("EntityViewerAddDialogController","initialized"),n.property("parentScope",l);var d=this;d.readyStatus={content:!1,entity:!0},d.entityType=l.vm.entityType,d.evAction="create",a.getEditLayout(d.entityType).then(function(t){d.tabs=t.results[0].data,n.collection("vm.tabs",d.tabs),e.$apply()}),d.attrs=[],d.baseAttrs=[],d.entityAttrs=[],d.layoutAttrs=[],i.getList(d.entityType).then(function(t){d.attrs=t.results,d.readyStatus.content=!0,e.$apply()}),d.baseAttrs=r.getBaseAttrs(),d.entityAttrs=r.getEntityAttrs(d.entityType),d.layoutAttrs=s.getLayoutAttrs(),d.entity={};var u;d.range=function(e){var t,n=[];for(t=1;t<=e;t+=1)n.push(t);return n},d.checkReadyStatus=function(){return!(!d.readyStatus.content||!d.readyStatus.entity)},d.checkPermissions=function(){return!0},d.bindFlex=function(e,t,n){var i,o=0;for(i=0;i<e.layout.fields.length;i+=1)e.layout.fields[i].row===t&&(o+=e.layout.fields[i].colspan);var a=100/e.layout.columns;return Math.floor(n.colspan*a)},d.checkFieldRender=function(e,t,n){if(n.row===t){if("field"===n.type)return!0;var i,o,a,r=[];for(i=0;i<e.layout.fields.length;i+=1)if(e.layout.fields[i].row===t&&"field"===e.layout.fields[i].type)for(o=e.layout.fields[i].column;o<=e.layout.fields[i].column+e.layout.fields[i].colspan-1;o+=1)r.push(o);for(a=0;a<r.length;a+=1)if(r[a]===n.column)return!1;return!0}return!1},d.bindField=function(e,t){var n,i,o;if("field"===t.type)if(t.hasOwnProperty("id")&&null!==t.id){for(n=0;n<d.attrs.length;n+=1)if(t.id===d.attrs[n].id)return d.attrs[n].options=t.options,d.attrs[n]}else{for(n=0;n<d.baseAttrs.length;n+=1)if(t.name===d.baseAttrs[n].name)return d.baseAttrs[n].options=t.options,d.baseAttrs[n];for(o=0;o<d.entityAttrs.length;o+=1)if(t.name===d.entityAttrs[o].name)return d.entityAttrs[o].options=t.options,d.entityAttrs[o];for(i=0;i<d.layoutAttrs.length;i+=1)if(t.name===d.layoutAttrs[i].name)return d.layoutAttrs[i].options=t.options,d.layoutAttrs[i]}},d.openMenu=function(e,t){u=t,e(t)},d.cancel=function(){t.cancel()},d.editLayout=function(){c.go("app.data-constructor",{entityType:d.entityType}),t.hide()},d.save=function(){function e(e,t,n){return console.log(e,t,n),10===t.value_type&&(e.value_string=n),20===t.value_type&&(e.value_float=n),30===t.value_type&&(e.classifier=n),40===t.value_type&&(e.value_date=n),e}function n(e,t){var n={attribute_name:e.name,attribute_type:e.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===e.value_type&&(n.value_string=t),20===e.value_type&&(n.value_float=t),30===e.value_type&&(n.classifier=t),40===e.value_type&&(n.value_date=t),n}function i(){var e;for(e=0;e<d.entityAttrs.length;e+=1)40===d.entityAttrs[e].value_type&&(d.entity[d.entityAttrs[e].key]=moment(new Date(d.entity[d.entityAttrs[e].key])).format("YYYY-MM-DD"))}var a,r,s,c,u=Object.keys(d.entity);for(a=0;a<d.attrs.length;a+=1)for(r=0;r<u.length;r+=1)if(d.attrs[a].name===u[r]){if(c=!1,d.entity.attributes)for(s=0;s<d.entity.attributes.length;s+=1)d.entity.attributes[s].attribute_type===d.attrs[a].id&&(c=!0,d.entity.attributes[s]=e(d.entity.attributes[s],d.attrs[a],d.entity[u[r]]));c||(console.log("vm.entity[keys[a]]",d.entity[u[r]]),d.entity.attributes||(d.entity.attributes=[]),d.entity.attributes.push(n(d.attrs[a],d.entity[u[r]])))}i(),o.create(d.entityType,d.entity).then(function(e){console.log("saved!",e),l.vm.updateTable(),t.hide()})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":99,"../../services/entityResolverService":107,"../../services/layoutService":118,"../../services/metaService":119,"../../services/uiService":125}],37:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/attributeTypeService"),o=e("../../services/entityViewerHelperService"),a=e("../../services/metaService"),r=e("../../services/groupTable/groupTableService"),s=e("../../services/uiService"),l=(e("../../services/demo/demoPortfolioService"),e("../../services/demo/demoTransactionsService"));t.exports=function(e,t){function c(e,t,n,i,o){var a=[];if(!e)return[];var r,s,l,c,d,u,p,m,g;for(r=0;r<e.length;r+=1)if(d=e[r],d.hasOwnProperty("id"))for(s=0;s<t.length;s+=1)u=t[s],d.id===u.id&&(d.options&&(m=JSON.parse(JSON.stringify(d.options))),d=u,d.options=m,a.push(d));else{for(l=0;l<n.length;l+=1)p=n[l],d.key===p.key&&(d.options&&(m=JSON.parse(JSON.stringify(d.options))),d.options=m,d=p,a.push(d));for(c=0;c<i.length;c+=1)g=i[c],d.key===g.key&&(d.options&&(m=JSON.parse(JSON.stringify(d.options))),d.options=m,d=g,a.push(d))}return a}function d(e,t){if(e.hasOwnProperty("id")){var n;for(n=0;n<t.length;n+=1){var i=e.sort;e.id===t[n].id&&(e=t[n],e.sort=i)}}return e}n.controller("EntityViewerController","initialized"),$(".save-layout-btn").click(function(){for(var e=($(".g-columns-component"),$(".g-columns-component.g-thead").find(".g-cell")),t=[],n=0;n<e.length;n+=1){var i=$(e[n]).width();t.push(i)}u.listView.data.table.columnsWidth=t,console.log("View data is ",u.listView.data),u.listView.data.table=u.table,u.listView.data.table.columns=u.columns,console.log("---------vm.grouping-------",u.grouping),u.listView.data.table.grouping=u.grouping,u.listView.data.table.folding=u.folding,u.listView.data.table.filters=u.filters,u.listView.data.table.sorting=u.sorting,u.listView.data.additionsType=u.additionsType,u.listView.data.tableAdditions.entityType=u.additionsEntityType,u.listView.data.tableAdditions=u.tableAdditions,u.listView.data.tableAdditions.table.columns=u.entityAdditionsColumns,u.listView.data.tableAdditions.table.filters=u.entityAdditionsFilters,u.listView.data.tableAdditions.table.sorting=u.entityAdditionsSorting,s.updateListLayout(u.listView.id,u.listView).then(function(){console.log("saved")})}),$(".header-add-new-btn").click(function(e){u.addEntity(e)});var u=this;u.attrs=[],u.baseAttrs=[],u.layoutAttrs=[],u.entityAttrs=[],u.entityRaw=e.$parent.vm.entityRaw,u.entity=[],u.entityType=e.$parent.vm.entityType,u.columns=[],u.columnsWidth=[],u.grouping=[],u.filters=[],u.sorting=[],u.entityAdditions=[],u.additionsType="",u.additionsEntityType="",u.entityAdditionsColumns=[],u.entityAdditionsFilters=[],u.entityAdditionsSorting=[],u.tabs=[],u.table={},u.tableAdditions={},u.tableIsReady=!1,u.editorTemplate="views/additions-editor-view.html",u.additionsStatus={editor:!1,table:!1},u.getView=function(){return s.getListLayout(u.entityType,"default").then(function(t){console.log("re1233333s",t),u.listView=t.results[0],u.table=t.results[0].data.table,u.columns=t.results[0].data.table.columns,u.columnsWidth=t.results[0].data.table.columnsWidth,u.grouping=t.results[0].data.table.grouping,u.folding=t.results[0].data.table.folding,u.filters=t.results[0].data.table.filters,u.sorting=t.results[0].data.table.sorting,n.collection("vm.columns",u.columns),u.additionsType=t.results[0].data.tableAdditions.additionsType,u.additionsEntityType=t.results[0].data.tableAdditions.entityType,u.tableAdditions=t.results[0].data.tableAdditions,u.entityAdditionsColumns=t.results[0].data.tableAdditions.table.columns,u.entityAdditionsFilters=t.results[0].data.tableAdditions.table.filters,u.entityAdditionsSorting=t.results[0].data.tableAdditions.table.sorting,u.additionsStatus[t.results[0].data.tableAdditions.additionsType]=!0,e.$apply()})},u.transformViewAttributes=function(){u.columns=c(u.columns,u.attrs,u.baseAttrs,u.entityAttrs,u.entityType),u.grouping=c(u.grouping,u.attrs,u.baseAttrs,u.entityAttrs,u.entityType),u.filters=c(u.filters,u.attrs,u.baseAttrs,u.entityAttrs,u.entityType),u.sorting.group=d(u.sorting.group,u.attrs),u.sorting.column=d(u.sorting.column,u.attrs),u.entityAdditionsColumns=c(u.entityAdditionsColumns,u.attrs,u.baseAttrs,u.entityAttrs,u.additionsEntityType),u.entityAdditionsFilters=c(u.entityAdditionsFilters,u.attrs,u.baseAttrs,u.entityAttrs,u.additionsEntityType),u.entityAdditionsSorting.column=d(u.entityAdditionsSorting.column,u.attrs),n.collection("vm.grouping",u.grouping),n.collection("vm.columns",u.columns)},u.getEntityData=function(){console.log("entityRaw is ",u.entityRaw),o.transformItems(u.entityRaw,u.attrs).then(function(t){u.entity=t,u.groupTableService=r.getInstance(),console.log("Column text ",u.groupTableService),u.updateTable(),e.$apply()})},u.getAttributes=function(){return i.getList(u.entityType).then(function(t){u.attrs=t.results,u.baseAttrs=a.getBaseAttrs(),u.entityAttrs=a.getEntityAttrs(u.entityType),e.$apply()})},u.updateTable=function(){var t={sort:{key:u.sorting.column.key,direction:u.sorting.column.sort},filters:{}};u.filters.forEach(function(e){e.options&&e.options.enabled===!0&&(t.filters[e.key]=e.options.query)}),console.log("entityViewerController parent scope ",e.$parent),e.$parent.vm.getList(t).then(function(t){o.transformItems(t,u.attrs).then(function(t){u.entity=t,u.groupTableService.setItems(u.entity),u.groupTableService.columns.setColumns(u.columns),u.groupTableService.grouping.setGroups(u.grouping,u.entityType),u.groupTableService.folding.setFolds(u.folding),console.log("UPDATE TABLE scope.sorting.group",u.sorting.group),u.sorting.group=d(u.sorting.group,u.attrs),u.groupTableService.sorting.group.sort(u.sorting.group),u.tableIsReady=!0,e.$apply()})})},u.updateAdditionsTable=function(){u.groupTableService.additions.setItems(u.entityAdditions),u.groupTableService.additions.columns.setColumns(u.entityAdditionsColumns),u.groupTableService.additions.filtering.setFilters(u.entityAdditionsFilters),u.groupTableService.additions.sorting.column.sort(u.entityAdditionsSorting.column)},u.getEntityAdditions=function(t){return l.getList(t).then(function(t){u.entityAdditions=t,u.updateAdditionsTable(),e.$apply()})},u.addEntity=function(n){console.log("Add entity dialog have been activated"),t.show({controller:"EntityViewerAddDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{parentScope:e}})},u.openDataViewPanel=function(){u.additionsStatus.editor=!0},u.openEditorViewPanel=function(){u.editorEntityId=void 0,u.additionsStatus.table=!0},u.checkAdditionStatus=function(){return!u.additionsStatus.table&&!u.additionsStatus.editor&&(u.editorEntityId=void 0,!0)},u.hideAdditions=function(){u.additionsStatus.table=!1,u.additionsStatus.editor=!1,u.editorEntityId=void 0},u.getView().then(function(){u.getAttributes().then(function(){u.transformViewAttributes(),u.getEntityData()})})}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":99,"../../services/demo/demoPortfolioService":105,"../../services/demo/demoTransactionsService":106,"../../services/entityViewerHelperService":108,"../../services/groupTable/groupTableService":114,"../../services/metaService":119,"../../services/uiService":125}],38:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/entityResolverService");t.exports=function(e,t,o,a){n.controller("EntityViewerDeleteDialogController","initialized");var r=this;console.log("vm.entity",o),r.entity=o,r.entityType=a,r.displayCaption=function(){return r.entity.name?r.entity.name:"item"},r.cancel=function(){t.cancel()},r["delete"]=function(){i.deleteByKey(r.entityType,r.entity.id).then(function(e){console.log("deleted!",e),t.hide({status:"agree"})})}}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":107}],39:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/attributeTypeService"),o=e("../../services/entityResolverService"),a=e("../../services/usersService"),r=e("../../services/uiService"),s=e("../../services/gridHelperService"),l=e("../../services/metaService"),c=e("../../services/layoutService");t.exports=function(e,t,d,u,p){n.controller("EntityViewerEditDialogController","initialized");var m=this;m.readyStatus={content:!1,permissions:!1,entity:!1,me:!1},m.entityType=d.entityType,m.evAction="update",n.property("entityType",m.entityType),r.getEditLayout(m.entityType).then(function(t){m.tabs=t.results[0].data,n.collection("vm.tabs",m.tabs),e.$apply()}),m.attrs=[],m.baseAttrs=[],m.entityAttrs=[],m.layoutAttrs=c.getLayoutAttrs(),i.getList(m.entityType).then(function(t){m.attrs=t.results,m.readyStatus.content=!0,e.$apply()}),m.baseAttrs=l.getBaseAttrs(),m.entityAttrs=l.getEntityAttrs(m.entityType),m.layoutAttrs=c.getLayoutAttrs(),o.getByKey(m.entityType,u).then(function(e){m.entity=e,n.property("entity",m.entity),m.readyStatus.entity=!0,m.getMemberList()});var g;a.getMe().then(function(t){m.user=t,m.readyStatus.me=!0,e.$apply()}),m.getMemberList=function(){a.getMemberList().then(function(e){m.members=e.results,m.readyStatus.permissions=!0,m.members.forEach(function(e){m.entity.user_object_permissions&&m.entity.user_object_permissions.forEach(function(t){t.member==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),t.permission==="manage_"+m.entityType&&(e.objectPermissions.manage=!0),t.permission==="change_"+m.entityType&&(e.objectPermissions.change=!0))})})})},m.checkPermissions=function(){var e;for(e=0;e<m.members.length;e+=1)if(m.user.id===m.members[e].id&&1==m.members[e].objectPermissions.manage)return!0;return!1},m.checkReadyStatus=function(){return!!(m.readyStatus.content&&m.readyStatus.entity&&m.readyStatus.me&&m.readyStatus.permissions)},m.range=s.range,m.bindFlex=function(e,t,n){var i,o=0;for(i=0;i<e.layout.fields.length;i+=1)e.layout.fields[i].row===t&&(o+=e.layout.fields[i].colspan);var a=100/e.layout.columns;return Math.floor(n.colspan*a)},m.bindField=function(e,t){var n,i,o;if("field"===t.type)if(t.hasOwnProperty("id")&&null!==t.id){for(n=0;n<m.attrs.length;n+=1)if(t.id===m.attrs[n].id)return m.attrs[n].options=t.options,m.attrs[n]}else{for(n=0;n<m.baseAttrs.length;n+=1)if(t.name===m.baseAttrs[n].name)return m.baseAttrs[n].options=t.options,m.baseAttrs[n];for(o=0;o<m.entityAttrs.length;o+=1)if(t.name===m.entityAttrs[o].name)return m.entityAttrs[o].options=t.options,m.entityAttrs[o];for(i=0;i<m.layoutAttrs.length;i+=1)if(t.name===m.layoutAttrs[i].name)return m.layoutAttrs[i].options=t.options,m.layoutAttrs[i]}},m.checkFieldRender=function(e,t,n){if(n.row===t){if("field"===n.type)return!0;var i,o,a,r=[];for(i=0;i<e.layout.fields.length;i+=1)if(e.layout.fields[i].row===t&&"field"===e.layout.fields[i].type)for(o=e.layout.fields[i].column;o<=e.layout.fields[i].column+e.layout.fields[i].colspan-1;o+=1)r.push(o);for(a=0;a<r.length;a+=1)if(r[a]===n.column)return!1;return!0}return!1},m.openMenu=function(e,t){g=t,e(t)},m.cancel=function(){t.cancel()},m.editLayout=function(e){p.go("app.data-constructor",{entityType:m.entityType}),t.hide()},m.save=function(){function e(e,t,n){return 10===t.value_type&&(e.value_string=n),20===t.value_type&&(e.value_float=n),30===t.value_type&&(e.classifier=n),40===t.value_type&&(e.value_date=n),e}function n(e,t){var n={attribute_name:e.name,attribute_type:e.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===e.value_type&&(n.value_string=t),20===e.value_type&&(n.value_float=t),30===e.value_type&&(n.classifier=t),40===e.value_type&&(n.value_date=t),n}function i(){var e;for(e=0;e<m.entityAttrs.length;e+=1)if(console.log("vm.entityAttrs[i]",m.entityAttrs[e]),40===m.entityAttrs[e].value_type&&(m.entity[m.entityAttrs[e].key]=moment(new Date(m.entity[m.entityAttrs[e].key])).format("YYYY-MM-DD")),20===m.entityAttrs[e].value_type||"float"===m.entityAttrs[e].value_type){var t,n=(m.entity[m.entityAttrs[e].key]+"").replace(" ","");t=n.indexOf(",")!==-1?n.replace(",","."):n,m.entity[m.entityAttrs[e].key]=parseFloat(t)}m.entity.attributes.forEach(function(e){null!==e.value_date&&(e.value_date=moment(new Date(e.value_date)).format("YYYY-MM-DD"))})}var a,r,s,l,c=Object.keys(m.entity);for(a=0;a<m.attrs.length;a+=1)for(r=0;r<c.length;r+=1)if(m.attrs[a].name===c[r]){for(l=!1,s=0;s<m.entity.attributes.length;s+=1)m.entity.attributes[s].attribute_type===m.attrs[a].id&&(l=!0,m.entity.attributes[s]=e(m.entity.attributes[s],m.attrs[a],m.entity[c[r]]));l||m.entity.attributes.push(n(m.attrs[a],m.entity[c[r]]))}i(),m.entity.user_object_permissions=[],m.members.forEach(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&m.entity.user_object_permissions.push({member:e.id,permission:"manage_"+m.entityType}),e.objectPermissions&&1==e.objectPermissions.change&&m.entity.user_object_permissions.push({member:e.id,permission:"change_"+m.entityType})}),o.update(m.entityType,m.entity.id,m.entity).then(function(e){console.log("saved!",e),t.hide({res:"agree"})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":99,"../../services/entityResolverService":107,"../../services/gridHelperService":110,"../../services/layoutService":118,"../../services/metaService":119,"../../services/uiService":125,"../../services/usersService":126}],40:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t,i){n.controller("WarningDialogController","initialized");var o=this;o.info=i,o.cancel=function(){t.cancel()},o.agree=function(){t.hide({status:"agree"})}}}()},{"../../../../core/services/logService":2}],41:[function(e,t,n){!function(){"use strict";var n=e("../services/instrumentService");t.exports=function(e,t){var i=this;i.search={user_code:"",name:"",short_name:"",user_text_1:"",user_text_2:"",user_text_3:""},i.instruments=[],i.selectedItem={},i.agree=function(){t.hide({status:"agree",data:{item:i.selectedItem}})},i.cancel=function(){t.cancel()},i.selectRow=function(e){i.instruments.forEach(function(e){e.active=!1}),i.selectedItem=e,e.active=!0},n.getList({filters:i.search}).then(function(t){i.instruments=t.results,e.$apply()}),i.updateTable=function(){n.getList({filters:i.search}).then(function(t){i.instruments=t.results,e.$apply()})}}}()},{"../services/instrumentService":117}],42:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/notificationsService");t.exports=function(e){n.controller("NotificationsController","initialized");var t=this;i.getList().then(function(n){t.notifications=n.results,e.$apply()})}}()},{"../../../../core/services/logService":2,"../services/notificationsService":120}],43:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../../../../core/services/cookieService"),o=e("../services/usersService");t.exports=function(e,t,a,r){n.controller("ShellController","initialized");var s=this;s.logout=function(){console.log("Logged out"),o.logout()},window.fetch("/api/v1/users/ping/").then(function(e){return e.json()}).then(function(t){setTimeout(function(){o.login("dev1","Uethohk0").then(function(){console.log("after login",i.getCookie("csrftoken")),e.$apply()})},1e3)}),o.getList().then(function(t){s.user=t.results[0],e.$apply()}),s.currentState=function(){return""},s.currentLocation=function(){switch(t.current.name){case"app.data.portfolio":return"PORTFOLIO";case"app.data.account":return"ACCOUNT";case"app.data.counterparty":return"COUNTERPARTY";case"app.data.responsible":return"RESPONSIBLE";case"app.data.instrument":return"INSTRUMENT";case"app.data.transaction":return"TRANSACTION";case"app.data.price-history":return"PRICE HISTORY";case"app.data.currency-history":return"CURRENCY HISTORY";default:return""}},a.$on("$stateChangeSuccess",function(){r.cancel()}),console.log("Curent state is ",t.current)}}()},{"../../../../core/services/cookieService":1,"../../../../core/services/logService":2,"../services/usersService":126}],44:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/metaService");t.exports=function(e){n.controller("SideNavController","initialized");var t=this;t.sections=[],i.getMenu().then(function(n){t.sections=n,e.$apply()}),t.isOpen=function(e){return t.openedSection===e},t.toggleOpen=function(e){t.openedSection=t.openedSection===e?null:e},t.autoFocusContent=!1}}()},{"../../../../core/services/logService":2,"../services/metaService":119}],45:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t,i){n.controller("WarningDialogController","initialized");var o=this;o.warning=i,o.cancel=function(){t.cancel()},o.agree=function(){t.hide({status:"agree"})}}}()},{"../../../../core/services/logService":2}],46:[function(e,t,n){!function(){"use strict";t.exports=function(e){return{scope:{tabs:"="},link:function(t,n){var i='<md-button class="ec-tab-add-btn"data-ng-click="vm.addTab()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button>',o=e(i)(t.$parent),a=n.find("md-pagination-wrapper");a.append(o)}}}}()},{}],47:[function(e,t,n){!function(){"use strict";var n=e("../services/metaService"),i=e("../services/layoutService"),o=e("../services/attributeTypeService");t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/bind-field-control-view.html",scope:{item:"="},link:function(e,t,a){function r(t){e.classifierId==t.id?e.node=t:t.children.length&&t.children.forEach(r)}function s(){return o.getByKey(e.entityType,e.item.id).then(function(t){return m=t,m.classifiers.forEach(r),e.node})}e.entityType=e.$parent.vm.entityType,e.entity=e.$parent.vm.entity;var l=e.$parent.vm.attrs,c=n.getValueTypes(),d=n.getBaseAttrs(),u=n.getEntityAttrs(e.entityType);if(e.layoutAttrs=i.getLayoutAttrs(),e.item){e.fieldType=null,e.attribute=e.item;var p;for(p=0;p<c.length;p+=1)c[p].value===e.attribute.value_type&&(e.fieldType=c[p])}e.getName=function(){return e.item.options&&e.item.options.fieldName?e.item.options.fieldName:e.item.name},e.copyFromField=function(t){var n=JSON.parse(t);if(n.key&&(e.entity[e.getModelKey()]=e.entity[n.key],console.log(e.entity[e.getModelKey()])),n.id){var i=null;l.forEach(function(e){
e.id===n.id&&(i=e)}),e.entity[e.getModelKey()]=e.entity[i.name]}},e.dateFormatter=function(){},e.getModelKey=function(){if(e.item){if(e.item.hasOwnProperty("id")&&null!==e.item.id)return e.item.name;var t,n,i;for(t=0;t<d.length;t+=1)if(e.item.name===d[t].name)return d[t].key;for(n=0;n<e.layoutAttrs.length;n+=1)if(e.item.name===e.layoutAttrs[n].name)return e.layoutAttrs[n].key;for(i=0;i<u.length;i+=1)if(e.item.name===u[i].name)return u[i].key}},e.setDateToday=function(){e.entity[e.getModelKey()]=new Date},e.setDatePlus=function(){e.entity[e.getModelKey()]=new Date((new Date).setDate(new Date(e.entity[e.getModelKey()]).getDate()+1))},e.setDateMinus=function(){e.entity[e.getModelKey()]=new Date((new Date).setDate(new Date(e.entity[e.getModelKey()]).getDate()-1))},e.node=e.node||null;var m;e.fieldType&&30===e.fieldType.value&&(e.classifierId=e.entity[e.getModelKey()],s().then(function(t){e.node=t,e.entity[e.getModelKey()]=e.classifierId,e.$apply()})),e.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},e.changeClassifier=function(){m&&(localStorage.setItem("entityIsChanged",!0),e.classifierId=e.entity[e.getModelKey()],m.classifiers.forEach(r))}}}}}()},{"../services/attributeTypeService":99,"../services/layoutService":118,"../services/metaService":119}],48:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");e("../services/attributeTypeService");t.exports=function(e){return{restrict:"A",require:"?ngModel",scope:{classifierAttr:"=",entityType:"="},link:function(t,i,o,a){n.component("ClassifierModalResolver","initialize"),$(i).on("click",function(n){n.preventDefault(),n.stopPropagation(),e.show({controller:"ClassifierSelectDialogController as vm",templateUrl:"views/classifier-select-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,clickOutsideToClose:!0,locals:{data:{ngModelCtrl:a,classifier:t.classifierAttr,entityType:t.entityType}}}).then(function(e){"agree"===e.status&&(a.$setViewValue(e.data.item),a.$render(),console.log("ngModelCtrl",a))})})}}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":99}],49:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/fieldResolverService");t.exports=function(e){return{scope:{item:"=",entity:"="},templateUrl:"views/entity-viewer/field-resolver-view.html",link:function(e,t,o){n.component("EntityViewerFieldResolverController","initialized"),e.readyStatus={content:!1},e.type="",n.property("field scope",e.item),i.getFields(e.item.key).then(function(t){n.collection("DATA",t),e.type=t.type,e.fields=t.data,e.readyStatus.content=!0,e.$apply()}),e.getName=function(){return e.item.options&&e.item.options.fieldName?e.item.options.fieldName:e.item.name},e.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},e.bindFormFields=function(){var t=e.entity[e.getModelKey()];if(t){var n,i;for(n=0;n<e.fields.length;n+=1)t==e.fields[n].id&&(i=e.fields[n]);if(e.item.options&&e.item.options.fieldsForm){var o="";return e.item.options.fieldsForm.forEach(function(t,n){n+1===e.item.options.fieldsForm.length?o+=i[t]:o=o+i[t]+" / "}),o}return i.name}return e.getName()},e.bindListFields=function(t){if(e.item.options&&e.item.options.fieldsList){var n="";return e.item.options.fieldsList.forEach(function(i,o){o+1===e.item.options.fieldsList.length?n+=t[i]:n=n+t[i]+" / "}),n}return t.name},e.getModelKey=e.$parent.getModelKey}}}}()},{"../../../../core/services/logService":2,"../services/fieldResolverService":109}],50:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"A",scope:{onlyPositive:"@"},require:"?ngModel",link:function(e,t,n,i){i&&(i.$parsers.push(function(t){var n=t.replace(/[^-0-9\,]/g,""),o=n.split("-"),a=n.split(",");return angular.isUndefined(o[1])||(o[1]=o[1].slice(0,o[1].length),n=e.onlyPositive?o[1]:o[0]+"-"+o[1],o[0].length>0&&(n=o[0])),angular.isUndefined(a[1])||(a[1]=a[1].slice(0,a[1].length),n=a[0]+","+a[1]),t!==n&&(i.$setViewValue(n),i.$render()),n}),t.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}),t.bind("blur",function(){function e(e){var t=e.length%3;return(e.substr(0,t)+e.substr(t).replace(/(\d{3})/g," $1")).trim()}var n,i,o=t.val();0===o.indexOf(",")?(n=o.split(",")[0],i=o.split(",")[1],n=e(n),i=e(i),t.val(n+","+i)):t.val(e(o))}))}}}}()},{}],51:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{items:"=",columns:"="},link:function(e,t,i){n.component("groupClipboardHandlerComponent","initialized"),document.addEventListener("copy",function(t){var n=[];e.items.forEach(function(e){e.hasOwnProperty("groups")?(e.selectedRow===!0&&n.push({type:"group",data:e.groups}),e.items.forEach(function(e){e.selectedRow===!0&&n.push(e)})):e.selectedRow===!0&&n.push(e)});var i="";n.forEach(function(t){var n="<tr>";t.hasOwnProperty("type")?n=n+"<td>"+t.data.map(function(e){return e.value}).join(" ")+"</td>":e.columns.forEach(function(e){n=e.hasOwnProperty("key")?n+"<td>"+t[e.key]+"</td>":n+"<td>"+t[e.name]+"</td>"}),n+="</tr>",i+=n}),t.clipboardData.setData("text/html",i),t.preventDefault()})}}}}()},{"../../../../../core/services/logService":2}],52:[function(e,t,n){!function(){"use strict";var n=e("../../services/metaService");t.exports=function(){return{restrict:"A",scope:{columns:"="},link:function(e,t,i){var o=n.columnsWidthGroups(),a=function(){if(o.newColumnAdded){var n,i=t.find(".g-column"),a=i.length-1,r=i[a];switch(e.columns[a].value_type){case 10:n=o.groupThree;break;case 20:case 40:n=o.groupFive;break;case 30:n=o.groupOne}$(r).width(n)}};e.$watchCollection("columns",function(){a()})}}}}()},{"../../services/metaService":119}],53:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{items:"=",columnsWidth:"="},link:function(e,t,i){function o(e,t){t<=l&&!e.hasClass("small-width")?e.addClass("small-width"):t>l&&e.hasClass("small-width")&&e.removeClass("small-width")}function a(){var n=t.find(".g-column");if(e.columnsWidth)for(var i=e.columnsWidth,o=0;o<n.length;o+=1)i[o]&&($(n[o]).width(i[o]),i[o]<=l&&$(n[o]).addClass("small-width"))}function r(){var e,n,i=0,o=16,a=400;for(e=t.find(".g-column"),n=0;n<e.length;n+=1)i=i+$(e[n]).width()+o;u=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width(),u<i+a&&$(".g-scrollable-area").width(i+a)}function s(){function e(){var e,i,o=$(t).find(".g-thead"),a=o.find(".g-cell"),r=$(t).find(".g-row");for(e=0;e<r.length;e+=1)for(n=$(r[e]).find(".g-cell-wrap"),i=0;i<a.length;i+=1)!function(e){$(n[e]).css({width:$(a[e]).width()+"px"})}(i)}var n,i=$(t).find(".g-thead"),a=i.find(".g-cell"),s=($(t).find(".g-row"),a.find(".resize-slider"));$(s).bind("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n,i=$(this).parents("md-card.g-cell.g-column"),a=i.width(),s=(i.attr("min-width"),t.clientX);$(window).bind("mousemove",function(t){n=t.clientX-s,r(),e(),r(),i.width(a+n),o(i,i.width())}),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})}),setTimeout(function(){e()},100)}n.component("groupColumnResizer","initialized");var l=60,c=t.parents(".g-workarea"),d=246;c.width($(window).width()-d-$("md-sidenav").width());var u=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();$(".g-scroll-wrapper").width(u),$(".g-scrollable-area").width(u),$(window).on("resize",function(){c.width($(window).width()-d-$("md-sidenav").width());var e=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();$(".g-scroll-wrapper").width(e),$(".g-scrollable-area").width(e),r(),s()}),setTimeout(function(){a()},110),e.$watchCollection("items",function(){console.log("items added for resize"),r(),setTimeout(function(){s()},100)}),setTimeout(function(){s()},100),console.log("resizer items is ",e.items)}}}}()},{"../../../../../core/services/logService":2}],54:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/metaService");t.exports=function(){return{restrict:"AE",scope:{columns:"=",sorting:"=",isItemAddition:"=",entityType:"=",items:"=",externalCallback:"&",isAllSelected:"="},templateUrl:"views/directives/groupTable/columns-view.html",link:function(e,t,o){n.component("groupColumnResizer","initialized");var a=[],r=[];i.getEntitiesWithoutBaseAttrsList().indexOf(e.entityType)===-1&&(a=i.getBaseAttrs()),r=i.getEntityAttrs(e.entityType),e.isAllSelected=!1,e.selectAllRows=function(){e.isAllSelected=!e.isAllSelected,e.items.forEach(function(t){t.hasOwnProperty("groups")?(t.selectedRow=e.isAllSelected,t.items.forEach(function(t){t.selectedRow=e.isAllSelected})):t.selectedRow=e.isAllSelected})},e.sortHandler=function(t,n){var i;for(i=0;i<e.columns.length;i+=1)e.columns[i].options||(e.columns[i].options={}),e.columns[i].options.sort=null;t.options.sort=n,t.hasOwnProperty("id")?(e.sorting.column.id=t.id,e.sorting.column.key=null,e.sorting.column.sort=n):(e.sorting.column.id=null,e.sorting.column.key=t.key,e.sorting.column.sort=n),e.externalCallback()},e.openColumnSettings=function(e,t){e(t)},e.isSortable=function(e){var t,n;for(t=0;t<a.length;t+=1)if(a[t].key===e.key&&"notes"!==a[t].key)return!0;for(n=0;n<r.length;n+=1)if(r[n].key===e.key)return!0;return!1},e.removeColumn=function(t){t.id&&(e.columns=e.columns.map(function(e){if(e.id!==t.id&&e.key!==t.key)return e}).filter(function(e){return!!e})),t.key&&(e.columns=e.columns.map(function(e){if(e.key!==t.key)return e}).filter(function(e){return!!e}))}}}}}()},{"../../../../../core/services/logService":2,"../../services/metaService":119}],55:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",link:function(e,t,i){function o(e){l=document.all?window.event.clientX:e.pageX,s=document.all?window.event.clientY:e.pageY,console.log(u,p),r[0].style.left=l+c-u+"px",r[0].style.top=s+d-p+"px"}n.component("gDialogDraggable","initialized");var a=$(t).find(".md-toolbar-tools"),r=$(t).parent(),s=0,l=0,c=0,d=0,u=0,p=0;$(r).width(400),$(r).height($(t).height()),$(r).css({left:"65%"}),a.bind("mousedown",function(e){return e.preventDefault(),e.stopPropagation(),console.log(r),u=e.clientX,p=e.clientY,c=r[0].offsetLeft,d=r[0].offsetTop,$(window).bind("mousemove",o),$(window).bind("mouseup",function(e){console.log("unbind"),$(window).unbind("mousemove")}),!1})}}}}()},{"../../../../../core/services/logService":2}],56:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e){return{restrict:"AE",scope:{entityType:"=",filters:"=",columns:"=",tabs:"=",sorting:"=",folding:"=",grouping:"=",externalCallback:"&"},templateUrl:"views/directives/groupTable/grouping-view.html",link:function(t,i,o){n.component("groupGrouping","initialized"),t.sortHandler=function(e,n){var i;for(i=0;i<t.grouping.length;i+=1)t.grouping[i].options||(t.grouping[i].options={}),t.grouping[i].options.sort=null;e.options.sort=n,e.hasOwnProperty("id")?(t.sorting.group={},t.sorting.group.id=e.id,t.sorting.group.key=null,t.sorting.group.sort=n):(t.sorting.group={},t.sorting.group.id=null,t.sorting.group.key=e.key,t.sorting.group.sort=n),console.log("external??",t.sorting.group),t.externalCallback()},t.openGroupSettings=function(e,t){e(t)},t.$watchCollection("grouping",function(){t.externalCallback()}),t.toggleGroupFold=function(){t.folding=!t.folding,console.log("scope.folding",t.folding),setTimeout(function(){t.externalCallback(),t.$apply()},0)},t.removeGroup=function(e){t.grouping=t.grouping.map(function(t){if(t.id!==e.id&&t.name!==e.name)return t}).filter(function(e){return!!e}),setTimeout(function(){t.externalCallback()},0)},t.openModalSettings=function(n){e.show({controller:"gModalController as vm",templateUrl:"views/directives/groupTable/modal-view.html",parent:angular.element(document.body),targetEvent:n,locals:{callback:t.externalCallback,parentScope:t}}).then(function(e){t.status='You said the information was "'+e+'".'},function(){t.status="You cancelled the dialog."})}}}}}()},{"../../../../../core/services/logService":2}],57:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{additionsStatus:"="},link:function(e,t,i){function o(){r=$(window).height()-$(".header").height(),s=r-$(".g-wrapper .g-grouping-section").height(),$(".g-sidebar").height(r),$(".g-wrapper .g-table-section").height(s),$(".g-additions").height($(window).height()-r)}function a(){r=Math.floor(($(window).height()-$(".header").height())/2),s=Math.floor(r-$(".g-wrapper .g-grouping-section").height()),$(".g-sidebar").height(r),$(".g-wrapper .g-table-section").height(s),$(".g-additions").height(r),$(".g-additions-workarea .g-table-section").height(r),$(".g-additions-workarea .group-table-body").height(r),$(".g-height-slider").bind("mousedown",function(e){var n,i,o=$(".header").height(),a=$(".g-workarea.main-area .g-table-section"),r=$(".g-sidebar.main-sidebar"),s=$(".g-wrapper .g-grouping-section").height(),l=$(".g-additions"),c=$(".g-additions-workarea .g-table-section"),d=$(".g-sidebar.additions-sidebar");$(window).bind("mousemove",function(e){i=$(window).height()-o,n=e.clientY,$(t).find(".mCSB_scrollTools_vertical").css({position:"absolute",top:0,left:"auto"}),l.height(i-n+88-15),c.height(i-n+88),d.height(i-n+88),$(".g-workarea.main-area .group-table-body").height(n-$(".header").height()-$(".g-columns-component.g-thead").height()-88),$(".g-additions-workarea .group-table-body").height($(window).height()-n-$(".g-additions-workarea .g-columns-component.g-thead").height()),a.height(n-o-88),r.height(n+s-o-88)}),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})})}n.component("groupHeightAligner","initialized");var r,s;e.$watchCollection("additionsStatus",function(){e.additionsStatus.table||e.additionsStatus.editor?setTimeout(function(){a()},0):o()}),$(window).on("resize",function(){e.additionsStatus.table||e.additionsStatus.editor?a():o()})}}}}()},{"../../../../../core/services/logService":2}],58:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{},link:function(e,t,i){n.component("groupHorizontalScroll","initialized"),$(t).mCustomScrollbar({axis:"x",callbacks:{onInit:function(){},onOverflowX:function(){},whileScrolling:function(){}}})}}}}()},{"../../../../../core/services/logService":2}],59:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/uiService"),o=e("../../services/metaService"),a=e("../../services/attributeTypeService");t.exports=function(e,t,r,s){function l(){function e(){var e,t;for(e=0;e<u.tabs.length;e+=1)if(!u.tabs[e].attrs)for(u.tabs[e].attrs=[],t=0;t<u.tabs[e].layout.fields.length;t+=1)"field"===u.tabs[e].layout.fields[t].type&&(u.tabs[e].layout.fields[t].hasOwnProperty("id")?u.tabs[e].attrs.push({id:u.tabs[e].layout.fields[t].id}):"field"===u.tabs[e].layout.fields[t].type&&"Labeled Line"!=u.tabs[e].layout.fields[t].name&&"Line"!=u.tabs[e].layout.fields[t].name&&u.tabs[e].attrs.push({name:u.tabs[e].layout.fields[t].name}));console.log("vm.tabs[i].attrs",u.tabs[0].attrs)}function t(){var e,t,n,i,o,a,r,s,l,c,d;for(console.log("METHOD: restoreAttrs, data: vm.tabs, value: ",u.tabs),console.log("METHOD: restoreAttrs, data: vm.attrs, value: ",u.attrs),t=0;t<u.tabs.length;t+=1)for(a=u.tabs[t],n=0;n<a.attrs.length;n+=1)if(r=a.attrs[n],c=!1,r.hasOwnProperty("id")){for(e=0;e<u.attrs.length;e+=1)s=u.attrs[e],r.id===s.id&&(u.tabs[t].attrs[n]=s,c=!0);c||(u.tabs[t].attrs.splice(n,1),n-=1)}else{for(i=0;i<u.baseAttrs.length;i+=1)l=u.baseAttrs[i],r.name===l.name&&(u.tabs[t].attrs[n]=l,c=!0);for(o=0;o<u.entityAttrs.length;o+=1)d=u.entityAttrs[o],r.name===d.name&&(u.tabs[t].attrs[n]=d,c=!0);c||(u.tabs[t].attrs.splice(n,1),n-=1)}}e(),t(),u.tabAttrsReady=!0}function c(e){var t;for(t=0;t<e.length;t+=1)e[t].columns=!1,e[t].filters=!1,e[t].groups=!1,p.map(function(n){return e[t].name===n.name&&(e[t].columns=!0),n}),g.map(function(n){return e[t].name===n.name&&(e[t].filters=!0),n}),f.map(function(n){return n.hasOwnProperty("key")?e[t].key===n.key&&(e[t].groups=!0):e[t].name===n.name&&(e[t].groups=!0),n})}function d(e){var t,n,i,o,a,r,s;for(t=0;t<e.length;t+=1){for(a=!1,r=!1,s=!1,n=0;n<p.length;n+=1)e[t].hasOwnProperty("key")?e[t].key===p[n].key&&(a=!0,e[t].columns===!1&&(p.splice(n,1),n-=1)):e[t].name===p[n].name&&(a=!0,e[t].columns===!1&&(p.splice(n,1),n-=1));for(a||e[t].columns===!0&&p.push(e[t]),i=0;i<f.length;i+=1)e[t].hasOwnProperty("key")?e[t].key===f[i].key&&(r=!0,e[t].groups===!1&&(f.splice(i,1),i-=1)):e[t].id===f[i].id&&(r=!0,e[t].groups===!1&&(f.splice(i,1),i-=1));for(r||e[t].groups===!0&&f.push(e[t]),o=0;o<g.length;o+=1)e[t].hasOwnProperty("key")?e[t].key===g[o].key&&(s=!0,e[t].filters===!1&&(g.splice(o,1),o-=1)):e[t].name===g[o].name&&(s=!0,e[t].filters===!1&&(g.splice(o,1),o-=1));s||e[t].filters===!0&&g.push(e[t])}}n.controller("gModalController","initialized");var u=this;u.readyStatus={content:!1},u.tabs=[],u.entityType=r.entityType,n.property("vm.entityType",u.entityType),i.getListLayout(u.entityType).then(function(t){n.collection("DATA",t),u.tabs=t.results[0].data.modalDrag,n.collection("vm.tabs!!!!!!!!!!!!!",u.tabs),u.getAttributes(),e.$apply()}),u.general=[],u.attrs=[],u.baseAttrs=[],u.entityAttrs=[],u.custom=[],u.tabAttrsReady=!1;var p=r.columns,m=r.columns.length,g=r.filters,f=r.grouping,y=[];$("body").addClass("drag-dialog"),u.getAttributes=function(){return o.getEntitiesWithoutBaseAttrsList().indexOf(u.entityType)===-1&&(u.baseAttrs=o.getBaseAttrs()),u.entityAttrs=o.getEntityAttrs(u.entityType),a.getList(u.entityType).then(function(t){u.attrs=t.results,y=u.attrs.concat(u.baseAttrs),y=y.concat(u.entityAttrs),l(),v(),u.readyStatus.content=!0,e.$apply()})},u.checkAreaAccessibility=function(e,t){return"group"===t?["notes","accounts","responsibles","counterparties","transaction_types","portfolios"].indexOf(e.key)!==-1:["notes"].indexOf(e.key)!==-1},r.$watch("columns",function(){u.tabAttrsReady&&(p=r.columns,v(),s())}),r.$watch("filters",function(){u.tabAttrsReady&&(g=r.filters,v(),s())}),r.$watch("grouping",function(){u.tabAttrsReady&&(f=r.grouping,v(),s())});var v=function(){c(u.baseAttrs),c(u.entityAttrs),c(u.attrs)},h=function(){console.log("gModalComponents columns ",p),d(u.baseAttrs),d(u.entityAttrs),d(u.attrs),w()};u.updateAttrs=function(){h(),s()},u.cancel=function(){$("body").removeClass("drag-dialog"),t.cancel()};var b={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var t=!1;this.dragula.on("over",function(e,t,n){$(t).addClass("active"),$(t).on("mouseleave",function(){$(this).removeClass("active")})}),this.dragula.on("drop",function(n,i){$(i).removeClass("active");var o,a=$(n).html();if(console.log("elem111111111111111111111111111111",n),console.log("columns111111111111111111111111111111",p),console.log("grouping111111111111111111111111111111",f),console.log("filters111111111111111111111111111111",g),t=!1,i===document.querySelector("#columnsbag"))for(o=0;o<p.length;o+=1)p[o].name===a&&(t=!0);if(i===document.querySelector("#groupsbag"))for(o=0;o<f.length;o+=1)f[o].name===a&&(t=!0);if(i===document.querySelector("#filtersbag .drop-new-filter"))for(o=0;o<g.length;o+=1)g[o].name===a&&(t=!0);if(!t){var r;if(i===document.querySelector("#columnsbag")){for(r=0;r<y.length;r+=1)y[r].name===a&&p.push(y[r]);v(),s()}if(i===document.querySelector("#groupsbag")){for(r=0;r<y.length;r+=1)y[r].name===a&&f.push(y[r]);v(),s()}if(i===document.querySelector("#filtersbag .drop-new-filter")){for(r=0;r<y.length;r+=1)y[r].name===a&&g.push(y[r]);v(),s()}e.$apply()}e.$apply()}),this.dragula.on("dragend",function(t){e.$apply(),$(t).remove()})},dragula:function(){var e,t=[document.querySelector("#columnsbag"),document.querySelector("#groupsbag"),document.querySelector("#filtersbag .drop-new-filter")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(e=0;e<n.length;e+=1)t.push(n[e]);this.dragula=dragula(t,{copy:!0})}},w=function(){m<p.length?o.columnsWidthGroups(!0):o.columnsWidthGroups(!1)};setTimeout(function(){b.init()},500),u.MABtnVisibility=function(e){return o.checkRestrictedEntityTypesForAM(e)}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":99,"../../services/metaService":119,"../../services/uiService":125}],60:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/report-settings-view.html",link:function(e,t,n){console.log("Report settings component")}}}}()},{}],61:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{},link:function(e,t,i){function o(){console.log("scroll margin decreased"),$(t).find("#mCSB_2_container").css({"margin-right":"8px"})}n.component("groupVerticalScroll","initialized"),$(t).mCustomScrollbar({axis:"y",callbacks:{onInit:o,onBeforeUpdate:o}})}}}}()},{"../../../../../core/services/logService":2}],62:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/fieldResolverService");t.exports=function(){return{restrict:"AE",scope:{filters:"=",externalCallback:"&"},templateUrl:"views/directives/groupTable/sidebar-filter-view.html",link:function(e,t,o){n.component("groupSidebarFilter","initialized"),e.fields={},e.$watchCollection("filters",function(){e.externalCallback();var t=[];e.filters.forEach(function(n){console.log("filter's item ",n),e.fields.hasOwnProperty(n.key)||("mc_field"!=n.value_type&&"field"!=n.value_type||t.push(i.getFields(n.key)),console.log("filter's promises ",t))}),Promise.all(t).then(function(t){console.log("filter's data ",t),t.forEach(function(t){e.fields[t.key]=t.data}),e.$apply()})}),e.openFilterSettings=function(e,t){e(t)},e.toggleFilterState=function(){e.externalCallback()},e.filterChange=function(t){e.externalCallback()},e.selectAll=function(){e.filters.forEach(function(e){e.options.enabled=!0}),e.externalCallback()},e.clearAll=function(){e.filters.forEach(function(e){e.options.query=""}),e.externalCallback()},e.deselectAll=function(){e.filters.forEach(function(e){e.options.enabled=!1}),e.externalCallback()},e.removeFilter=function(t){e.filters=e.filters.map(function(e){if(e.id!==t.id&&e.name!==t.name)return e}).filter(function(e){return!!e}),e.externalCallback()},e.getFilterType=function(e){switch(e){case"field":case"mc_field":return!0;default:return!1}},console.log("filter fields",e.filters)}}}}()},{"../../../../../core/services/logService":2,"../../services/fieldResolverService":109}],63:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/metaService"),o=e("../../services/attributeTypeService"),a=e("../../services/bindCellService");t.exports=function(e){return{restrict:"AE",scope:{items:"=",grouping:"=",externalCallback:"&",columns:"=",itemAdditionsEditorEntityId:"=",isAllSelected:"=",entityType:"="},templateUrl:"views/directives/groupTable/table-body-view.html",link:function(t,r,s){n.component("groupTableBody","initialized"),t.readyStatus={cellsReady:!1};var l=t.entityType,c=[],d=[],u={};c=i.getBaseAttrs(),d=i.getEntityAttrs(l),t.toggleGroupFold=function(e){e.isFolded=!e.isFolded},t.openEntityMenu=function(e,t){e(t)};var p=function(){var e,n=[];for(e=0;e<t.columns.length;e+=1)"field"===t.columns[e].value_type&&n.push(a.findEntities(t.columns[e].key)),30===t.columns[e].value_type&&(console.log("scope.columns[i]",t.columns[e]),n.push(o.getByKey(l,t.columns[e].id)));Promise.all(n).then(function(e){console.log("results",e),e.forEach(function(e){e.key?u[e.key]=e.data:u["classifier_"+e.id]=e}),t.readyStatus.cellsReady=!0})};t.toggleSelectRow=function(e){console.log("item111111111111111111",e),e.selectedRow=!e.selectedRow,t.isAllSelected===!0&&e.selectedRow===!1&&(t.isAllSelected=!1);var n=!0;t.items.forEach(function(e){e.hasOwnProperty("groups")?(!!e.selectedRow==!1&&(n=!1),e.items.forEach(function(e){!!e.selectedRow==!1&&(n=!1)})):!!e.selectedRow==!1&&(n=!1)}),n&&(t.isAllSelected=!0)},t.$watchCollection("columns",function(){t.readyStatus.cellsReady=!1,p()}),t.bindCell=function(e,n){function i(t){e[n.name]==t.id?o=t:t.children.length&&t.children.forEach(i)}if(n.hasOwnProperty("id")){if(30===n.value_type){if(t.readyStatus.cellsReady){var o;return u["classifier_"+n.id].classifiers.forEach(i),o?o.display_name?o.display_name:o.name:""}return'<div class="zh-loader"></div>'}return e[n.name]}var a,r;for(a=0;a<c.length;a+=1)if(c[a].key===n.key)return e[c[a].key];for(r=0;r<d.length;r+=1)if(d[r].key===n.key){if("field"===n.value_type){var s=e[d[r].key];if(t.readyStatus.cellsReady){var l=u[n.key].filter(function(e){return e.id===s})[0];return l?l.display_name?l.display_name:l.name:""}return'<div class="zh-loader"></div>'}if("mc_field"!==n.value_type)return e[d[r].key];if(1==e[d[r].key].length)return"linked with "+e[d[r].key].length+" entity";if(e[d[r].key].length>1)return"linked with "+e[d[r].key].length+" entities"}},t.bindCellTitle=function(e,t){return e[t.key]},t.rowCallback=function(n,i){"true"===localStorage.getItem("entityIsChanged")?e.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:i,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:"Unsaved data will be lost"}}}).then(function(e){"agree"===e.status&&(t.itemAdditionsEditorEntityId=n.id,localStorage.setItem("entityIsChanged",!1))}):(t.itemAdditionsEditorEntityId=n.id,localStorage.setItem("entityIsChanged",!1))},t.getAlign=function(e){switch(e.value_type){case 20:return"cell-right-align";case"float":return"cell-right-align";case 40:return"cell-center-align";default:return""}},t.deleteEntity=function(n,i){e.show({controller:"EntityViewerDeleteDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{entityId:i.id,entityType:t.entityType}}).then(function(e){"agree"===e.status&&t.externalCallback()})},t.editEntity=function(n,i){e.show({controller:"EntityViewerEditDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{parentScope:t,entityId:i.id}}).then(function(e){"agree"===e&&t.externalCallback()})},console.log("Table body component columns ",t.columns)}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":99,"../../services/bindCellService":101,"../../services/metaService":119}],64:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/group-table-shell-view.html",scope:{tabs:"=",entityType:"=",items:"=",filters:"=",columns:"=",columnsWidth:"=",grouping:"=",folding:"=",sorting:"=",itemAdditionsEditorEntityId:"=",itemAdditionsEditorTemplate:"=",itemAdditions:"=",itemAdditionsColumns:"=",itemAdditionsFilters:"=",itemAdditionsSorting:"=",externalGetAdditions:"&",externalCallback:"&",externalAdditionsCallback:"&",externalUpdateItem:"&",externalUpdateItemAdditions:"&",additionsStatus:"="},link:function(e,t,i){n.component("groupTable","initialized"),e.additionsState=!1,$(".app-md-content").addClass("g-table-overflow"),e.$watchCollection("additionsStatus",function(){e.additionsState=!1,(e.additionsStatus.editor||e.additionsStatus.table)&&(e.additionsState=!0)})}}}}()},{"../../../../../core/services/logService":2}],65:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{},link:function(e,t,i){function o(){var e=$(t).parents(".g-table-section").width()+$("md-sidenav").width()-15,n=$(t).offset().top;$(t).find(".mCSB_scrollTools_vertical").css({height:$(t).height()+"px",position:"fixed",top:n+"px",left:e+"px"})}n.component("groupVerticalScroll","initialized"),$(t).mCustomScrollbar({axis:"y",callbacks:{onInit:o,onBeforeUpdate:o}})}}}}()},{"../../../../../core/services/logService":2}],66:[function(e,t,n){!function(){"use strict";t.exports=function(e,t){return{scope:{itemId:"=",template:"=",entityType:"="},restrict:"AE",link:function(n,i,o){var a=e.get(n.template),r=t(a)(n);$(i).append(r),$(i).mCustomScrollbar({axis:"y"})}}}}()},{}],67:[function(e,t,n){!function(){"use strict";t.exports=function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,o){console.log("RESOLVER INSTRUMENT MODAL",o),$(n).on("click",function(t){t.preventDefault(),t.stopPropagation(),e.show({controller:"InstrumentSelectDialogController as vm",templateUrl:"views/instrument-select-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,clickOutsideToClose:!0,locals:{ngModelCtrl:o}}).then(function(e){"agree"===e.status&&(o.$setViewValue(e.data.item.id),o.$render(),console.log("ngModelCtrl",o))}),console.log("START MODAL!")})}}}}()},{}],68:[function(e,t,n){!function(){"use strict";var n=(e("../../../../core/services/logService"),e("../services/metaService")),i=e("../services/layoutService");t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/layout-constructor-field-view.html",scope:{tab:"=",row:"=",column:"="},link:function(e,t,o){function a(){var t;for(t=0;t<e.tab.layout.fields.length;t+=1)e.tab.layout.fields[t].row===e.row&&e.tab.layout.fields[t].column===e.column&&(e.item=e.tab.layout.fields[t],e.backupItem=JSON.parse(JSON.stringify(e.tab.layout.fields[t])))}function r(){var t;for(e.tab.layout.rows=e.tab.layout.rows+1,t=0;t<e.tab.layout.columns;t+=1)e.tab.layout.fields.push({row:e.tab.layout.rows,column:t+1,colspan:1,type:"empty"}),console.log("tab",e.tab)}function s(){var t,n,i,o=[];for(n=1;n<=e.tab.layout.rows;n+=1){for(i=!0,t=0;t<e.tab.layout.fields.length;t+=1)if(e.tab.layout.fields[t].row==n&&"field"===e.tab.layout.fields[t].type){i=!1;break}i&&o.push(n)}l(o)}function l(t){var n,i;for(n=e.tab.layout.rows;n>0;n-=1)for(i=t.length;i>0;i-=1)if(n===t[i]&&n-1===t[i-1]&&n!==t[0]){var o;for(o=0;o<e.tab.layout.fields.length;o+=1)e.tab.layout.fields[o].row==e.tab.layout.rows&&(e.tab.layout.fields.splice(o,1),o-=1);e.tab.layout.rows=e.tab.layout.rows-1}}function c(){var t,n,i,o;for(t=0;t<e.attrs.length;t+=1)if(e.attrs[t].id&&e.item.id)e.attrs[t].id===e.item.id&&(e.item.attribute=e.attrs[t],e.backupItem.attribute=e.attrs[t]);else{for(n=0;n<e.baseAttrs.length;n+=1)e.baseAttrs[n].name===e.item.name&&(e.item.attribute=e.baseAttrs[n],e.backupItem.attribute=e.baseAttrs[n]);for(o=0;o<e.entityAttrs.length;o+=1)e.entityAttrs[o].name===e.item.name&&(e.item.attribute=e.entityAttrs[o],e.backupItem.attribute=e.entityAttrs[o]);if(!e.item.attribute)for(i=0;i<e.layoutAttrs.length;i+=1)e.layoutAttrs[i].name===e.item.name&&(e.item.attribute=e.layoutAttrs[i],e.backupItem.attribute=e.layoutAttrs[i])}}var d=n.getTypeCaptions();e.item={column:e.column,row:e.row,colspan:1,editMode:!1},e.specialOptionTemplate="",a(),e.fieldType=null,e.editMode=!1,e.entityType=e.$parent.vm.entityType,e.attrs=e.$parent.vm.attrs,e.baseAttrs=e.$parent.vm.baseAttrs,e.entityAttrs=e.$parent.vm.entityAttrs,e.layoutAttrs=i.getLayoutAttrs();var u=e.$parent.vm.tabs;e.cancel=function(){e.item.name||e.item.id?(e.item=e.backupItem,e.item.colspan=e.backupItem.colspan):(e.item.attr=null,e.item.colspan=1),e.item.editMode=!1},e.toggleEditMode=function(){var t;for(t=0;t<e.tab.layout.fields.length;t+=1)e.tab.layout.fields[t].editMode=!1;e.item.editMode=!0},e.saveField=function(){var t;for(t=0;t<e.tab.layout.fields.length;t+=1)e.tab.layout.fields[t].row===e.item.row&&e.tab.layout.fields[t].column===e.item.column&&(e.item.attribute.hasOwnProperty("id")?e.tab.layout.fields[t].id=e.item.attribute.id:e.tab.layout.fields[t].name=e.item.attribute.name,
e.tab.layout.fields[t].type="field",e.tab.layout.fields[t].colspan=e.item.colspan,e.tab.layout.fields[t].attribute=e.item.attribute,e.tab.layout.fields[t].row==e.tab.layout.rows&&r());e.item.editMode=!1},e.getCols=function(){var t,n=1,i=[1];for(t=e.column;t<e.tab.layout.columns;t+=1)n+=1,i.push(n);return i},e.changeModel=function(t){e.item.attribute=t},e.deleteField=function(){var t;for(e.item.id=null,e.item.key=null,e.item.attribute=null,e.item.disabled=!1,e.item.options=null,e.item.colspan=1,t=0;t<e.tab.layout.fields.length;t+=1)if(e.tab.layout.fields[t].row==e.item.row&&e.tab.layout.fields[t].column==e.item.column){e.tab.layout.fields[t].id=null,e.tab.layout.fields[t].key=null,e.tab.layout.fields[t].disabled=!1,e.tab.layout.fields[t].colspan=1,e.tab.layout.fields[t].name="",e.tab.layout.fields[t].type="empty",s();break}},c(),e.findAttrsLeft=function(){console.log("executed???"),e.attrs.forEach(function(e){u.forEach(function(t){t.layout.fields.forEach(function(t){"field"===t.type&&e.id===t.id&&(e.disabled=!0)})})}),e.baseAttrs.forEach(function(e){u.forEach(function(t){t.layout.fields.forEach(function(t){"field"===t.type&&e.key===t.attribute.key&&(e.disabled=!0)})})}),e.entityAttrs.forEach(function(e){u.forEach(function(t){t.layout.fields.forEach(function(t){"field"===t.type&&e.key===t.attribute.key&&(e.disabled=!0)})})})},e.bindType=function(){var t;for(t=0;t<d.length;t+=1)if(e.item.attribute.value_type===d[t].value)return d[t].caption_name},e.findSelected=function(e,t){return!(!e||!t||e.join(" ")!==t.join(" "))},e.copyFromValue=function(e){return e.id?JSON.stringify({id:e.id}):JSON.stringify({key:e.key})},e.findStringAttributes=function(){var t,i,o,a=[];for(i=0;i<e.attrs.length;i+=1)10===e.attrs[i].value_type&&a.push(e.attrs[i]);if(n.getEntitiesWithoutBaseAttrsList().indexOf(e.entityType)===-1)for(t=0;t<e.baseAttrs.length;t+=1)10===e.baseAttrs[t].value_type&&a.push(e.baseAttrs[t]);for(o=0;o<e.entityAttrs.length;o+=1)10===e.entityAttrs[o].value_type&&a.push(e.entityAttrs[o]);return a},e.checkForSpecialOptions=function(){if(e.item.attribute){if("Notes"===e.item.attribute.name)return e.specialOptionTemplate="views/attribute-options/notes.html",!0;if(10==e.item.attribute.value_type)return e.specialOptionTemplate="views/attribute-options/string.html",!0;if("field"===e.item.attribute.value_type&&n.getRestrictedEntitiesWithTypeField().indexOf(e.item.attribute.key)===-1)return e.specialOptionTemplate="views/attribute-options/field.html",!0;if(40==e.item.attribute.value_type)return e.specialOptionTemplate="views/attribute-options/date.html",!0;if(20===e.item.attribute.value_type||"float"===e.item.attribute.value_type)return e.specialOptionTemplate="views/attribute-options/number.html",!0;if("decoration"===e.item.attribute.value_type&&"layoutLineWithLabel"===e.item.attribute.key)return e.specialOptionTemplate="views/attribute-options/labeled-line.html",!0}return!1}}}}}()},{"../../../../core/services/logService":2,"../services/layoutService":118,"../services/metaService":119}],69:[function(e,t,n){!function(){"use strict";t.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-link-view.html",link:function(e,t){var n=t.parent().controller();e.focusSection=function(){n.autoFocusContent=!0}}}}}()},{}],70:[function(e,t,n){!function(){"use strict";t.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-toggle-view.html",link:function(e,t){var n=t.parent().controller();e.isOpen=function(){return n.isOpen(e.section)},e.toggle=function(){n.toggleOpen(e.section)}}}}}()},{}],71:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",scope:{},require:"?ngModel",template:'<div class="pick-me-up"><input type="text" value=""></div>',link:function(e,t,n,i){var o=$(t).find("input");setTimeout(function(){i.$modelValue?($(t).parent().addClass("md-input-has-value"),o.pickmeup({date:new Date(i.$modelValue),position:"right",hide_on_select:!0,format:"Y/m/d",change:function(){i.$setViewValue(this.value)}})):o.pickmeup({position:"right",hide_on_select:!0,format:"Y/m/d",change:function(){i.$setViewValue(this.value)}}),e.$watch(function(){i.$modelValue&&o.val(moment(new Date(i.$modelValue)).format("YYYY/MM/DD"))}),e.$apply()},0)}}}}()},{}],72:[function(e,t,n){!function(){"use strict";t.exports=function(e){return function(e,t,n,i){if(console.log("value",e),!e)return"";var o=e.$$unwrapTrustedValue();if(n=parseInt(n,10),!n)return e;if(o.length<=n)return o;if(o=o.substr(0,n),t){var a=o.lastIndexOf(" ");a!=-1&&("."!=o.charAt(a-1)&&","!=o.charAt(a-1)||(a-=1),o=o.substr(0,a))}return o+(i||" ")}}}()},{}],73:[function(e,t,n){!function(){"use strict";t.exports=function(e){return function(t){if(t)return e.trustAsHtml(t.toString())}}}()},{}],74:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(){return window.fetch(o+"accounts/account-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i.configureUrl(o+"accounts/account/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"accounts/account/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e){return window.fetch(o+"accounts/account/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(o+"accounts/account/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},d=function(e){return window.fetch(o+"accounts/account/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getTypeList:a,getList:r,getByKey:s,create:l,update:c,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],75:[function(e,t,n){!function(){"use strict";function n(e){switch(e){case"counterparty":return"counterparties/"+e+"-attribute-type/";case"responsible":return"counterparties/"+e+"-attribute-type/";default:return e+"s/"+e+"-attribute-type/"}}var i=e("../../../../core/services/cookieService"),o=(e("../services/configureRepositoryUrlService"),"/api/v1/"),a=function(e){return"price-history"===e||"currency-history"===e?new Promise(function(e){e({results:[]})}):window.fetch(o+n(e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e,t){return window.fetch(o+n(e)+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(o+n(e),{method:"POST",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e,t,a){return window.fetch(o+n(e)+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(o+n(e)+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(t,n){console.log("data",e),409===e.status&&t({status:"conflict"}),t({status:"success"})})})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],76:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"audit/history/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"audit/history/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"audit/history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"audit/history/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"audit/history/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],77:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"counterparties/counterparty/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"counterparties/counterparty/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"counterparties/counterparty/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"counterparties/counterparty/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"counterparties/counterparty/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],78:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"currencies/currency-history/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"currencies/currency-history/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"currencies/currency-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"currencies/currency-history/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"currencies/currency-history/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],79:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(){return window.fetch(i+"currencies/currency/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e){return window.fetch(i+"currencies/currency/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"currencies/currency/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"currencies/currency/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(i+"currencies/currency/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:o,getByKey:a,create:r,update:s,deleteByKey:l}}()},{"../../../../core/services/cookieService":1}],80:[function(e,t,n){!function(){"use strict";var e=function(){var e;return localStorage.getItem("view")?e=JSON.parse(localStorage.getItem("view")):(e={table:{columns:[{key:"name",options:{styles:{width:108},sort:"ASC"}},{key:"short_name",options:{styles:{width:138},sort:null}},{id:5,options:{styles:{width:120},sort:null}}],filters:[{id:5,options:{query:"russia",enabled:!1}}],folding:!1,grouping:[{id:7,options:{styles:{width:178},sort:"DESC",isFolded:!1}}],sorting:{group:{id:5,key:null,sort:"DESC"},column:{id:null,key:"name",sort:"ASC"}}},tableAdditions:{additionsType:"",foreignEntityId:1,entityType:"transaction",table:{columns:[{key:"transaction_class",options:{styles:{width:108},sort:"ASC"}},{key:"transaction_currency",options:{styles:{width:140},sort:null}}],filters:[],sorting:{column:{key:"transaction_class",sort:"ASC"}}}},tabs:[{id:1,name:"General",layout:{columns:3,rows:2,fields:[{name:"Name",row:1,column:1,colspan:1,type:"field"},{name:"Notes",row:1,column:2,colspan:1,type:"field"},{row:1,column:3,colspan:1,type:"empty"},{row:2,column:1,colspan:1,type:"empty"},{row:2,column:2,colspan:1,type:"empty"},{id:6,row:2,column:3,colspan:1,type:"field"}]}},{id:2,name:"Attributes",layout:{columns:2,rows:1,fields:[{id:1,row:1,column:1,colspan:1,type:"field"},{id:7,row:1,column:2,colspan:1,type:"field"}]}},{id:3,name:"Custom",layout:{columns:1,rows:1,fields:[{name:"Short name",row:1,column:1,colspan:1,type:"field"}]}}]},localStorage.setItem("view",JSON.stringify(e))),new Promise(function(t,n){t(e)})},n=function(e){return new Promise(function(t,n){localStorage.setItem("view",JSON.stringify(e)),t(void 0)})};t.exports={getView:e,save:n}}()},{}],81:[function(e,t,n){!function(){var e=function(e){return new Promise(function(t,n){t([{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:e,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]}])})};t.exports={getList:e}}()},{}],82:[function(e,t,n){!function(){"use strict";var e=function(){return new Promise(function(e,t){e([{value:"1",name:"Skip"},{value:"2",name:"Manual"},{value:"3",name:"Bloomberg"}])})},n=function(){return new Promise(function(e,t){e([{value:"1",name:"% per annum"},{value:"2",name:"per annum"},{value:"3",name:"per quarter"},{value:"4",name:"per month"},{value:"5",name:"per week"},{value:"6",name:"per day"}])})},i=function(){return new Promise(function(e,t){e([{value:"1",name:"Buy"},{value:"2",name:"Sell"},{value:"3",name:"FX Trade"},{value:"4",name:"Instrument PL"},{value:"5",name:"Transaction PL"},{value:"6",name:"Transfer"},{value:"7",name:"FX Transfer"},{value:"8",name:"Cash-Inflow"},{value:"9",name:"Cash-Outflow"}])})};t.exports={getDailyPricingModelChoices:e,getPaymentSizeDetailChoices:n,getTransactionClassList:i}}()},{}],83:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"instruments/instrument/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"instruments/instrument/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/instrument/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"instruments/instrument/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/instrument/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],84:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(){return window.fetch(i+"instruments/instrument-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e){return window.fetch(i+"instruments/instrument-type/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"instruments/instrument-type/",{method:"POST",credentials:"include",
headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"instruments/instrument-type/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(i+"instruments/instrument-type/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:a,create:r,update:s,deleteByKey:l}}()},{"../../../../core/services/cookieService":1}],85:[function(e,t,n){!function(){"use strict";var e=function(){return window.fetch("portal/content/json/menu.json").then(function(e){return e.json()})},n=function(){return[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10}]},i=function(){return["price-history","currency-history"]},o=function(e){var t={portfolio:[{key:"user_code",name:"User code",value_type:10},{key:"accounts",name:"Accounts",value_type:"mc_field"},{key:"responsibles",name:"Responsibles",value_type:"mc_field"},{key:"counterparties",name:"Counterparties",value_type:"mc_field"},{key:"transaction_types",name:"Transaction types",value_type:"mc_field"}],account:[{key:"user_code",name:"User code",value_type:10},{key:"portfolios",name:"Portfolios",value_type:"mc_field"},{key:"type",name:"Type",value_type:"field"},{key:"public_name",name:"Public name",value_type:10}],counterparty:[{key:"user_code",name:"User code",value_type:10},{key:"portfolios",name:"Portfolios",value_type:"mc_field"}],responsible:[{key:"user_code",name:"User code",value_type:10},{key:"portfolios",name:"Portfolios",value_type:"mc_field"}],instrument:[{key:"user_code",name:"User code",value_type:10},{key:"instrument_type",name:"Instrument type",value_type:"field"},{key:"is_active",name:"Is active",value_type:"boolean"},{key:"pricing_currency",name:"Pricing currency",value_type:"field"},{key:"price_multiplier",name:"Price multiplier",value_type:"float"},{key:"accrued_currency",name:"Accrued currency",value_type:"field"},{key:"accrued_multiplier",name:"Accrued multiplier",value_type:"float"},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"payment_size_detail",name:"Payment size detail",value_type:"field"},{key:"default_price",name:"Default price",value_type:"float"},{key:"default_accrued",name:"Default accrued",value_type:"float"},{key:"user_text_1",name:"User text 1",value_type:10},{key:"user_text_2",name:"User text 2",value_type:10},{key:"user_text_3",name:"User text 3",value_type:10}],transaction:[{key:"transaction_code",name:"Transaction Code",value_type:20},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"position_size_with_sign",name:"Position Size with sign",value_type:"float"},{key:"settlement_currency",name:"Settlement currency",value_type:"field"},{key:"cash_consideration",name:"Sash consideration",value_type:"float"},{key:"principal_with_sign",name:"Principal with sign",value_type:"float"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"accounting_date",name:"Accounting date",value_type:40},{key:"cash_date",name:"Cash date",value_type:40},{key:"transaction_date",name:"Transaction date",value_type:40},{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"strategy1_position",name:"Strategy1 position",value_type:"field"},{key:"strategy1_cash",name:"Strategy1 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy2 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy2 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy3 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy3 cash",value_type:"field"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"is_locked",name:"Is locked",value_type:"boolean"},{key:"is_canceled",name:"Is canceled",value_type:"boolean"},{key:"factor",name:"Factor",value_type:"float"},{key:"principal_amount",name:"Principal amount",value_type:"float"},{key:"carry_amount",name:"Carry amount",value_type:"float"},{key:"overheads",name:"overheads",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"}],"currency-history":[{key:"currency",name:"Currency",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"fx_rate",name:"Fx rate",value_type:"float"},{key:"fx_rate_expr",name:"fx_rate_expr",value_type:10}],"price-history":[{key:"instrument",name:"Instrument",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"pricing_policy",name:"Pricing policy",value_type:"field"},{key:"principal_price",name:"Principal price",value_type:"float"},{key:"accrued_price",name:"Accrued price",value_type:"float"},{key:"factor",name:"Factor",value_type:"float"}]};return t[e]},a=function(){return[{value:20,display_name:"Number"},{value:10,display_name:"String"},{value:40,display_name:"Date"},{value:30,display_name:"Classifier"},{value:"decoration",display_name:"Decoration"},{value:"field",display_name:"Field"},{value:"mc_field",display_name:"Multiple choice field"},{value:"boolean",display_name:"Boolean"},{value:"float",display_name:"Float"}]},r=function(){return["daily_pricing_model","payment_size_detail","accrued_currency","pricing_currency"]};t.exports={getMenu:e,getBaseAttrs:n,getEntityAttrs:o,getValueTypes:a,getEntitiesWithoutBaseAttrsList:i,getRestrictedEntitiesWithTypeField:r}}()},{}],86:[function(e,t,n){!function(){"use strict";var e="/api/v1/",n=function(){return window.fetch(e+"notifications/notification/?all=true&type=",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:n}}()},{}],87:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(){return window.fetch(o+"portfolios/portfolio-classifier/node/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"portfolios/portfolio-classifier/node/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(){return window.fetch(o+"portfolios/portfolio-classifier/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e){return window.fetch(o+"portfolios/portfolio-classifier/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(i.configureUrl(o+"portfolios/portfolio/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},d=function(e){return window.fetch(o+"portfolios/portfolio/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},u=function(e){return window.fetch(o+"portfolios/portfolio/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},p=function(e,t){return window.fetch(o+"portfolios/portfolio/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},m=function(e){return window.fetch(o+"portfolios/portfolio/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getClassifierNodeList:a,getClassifierNodeByKey:r,getClassifierList:s,getClassifierByKey:l,getList:c,getByKey:d,create:u,update:p,deleteByKey:m}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],88:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"instruments/price-history/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"instruments/price-history/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/price-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"instruments/price-history/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/price-history/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],89:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(){return window.fetch(i+"instruments/pricing-policy/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e){return window.fetch(i+"instruments/pricing-policy/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"instruments/pricing-policy/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"instruments/pricing-policy/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(i+"instruments/pricing-policy/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:a,create:r,update:s,deleteByKey:l}}()},{"../../../../core/services/cookieService":1}],90:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"counterparties/responsible/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"counterparties/responsible/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"counterparties/responsible/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"counterparties/responsible/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"counterparties/responsible/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],91:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"strategies/strategy3/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"strategies/strategy3/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"strategies/strategy3/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"strategies/strategy3/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"strategies/strategy3/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],92:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"strategies/strategy1/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"strategies/strategy1/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"strategies/strategy1/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"strategies/strategy1/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"strategies/strategy1/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],93:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),o="/api/v1/",a=function(e){return window.fetch(i.configureUrl(o+"strategies/strategy2/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(o+"strategies/strategy2/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"strategies/strategy2/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"strategies/strategy2/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"strategies/strategy2/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:a,getByKey:r,create:s,update:l,deleteByKey:c}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],94:[function(e,t,n){!function(){"use strict";var n=(e("../../../../core/services/cookieService"),e("../services/configureRepositoryUrlService")),i="/api/v1/",o=function(e){return window.fetch(n.configureUrl(i+"transactions/transaction/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e){return window.fetch(i+"transactions/transaction/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"transactions/transaction/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"transactions/transaction/"+e+"/",{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(i+"transactions/transaction/"+e+"/",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:o,getByKey:a,create:r,update:s,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/configureRepositoryUrlService":102}],95:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(e){var t;switch(e){case"portfolio":t="portfolios.portfolio";break;case"account":t="accounts.account";break;case"currency":t="currencies.currency";break;case"instrument":t="instruments.instrument";break;case"counterparty":t="counterparties.counterparty";break;case"responsible":t="counterparties.responsible";break;case"transaction":t="transactions.transaction";break;case"price-history":t="instruments.pricehistory";break;case"currency-history":t="currencies.currencyhistory"}return window.fetch(i+"ui/edit-layout/?content_type="+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},a=function(e,t){return window.fetch(i+"ui/edit-layout/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},r=function(e,t){var o;switch(e){case"portfolio":o="portfolios.portfolio";break;case"account":o="accounts.account";break;case"currency":o="currencies.currency";break;case"instrument":o="instruments.instrument";break;case"counterparty":o="counterparties.counterparty";break;case"responsible":o="counterparties.responsible";break;case"transaction":o="transactions.transaction";break;case"price-history":o="instruments.pricehistory";break;case"currency-history":o="currencies.currencyhistory"}return window.fetch(i+"ui/list-layout/?content_type="+o,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"ui/list-layout/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})};t.exports={getEditLayout:o,updateEditLayout:a,getListLayout:r,updateListLayout:s}}()},{"../../../../core/services/cookieService":1}],96:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",o=function(e){console.log("Method: "+e+". Cannot get data from server")},a=function(e,t){return window.fetch(i+"users/login/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(function(e){return e.json()})["catch"](function(){return o("login"),[]})},r=function(){return window.fetch(i+"users/logout/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(){return window.fetch(i+"users/ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(){return window.fetch(i+"users/protected-ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(){return window.fetch(i+"users/user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},d=function(e){return window.fetch(i+"users/user/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},u=function(){return window.fetch(i+"users/user/me",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},p=function(e,t){return window.fetch(i+"users/user/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},m=function(e,t){return window.fetch(i+"users/user/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},g=function(e){return window.fetch(i+"users/user/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},f=function(){return window.fetch(i+"users/master-user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},y=function(e){return window.fetch(i+"users/master-user/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},v=function(e,t){return window.fetch(i+"users/master-user/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},h=function(e,t){return window.fetch(i+"users/master-user/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},b=function(e){return window.fetch(i+"users/master-user/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},w=function(){return window.fetch(i+"users/member/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},_=function(e){return window.fetch(i+"users/member/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},k=function(e,t){return window.fetch(i+"users/member/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},C=function(e,t){return window.fetch(i+"users/member/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},S=function(e){return window.fetch(i+"users/member/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},T=function(){return window.fetch(i+"users/group/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={login:a,logout:r,ping:s,protectedPing:l,getList:c,getByKey:d,getMe:u,update:p,patch:m,deleteByKey:g,getMasterList:f,getMasterByKey:y,updateMaster:v,patchMaster:h,deleteMasterByKey:b,getMemberList:w,getMemberByKey:_,updateMember:k,patchMember:C,deleteMemberByKey:S,getGroupList:T}}()},{"../../../../core/services/cookieService":1}],97:[function(e,t,n){!function(){t.exports=function(e,t){e.state("app",{url:"",templateUrl:"views/shell-view.html",controller:"ShellController as vm"}).state("app.notifications",{url:"/notifications",templateUrl:"views/notifications-view.html",controller:"NotificationsController as vm"}).state("app.attributesManager",{url:"/attributes/:entityType",templateUrl:"views/attributes-manager-view.html",controller:"AttributesManagerController as vm",params:{prevState:""}}),e.state("app.dashboard",{url:"/",templateUrl:"views/dashboard-view.html",controller:"DashboardController as vm"}),e.state("app.data",{url:"/data","abstract":!0,template:"<div data-ui-view></div>"}).state("app.data.portfolio",{url:"/portfolios",templateUrl:"views/data/data-portfolio-view.html",controller:"DataPortfolioController as vm"}).state("app.data.account",{url:"/accounts",templateUrl:"views/data/data-account-view.html",controller:"DataAccountController as vm"}).state("app.data.counterparty",{url:"/counterparties",templateUrl:"views/data/data-counterparty-view.html",controller:"DataCounterpartyController as vm"}).state("app.data.responsible",{url:"/responsibles",templateUrl:"views/data/data-responsible-view.html",controller:"DataResponsibleController as vm"}).state("app.data.instrument",{url:"/instruments",templateUrl:"views/data/data-instrument-view.html",controller:"DataInstrumentController as vm"}).state("app.data.transaction",{url:"/transactions",templateUrl:"views/data/data-transaction-view.html",controller:"DataTransactionController as vm"}).state("app.data.currency-history",{url:"/currencies",templateUrl:"views/data/data-currency-history-view.html",controller:"DataCurrencyHistoryController as vm"}).state("app.data.price-history",{url:"/pricing",templateUrl:"views/data/data-price-history-view.html",controller:"DataPriceHistoryController as vm"}).state("app.data.pricing",{url:"/pricing",templateUrl:"views/data/data-pricing-view.html",controller:"DataPortfolioController as vm"}).state("app.system",{"abstract":!0,url:"/system",template:"<div data-ui-view></div>"}).state("app.system.audit",{url:"/audit",templateUrl:"views/system/audit-view.html",controller:"AuditController as vm"}),e.state("app.data-constructor",{url:"/layout/:entityType",templateUrl:"views/entity-data-constructor-view.html",controller:"EntityDataConstructorController as vm"}),t.otherwise("/")}}()},{}],98:[function(e,t,n){!function(){var n=e("../repositories/accountRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/accountRepository":74}],99:[function(e,t,n){!function(){"use strict";var n=e("../repositories/attributeTypeRepository"),i=function(e){return n.getList(e)},o=function(e,t){return n.getByKey(e,t)},a=function(e,t){return n.create(e,t)},r=function(e,t,i){return n.update(e,t,i)},s=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/attributeTypeRepository":75}],100:[function(e,t,n){!function(){var n=e("../repositories/auditRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/auditRepository":76}],101:[function(e,t,n){!function(){"use strict";var n=e("../repositories/instrumentRepository"),i=e("../repositories/pricingPolicyRepository"),o=e("../repositories/currencyRepository"),a=e("../repositories/accountRepository"),r=e("../repositories/instrumentTypeRepository"),s={},l=function(e){return new Promise(function(t){if(!s[e])switch(e){case"instrument":return n.getList().then(function(n){s[e]=n.results,t({key:e,data:s[e]})});case"pricing_policy":return i.getList().then(function(n){s[e]=n.results,t({key:e,data:s[e]})});case"currency":return o.getList().then(function(n){s[e]=n.results,t({key:e,data:s[e]})});case"pricing_currency":return o.getList().then(function(n){s[e]=n.results,t({key:e,data:s[e]})});case"accrued_currency":return o.getList().then(function(n){s[e]=n.results,t({key:e,data:s[e]})});case"instrument_type":return r.getList().then(function(n){s[e]=n.results,t({key:e,data:s[e]})});case"type":return a.getTypeList().then(function(n){s[e]=n.results,t({key:e,data:s[e]})})}t({key:e,data:s[e]})})};t.exports={findEntities:l}}()},{"../repositories/accountRepository":74,"../repositories/currencyRepository":79,"../repositories/instrumentRepository":83,"../repositories/instrumentTypeRepository":84,"../repositories/pricingPolicyRepository":89}],102:[function(e,t,n){!function(){"use strict";function e(e,t){if(t){e+="?";var n=[];t.hasOwnProperty("filters")&&(n=Object.keys(t.filters),n.forEach(function(n){if(t.filters[n]){
var i=t.filters[n];"string"==typeof i?e=e+"&"+n+"="+i:i.map(function(t,i){e=e+"&"+n+"="+t})}})),t.hasOwnProperty("sort")&&(e="ASC"===t.sort.direction?e+"&ordering="+t.sort.key:e+"&ordering=-"+t.sort.key),t.hasOwnProperty("page")&&(e=e+"&page="+t.page),console.log("URL------------------",e)}return e}t.exports={configureUrl:e}}()},{}],103:[function(e,t,n){!function(){var n=e("../repositories/counterpartyRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/counterpartyRepository":77}],104:[function(e,t,n){!function(){var n=e("../repositories/currencyHistoryRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/currencyHistoryRepository":78}],105:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/demo/demoPortfolioRepository"),i=function(){return n.getView()},o=function(e){return n.save(e)};t.exports={getView:i,save:o}}()},{"../../repositories/demo/demoPortfolioRepository":80}],106:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/demo/demoTransactionsRepository"),i=function(e){return n.getList(e)};t.exports={getList:i}}()},{"../../repositories/demo/demoTransactionsRepository":81}],107:[function(e,t,n){!function(){"use strict";var n=e("./portfolioService"),i=e("./accountService"),o=e("./responsibleService"),a=e("./counterpartyService"),r=e("./instrumentService"),s=e("./priceHistoryService"),l=(e("./currencyHistoryService"),function(e,t){switch(e){case"portfolio":return n.getByKey(t);case"account":return i.getByKey(t);case"responsible":return o.getByKey(t);case"counterparty":return a.getByKey(t);case"instrument":return r.getByKey(t);case"price-history":return s.getByKey(t);case"currency-history":return s.getByKey(t)}}),c=function(e,t){switch(e){case"portfolio":return t.counterparties=t.counterparties||[],t.accounts=t.accounts||[],t.responsibles=t.responsibles||[],t.transaction_types=t.transaction_types||[],n.create(t);case"account":return t.portfolios=t.portfolios||[],i.create(t);case"responsible":return o.create(t);case"counterparty":return a.create(t);case"instrument":return r.create(t);case"price-history":return s.create(t);case"currency-history":return s.create(t)}},d=function(e,t,l){switch(e){case"portfolio":return n.update(t,l);case"account":return i.update(t,l);case"responsible":return o.update(t,l);case"counterparty":return a.update(t,l);case"instrument":return r.update(t,l);case"price-history":return s.update(t,l);case"currency-history":return s.update(t,l)}},u=function(e,t){switch(e){case"portfolio":return n.deleteByKey(t);case"account":return i.deleteByKey(t);case"responsible":return o.deleteByKey(t);case"counterparty":return a.deleteByKey(t);case"instrument":return r.deleteByKey(t);case"price-history":return s.deleteByKey(t);case"currency-history":return s.deleteByKey(t)}};t.exports={getByKey:l,create:c,update:d,deleteByKey:u}}()},{"./accountService":98,"./counterpartyService":103,"./currencyHistoryService":104,"./instrumentService":117,"./portfolioService":121,"./priceHistoryService":122,"./responsibleService":123}],108:[function(e,t,n){!function(){"use strict";var e=function(e,t){return new Promise(function(n,i){var o,a,r=[];e&&e.length&&(r=e.map(function(e){for(o=0;o<t.length;o+=1)for(a=0;a<e.attributes.length;a+=1)e.attributes[a].attribute_type===t[o].id&&(e.attributes[a].attribute_name=t[o].name,null!==e.attributes[a].classifier?e[t[o].name]=e.attributes[a].classifier:null!==e.attributes[a].value_date?e[t[o].name]=e.attributes[a].value_date:null!==e.attributes[a].value_float?e[t[o].name]=e.attributes[a].value_float:e[t[o].name]=e.attributes[a].value_string);return e})),n(r)})};t.exports={transformItems:e}}()},{}],109:[function(e,t,n){!function(){"use strict";var n=e("../repositories/entityFieldsRepository"),i=e("../repositories/accountRepository"),o=e("../repositories/instrumentRepository"),a=e("../repositories/instrumentTypeRepository"),r=e("../repositories/pricingPolicyRepository"),s=e("../repositories/currencyRepository"),l=e("../repositories/portfolioRepository"),c=e("../repositories/counterpartyRepository"),d=e("../repositories/responsibleRepository"),u=e("../repositories/strategyOneRepository"),p=e("../repositories/strategyTwoRepository"),m=e("../repositories/strategyThreeRepository"),g=function(e){return new Promise(function(t,g){switch(e){case"daily_pricing_model":n.getDailyPricingModelChoices().then(function(e){t({type:"key-value",key:"daily_pricing_model",data:e})});break;case"payment_size_detail":n.getPaymentSizeDetailChoices().then(function(e){t({type:"key-value",key:"payment_size_detail",data:e})});break;case"transaction_class":n.getTransactionClassList().then(function(e){t({type:"key-value",key:"transaction_class",data:e})});break;case"instrument":o.getList().then(function(e){t({type:"id",key:"instrument",data:e.results})});break;case"pricing_policy":r.getList().then(function(e){t({type:"id",key:"pricing_policy",data:e.results})});break;case"instrument_type":a.getList().then(function(e){t({type:"id",key:"instrument_type",data:e.results})});break;case"accrued_currency":s.getList().then(function(e){t({type:"id",key:"accrued_currency",data:e.results})});break;case"pricing_currency":s.getList().then(function(e){t({type:"id",key:"pricing_currency",data:e.results})});break;case"transaction_currency":s.getList().then(function(e){t({type:"id",key:"transaction_currency",data:e.results})});break;case"settlement_currency":s.getList().then(function(e){t({type:"id",key:"settlement_currency",data:e.results})});break;case"currency":s.getList().then(function(e){t({type:"id",key:"currency",data:e.results})});break;case"portfolio":l.getList().then(function(e){t({type:"id",key:"portfolio",data:e.results})});break;case"counterparty":c.getList().then(function(e){t({type:"id",key:"counterparty",data:e.results})});break;case"responsible":d.getList().then(function(e){t({type:"id",key:"responsible",data:e.results})});break;case"type":i.getTypeList().then(function(e){t({type:"id",key:"type",data:e.results})});break;case"account_cash":i.getTypeList().then(function(e){t({type:"id",key:"account_cash",data:e.results})});break;case"account_position":i.getTypeList().then(function(e){t({type:"id",key:"account_position",data:e.results})});break;case"account_interim":i.getTypeList().then(function(e){t({type:"id",key:"account_interim",data:e.results})});break;case"strategy1_position":u.getList().then(function(e){t({type:"id",key:"strategy1_position",data:e.results})});break;case"strategy1_cash":u.getList().then(function(e){t({type:"id",key:"strategy1_cash",data:e.results})});break;case"strategy2_position":p.getList().then(function(e){t({type:"id",key:"strategy2_position",data:e.results})});break;case"strategy2_cash":p.getList().then(function(e){t({type:"id",key:"strategy2_cash",data:e.results})});break;case"strategy3_position":m.getList().then(function(e){t({type:"id",key:"strategy3_position",data:e.results})});break;case"strategy3_cash":m.getList().then(function(e){t({type:"id",key:"strategy3_cash",data:e.results})});break;case"portfolios":l.getList().then(function(e){t({type:"multiple-ids",key:"portfolios",data:e.results})});break;case"counterparties":c.getList().then(function(e){t({type:"multiple-ids",key:"counterparties",data:e.results})});break;case"responsibles":d.getList().then(function(e){t({type:"multiple-ids",key:"responsibles",data:e.results})});break;case"accounts":i.getList().then(function(e){t({type:"multiple-ids",key:"accounts",data:e.results})})}})};t.exports={getFields:g}}()},{"../repositories/accountRepository":74,"../repositories/counterpartyRepository":77,"../repositories/currencyRepository":79,"../repositories/entityFieldsRepository":82,"../repositories/instrumentRepository":83,"../repositories/instrumentTypeRepository":84,"../repositories/portfolioRepository":87,"../repositories/pricingPolicyRepository":89,"../repositories/responsibleRepository":90,"../repositories/strategyOneRepository":91,"../repositories/strategyThreeRepository":92,"../repositories/strategyTwoRepository":93}],110:[function(e,t,n){!function(){"use strict";var e=function(e){var t,n=[];for(t=1;t<=e;t+=1)n.push(t);return n};t.exports={range:e}}()},{}],111:[function(e,t,n){!function(){"use strict";var e=function(e,t){return e};t.exports={setColumns:e}}()},{}],112:[function(e,t,n){!function(){"use strict";var e=function(e,t){if(t.length){var n,i,o,a,r=[],s=!0;for(n=0;n<e.length;n+=1){for(o=e[n],s=!0,i=0;i<t.length;i+=1)a=t[i],a.options||(a.options={enabled:!0,query:""}),a.options.enabled&&a.options.query&&(a.key?o[a.key].toLocaleLowerCase().indexOf(a.options.query.toLocaleLowerCase())==-1&&(s=!1):o[a.name].toLocaleLowerCase().indexOf(a.options.query.toLocaleLowerCase())==-1&&(s=!1));s&&r.push(o)}return r}return e};t.exports={setFilters:e}}()},{}],113:[function(e,t,n){!function(){"use strict";var e=function(e,t){var n;for(n=0;n<e.length;n+=1)e[n].isFolded=t;return e};t.exports={setFolds:e}}()},{}],114:[function(e,t,n){!function(){"use strict";var n=e("./groupingService"),i=e("./filteringService"),o=e("./sortingService"),a=e("./columnsService"),r=e("./foldingService"),s=function(){function e(){this.setItems=function(e){s=e},this.columns=c,this.grouping=d,this.filtering=p,this.folding=u,this.sorting=m,this.projection=function(){return s},this.additions={setItems:function(e){l=e},columns:g,filtering:f,sorting:y,projection:function(){return l}}}var t,s=[],l=[],c={setColumns:function(e){s=a.setColumns(s,e)}},d={setGroups:function(e,t){s=n.setGroups(s,e,t)}},u={setFolds:function(e){s=r.setFolds(s,e)}},p={setFilters:function(e){s=i.setFilters(s,e)}},m={group:{sort:function(e){s=o.group.sort(s,e)}},column:{sort:function(e){l=o.column.sort(s,e)}}},g={setColumns:function(e){l=a.setColumns(l,e)}},f={setFilters:function(e){l=i.setFilters(l,e)}},y={column:{sort:function(e){l=o.column.additions.sort(l,e)}}};return e.getInstance=function(){return t||(t=new e),t},e}();t.exports=s}()},{"./columnsService":111,"./filteringService":112,"./foldingService":113,"./groupingService":115,"./sortingService":116}],115:[function(e,t,n){!function(){var n=e("../metaService"),i=function(e){var t,n=[],i=Object.keys(e);for(t=0;t<i.length;t+=1)n.push(e[i[t]]);return n},o=function(e,t,o){function a(e){return e.classifier?e.classifier:e.value_date?e.value_date:e.value_float?e.value_float:e.value_string}function r(e,t,n){if(e.hasOwnProperty("id"))e.id===n.attribute_type&&v.push({comparePattern:"&["+n.attribute_type+"}-{"+a(n)+"]",key:n.attribute_name,value:a(n)});else for(d=0;d<f.length;d+=1){var i,o=!1;if(e.key===f[d].key){for(i=0;i<v.length;i+=1)v[i].comparePattern.indexOf("&["+f[d].key+"}-{"+t[f[d].key]+"]")!==-1&&(o=!0);o||v.push({comparePattern:"&["+f[d].key+"}-{"+t[f[d].key]+"]",key:f[d].key,value:t[f[d].key]})}}}var s,l,c,d,u=[],p=[],m=[],g=[];n&&(n.getEntitiesWithoutBaseAttrsList().indexOf(o)===-1&&(m=n.getBaseAttrs()),g=n.getEntityAttrs(o));var f=[];f=f.concat(m),f=f.concat(g);var y="",v=[];if(t.length){var h,b;for(s=0;s<e.length;s+=1){for(b=e[s],v=[],y="",l=0;l<t.length;l+=1)if(h=t[l],h.hasOwnProperty("key")){r(h,b);var w=Object.keys(e[s]);for(c=0;c<w.length;c+=1)y.indexOf("&["+h.key+"}-{"+b[h.key]+"]")===-1&&(y=y+"&["+h.key+"}-{"+b[h.key]+"]")}else if(b.hasOwnProperty("attributes"))for(c=0;c<b.attributes.length;c+=1)r(h,b,b.attributes[c]),y.indexOf("&["+h.name+"}-{"+b[h.name]+"]")===-1&&(y=y+"&["+h.name+"}-{"+b[h.name]+"]");u[y]||(u[y]={groups:v,items:[]}),u[y].items.push(b),p=i(u)}return p}return e};t.exports={setGroups:o}}()},{"../metaService":119}],116:[function(e,t,n){!function(){"use strict";function e(e,t){return e.sort(function(e,n){var i=e[t.name].toLowerCase(),o=n[t.name].toLowerCase();return"DESC"===t.sort?i<o?-1:i>o?1:0:"ASC"===t.sort?i>o?-1:i<o?1:0:void 0})}function n(e,t){return e.sort(function(e,n){var i,o;return"number"==typeof e&&(i=e[t.key],o=n[t.key]),"string"==typeof e&&(i=e[t.key].toLowerCase(),o=n[t.key].toLowerCase()),"DESC"===t.sort?i<o?-1:i>o?1:0:"ASC"===t.sort?i>o?-1:i<o?1:0:void 0})}var i=function(e,t){var n,i,o,a;return e[0].groups&&(e=e.sort(function(e,r){for(n=0;n<r.groups.length;n+=1)for(i=0;i<e.groups.length;i+=1)if(r.groups[n].key===t.key||r.groups[n].key===t.name&&e.groups[i].key===t.key||e.groups[i].key===t.name){if(o=e.groups[i].value.toLowerCase(),a=r.groups[n].value.toLowerCase(),"DESC"===t.sort)return o<a?-1:o>a?1:0;if("ASC"===t.sort)return o>a?-1:o<a?1:0}})),e},o=function(t,i){return i.id&&(t=e(t,i)),i.key&&(t=n(t,i)),t},a=function(t,i){var o;if(t[0].groups){if(i.id)for(o=0;o<t.length;o+=1)t[o].items=e(t[o].items,i);if(i.key)for(o=0;o<t.length;o+=1)t[o].items=n(t[o].items,i)}else i.id&&(t=e(t,i)),i.key&&(t=n(t,i));return t};t.exports={group:{sort:i},column:{additions:{sort:o},sort:a}}}()},{}],117:[function(e,t,n){!function(){var n=e("../repositories/instrumentRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/instrumentRepository":83}],118:[function(e,t,n){!function(){"use strict";var e=function(){return[{key:"layoutLine",name:"Line",value_type:"decoration"},{key:"layoutLineWithLabel",name:"Labeled Line",value_type:"decoration"}]};t.exports={getLayoutAttrs:e}}()},{}],119:[function(e,t,n){!function(){var n=e("../repositories/metaRepository"),i=function(){return n.getMenu()},o=function(){return n.getBaseAttrs()},a=function(e){return n.getEntityAttrs(e)},r=function(){return n.getValueTypes()},s=function(){return n.getEntitiesWithoutBaseAttrsList()},l=function(){return n.getRestrictedEntitiesWithTypeField()},c=function(){var e=r().filter(function(e){return"field"!==e.value}),t=e.map(function(e){switch(e.display_name){case"Number":e.caption_name="Whole number";break;case"Float":e.caption_name="Number with decimals";break;case"Field":e.caption_name="Classification";break;case"String":e.caption_name="Text";break;case"Boolean":e.caption_name="True/False";break;case"Decoration":e.caption_name="Decoration";break;default:e.caption_name=e.display_name}return e});return t},d={groupOne:"400px",groupTwo:"600px",groupThree:"300px",groupFour:"450px",groupFive:"200px",newColumnAdded:!1},u=function(e){return"boolean"!=typeof e?d:void(d.newColumnAdded=e)},p=function(e){switch(e){case"portfolio":case"account":case"counterparty":case"responsible":case"instrument":case"transaction":case"strategies":return!0;default:return!1}};t.exports={getMenu:i,getBaseAttrs:o,getEntityAttrs:a,getValueTypes:r,getEntitiesWithoutBaseAttrsList:s,getRestrictedEntitiesWithTypeField:l,getTypeCaptions:c,columnsWidthGroups:u,checkRestrictedEntityTypesForAM:p}}()},{"../repositories/metaRepository":85}],120:[function(e,t,n){!function(){"use strict";var n=e("../repositories/notificationsRepository"),i=function(){return n.getList()};t.exports={getList:i}}()},{"../repositories/notificationsRepository":86}],121:[function(e,t,n){!function(){var n=e("../repositories/portfolioRepository"),i=function(){return n.getClassifierNodeList()},o=function(e){return n.getClassifierNodeByKey(e)},a=function(){return n.getClassifierList()},r=function(e){return n.getClassifierByKey(e)},s=function(e){return n.getList(e)},l=function(e){return n.getByKey(e)},c=function(e){return n.create(e)},d=function(e,t){return n.update(e,t)},u=function(e){return n.deleteByKey(e)};t.exports={getClassifierNodeList:i,getClassifierNodeByKey:o,getClassifierList:a,getClassifierByKey:r,getList:s,getByKey:l,create:c,update:d,deleteByKey:u}}()},{"../repositories/portfolioRepository":87}],122:[function(e,t,n){!function(){var n=e("../repositories/priceHistoryRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/priceHistoryRepository":88}],123:[function(e,t,n){!function(){var n=e("../repositories/responsibleRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/responsibleRepository":90}],124:[function(e,t,n){!function(){var n=e("../repositories/transactionRepository"),i=function(e){return n.getList(e)},o=function(e){return n.getByKey(e)},a=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:o,create:a,update:r,deleteByKey:s}}()},{"../repositories/transactionRepository":94}],125:[function(e,t,n){!function(){"use strict";var n=e("../repositories/uiRepository"),i=function(e){return n.getEditLayout(e)},o=function(e,t){return n.updateEditLayout(e,t)},a=function(e,t){return n.getListLayout(e,t)},r=function(e,t){return n.updateListLayout(e,t)};t.exports={getEditLayout:i,updateEditLayout:o,getListLayout:a,updateListLayout:r}}()},{"../repositories/uiRepository":95}],126:[function(e,t,n){!function(){"use strict";var n=e("../repositories/usersRepository"),i=function(e,t){return n.login(e,t)},o=function(){return n.logout()},a=function(){return n.ping()},r=function(){return n.protectedPing()},s=function(){return n.getList()},l=function(e){return n.getByKey(e)},c=function(){return n.getMe()},d=function(e,t){return n.update(e,t)},u=function(e,t){return n.patch(e,t)},p=function(e){return n.deleteByKey(e)},m=function(){return n.getMasterList()},g=function(e){return n.getMasterByKey(e)},f=function(e,t){return n.updateMaster(e,t)},y=function(e,t){return n.patchMaster(e,t)},v=function(e){return n.deleteMasterByKey(e)},h=function(){return n.getMemberList()},b=function(e){return n.getMemberByKey(e)},w=function(e,t){return n.updateMember(e,t)},_=function(e,t){return n.patchMember(e,t)},k=function(e){return n.deleteMemberByKey(e)},C=function(){return n.getGroupList()};t.exports={login:i,logout:o,ping:a,protectedPing:r,getList:s,getByKey:l,getMe:c,update:d,patch:u,deleteByKey:p,getMasterList:m,getMasterByKey:g,updateMaster:f,patchMaster:y,deleteMasterByKey:v,getMemberList:h,getMemberByKey:b,updateMember:w,patchMember:_,deleteMemberByKey:k,getGroupList:C}}()},{"../repositories/usersRepository":96}],127:[function(e,t,n){"use strict";e("../../forum/scripts/main.js");var i=angular.module("portal",["ngAria","ngMaterial","ngMessages","ngMdIcons","ngResource","ngSanitize","ui.router","mdPickers","bw.paging","io.dennis.contextmenu",angularDragula(angular),"forum"]);i.config(["$stateProvider","$urlRouterProvider",e("./app/router.js")]),i.config(["$mdDateLocaleProvider",function(e){e.formatDate=function(e){return moment(e).format("YYYY-MM-DD")}}]),i.run(function(){console.log("App initialized"),localStorage.setItem("entityIsChanged",!1)}),i.controller("ShellController",["$scope","$state","$rootScope","$mdDialog",e("./app/controllers/shellController")]),i.controller("SideNavController",["$scope",e("./app/controllers/sideNavController")]),i.controller("DashboardController",["$scope",e("./app/controllers/dashboardController")]),i.controller("NotificationsController",["$scope",e("./app/controllers/notificationsController")]),i.controller("AttributesManagerController",["$scope","$state","$stateParams","$mdDialog",e("./app/controllers/attributesManagerController")]),i.controller("AttributesManagerEditDialogController",["$scope","$mdDialog","attribute",e("./app/controllers/attributesManagerEditDialogController")]),i.controller("AttributesManagerAddDialogController",["$scope","$mdDialog",e("./app/controllers/attributesManagerAddDialogController")]),i.controller("ClassificationEditorDialogController",["$scope","$mdDialog","data",e("./app/controllers/classificationEditorDialogController")]),i.controller("EntityViewerController",["$scope","$mdDialog","$mdMedia",e("./app/controllers/entityViewer/entityViewerController")]),i.controller("EntityViewerAddDialogController",["$scope","$mdDialog","parentScope","$state",e("./app/controllers/entityViewer/entityViewerAddDialogController")]),i.controller("EntityViewerEditDialogController",["$scope","$mdDialog","parentScope","entityId","$state",e("./app/controllers/entityViewer/entityViewerEditDialogController")]),i.controller("EntityViewerDeleteDialogController",["$scope","$mdDialog","entityId","entityType",e("./app/controllers/entityViewer/entityViewerDeleteDialogController")]),i.controller("DataPortfolioController",["$scope",e("./app/controllers/data/dataPortfolioController")]),i.controller("DataAccountController",["$scope",e("./app/controllers/data/dataAccountController")]),i.controller("DataCounterpartyController",["$scope",e("./app/controllers/data/dataCounterpartyController")]),i.controller("DataResponsibleController",["$scope",e("./app/controllers/data/dataResponsibleController")]),i.controller("DataInstrumentController",["$scope",e("./app/controllers/data/dataInstrumentController")]),i.controller("DataTransactionController",["$scope",e("./app/controllers/data/dataTransactionController")]),i.controller("DataPriceHistoryController",["$scope",e("./app/controllers/data/dataPriceHistoryController")]),i.controller("DataCurrencyHistoryController",["$scope",e("./app/controllers/data/dataCurrencyHistoryController")]),i.controller("EntityDataConstructorController",["$scope","$stateParams","$state","$mdDialog",e("./app/controllers/entityDataConstructorController")]),i.controller("AdditionsEditorEntityEditController",["$scope","$state","$mdDialog",e("./app/controllers/additionsEditorEntityEditController")]),i.controller("WarningDialogController",["$scope","$mdDialog","warning",e("./app/controllers/warningDialogController")]),i.controller("InfoDialogController",["$scope","$mdDialog","info",e("./app/controllers/infoDialogController")]),i.controller("InstrumentSelectDialogController",["$scope","$mdDialog",e("./app/controllers/instrumentSelectDialogController")]),i.controller("ClassifierSelectDialogController",["$scope","$mdDialog","data",e("./app/controllers/classifierSelectDialogController")]),i.controller("AuditController",["$scope",e("./app/controllers/auditController")]),i.directive("menuToggle",[e("./app/directives/menuToggleDirective")]),i.directive("menuLink",[e("./app/directives/menuLinkDirective")]),i.directive("bindFieldControl",[e("./app/directives/bindFieldControlDirective")]),i.directive("layoutConstructorField",[e("./app/directives/layoutConstructorFieldDirective")]),i.directive("addTabEc",["$compile",e("./app/directives/addTabEcDirective")]),i.directive("groupTable",[e("./app/directives/groupTable/gTableComponent")]),i.directive("groupTableBody",["$mdDialog",e("./app/directives/groupTable/gTableBodyComponent")]),i.directive("groupSidebarFilter",[e("./app/directives/groupTable/gSidebarFilterComponent")]),i.directive("groupReportSettings",[e("./app/directives/groupTable/gReportSettingsComponent")]),i.directive("groupGrouping",["$mdDialog",e("./app/directives/groupTable/gGroupingComponent")]),i.directive("groupColumns",[e("./app/directives/groupTable/gColumnsComponent")]),i.directive("groupClipboardHandler",[e("./app/directives/groupTable/gClipboardHandlerComponent")]),i.directive("groupColumnResizer",[e("./app/directives/groupTable/gColumnResizerComponent")]),i.directive("gDialogDraggable",[e("./app/directives/groupTable/gDialogDraggableComponent")]),i.directive("groupHeightAligner",[e("./app/directives/groupTable/gHeightAlignerComponent")]),i.directive("groupVerticalScroll",[e("./app/directives/groupTable/gVerticalScrollComponent")]),i.directive("groupHorizontalScroll",[e("./app/directives/groupTable/gHorizontalScrollComponent")]),i.directive("groupSecondVerticalScroll",[e("./app/directives/groupTable/gSecondVerticalScrollComponent")]),i.directive("groupEditorBinder",["$templateCache","$compile",e("./app/directives/groupTable/groupEditorBinderComponent")]),i.directive("groupColumnInitWidth",[e("./app/directives/groupTable/gColumnInitWidthComponent.js")]),i.controller("gModalController",["$scope","$mdDialog","parentScope","callback",e("./app/directives/groupTable/gModalComponent")]),i.directive("evFieldResolver",[e("./app/directives/entityViewerFieldResolverDirective")]),i.directive("floatNumbers",[e("./app/directives/floatNumbersDirective")]),i.directive("instrumentModalResolver",["$mdDialog",e("./app/directives/instrumentModalResolverDirective")]),i.directive("classifierModalResolver",["$mdDialog",e("./app/directives/classifierModalResolverDirective")]),i.directive("zhDatePicker",["$mdDialog",e("./app/directives/zhDatePickerDirective")]),i.filter("trustAsHtml",["$sce",e("./app/filters/trustAsHtmlFilter")]),i.filter("strLimit",["$filter",e("./app/filters/strLimitFilter")]),i.directive("ngRightClick",["$parse",function(e){return function(t,n,i){var o=e(i.ngRightClick);n.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),o(t,{$event:e})})})}}]),e("./templates.min.js")},{"../../forum/scripts/main.js":17,"./app/controllers/additionsEditorEntityEditController":19,"./app/controllers/attributesManagerAddDialogController":20,"./app/controllers/attributesManagerController":21,"./app/controllers/attributesManagerEditDialogController":22,"./app/controllers/auditController":23,"./app/controllers/classificationEditorDialogController":24,"./app/controllers/classifierSelectDialogController":25,"./app/controllers/dashboardController":26,"./app/controllers/data/dataAccountController":27,"./app/controllers/data/dataCounterpartyController":28,"./app/controllers/data/dataCurrencyHistoryController":29,"./app/controllers/data/dataInstrumentController":30,"./app/controllers/data/dataPortfolioController":31,"./app/controllers/data/dataPriceHistoryController":32,"./app/controllers/data/dataResponsibleController":33,"./app/controllers/data/dataTransactionController":34,"./app/controllers/entityDataConstructorController":35,"./app/controllers/entityViewer/entityViewerAddDialogController":36,"./app/controllers/entityViewer/entityViewerController":37,"./app/controllers/entityViewer/entityViewerDeleteDialogController":38,"./app/controllers/entityViewer/entityViewerEditDialogController":39,"./app/controllers/infoDialogController":40,"./app/controllers/instrumentSelectDialogController":41,"./app/controllers/notificationsController":42,"./app/controllers/shellController":43,"./app/controllers/sideNavController":44,"./app/controllers/warningDialogController":45,"./app/directives/addTabEcDirective":46,"./app/directives/bindFieldControlDirective":47,"./app/directives/classifierModalResolverDirective":48,"./app/directives/entityViewerFieldResolverDirective":49,"./app/directives/floatNumbersDirective":50,"./app/directives/groupTable/gClipboardHandlerComponent":51,"./app/directives/groupTable/gColumnInitWidthComponent.js":52,"./app/directives/groupTable/gColumnResizerComponent":53,"./app/directives/groupTable/gColumnsComponent":54,"./app/directives/groupTable/gDialogDraggableComponent":55,"./app/directives/groupTable/gGroupingComponent":56,"./app/directives/groupTable/gHeightAlignerComponent":57,"./app/directives/groupTable/gHorizontalScrollComponent":58,"./app/directives/groupTable/gModalComponent":59,"./app/directives/groupTable/gReportSettingsComponent":60,"./app/directives/groupTable/gSecondVerticalScrollComponent":61,"./app/directives/groupTable/gSidebarFilterComponent":62,"./app/directives/groupTable/gTableBodyComponent":63,"./app/directives/groupTable/gTableComponent":64,"./app/directives/groupTable/gVerticalScrollComponent":65,"./app/directives/groupTable/groupEditorBinderComponent":66,"./app/directives/instrumentModalResolverDirective":67,"./app/directives/layoutConstructorFieldDirective":68,"./app/directives/menuLinkDirective":69,"./app/directives/menuToggleDirective":70,"./app/directives/zhDatePickerDirective":71,"./app/filters/strLimitFilter":72,"./app/filters/trustAsHtmlFilter":73,"./app/router.js":97,"./templates.min.js":128}],128:[function(e,t,n){!function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/additions-editor-view.html",'<div data-ng-controller="AdditionsEditorEntityEditController as vm"><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field {{field.attribute[\'value_type\'] === \'decoration\' ? \'decoration-label-line\' : \'\'}}" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab></md-tabs><div layout="row"><md-button ng-click="vm.editLayout()" class="md-raised md-primary" style="margin-left: 27px; height: 36px">Edit Form</md-button><md-button ng-click="vm.save()" style="margin-right:20px; margin-bottom: 80px" class="md-raised">Save</md-button></div></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-manager-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Attribute manager</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="row"><md-input-container class="md-block" flex-gt-sm><label>Attribute name</label><input data-ng-model="vm.attribute.name"></md-input-container><div data-ng-if="vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']" disabled="disabled"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div><div data-ng-if="!vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attributes-manager-view.html",'<div class="attributes-manager-view"><!--<md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addAttribute($event)">--><!--<ng-md-icon icon="add"></ng-md-icon>--><!--</md-button>--><div><h2 class="am-header"><span data-ng-bind="vm.entityType"></span><ng-md-icon icon="keyboard_arrow_right"></ng-md-icon>MANAGE ATTRIBUTES</h2></div><div layout="row" layout-align="start center"><md-button class="md-raised" data-ui-sref="app.data-constructor({entityType: vm.entityType})">RETURN TO FORM EDITOR</md-button><md-button class="md-raised md-primary" data-ng-click="vm.addAttribute($event)">ADD NEW</md-button></div><div data-ng-if="vm.attrs.length"><md-card data-ng-repeat="item in vm.attrs" class="am-attr-card"><div><b data-ng-bind="item.name"></b> (<span data-ng-bind="vm.bindType(item)"></span>)<div class="am-attr-misc"><md-button data-ng-if="item[\'value_type\'] === 30" class="am-attr-btn" data-ng-click="vm.editTreeAttr(item, $event)"><ng-md-icon icon="format_align_right"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.editAttr(item, $event)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.deleteAttr(item, $event)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!vm.attrs.length"><!-- <div layout="row" layout-sm="column" layout-align="space-around">\n            <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n        </div> --><div layout="row" class="add-more-tip" layout-sm="column" layout-align="center center"><h1>You could add new user attributes here</h1></div></div></div>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/classification-editor-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="classifier-editor-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Classifier editor</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="row"><md-button data-ng-click="vm.createNode()">Add node</md-button><md-button data-ng-click="vm.renameNode()">Rename node</md-button><md-button data-ng-click="vm.deleteNode()">Delete node</md-button></div><div layout="row"><div id="jstree_demo" style="width: 100%; overflow: hidden"></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/classifier-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="classifier-select-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Select classifier</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="row"><div id="jstree_demo" style="width: 100%; overflow: hidden"></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dashboard-view.html","dashboard!")}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-data-constructor-view.html",'<div class="entity-constructor"><div data-ng-if="vm.readyStatus.constructor" class="ec-tabs-holder" data-add-tab-ec data-tabs="vm.tabs"><h1 class="ec-breadcrumbs"><span class="ec-entity-type">{{vm.entityType}} ></span> INPUT FORM EDITOR</h1><md-tabs md-border-bottom md-dynamic-height><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><div data-ng-if="!tab.editState"><span class="ec-tab-item-name">{{tab.name}}</span><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.deleteTab(tab)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div><div data-ng-if="tab.editState"><md-input-container class="ec-tab-item-edit"><label>Tab name</label><input ng-model="tab.captionName"></md-input-container><md-button class="ec-tab-btn" data-ng-click="vm.saveEditedTab(tab)"><ng-md-icon icon="save"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab, \'back\', $index)"><ng-md-icon icon="cancel"></ng-md-icon></md-button></div></md-tab-label><md-tab-body><div class="ec-md-content ec-layout-tab"><div class="ec-layout-box"><span class="select-layout-caption">Select layout</span><md-button class="{{tab.layout.columns === item ? \'active\' : \'\' }} ec-layout-btn" data-ng-click="vm.setLayoutColumns(tab, item, $event)" data-ng-repeat="item in vm.boxColumns"><ng-md-icon icon="stop" data-ng-repeat="icon in vm.range(item)"></ng-md-icon></md-button></div><div class="ec-layout"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div data-ng-repeat="column in vm.range(tab.layout.columns)" flex="{{vm.bindFlex(tab, row, column)}}" data-ng-if="vm.checkColspan(tab, row, column)"><layout-constructor-field tab="tab" row="row" column="column"></layout-constructor-field></div></div></div></div></md-tab-body></md-tab></md-tabs><div layout="row" layout-align="space-between center"><div><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary manage-attrs-btn" data-ui-sref="app.attributesManager({entityType: vm.entityType})">Manage attributes</md-button></div><div style="padding-right: 10px"><md-button ng-click="vm.cancel()" class="md-raised">Cancel</md-button><md-button ng-click="vm.saveLayout()" class="md-raised">Save & Return</md-button></div></div></div><div data-ng-if="!vm.readyStatus.constructor"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="120"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/info-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.info.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>{{vm.info.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><!--<md-button ng-click="vm.cancel()">--><!--Cancel--><!--</md-button>--><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/instrument-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-select-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Search instrument</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="row"><div><md-input-container class="md-block"><label>User code</label><input data-ng-model="vm.search[\'user_code\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container><md-input-container class="md-block bind-field-input"><label>User text 1</label><input data-ng-model="vm.search[\'user_text_1\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></div><div><md-input-container class="md-block"><label>Name</label><input data-ng-model="vm.search[\'name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container><md-input-container class="md-block bind-field-input"><label>User text 2</label><input data-ng-model="vm.search[\'user_text_2\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></div><div><md-input-container class="md-block"><label>Short name</label><input data-ng-model="vm.search[\'short_name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container><md-input-container class="md-block bind-field-input"><label>User text 3</label><input data-ng-model="vm.search[\'user_text_3\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></div></div><div class="instrument-table-results"><div layout="column"><div layout="row" class="instrument-table-thead"><div flex="33">User code</div><div flex="33">Name</div><div flex="33">Short name</div></div><div layout="column" class="instrument-table-body"><div layout="row" data-ng-repeat="item in vm.instruments" class="{{item.active ? \'active\' : \'\'}} instrument-table-row" data-ng-click="vm.selectRow(item)"><div flex="33" data-ng-bind="item[\'user_code\']"></div><div flex="33" data-ng-bind="item[\'name\']"></div><div flex="33" data-ng-bind="item[\'short_name\']"></div></div></div></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/notifications-view.html",'<div class="notifications-view"><div data-ng-if="vm.notifications.length"><md-card class="nf-head-card"><div layout="row"><div flex="15">Date</div><div flex="10">From</div><div flex="75">Notification</div></div></md-card><md-card data-ng-repeat="item in vm.notifications"><div layout="row"><div flex="15">{{item[\'create_date\'] | date:\'dd/MM/yyyy HH:mm\'}}</div><div flex="10">System</div><div flex="75">{{item.message}}</div></div></md-card></div><div data-ng-if="!vm.notifications.length"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/shell-view.html",'<div layout="row" class="min-height"><div layout="row" class="sidenav-wrapper" data-ng-controller="SideNavController as vm" data-ng-include="\'views/side-nav-view.html\'"></div><div layout="column" class="relative" layout-fill role="main"><md-toolbar ng-show="!showSearch" class="header" layout="columns"><div class="md-toolbar-tools" layout="start center"><h2 data-ng-if="vm.currentLocation().length > 0" data-ng-bind="vm.currentLocation()"></h2><md-button class="header-buttons save-layout-btn">Save layout</md-button><md-button class="header-buttons header-add-new-btn">Add new</md-button></div><div class="md-toolbar-tools" layout-align="end end"><div class="header-misc" layout="row"><md-button ng-click="toggleSidenav(\'left\')" hide-gt-md aria-label="Menu"><ng-md-icon icon="menu"></ng-md-icon></md-button><md-button data-ui-sref="app.notifications" aria-label="Notifications"><ng-md-icon icon="mail_outline"></ng-md-icon></md-button><md-button data-ui-sref="app.notifications" aria-label="Notifications"><ng-md-icon icon="flag"></ng-md-icon></md-button><div class="header-profile"><ng-md-icon icon="account_circle" size="48"></ng-md-icon><span class="header-profile-name" data-ng-bind="vm.user.username"></span></div></div><!--<a href="#" data-ng-click="vm.logout()">Log out</a>--></div></md-toolbar><md-content flex md-scroll-y class="app-md-content"><div data-ui-view class="shell-view min-height"></div></md-content></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/side-nav-view.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z1" md-component-id="left" md-is-locked-open="$mdMedia(\'gt-sm\')"><md-toolbar md-scroll-shrink><div class="md-toolbar-tools"><img src="portal/content/img/finmars_logo.png" alt="" height="40" style="margin: 0 auto"></div></md-toolbar><md-content flex role="navigation"><ul class="side-menu"><li data-ng-repeat="section in vm.sections" class="parent-list-item" data-ng-class="{\'parentActive\' : vm.isSectionSelected(section)}"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul><md-button hide-gt-md aria-label="resize" class="to-small-btn fab"><ng-md-icon icon="chevron_left"></ng-md-icon></md-button></md-content></md-sidenav>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/warning-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.warning.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>{{vm.warning.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/date.html",'<div data-ng-if="item"><md-checkbox data-ng-model="item.options.dateToday" aria-label="checkbox">T</md-checkbox><md-checkbox data-ng-model="item.options.dateTodayPlus" aria-label="checkbox">T + 1</md-checkbox><md-checkbox data-ng-model="item.options.dateTodayMinus" aria-label="checkbox">T - 1</md-checkbox></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/field.html","<div data-ng-if=\"item\"><md-input-container class=\"md-block\"><label>Display fields in list</label><md-select ng-model=\"item.options.fieldsList\"><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container><md-input-container class=\"md-block\"><label>Display fields on form</label><md-select ng-model=\"item.options.fieldsForm\"><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container></div>")}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/labeled-line.html",'<div><md-input-container class="md-block"><label>Label text</label><input data-ng-model="item.options.labelText"></md-input-container></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/notes.html",'<div><md-input-container class="md-block"><label>Row count</label><input data-ng-model="item.options.rowCount" type="number"></md-input-container><md-input-container class="md-block" flex-gt-sm><label>Frame</label><md-select ng-model="item.options.frame"><md-option value="0">No border</md-option><md-option value="1">Border</md-option></md-select></md-input-container></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/number.html",'<div><md-checkbox data-ng-model="item.options.onlyPositive" aria-label="checkbox">Only positive</md-checkbox></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/string.html",'<div><md-input-container class="md-block"><label>Copy text from</label><md-select ng-model="item.options.copyFrom"><md-option data-ng-repeat="attr in findStringAttributes()" ng-value="copyFromValue(attr)">{{attr.name}}</md-option></md-select></md-input-container><md-checkbox data-ng-model="item.options.notNull" aria-label="checkbox">Not null</md-checkbox></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-account-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-counterparty-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-currency-history-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-instrument-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-portfolio-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-price-history-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-responsible-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-transaction-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/bind-field-control-view.html",'<div><div data-ng-if="fieldType[\'display_name\'] === \'Number\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" type="number" data-ng-if="!item.options.onlyPositive"> <input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" type="number" min="0" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'String\'"><div data-ng-if="getModelKey() === \'notes\' "><md-input-container class="md-block textarea-bind-field"><label data-ng-bind="getName()"></label><textarea data-ng-change="changeWatcher()" class="{{item.options.frame == 1 ? \'bordered\' : \'\' }}" data-ng-model="entity[getModelKey()]" cols="30" rows="{{item.options.rowCount}}"></textarea></md-input-container></div><div data-ng-if="getModelKey() !== \'notes\' "><md-input-container class="md-block bind-field-input {{item.options.copyFrom ? \'with-button\' : \'\'}}"><label data-ng-bind="getName()"></label><input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]"><md-button data-ng-if="item.options.copyFrom" class="bf-copy-btn" data-ng-click="copyFromField(item.options.copyFrom)"><ng-md-icon icon="content_copy"></ng-md-icon></md-button></md-input-container></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Float\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" data-float-numbers data-ng-if="!item.options.onlyPositive"> <input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" data-float-numbers data-only-positive="true" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Field\'"><div data-ev-field-resolver data-item="item" data-entity="entity"></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Multiple choice field\'"><div data-ev-field-resolver data-item="item" data-entity="entity"></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Date\'" class="field-date-pick"><!-- <label data-ng-bind="getName()"></label> --><md-input-container class="field-date-pick-holder"><label data-ng-bind="getName()"></label><zh-date-picker data-ng-change="changeWatcher()" ng-model="entity[getModelKey()]"></zh-date-picker><!--<mdp-date-picker mdp-placeholder="Enter date" ng-model="entity[getModelKey()]" mdp-format="YYYY/MM/DD" data-ng-change="dateFormatter()"></mdp-date-picker>--><!--<md-datepicker ng-model="entity[getModelKey()]" md-placeholder="Enter date" data-ng-change="dateFormatter()"></md-datepicker>--><div class="date-pick-buttons-block"><md-button data-ng-if="item.options.dateToday" data-ng-click="setDateToday()">T</md-button><md-button data-ng-if="item.options.dateTodayPlus" data-ng-click="setDatePlus()">T + 1</md-button><md-button data-ng-if="item.options.dateTodayMinus" data-ng-click="setDateMinus()">T - 1</md-button></div></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Boolean\'"><md-checkbox data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" aria-label="checkbox"><label data-ng-bind="getName()"></label></md-checkbox></div><div data-ng-if="fieldType[\'display_name\'] === \'Classifier\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="entity[getModelKey()]" data-classifier-modal-resolver data-classifier-attr="item" data-ng-change="changeClassifier()" md-container-class="h-classifier-select" data-entity-type="entityType"><md-option ng-value="node.id" selected="selected">{{node.name}}</md-option></md-select></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Decoration\'"><span class="ec-decoration line" data-ng-if="!item.options.labelText"></span> <span class="ec-decoration labeled" data-ng-if="item.options.labelText"><span class="w-rp" data-ng-bind="item.options.labelText"></span></span></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/layout-constructor-field-view.html",'<div><div data-ng-if="!item.editMode"><div data-ng-if="item.attribute"><md-card class="ec-attr-card"><div layout="row"><p class="name-holder" flex="60"><b><span data-ng-bind="item.attribute.name"></span></b> (<span data-ng-bind="bindType()"></span>)</p><div class="options-holder" flex="40"><md-button aria-label="delete attribute" data-ng-click="deleteField()"><ng-md-icon icon="delete"></ng-md-icon></md-button><md-button aria-label="edit attribute" data-ng-click="toggleEditMode()"><ng-md-icon icon="mode_edit"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!item.attribute"><md-card class="ec-attr-card"><md-button aria-label="add field" data-ng-click="toggleEditMode()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button></md-card></div></div><div data-ng-if="item.editMode"><md-card class="ec-attr-card {{item.editMode ? \'active\' : \'\'}}"><md-input-container class="md-block" flex-gt-sm><label>Please select Element</label><!--{{item.attribute}}--><md-select ng-model="item.attribute" ng-change="changeModel(item.attribute)" ng-focus="findAttrsLeft()"><md-optgroup label="System"><md-option ng-repeat="attr in baseAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}}</md-option><md-option ng-repeat="attr in entityAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}}</md-option></md-optgroup><!--<md-optgroup label="Specific">--><!--<md-option ng-repeat="attr in entityAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}">--><!--&lt;!&ndash;{{attr}}&ndash;&gt;--><!--{{attr.name}}--><!--</md-option>                        --><!--</md-optgroup>--><md-optgroup label="User attributes"><md-option ng-repeat="attr in attrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}}</md-option></md-optgroup><md-optgroup label="Layout"><md-option ng-repeat="attr in layoutAttrs" ng-value="attr">{{attr.name}}</md-option></md-optgroup></md-select></md-input-container><md-input-container class="md-block" flex-gt-sm><label>Colspan</label><md-select ng-model="item.colspan"><md-option ng-repeat="colspan in getCols()" value="{{colspan}}">Fit {{colspan}} column</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Field name</label><input data-ng-model="item.options.fieldName"></md-input-container><div data-ng-if="checkForSpecialOptions()"><div data-ng-include="specialOptionTemplate"></div></div><md-button aria-label="cancel" data-ng-click="cancel()">Cancel</md-button><md-button class="ec-field-btn {{item.attribute ? \'\' : \'disabled\'}}" aria-label="save layout" data-ng-click="saveField()"><span>Ok</span></md-button></md-card></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/menu-link-view.html",'<md-button ui-sref-active="active" class="sidemenu-btn" ui-sref="{{section.state}}" ng-click="focusSection()">{{section.title}} <span class="md-visually-hidden" data-ng-if="isSelected()">current page</span></md-button>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/menu-toggle-view.html",'<md-button class="md-button-toggle sidemenu-btn" ng-click="toggle()" aria-controls="side-menu-{{section.title}}" flex layout="row" aria-expanded="{{isOpen()}}">{{section.title}}<ng-md-icon icon="expand_more" class="dropdown-icon" data-ng-if="!isOpen()"></ng-md-icon><ng-md-icon icon="expand_less" class="dropdown-icon" data-ng-if="isOpen()"></ng-md-icon><!--<span aria-hidden="true" class="pull-right fa fa-chevron-down md-toggle-icon" data-ng-class="{\'toggled\' : isOpen()}"></span>--></md-button><ul data-ng-show="isOpen()" id="side-menu-{{section.title}}" class="menu-toggle-list"><li data-ng-repeat="page in section.pages"><menu-link section="page"></menu-link></li></ul>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/entity-viewer-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="add-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'create\'"><h2>Add {{vm.entityType}}</h2><span flex></span></div><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'update\'"><h2>Edit {{vm.entityType}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.checkReadyStatus()"><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field {{field.attribute[\'value_type\'] === \'decoration\' ? \'decoration-label-line\' : \'\'}}" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab><md-tab label="Permissions" data-ng-if="vm.checkPermissions()"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="Object permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div>User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="15" layout-align="space-between center"><div flex="50">Manage</div><div flex="50">Change</div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="15" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><div><md-button ng-click="vm.editLayout()" class="md-raised md-primary">Edit Form</md-button></div><div><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.save()" style="margin-right:20px"><span data-ng-if="vm.evAction === \'create\'">Add </span><span data-ng-if="vm.evAction === \'update\'">Save</span></md-button></div></md-dialog-actions></md-dialog>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="delete-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Delete {{vm.displayCaption()}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>Are you sure to delete this <b>{{vm.displayCaption()}}?</b></p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.delete()" style="margin-right:20px">Delete</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/entity-viewer-view.html",'<div data-ng-controller="EntityViewerController as vm"><md-button aria-label="add entity" class="md-fab md-fab-bottom-right" data-ng-click="vm.addEntity($event)"><ng-md-icon icon="add"></ng-md-icon></md-button><div class="lock-size g-table-dial" layout="row" layout-align="center center"><md-fab-speed-dial md-direction="up" md-open="false" class="md-scale"><md-fab-trigger><md-button aria-label="menu" class="md-fab" data-ng-if="vm.checkAdditionStatus()"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button aria-label="menu" class="md-fab" data-ng-if="!vm.checkAdditionStatus()" data-ng-click="vm.hideAdditions()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></md-fab-trigger><md-fab-actions><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openDataViewPanel()"><ng-md-icon icon="work"></ng-md-icon><md-tooltip md-direction="right">Open data view panel</md-tooltip></md-button><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openEditorViewPanel()"><ng-md-icon icon="view_stream"></ng-md-icon><md-tooltip md-direction="right">Open editor split panel</md-tooltip></md-button></md-fab-actions></md-fab-speed-dial></div><div data-ng-if="vm.tableIsReady" class="g-group-table-holder"><group-table entity-type="vm.entityType" items="vm.groupTableService.projection()" columns="vm.columns" columns-width="vm.columnsWidth" filters="vm.filters" grouping="vm.grouping" folding="vm.folding" sorting="vm.sorting" item-additions-editor-entity-id="vm.editorEntityId" item-additions-editor-template="vm.editorTemplate" item-additions="vm.groupTableService.additions.projection()" item-additions-columns="vm.entityAdditionsColumns" item-additions-filters="vm.entityAdditionsFilters" item-additions-sorting="vm.entityAdditionsSorting" external-get-additions="vm.getEntityAdditions(id)" external-callback="vm.updateTable()" external-additions-callback="vm.updateAdditionsTable()" external-update-item="vm.updateItem()" external-update-item-additions="vm.updateItemAddition()" additions-status="vm.additionsStatus"></group-table></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/field-resolver-view.html",'<div><div data-ng-if="readyStatus.content"><div data-ng-if="type === \'key-value\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="entity[getModelKey()]" data-ng-change="changeWatcher()"><md-option data-ng-repeat="field in fields track by $index" value="{{field.value}}">{{field.name}}</md-option></md-select></md-input-container></div><div data-ng-if="type === \'id\'"><div data-ng-if="getModelKey() === \'instrument\' "><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="entity[getModelKey()]" data-ng-change="changeWatcher()" md-container-class="h-instrument-select" data-instrument-modal-resolver md-selected-text="bindFormFields()"><md-option data-ng-repeat="field in fields track by $index" value="{{field.id}}">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="getModelKey() !== \'instrument\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-option data-ng-repeat="field in fields track by $index" value="{{field.id}}">{{bindListFields(field)}}</md-option></md-select></md-input-container></div></div><div data-ng-if="type === \'multiple-ids\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" multiple="true"><md-option data-ng-repeat="field in fields track by $index" value="{{field.id}}">{{bindListFields(field)}}</md-option></md-select></md-input-container></div></div><div data-ng-if="!readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/system/audit-view.html",'<md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="Transaction" md-active="vm.checkActiveTab(\'transaction\')" data-ng-click="vm.setActiveTab(\'transaction\')"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.transaction" class="audit-wrapper"><div layout="column"><div flex layout="row"><div flex layout="row" class="audit-cell"><span class="no-select">Date</span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Member</span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Action</span></div></div><md-divider></md-divider></div><div layout="column" data-ng-repeat="item in vm.transactions"><div layout="row"><div flex layout="row"><div flex layout="row" class="audit-cell"><span class="no-select" data-ng-bind="item.dateFormatted"></span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.member.username"></span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.comment"></span></div></div></div><md-divider></md-divider></div><div layout="row"><div paging page="vm.transactionCurrent" page-size="vm.itemPerPage" total="vm.transactionTotal" paging-action="vm.changePage(\'transaction\', page)"></div></div></div><div data-ng-if="!vm.readyStatus.transaction" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-content></md-tab><md-tab label="Instrument" md-active="vm.checkActiveTab(\'instrument\')" data-ng-click="vm.setActiveTab(\'instrument\')"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.instrument" class="audit-wrapper"><div layout="column"><div flex layout="row"><div flex="10" layout="row" class="audit-cell"><span class="no-select">Date</span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Member</span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Action</span></div></div><md-divider></md-divider></div><div layout="column" data-ng-repeat="item in vm.instruments"><div layout="row"><div flex layout="row"><div flex="10" layout="row" class="audit-cell"><span class="no-select" data-ng-bind="item.dateFormatted"></span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.member.username"></span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.comment"></span></div></div></div><md-divider></md-divider></div><div layout="row"><div paging page="vm.instrumentCurrent" page-size="vm.itemPerPage" total="vm.instrumentTotal" paging-action="vm.changePage(\'instrument\', page)" class="global-pagination-div"></div></div></div><div data-ng-if="!vm.readyStatus.instrument" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-content></md-tab></md-tabs>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/columns-view.html",'<div class="g-columns-component g-thead" group-column-init-width columns="columns"><div class="g-column-title-row" layout="row"><p class="g-column-title"><span class="g-meta-circle red">C</span>OLUMN AREA<ng-md-icon style="fill: #fff" class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p></div><div class="g-cell-select all {{isAllSelected ? \'active\' : \'\'}}" data-ng-click="selectAllRows()"><ng-md-icon icon="signal_cellular_0_bar"></ng-md-icon></div><div class="g-scroll-wrapper" group-column-width-set init-width=""><div class="g-scrollable-area"><div dragula="\'columns-bag\'" dragula-model="columns" class="g-columns-holder"><md-card class="g-cell g-column" data-ng-repeat="column in columns"><div class="g-column-content"><div class="column-left-content"><div class="sort" data-ng-if="isSortable(column)"><md-button class="column-sort column-btns" data-ng-show="column.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="column-sort-up column-btns" data-ng-show="column.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="column-sort column-both-sorted column-btns" data-ng-show="!column.options.sort" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{column.name}}</div></div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button column-btns" ng-click="openColumnSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div><div class="resize-slider"></div><div class="column-name-tooltip-wrap"><div class="column-name-tooltip-content"><span data-ng-bind="column.name"></span></div></div></div></md-card></div><div class="drop-new-field" id="columnsbag" data-ng-if="!isItemAddition">Drop New Column</div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/group-table-shell-view.html",'<div class="g-wrapper" group-height-aligner additions-status="additionsStatus"><div class="g-workarea main-area" group-clipboard-handler items="items" columns="columns"><div class="g-grouping-section"><group-grouping entity-type="entityType" tabs="tabs" folding="folding" sorting="sorting" grouping="grouping" filters="filters" columns="columns" external-callback="externalCallback()"></group-grouping></div><div class="g-table-section" group-horizontal-scroll><div class="g-table-wrap" group-column-resizer items="items" columns-width="columnsWidth"><group-columns entity-type="entityType" columns="columns" sorting="sorting" items="items" is-all-selected="isAllSelected" external-callback="externalCallback()" is-item-addition="false"></group-columns><group-table-body class="group-table-body" items="items" external-callback="externalCallback()" entity-type="entityType" grouping="grouping" item-additions-editor-entity-id="itemAdditionsEditorEntityId" is-all-selected="isAllSelected" columns="columns"></group-table-body></div></div></div><div class="g-sidebar main-sidebar" group-second-vertical-scroll><div class="g-filter" id="filtersbag"><group-sidebar-filter filters="filters" external-callback="externalCallback()"></group-sidebar-filter></div></div><div class="g-additions" data-ng-if="additionsState"><div class="g-height-slider"></div><div class="g-additions-data-editor min-height" data-ng-show="additionsStatus.editor"><div data-ng-show="!itemAdditionsEditorEntityId"><div class="g-additions-editor-caption">Select row to start</div></div><div data-ng-show="itemAdditionsEditorEntityId" class="min-height"><group-editor-binder entity-type="entityType" item-id="itemAdditionsEditorEntityId" template="itemAdditionsEditorTemplate"></group-editor-binder></div></div><div class="g-additions-workarea" data-ng-show="additionsStatus.table"><div class="g-workarea" group-clipboard-handler items="itemAdditions" columns="columns"><div class="g-table-section" group-horizontal-scroll><div class="g-table-wrap" group-column-resizer items="itemAdditions"><group-columns entity-type="entityType" columns="itemAdditionsColumns" is-all-selected="isAllAdditionsSelected" external-callback="externalAdditionsCallback()" sorting="sorting" is-item-addition="true"></group-columns><group-table-body items="itemAdditions" class="group-table-body" is-all-selected="isAllAdditionsSelected" entity-type="additionsEntityType" columns="itemAdditionsColumns"></group-table-body></div></div></div><div class="g-sidebar additions-sidebar"><div class="g-filter"><group-sidebar-filter filters="itemAdditionsFilters" external-callback="externalAdditionsCallback()"></group-sidebar-filter></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/grouping-view.html",'<div class="g-grouping-component"><div><p class="g-drag-section-title"><span class="g-meta-circle green">G</span>ROUPING AREA<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p></div><div class="g-second-line"><div class="groups-holder"><div class="group-folding-holder"><md-card><div><div class="fold-btn-wrap {{folding ? \'\' : \'disabled\'}}"><md-button class="grouping-fold-btn" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="add"></ng-md-icon></md-button><md-tooltip class="tooltip_1" md-direction="top">Expand</md-tooltip></div><div class="fold-btn-wrap {{folding ? \'disabled\' : \'\'}}"><md-button class="grouping-fold-btn" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="remove"></ng-md-icon></md-button><md-tooltip class="tooltip_1" md-direction="top">Collapse</md-tooltip></div></div></md-card></div><div dragula="\'group-bag\'" dragula-model="grouping"><md-card data-ng-repeat="item in grouping" class="group-item card"><div class="sort"><md-button class="group-sort" data-ng-show="item.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="group-sort-up" data-ng-show="item.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="group-sort group-both-sorted" data-ng-show="!item.options.sort" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{item.name}}</div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-group" id="groupsbag"><!-- Drop level {{grouping.length + 1}} Group --> Drop New Grouping Level</div></div><md-button class="md-fab g-settings-btn" aria-label="drag modal" data-ng-click="openModalSettings($event)"><ng-md-icon icon="view_week"></ng-md-icon></md-button></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/modal-view-old.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools"><h2 style="user-select: none">DRAG FIELDS FROM HERE</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in tab.attrs"><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/modal-view.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools" layout="row" layout-align="start center"><h2 style="user-select: none; position: relative">View Constructor<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #fff"><md-tooltip md-direction="top">tooltip text</md-tooltip></ng-md-icon></h2><!-- <span class="tooltips-sign white">\n                (i)\n                <md-tooltip md-direction="top">tooltip text</md-tooltip>\n            </span> --></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="System"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.baseAttrs"><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'group\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'filter\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.entityAttrs"><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'group\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'filter\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><md-tab label="User Attributes"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.attrs"><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox style="visibility: hidden" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><!--<md-tab label="Attributes">--><!--<md-content class="md-padding">--><!--<div class="g-th-checkbox-row">--><!--<span class="g-meta-circle green">G</span>--><!--<span class="g-meta-circle red">C</span>--><!--<span class="g-meta-circle blue">F</span>--><!--</div>--><!--<div class="g-checkbox-row" data-ng-repeat="item in vm.attrs">--><!--<md-checkbox ng-model="item.groups" aria="groups" class="md-g-green"--><!--data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<md-checkbox style="visibility: hidden" ng-model="item.filters" aria="filters"--><!--class="md-primary" data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<span flex></span>--><!--<div dragula="\'columns-bag\'" class="g-modal-draggable-card">--><!--<md-card class="modal-dialog-card">{{item.name}}</md-card>--><!--</div>--><!--</div>--><!--</md-content>--><!--</md-tab>--></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.attributesManager({entityType: vm.entityType})" data-ng-click="vm.cancel()">Manage attributes</md-button><md-button class="md-raised" ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/sidebar-filter-view.html",'<div class="g-sidebar-filter-component"><p class="area-title"><span class="g-meta-circle blue">F</span>ILTER AREA<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p><div layout="row" class="filters-control-btn"><md-button class="md-raised" data-ng-click="selectAll()">Select all</md-button><md-button class="md-raised" data-ng-click="deselectAll()">Deselect all</md-button></div><div layout="row" class="filters-control-btn"><md-button class="md-raised clear-all full-width" data-ng-click="clearAll()">Clear all</md-button></div><div dragula="\'filters-bag\'" dragula-model="filters" class="filters-holder"><md-card data-ng-repeat="filter in filters" class="{{filter.options.enabled ? \'\' : \'f-disabled\' }} g-filter-item" layout="row"><md-checkbox ng-model="filter.options.enabled" aria-label="filters" class="md-primary" ng-change="toggleFilterState(filter)" flex="15"></md-checkbox><md-input-container flex="65"><label data-ng-bind="filter.name"></label><div data-ng-if="getFilterType(filter[\'value_type\'])"><!-- {{fields}} --><div data-ng-if="fields[filter.key]"><md-select data-ng-model="filter.options.query" data-ng-change="filterChange(filter)" multiple="{{fields[\'value_type\'] == \'mc_field\' ? \'ture\' : \'false\'}}"><md-option data-ng-repeat="field in fields[filter.key] track by $index" value="{{field.id}}">{{field.name}}</md-option></md-select></div><div data-ng-if="!fields[filter.key]"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div><!-- <div data-ng-if="filter[\'value_type\'] !== \'field\'"> --><div data-ng-if="!getFilterType(filter[\'value_type\'])"><input data-ng-model="filter.options.query" data-ng-change="filterChange(filter)" data-ng-model-options="{debounce: 1000}"></div></md-input-container><div class="settings-btn" flex="20"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openFilterSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeFilter(filter)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-filter">Drop new Filter</div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/table-body-view.html",'<!-- <div class="g-table-body-component" data-group-vertical-scroll> --><div class="g-table-body-component" group-custom-scroll><div data-ng-if="grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-repeat="item in items"><div class="g-group-holder {{item.selectedRow ? \'selected-row\' : \'\'}}"><div class="g-row-selection" data-ng-click="toggleSelectRow(item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><md-card class="group-row-fold-holder"><div><md-button class="" aria-label="hide/show grouping" data-ng-show="item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="add"></ng-md-icon></md-button><md-button class="" aria-label="hide/show grouping" data-ng-show="!item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></md-card><div data-ng-repeat="group in item.groups track by $index" class="g-group">{{group.value}}</div></div><div data-ng-repeat="groupedItem in item.items" contextmenu-item="groupedItem" data-ng-show="!item.isFolded" data-ng-right-click="$mdOpenMenu($event)" class="{{groupedItem.selectedRow ? \'selected-row\' : \'\'}} g-row" data-ng-click="rowCallback(groupedItem, $event)"><div class="g-row-selection" data-ng-click="toggleSelectRow(groupedItem)"><ng-md-icon icon="done" data-ng-show="groupedItem.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns"><div class="g-cell {{getAlign(column)}}"><span title="{{bindCellTitle(groupedItem, column)}}" data-ng-bind-html="bindCell(groupedItem, column) | trustAsHtml"></span></div></div></div></div></div><div data-ng-if="!grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-repeat="item in items" class="{{item.selectedRow ? \'selected-row\' : \'\'}} g-row" contextmenu-item="item" data-ng-click="rowCallback(item, $event)"><div class="g-row-selection" data-ng-click="toggleSelectRow(item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div data-ng-repeat="column in columns" class="g-cell {{getAlign(column)}}"><span title="{{bindCellTitle(item, column)}}" data-ng-bind-html="bindCell(item, column) | trustAsHtml"></span></div></div></div></div><div contextmenu="gtbody.contextmenu" class="dropdown contextmenu ng-hide"><md-menu-content width="4"><md-menu-item><md-button ng-click="editEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="mode_edit"></ng-md-icon><span>Edit</span></md-button></md-menu-item><md-menu-item><md-button ng-click="deleteEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="delete"></ng-md-icon><span>Delete</span></md-button></md-menu-item></md-menu-content></div>')}])}()},{}]},{},[127]);