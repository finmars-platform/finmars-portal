!function t(e,n,i){function o(l,r){if(!n[l]){if(!e[l]){var s="function"==typeof require&&require;if(!r&&s)return s(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[l]={exports:{}};e[l][0].call(u.exports,function(t){var n=e[l][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[l].exports}for(var a="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(t,e,n){!function(){"use strict";var n=t("../../services/portfolioService");e.exports=function(t,e,i){var o=this;o.portfolio=i,o.cancel=function(){e.cancel()},o["delete"]=function(){n.deleteByKey(o.portfolio.id).then(function(){e.hide()})}}}()},{"../../services/portfolioService":42}],2:[function(t,e,n){!function(){"use strict";var n=t("../../services/portfolioService"),i=t("../../services/metaService"),o=t("../../services/demo/demoPortfolioService");e.exports=function(t,e,a,l){console.log("Portfolio add dialog controller initialized..."),console.log("parentScope",a);var r=this;r.entityType="portfolio",o.getView().then(function(e){r.tabs=e.tabs,console.log("vm tabs!",r.tabs),t.$apply()}),r.attrs=[],r.baseAttrs=[],n.getAttributeTypeList().then(function(e){r.attrs=e.results,console.log("vm.attrs",r.attrs),t.$apply()}),i.getBaseAttrs().then(function(e){r.baseAttrs=e[r.entityType],console.log("vm.baseAttrs",r.baseAttrs),t.$apply()}),r.portfolio={};var s;r.range=function(t){var e,n=[];for(e=1;t>=e;e+=1)n.push(e);return n},r.bindFlex=function(t,e,n){var i,o=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(o+=t.layout.fields[i].colspan);var a=100/t.layout.columns;return Math.floor(n.colspan*a)},r.bindField=function(t,e){var n;if(e.hasOwnProperty("id")){for(n=0;n<r.attrs.length;n+=1)if(e.id===r.attrs[n].id)return r.attrs[n]}else for(n=0;n<r.baseAttrs.length;n+=1)if(e.name===r.baseAttrs[n].name)return r.baseAttrs[n]},r.openMenu=function(t,e){s=e,t(e)},r.cancel=function(){e.cancel()},r.editLayout=function(){l.go("app.data-constructor",{entityName:"portfolio"}),e.hide()},r.save=function(){console.log("portfolio!",r.portfolio),n.create(r.portfolio).then(function(t){console.log("saved!",t),e.hide()})}}}()},{"../../services/demo/demoPortfolioService":31,"../../services/metaService":40,"../../services/portfolioService":42}],3:[function(t,e,n){!function(){"use strict";var n=t("../../services/portfolioService"),i=t("../../services/portfolioHelperService"),o=t("../../services/metaService"),a=t("../../services/groupTable/groupTableService"),l=t("../../services/demo/demoPortfolioService"),r=t("../../services/demo/demoTransactionsService");e.exports=function(t,e){function s(t,e,n){var i=[];if(!t)return[];var o,a,l,r,s,c,u;for(o=0;o<t.length;o+=1)if(r=t[o],r.hasOwnProperty("id"))for(a=0;a<e.length;a+=1)s=e[a],r.id===s.id&&(r.options&&(u=JSON.parse(JSON.stringify(r.options))),r=s,r.options=u,i.push(r));else for(l=0;l<n.length;l+=1)c=n[l],r.key===c.key&&(r.options&&(u=JSON.parse(JSON.stringify(r.options))),r.options=u,r=c,i.push(r));return i}console.log("Portfolio controller initialized...");var c=this;c.attrs=[],c.baseAttrs=[],c.layoutAttrs=[],c.entity=[],c.entityType="",c.columns=[],c.grouping=[],c.filters=[],c.sorting=[],c.entityAdditions=[],c.additionsType="",c.entityAdditionsColumns=[],c.entityAdditionsFilters=[],c.entityAdditionsSorting=[],c.tabs=[],c.table={},c.tableAdditions={},c.tableIsReady=!1,c.additionsStatus={editor:!1,table:!1},c.getView=function(){return l.getView().then(function(e){c.entityType=e.entityType,c.tabs=e.tabs,c.table=e.table,c.columns=e.table.columns,c.grouping=e.table.grouping,c.filters=e.table.filters,c.sorting=e.table.sorting,c.additionsType=e.tableAdditions.additionsType,c.tableAdditions=e.tableAdditions,c.entityAdditionsColumns=e.tableAdditions.columns,c.entityAdditionsFilters=e.tableAdditions.filters,c.entityAdditionsSorting=e.tableAdditions.sorting,c.additionsStatus[e.tableAdditions.additionsType]=!0,console.log("vm tabs!",c.tabs),t.$apply()})},c.transformViewAttributes=function(){c.columns=s(c.columns,c.attrs,c.baseAttrs),c.grouping=s(c.grouping,c.attrs,c.baseAttrs),c.filters=s(c.filters,c.attrs,c.baseAttrs),c.sorting=s(c.sorting,c.attrs,c.baseAttrs),c.entityAdditionsColumns=s(c.entityAdditionsColumns,c.attrs,c.baseAttrs),c.entityAdditionsFilters=s(c.entityAdditionsFilters,c.attrs,c.baseAttrs),c.entityAdditionsSorting=s(c.entityAdditionsSorting,c.attrs,c.baseAttrs)},c.getEntityData=function(){n.getList().then(function(e){i.transformItems(e.results).then(function(e){c.entity=e,c.groupTableService=a.getInstance(),c.updateTable(),t.$apply()})})},c.getAttributes=function(){return n.getAttributeTypeList().then(function(e){return c.attrs=e.results,o.getBaseAttrs().then(function(e){c.baseAttrs=e[c.entityType],console.log("METHOD: getAttributesdata: vm.attrs","values:",c.attrs),console.log("METHOD: getAttributesdata: vm.baseAttrs","values:",c.baseAttrs),t.$apply()})})},c.updateTable=function(){c.groupTableService.setItems(c.entity),c.groupTableService.columns.setColumns(c.columns),c.groupTableService.filtering.setFilters(c.filters),c.groupTableService.grouping.setGroups(c.grouping),c.groupTableService.sorting.group.sort(c.sorting.group),c.groupTableService.sorting.column.sort(c.sorting.column),c.tableIsReady=!0},c.updateAdditions=function(){c.groupTableService.additions.setItems(c.entityAdditions),c.groupTableService.additions.columns.setColumns(c.entityAdditionsColumns),c.groupTableService.additions.filtering.setFilters(c.entityAdditionsFilters),c.groupTableService.additions.sorting.column.sort(c.entityAdditionsSorting.column)},c.getEntityAdditions=function(e){return console.log("vm.getPortfolioTransaction",e),r.getList(e).then(function(e){console.log("data",e),c.entityAdditions=e,c.updateAdditions(),t.$apply()})},c.addEntity=function(n){e.show({controller:"PortfolioAddDialogController as vm",templateUrl:"views/administration/portfolio-add-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{parentScope:t}})},c.openDataViewPanel=function(){},c.openEditorViewPanel=function(){c.additionsStatus.table=!0},c.checkAdditionStatus=function(){return!c.additionsStatus.table&&!c.additionsStatus.editor},c.hideAdditions=function(){c.additionsStatus.table=!1,c.additionsStatus.editor=!1},c.getView().then(function(){c.getAttributes().then(function(){c.transformViewAttributes(),c.getEntityData()})})}}()},{"../../services/demo/demoPortfolioService":31,"../../services/demo/demoTransactionsService":32,"../../services/groupTable/groupTableService":36,"../../services/metaService":40,"../../services/portfolioHelperService":41,"../../services/portfolioService":42}],4:[function(t,e,n){!function(){"use strict";var n=t("../../services/gridHelperService"),i=t("../../services/portfolioService"),o=t("../../services/metaService");e.exports=function(t,e,a,l,r){console.log("Portfolio add dialog controller initialized..."),console.log("parentScope",l);var s=this;s.entityType="portfolio",s.tabs=a.tabs,s.attrs=[],s.baseAttrs=[],i.getAttributeTypeList().then(function(e){s.attrs=e.results,console.log("vm.attrs",s.attrs),t.$apply()}),o.getBaseAttrs().then(function(e){s.baseAttrs=e[s.entityType],console.log("vm.baseAttrs",s.baseAttrs),t.$apply()}),s.portfolio=l;var c;s.range=n.range,s.bindFlex=function(t,e,n){var i,o=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(o+=t.layout.fields[i].colspan);var a=100/o;return Math.floor(n.colspan*a)},s.bindField=function(t,e){var n;if(e.hasOwnProperty("id")){for(n=0;n<s.attrs.length;n+=1)if(e.id===s.attrs[n].id)return s.attrs[n]}else for(n=0;n<s.baseAttrs.length;n+=1)if(e.name===s.baseAttrs[n].name)return s.baseAttrs[n]},s.openMenu=function(t,e){c=e,t(e)},s.cancel=function(){e.cancel()},s.editLayout=function(t){r.go("app.data-constructor",{entityName:"portfolio"}),e.hide()},s.save=function(){console.log("saved!",s.portfolio),e.hide()}}}()},{"../../services/gridHelperService":33,"../../services/metaService":40,"../../services/portfolioService":42}],5:[function(t,e,n){!function(){"use strict";e.exports=function(t){console.log("Dashboard controller initialized...")}}()},{}],6:[function(t,e,n){!function(){"use strict";var n=t("../services/demo/demoPortfolioService"),i=(t("../services/demo/demoTransactionsService"),t("../services/portfolioService")),o=t("../services/metaService"),a=t("../services/gridHelperService");e.exports=function(t,e,l){var r=this;r.view={},r.boxColumns=[1,2,3,4,5,6],r.entityType="portfolio",n.getView().then(function(e){r.view=e,r.tabs=e.tabs,console.log("vm tabs!",r.tabs),t.$apply()}),r.attrs=[],r.baseAttrs=[],i.getAttributeTypeList().then(function(e){r.attrs=e.results,console.log("vm attrs",r.attrs),o.getBaseAttrs().then(function(e){r.baseAttrs=e,t.$apply()})}),r.checkColspan=function(t,e,n){var i,o,a,l,r=[];for(i=0;i<t.layout.fields.length;i+=1)if(t.layout.fields[i].row==e)for(a=t.layout.fields[i].column,l=parseInt(t.layout.fields[i].colspan,10),o=0;l>o;o+=1)r[a]||(r[a]=[]),r[a].push(parseInt(a,10)+parseInt(o,10));var s,c,u=Object.keys(r);for(s=0;s<u.length;s+=1){if(u[s]===n)return!0;for(c=1;c<r[u[s]].length;c+=1)if(n==r[u[s]][c])return!1}return!0},r.range=a.range,r.setLayoutColumns=function(t,e){t.layout.columns=e,console.log("change columns count ",e),console.log("vm.tab",t)},r.saveLayout=function(){r.view.tabs=r.tabs,n.save(r.view).then(function(){console.log("layout saved"),l.go("app.portfolio"),t.$apply()})},r.bindFlex=function(t,e,n){var i,o,a=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(t.layout.fields[i].column===n&&(o=t.layout.fields[i]),a+=t.layout.fields[i].colspan);var l=100/t.layout.columns;return o?Math.floor(o.colspan*l):Math.floor(l)},r.deleteTab=function(t){var e;for(e=0;e<r.tabs.length;e+=1)if(t.name===r.tabs[e].name){r.tabs.splice(e,1);break}},r.addTab=function(){r.tabs.push({name:"",editState:!0,layout:{rows:0,columns:1,fields:[]}})},r.toggleEditTab=function(t,e,n){t.editState||(t.editState=!1),t.captionName||(t.captionName=t.name),"back"===e&&(console.log("??"),t.captionName||""!==t.name?t.captionName=t.name:r.tabs.splice(n,1)),t.editState=!t.editState},r.saveEditedTab=function(t){console.log(t),""!==t.captionName&&(t.name=t.captionName,t.editState=!t.editState)}}}()},{"../services/demo/demoPortfolioService":31,"../services/demo/demoTransactionsService":32,"../services/gridHelperService":33,"../services/metaService":40,"../services/portfolioService":42}],7:[function(t,e,n){!function(){"use strict";e.exports=function(t,e,n){console.log("Entity data constructor controller intialized..."),console.log("parentScope",n);var i=this;i.tabs=n.vm.tabs}}()},{}],8:[function(t,e,n){!function(){"use strict";var n=t("../services/usersService");e.exports=function(t,e){console.log("Shell controller initialized...");var i=this;i.logout=function(){console.log("Logged out"),n.logout()},n.login("dev1","Uethohk0").then(function(){t.$apply()}),i.currentState=function(){return""}}}()},{"../services/usersService":43}],9:[function(t,e,n){!function(){"use strict";var n=t("../services/metaService");e.exports=function(t){var e=this;e.sections=[],n.getMenu().then(function(n){e.sections=n,console.log("vm.sections",e.sections),t.$apply()}),e.isOpen=function(t){return e.openedSection===t},e.toggleOpen=function(t){e.openedSection=e.openedSection===t?null:t},e.autoFocusContent=!1}}()},{"../services/metaService":40}],10:[function(t,e,n){!function(){"use strict";e.exports=function(t){return{scope:{tabs:"="},link:function(e,n){console.log("elem",n);var i='<md-button class="ec-tab-add-btn"data-ng-click="vm.addTab()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button>',o=t(i)(e.$parent),a=n.find("md-pagination-wrapper");a.append(o)}}}}()},{}],11:[function(t,e,n){!function(){"use strict";var n=t("../services/metaService");e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/bind-field-control-view.html",scope:{item:"="},link:function(t,e,i){t.portfolio=t.$parent.vm.portfolio;var o=n.getValueTypes(),a=[{key:"name",caption:"Name"},{key:"short_name",caption:"Short name"},{key:"notes",caption:"Notes"}];t.fieldType=null,console.log(t.item),t.attribute=t.item;var l;for(l=0;l<o.length;l+=1)o[l].value===t.attribute.value_type&&(t.fieldType=o[l]);t.getModelKey=function(){if(t.item.hasOwnProperty("id"))return t.item.name;var e;for(e=0;e<a.length;e+=1)if(t.item.name===a[e].caption)return a[e].key}}}}}()},{"../services/metaService":40}],12:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",scope:{columns:"=",isItemAddition:"="},templateUrl:"views/directives/groupTable/columns-view.html",link:function(t,e,n){console.log("Columns component",t.columns),t.openColumnSettings=function(t,e){t(e)},t.removeColumn=function(e){t.columns=t.columns.map(function(t){return t.id!==e.id&&t.name!==e.name?t:void 0}).filter(function(t){return!!t})}}}}}()},{}],13:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"A",link:function(t,e,n){function i(t){r=document.all?window.event.clientX:t.pageX,l=document.all?window.event.clientY:t.pageY,a[0].style.left=r-s-$(e).width()+8+"px",a[0].style.top=l-c-8-150+"px"}var o=$(e).find(".md-toolbar-tools"),a=$(e).parent(),l=0,r=0,s=0,c=0;$(a).width(400),$(a).height($(e).height()),$(a).css({left:"65%"}),o.bind("mousedown",function(t){return 0!==s&&(s=r-a[0].offsetLeft,c=l-a[0].offsetTop),$(window).bind("mousemove",i),$(window).bind("mouseup",function(t){console.log("unbind"),$(window).unbind("mousemove")}),!1})}}}}()},{}],14:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"A",scope:{items:"="},link:function(t,e,n){function i(){function t(){var t,i,o=$(e).find(".g-thead"),a=o.find(".g-cell"),l=$(e).find(".g-row");for(t=0;t<l.length;t+=1)for(n=$(l[t]).find(".g-cell"),i=0;i<a.length;i+=1)!function(t){$(n[t]).css({width:$(a[t]).width()+"px"})}(i)}var n,i=$(e).find(".g-thead"),o=i.find(".g-cell"),a=($(e).find(".g-row"),o.find(".resize-slider")),l=function(){var t;for(t=0;t<o.length;t+=1)$(o[t]).attr("min-width",$(o[t]).width())};l(),$(a).bind("mousedown",function(e){var n=$(this).parent(),i=n.width(),o=n.attr("min-width"),a=e.clientX;$(window).bind("mousemove",function(e){var l=e.clientX-a;t(),l+i>o&&n.width(i+l)}),$(window).bind("mouseup",function(){console.log("unbind"),$(window).unbind("mousemove")})}),setTimeout(function(){t()},100)}console.log("Aligner component initialized...",e),t.$watchCollection("items",function(){i()}),setTimeout(function(){i()},100)}}}}()},{}],15:[function(t,e,n){!function(){"use strict";e.exports=function(t){return{restrict:"AE",scope:{filters:"=",columns:"=",tabs:"=",grouping:"=",externalCallback:"&"},templateUrl:"views/directives/groupTable/grouping-view.html",link:function(e,n,i){console.log("Grouping component"),e.openGroupSettings=function(t,e){t(e)},e.$watchCollection("grouping",function(){console.log("change"),e.externalCallback()}),e.removeGroup=function(t){e.grouping=e.grouping.map(function(e){return e.id!==t.id&&e.name!==t.name?e:void 0}).filter(function(t){return!!t}),setTimeout(function(){e.externalCallback()},0)},e.openModalSettings=function(n){t.show({controller:"gModalController as vm",templateUrl:"views/directives/groupTable/modal-view.html",parent:angular.element(document.body),targetEvent:n,locals:{callback:e.externalCallback,parentScope:e}}).then(function(t){e.status='You said the information was "'+t+'".'},function(){e.status="You cancelled the dialog."})}}}}}()},{}],16:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"A",scope:{additionsStatus:"="},link:function(t,e,n){t.$watchCollection("additionsStatus",function(){function e(){i=$(window).height()-$(".header").height(),o=i-$(".g-wrapper .g-grouping-section").height(),$(".g-sidebar").height(i),$(".g-wrapper .g-table-section").height(o)}function n(){i=Math.floor(($(window).height()-$(".header").height())/2),o=Math.floor(i-$(".g-wrapper .g-grouping-section").height()),$(".g-sidebar").height(i),$(".g-wrapper .g-table-section").height(o),$(".g-additions-workarea .g-table-section").height(i),$(".g-additions-workarea .group-table-body").height(i),$(".g-height-slider").bind("mousedown",function(t){var e,n,i=$(".header").height(),o=$(".g-workarea.main-area .g-table-section"),a=$(".g-sidebar.main-sidebar"),l=$(".g-wrapper .g-grouping-section").height(),r=$(".g-additions-workarea .g-table-section"),s=$(".g-sidebar.additions-sidebar");$(window).bind("mousemove",function(t){n=$(window).height()-i,e=t.clientY,r.height(n-e+88),s.height(n-e+88),$(".g-workarea.main-area .group-table-body").height(e-$(".header").height()-$(".g-columns-component.g-thead").height()-88),o.height(e-i-88),a.height(e+l-i-88),console.log("mouseMoveY",e),console.log("spaceLeft",n),console.log("Main area box height",e-i),console.log("Main sidebar box height",e+l-i),console.log("additions area box height",n-e),console.log("additions sidebar box height",n-e)}),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})})}var i,o;t.additionsStatus.table||t.additionsStatus.editor?setTimeout(function(){n()},0):e()})}}}}()},{}],17:[function(t,e,n){!function(){"use strict";var n=t("../../services/metaService"),i=t("../../services/portfolioService");e.exports=function(t,e,o,a){function l(){function t(){var t,e;for(t=0;t<r.tabs.length;t+=1)if(!r.tabs[t].attrs)for(r.tabs[t].attrs=[],e=0;e<r.tabs[t].layout.fields.length;e+=1)r.tabs[t].layout.fields[e].hasOwnProperty("id")?r.tabs[t].attrs.push({id:r.tabs[t].layout.fields[e].id}):"Labeled Line"!=r.tabs[t].layout.fields[e].name&&"Line"!=r.tabs[t].layout.fields[e].name&&r.tabs[t].attrs.push({name:r.tabs[t].layout.fields[e].name})}function e(){var t,e,n,i,o,a,l,s;for(console.log("METHOD: restoreAttrs, data: vm.tabs, value: ",r.tabs),console.log("METHOD: restoreAttrs, data: vm.attrs, value: ",r.attrs),e=0;e<r.tabs.length;e+=1)for(o=r.tabs[e],n=0;n<o.attrs.length;n+=1)if(a=o.attrs[n],a.hasOwnProperty("id"))for(t=0;t<r.attrs.length;t+=1)l=r.attrs[t],a.id===l.id&&(r.tabs[e].attrs[n]=l);else for(i=0;i<r.baseAttrs.length;i+=1)s=r.baseAttrs[i],a.name===s.name&&(r.tabs[e].attrs[n]=s)}t(),e(),r.tabAttrsReady=!0}console.log("Group table modal controller initialized...");var r=this;r.tabs=o.tabs,r.entityType="portfolio",r.general=[],r.attrs=[],r.baseAttrs=[],r.custom=[],r.tabAttrsReady=!1;var s=o.columns,c=o.filters,u=o.grouping,d=[];$("body").addClass("drag-dialog"),r.getAttributes=function(){return i.getAttributeTypeList().then(function(e){return r.attrs=e.results,n.getBaseAttrs().then(function(e){r.baseAttrs=e[r.entityType],console.log("CLASS: MODAL, METHOD: getAttributesdata: vm.attrs","values:",r.attrs),console.log("CLASS: MODAL, METHOD: getAttributesdata: vm.baseAttrs","values:",r.baseAttrs),d=r.attrs.concat(r.baseAttrs),l(),p(r.tabs),t.$apply()})})},r.getAttributes(),o.$watch("columns",function(){r.tabAttrsReady&&(s=o.columns,p(r.tabs),a())}),o.$watch("filters",function(){r.tabAttrsReady&&(c=o.filters,p(r.tabs),a())}),o.$watch("grouping",function(){r.tabAttrsReady&&(u=o.grouping,p(r.tabs),a())});var p=function(t){var e,n,i;for(console.log("METHOD: syncAttrs, data: tabs, value: ",t),n=0;n<t.length;n+=1)for(i=t[n].attrs,e=0;e<i.length;e+=1)i[e].columns=!1,i[e].filters=!1,i[e].groups=!1,s.map(function(t){return i[e].name===t.name&&(i[e].columns=!0),t}),c.map(function(t){return i[e].name===t.name&&(i[e].filters=!0),t}),u.map(function(t){return i[e].name===t.name&&(i[e].groups=!0),t});return i},m=function(){var t,e,n,i,o,a,l,d;for(i=0;i<r.tabs.length;i+=1)for(t=0;t<r.tabs[i].attrs.length;t+=1){for(a=!1,l=!1,d=!1,e=0;e<s.length;e+=1)r.tabs[i].attrs[t].name===s[e].name&&(a=!0,r.tabs[i].attrs[t].columns===!1&&(s.splice(e,1),e-=1));for(a||r.tabs[i].attrs[t].columns===!0&&s.push(r.tabs[i].attrs[t]),n=0;n<u.length;n+=1)r.tabs[i].attrs[t].name===u[n].name&&(l=!0,r.tabs[i].attrs[t].groups===!1&&(u.splice(n,1),n-=1));for(l||r.tabs[i].attrs[t].groups===!0&&u.push(r.tabs[i].attrs[t]),o=0;o<c.length;o+=1)r.tabs[i].attrs[t].name===c[o].name&&(d=!0,r.tabs[i].attrs[t].groups===!1&&(c.splice(o,1),o-=1));d||r.tabs[i].attrs[t].filters===!0&&c.push(r.tabs[i].attrs[t])}};r.updateAttrs=function(){m(),a()},r.cancel=function(){$("body").removeClass("drag-dialog"),e.cancel()};var g={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var e=!1;this.dragula.on("over",function(t,e,n){$(e).addClass("active"),$(e).on("mouseleave",function(){$(this).removeClass("active")})}),this.dragula.on("drop",function(n,i){$(i).removeClass("active");var o,l=$(n).html();if(e=!1,i===document.querySelector("#columnsbag"))for(o=0;o<s.length;o+=1)s[o].name===l&&(e=!0);if(i===document.querySelector("#groupsbag"))for(o=0;o<u.length;o+=1)u[o].name===l&&(e=!0);if(!e){var c;if(i===document.querySelector("#columnsbag")){for(c=0;c<d.length;c+=1)d[c].name===l&&s.push(d[c]);p(r.tabs),a()}if(i===document.querySelector("#groupsbag")){for(c=0;c<d.length;c+=1)d[c].name===l&&u.push(d[c]);p(r.tabs),a()}t.$apply()}}),this.dragula.on("dragend",function(t){$(t).remove()})},dragula:function(){var t,e=[document.querySelector("#columnsbag"),document.querySelector("#groupsbag")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(t=0;t<n.length;t+=1)e.push(n[t]);this.dragula=dragula(e,{moves:this.canMove.bind(this),copy:!0})},canMove:function(){return!0}};setTimeout(function(){g.init()},500)}}()},{"../../services/metaService":40,"../../services/portfolioService":42}],18:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/report-settings-view.html",link:function(t,e,n){console.log("Report settings component")}}}}()},{}],19:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",scope:{filters:"=",externalCallback:"&"},templateUrl:"views/directives/groupTable/sidebar-filter-view.html",link:function(t,e,n){console.log("Sidebar filter component",t.filters),t.$watchCollection("filters",function(){t.externalCallback()}),t.openFilterSettings=function(t,e){t(e)},t.toggleFilterState=function(){t.externalCallback()},t.filterChange=function(e){console.log("filterChange",e),t.externalCallback()},t.removeFilter=function(e){t.filters=t.filters.map(function(t){return console.log("item",t),t.id!==e.id&&t.name!==e.name?t:void 0}).filter(function(t){return!!t}),t.externalCallback()}}}}}()},{}],20:[function(t,e,n){!function(){"use strict";var n=t("../../services/metaService");e.exports=function(t){return{restrict:"AE",scope:{items:"=",grouping:"=",tabs:"=",columns:"=",entityType:"@"},templateUrl:"views/directives/groupTable/table-body-view.html",link:function(e,i,o){console.log("Table body component",e.items);var a=e.entityType,l=[];e.keywordsReady=!1,n.getBaseAttrs().then(function(t){l=t[a],e.keywordsReady=!0,console.log("keywords",l),e.$apply()}),e.openEntityMenu=function(t,e){t(e)},e.bindCell=function(t,e){if(e.hasOwnProperty("id"))return t[e.name];var n;for(n=0;n<l.length;n+=1)if(l[n].name===e.name)return t[l[n].key]},e.rowCallback=function(t){console.log("open additions!",t),"portfolio"===e.entityType&&e.$parent.externalGetAdditions({id:t.id}).then(function(){e.$parent.additionsStatus.additionsWorkArea=!0,console.log("work?",e)})},e.deleteEntity=function(e,n){t.show({controller:"PortfolioDeleteDialogController as vm",templateUrl:"views/administration/portfolio-delete-dialog-view.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,locals:{portfolio:n}})},e.editEntity=function(n,i){t.show({controller:"PortfolioEditDialogController as vm",templateUrl:"views/administration/portfolio-edit-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{parentScope:e,portfolio:i}})}}}}}()},{"../../services/metaService":40}],21:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/group-table-shell-view.html",scope:{tabs:"=",items:"=",filters:"=",columns:"=",grouping:"=",itemAdditions:"=",itemAdditionsColumns:"=",itemAdditionsFilters:"=",itemAdditionsSorting:"=",externalGetAdditions:"&",externalCallback:"&",externalAdditionsCallback:"&",externalUpdateItem:"&",externalUpdateItemAdditions:"&",additionsStatus:"="},link:function(t,e,n){console.log("Group table initialized..."),console.log("itemAdditions",t.itemAdditions),t.showAdditions=function(){return!(!t.additionsStatus.editor&&!t.additionsStatus.table)}}}}}()},{}],22:[function(t,e,n){!function(){"use strict";var n=t("../services/metaService"),i=t("../services/layoutService");e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/layout-constructor-field-view.html",scope:{tab:"=",row:"=",column:"="},link:function(t,e,o){function a(){var e;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].row===t.row&&t.tab.layout.fields[e].column===t.column&&(t.item=t.tab.layout.fields[e])}function l(){var e,n,i;for(e=0;e<t.attrs.length;e+=1)if(t.attrs[e].id&&t.item.id)t.attrs[e].id===t.item.id&&(t.attribute=t.attrs[e]);else{for(n=0;n<t.baseAttrs.length;n+=1)t.baseAttrs[n].name===t.item.name&&(t.attribute=t.baseAttrs[n]);if(!t.attribute)for(i=0;i<t.layoutAttrs.length;i+=1)t.layoutAttrs[i].name===t.item.name&&(t.attribute=t.layoutAttrs[i])}}function r(){var e,n,i;for(i=0;i<u.length;i+=1)for(e=0;e<u[i].layout.fields.length;e+=1)for(n=0;n<t.attrsLeft.length;n+=1)u[i].layout.fields[e].id&&t.attrsLeft[n].id?u[i].layout.fields[e].id===t.attrsLeft[n].id&&(t.attribute?t.attribute.id!==t.attrsLeft[n].id&&(t.attrsLeft.splice(n,1),n-=1):(t.attrsLeft.splice(n,1),n-=1)):u[i].layout.fields[e].name===t.attrsLeft[n].name&&(t.attribute?t.attribute.name!==t.attrsLeft[n].name&&(t.attrsLeft.splice(n,1),n-=1):(t.attrsLeft.splice(n,1),n-=1))}function s(){var e,n,i;for(n=0;n<t.layoutAttrs.length;n+=1){for(i=!1,e=0;e<t.attrsLeft.length;e+=1)t.attrsLeft[e].name===t.layoutAttrs[n].name&&(i=!0);i||(console.log("scope.attrsLeft",t.attrsLeft),t.attrsLeft.push(t.layoutAttrs[n]))}}var c=n.getValueTypes();t.item={column:t.column,row:t.row,colspan:1},t.specialOptionTemplate="",a(),t.fieldType=null,t.editMode=!1,t.attrs=t.$parent.vm.attrs,t.baseAttrs=t.$parent.vm.baseAttrs[t.$parent.vm.entityType],t.layoutAttrs=i.getLayoutAttrs();var u=t.$parent.vm.tabs;t.attrsLeft=t.attrs.concat(t.baseAttrs),t.attrsLeft=t.attrsLeft.concat(t.layoutAttrs),t.toggleEditMode=function(){t.editMode=!t.editMode},t.saveLayout=function(){var e,n=!1;t.row?e=t.row:(e=t.tab.layout.rows+1,t.tab.layout.rows=t.tab.layout.rows+1,n=!0);var i,o=!1;for(i=0;i<t.tab.layout.fields.length;i+=1)t.tab.layout.fields[i].row===e&&t.tab.layout.fields[i].column===t.column&&(t.tab.layout.fields[i].hasOwnProperty("id")?t.tab.layout.fields[i].id=t.attribute.id:t.tab.layout.fields[i].name=t.attribute.name,t.tab.layout.fields[i].colspan=t.item.colspan,o=!0);o||(console.log("not exist"),t.attribute.hasOwnProperty("id")?t.tab.layout.fields.push({row:e,column:t.column,id:t.attribute.id,colspan:t.item.colspan}):t.tab.layout.fields.push({row:e,column:t.column,name:t.attribute.name,colspan:t.item.colspan})),n&&(t.attribute=null),t.editMode=!1},t.getCols=function(){return[1,2]},t.changeModel=function(e){t.attribute=e},t.deleteAttribute=function(){var e,n=1;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].row==t.row&&t.tab.layout.fields[e].column==t.column&&(t.tab.layout.fields.splice(e,1),e-=1),t.tab.layout.fields[e].row>n&&(n=t.tab.layout.fields[e].row);t.attribute=null,t.tab.layout.rows=n,console.log(t.tab.layout.fields)},l(),r(),s(),t.bindType=function(){var e;if("decoration"==t.attribute.value_type)return t.attribute.value_type;for(e=0;e<c.length;e+=1)if(t.attribute.value_type===c[e].value)return c[e].display_name},t.checkForSpecialOptions=function(){if(t.attribute.hasOwnProperty("id")){if(10==t.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/string.html",!0}else{if("Notes"===t.attribute.name)return t.specialOptionTemplate="views/attribute-options/notes.html",!0;if(10==t.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/string.html",!0}return!1}}}}}()},{"../services/layoutService":39,"../services/metaService":40}],23:[function(t,e,n){!function(){"use strict";e.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-link-view.html",link:function(t,e){var n=e.parent().controller();t.focusSection=function(){n.autoFocusContent=!0}}}}}()},{}],24:[function(t,e,n){!function(){"use strict";e.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-toggle-view.html",link:function(t,e){var n=e.parent().controller();t.isOpen=function(){return n.isOpen(t.section)},t.toggle=function(){n.toggleOpen(t.section)}}}}}()},{}],25:[function(t,e,n){!function(){"use strict";var t=function(){var t;return localStorage.getItem("view")?t=JSON.parse(localStorage.getItem("view")):(t={id:1,entityType:"portfolio",table:{columns:[{key:"name",options:{styles:{width:108},sort:"ASC"}},{key:"short_name",options:{styles:{width:138},sort:null}},{id:5,options:{styles:{width:120},sort:null}}],filters:[{id:5,options:{query:"russia",enabled:!1}}],grouping:[{id:7,options:{styles:{width:178},sort:"DESC"}}],sorting:[]},tableAdditions:{additionsType:"",foreignEntityId:1,entityType:"transaction",table:{columns:[{key:"transaction_class",options:{styles:{width:108},sort:"ASC"}},{key:"transaction_currency",options:{styles:{width:140},sort:null}}],filters:[],sorting:[]}},tabs:[{id:1,name:"General",layout:{columns:3,rows:2,fields:[{name:"Name",row:1,column:1,colspan:1},{name:"Notes",row:1,column:2,colspan:1},{id:6,row:2,column:3,colspan:1}]}},{id:2,name:"Attributes",layout:{columns:2,rows:1,fields:[{id:1,row:1,column:1,colspan:1},{id:7,row:1,column:2,colspan:1}]}},{id:3,name:"Custom",layout:{columns:1,rows:1,fields:[{name:"Short name",row:1,column:1,colspan:1}]}}]},localStorage.setItem("view",JSON.stringify(t))),new Promise(function(e,n){e(t)})},n=function(t){return new Promise(function(e,n){localStorage.setItem("view",JSON.stringify(t)),e(void 0)})};e.exports={getView:t,save:n}}()},{}],26:[function(t,e,n){!function(){var t=function(t){return new Promise(function(e,n){e([{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,
cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]}])})};e.exports={getList:t}}()},{}],27:[function(t,e,n){!function(){"use strict";var t=function(){return window.fetch("portal/content/json/menu.json").then(function(t){return t.json()})},n=function(){return window.fetch("portal/content/json/general-attrs.json").then(function(t){return t.json()})},i=function(){return[{value:20,display_name:"Number"},{value:10,display_name:"String"},{value:40,display_name:"Date"},{value:30,display_name:"Classifier"}]};e.exports={getMenu:t,getBaseAttrs:n,getValueTypes:i}}()},{}],28:[function(t,e,n){!function(){"use strict";var t="/api/v1/",n=function(){return window.fetch(t+"portfolios/portfolio-classifier/node/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},i=function(e){return window.fetch(t+"portfolios/portfolio-classifier/node/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},o=function(){return window.fetch(t+"portfolios/portfolio-classifier/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(e){return window.fetch(t+"portfolios/portfolio-classifier/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(){return window.fetch(t+"portfolios/portfolio-attribute-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(e){return window.fetch(t+"portfolios/portfolio-attribute-type/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(){return window.fetch(t+"portfolios/portfolio/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(e){return window.fetch(t+"portfolios/portfolio/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},u=function(e){return window.fetch(t+"portfolios/portfolio/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},d=function(e,n){return window.fetch(t+"portfolios/portfolio/"+e+"/",{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(t){return t.json()})},p=function(e){return window.fetch(t+"portfolios/portfolio/"+e+"/",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getClassifierNodeList:n,getClassifierNodeByKey:i,getClassifierList:o,getClassifierByKey:a,getAttributeTypeList:l,getAttributeTypeByKey:r,getList:s,getByKey:c,create:u,update:d,deleteByKey:p}}()},{}],29:[function(t,e,n){!function(){"use strict";var t="/api/v1/",n=function(t){console.log("Method: "+t+". Cannot get data from server")},i=function(e,i){return window.fetch(t+"users/login/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({username:e,password:i})}).then(function(t){return t.json()})["catch"](function(){return n("login"),[]})},o=function(){return window.fetch(t+"users/logout/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(){return window.fetch(t+"users/ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(){return window.fetch(t+"users/protected-ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(){return window.fetch(t+"users/user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(e){return window.fetch(t+"users/user/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(e,n){return window.fetch(t+"users/user/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(t){return t.json()})},u=function(e,n){return window.fetch(t+"users/user/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(t){return t.json()})},d=function(e){return window.fetch(t+"users/user/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},p=function(){return window.fetch(t+"users/master-user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},m=function(e){return window.fetch(t+"users/master-user/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},g=function(e,n){return window.fetch(t+"users/master-user/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(t){return t.json()})},f=function(e,n){return window.fetch(t+"users/master-user/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(t){return t.json()})},b=function(e){return window.fetch(t+"users/master-user/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},v=function(){return window.fetch(t+"users/member/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},h=function(e){return window.fetch(t+"users/member/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},y=function(e,n){return window.fetch(t+"users/member/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(t){return t.json()})},_=function(e,n){return window.fetch(t+"users/member/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(n)}).then(function(t){return t.json()})},w=function(e){return window.fetch(t+"users/member/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},A=function(){return window.fetch(t+"users/group/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={login:i,logout:o,ping:a,protectedPing:l,getList:r,getByKey:s,update:c,patch:u,deleteByKey:d,getMasterList:p,getMasterByKey:m,updateMaster:g,patchMaster:f,deleteMasterByKey:b,getMemberList:v,getMemberByKey:h,updateMember:y,patchMember:_,deleteMemberByKey:w,getGroupList:A}}()},{}],30:[function(t,e,n){!function(){e.exports=function(t,e){t.state("app",{url:"",templateUrl:"views/shell-view.html",controller:"ShellController as vm"}),t.state("app.dashboard",{url:"/",templateUrl:"views/dashboard-view.html",controller:"DashboardController as vm"}),t.state("app.administration",{url:"","abstract":!0,template:"<div data-ui-view></div>"}).state("app.portfolio",{url:"/portfolio",templateUrl:"views/administration/portfolio-view.html",controller:"PortfolioController as vm"}),t.state("app.data-constructor",{url:"/layout/:entityName",templateUrl:"views/entity-data-constructor-view.html",controller:"EntityDataConstructorController as vm"}),e.otherwise("/")}}()},{}],31:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/demo/demoPortfolioRepository"),i=function(){return n.getView()},o=function(t){return n.save(t)};e.exports={getView:i,save:o}}()},{"../../repositories/demo/demoPortfolioRepository":25}],32:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/demo/demoTransactionsRepository"),i=function(t){return n.getList(t)};e.exports={getList:i}}()},{"../../repositories/demo/demoTransactionsRepository":26}],33:[function(t,e,n){!function(){"use strict";var t=function(t){var e,n=[];for(e=1;t>=e;e+=1)n.push(e);return n};e.exports={range:t}}()},{}],34:[function(t,e,n){!function(){"use strict";var t=function(t,e){return t};e.exports={setColumns:t}}()},{}],35:[function(t,e,n){!function(){"use strict";var t=function(t,e){if(console.log("FILTERING",t,e),e.length){var n,i,o,a,l=[],r=!0;for(n=0;n<t.length;n+=1){for(o=t[n],r=!0,i=0;i<e.length;i+=1)a=e[i],a.options||(a.options={enabled:!0,query:""}),console.log("filter",a),a.options.enabled&&a.options.query&&(a.key?-1==o[a.key].toLocaleLowerCase().indexOf(a.options.query.toLocaleLowerCase())&&(r=!1):-1==o[a.name].toLocaleLowerCase().indexOf(a.options.query.toLocaleLowerCase())&&(r=!1));r&&l.push(o)}return console.log("itemsFiltered",l),l}return t};e.exports={setFilters:t}}()},{}],36:[function(t,e,n){!function(){"use strict";var n=t("./groupingService"),i=t("./filteringService"),o=t("./sortingService"),a=t("./columnsService"),l=function(){function t(){console.log("instance created"),this.setItems=function(t){l=t},this.columns=s,this.grouping=c,this.filtering=u,this.sorting=d,this.projection=function(){return l},this.additions={setItems:function(t){r=t},columns:p,filtering:m,sorting:g,projection:function(){return r}}}var e,l=[],r=[],s={setColumns:function(t){console.log("setColumns",l),l=a.setColumns(l,t)}},c={setGroups:function(t){l=n.setGroups(l,t)}},u={setFilters:function(t){l=i.setFilters(l,t)}},d={group:{sort:function(t){l=o.group.sort(l,t)}},column:{sort:function(t){r=o.column.sort(l,t)}}},p={setColumns:function(t){console.log("setColumns",l),r=a.setColumns(r,t)}},m={setFilters:function(t){r=i.setFilters(r,t)}},g={column:{sort:function(t){r=o.column.sort(r,t)}}};return t.getInstance=function(){return e||(e=new t),e},t}();e.exports=l}()},{"./columnsService":34,"./filteringService":35,"./groupingService":37,"./sortingService":38}],37:[function(t,e,n){!function(){"use strict";var t=function(t){var e,n=[],i=Object.keys(t);for(e=0;e<i.length;e+=1)n.push(t[i[e]]);return n},n=function(e,n){function i(t,e){var n,i;for(n=0;n<e.length;n+=1)for(i=0;i<t.attributes.length;a+=1)if(e.id===t.attributes.attribute_type||e.name===t.attributes.attribute_name)return!0;return!1}function o(t){return t.classifier?t.classifier:t.value_date?t.value_date:t.value_float?t.value_float:t.value_string}var a,l,r,s,c=[],u=[],d=[{key:"name",caption:"Name"},{key:"short_name",caption:"Short name"},{key:"notes",caption:"Notes"}],p=!0,m="",g=[];if(n.length){for(a=0;a<e.length;a+=1)if(p=i(e[a],n)){for(m="",g=[],l=0;l<n.length;l+=1)for(r=0;r<e[a].attributes.length;r+=1){if(n[l].hasOwnProperty("id"))n[l].id===e[a].attributes[r].attribute_type&&g.push(o(e[a].attributes[r]));else for(s=0;s<d.length;s+=1)n[l].name===d[s].caption&&-1===g.indexOf(e[a][d[s].key])&&g.push(e[a][d[s].key]);if(l==n.length-1)if(n[l].hasOwnProperty("id"))n[l].id===e[a].attributes[r].attribute_type&&(m+=o(e[a].attributes[r]));else for(s=0;s<d.length;s+=1)l==n.length-1&&n[l].name===d[s].caption&&(m+=d[s].caption);else if(n[l].hasOwnProperty("id"))n[l].id===e[a].attributes[r].attribute_type&&(m=m+o(e[a].attributes[r])+"_");else for(s=0;s<d.length;s+=1)n[l].name===d[s].caption&&(m=m+d[s].caption+"_")}c[m]||(c[m]={groups:g,items:[]}),c[m].items.push(e[a])}return u=t(c),console.log("Items grouped",u),u}return console.log("items",e),e};e.exports={setGroups:n}}()},{}],38:[function(t,e,n){!function(){"use strict";var t=function(t,e){var n=t;return n},n=function(t,e){var n=t;return n};e.exports={group:{sort:t},column:{sort:n}}}()},{}],39:[function(t,e,n){!function(){"use strict";var t=function(){return[{key:"layoutLine",name:"Line",value_type:"decoration"},{key:"layoutLineWithLabel",name:"Labeled Line",value_type:"decoration"}]};e.exports={getLayoutAttrs:t}}()},{}],40:[function(t,e,n){!function(){var n=t("../repositories/metaRepository"),i=function(){return n.getMenu()},o=function(){return n.getBaseAttrs()},a=function(){return n.getValueTypes()};e.exports={getMenu:i,getBaseAttrs:o,getValueTypes:a}}()},{"../repositories/metaRepository":27}],41:[function(t,e,n){!function(){"use strict";var n=t("./portfolioService"),i=function(t){return new Promise(function(e,i){var o=[];n.getAttributeTypeList().then(function(n){var i,a,l=n.results;o=t.map(function(t){for(i=0;i<l.length;i+=1)for(a=0;a<t.attributes.length;a+=1)t.attributes[a].attribute_type===l[i].id&&(t.attributes[a].attirbute_name=l[i].name,t[l[i].name]=t.attributes[a].value_string);return t}),e(o)})})};e.exports={transformItems:i}}()},{"./portfolioService":42}],42:[function(t,e,n){!function(){var n=t("../repositories/portfolioRepository"),i=function(){return n.getClassifierNodeList()},o=function(t){return n.getClassifierNodeByKey(t)},a=function(){return n.getClassifierList()},l=function(t){return n.getClassifierByKey(t)},r=function(){return n.getAttributeTypeList()},s=function(t){return n.getAttributeTypeByKey(t)},c=function(){return n.getList()},u=function(t){return n.getByKey(t)},d=function(t){return n.create(t)},p=function(t,e){return n.update(t,e)},m=function(t){return n.deleteByKey(t)};e.exports={getClassifierNodeList:i,getClassifierNodeByKey:o,getClassifierList:a,getClassifierByKey:l,getAttributeTypeList:r,getAttributeTypeByKey:s,getList:c,getByKey:u,create:d,update:p,deleteByKey:m}}()},{"../repositories/portfolioRepository":28}],43:[function(t,e,n){!function(){"use strict";var n=t("../repositories/usersRepository"),i=function(t,e){return n.login(t,e)},o=function(){return n.logout()},a=function(){return n.ping()},l=function(){return n.protectedPing()},r=function(){return n.getList()},s=function(t){return n.getByKey(t)},c=function(t,e){return n.update(t,e)},u=function(t,e){return n.patch(t,e)},d=function(t){return n.deleteByKey(t)},p=function(){return n.getMasterList()},m=function(t){return n.getMasterByKey(t)},g=function(t,e){return n.updateMaster(t,e)},f=function(t,e){return n.patchMaster(t,e)},b=function(t){return n.deleteMasterByKey(t)},v=function(){return n.getMemberList()},h=function(t){return n.getMemberByKey(t)},y=function(t,e){return n.updateMember(t,e)},_=function(t,e){return n.patchMember(t,e)},w=function(t){return n.deleteMemberByKey(t)},A=function(){return n.getGroupList()};e.exports={login:i,logout:o,ping:a,protectedPing:l,getList:r,getByKey:s,update:c,patch:u,deleteByKey:d,getMasterList:p,getMasterByKey:m,updateMaster:g,patchMaster:f,deleteMasterByKey:b,getMemberList:v,getMemberByKey:h,updateMember:y,patchMember:_,deleteMemberByKey:w,getGroupList:A}}()},{"../repositories/usersRepository":29}],44:[function(t,e,n){"use strict";var i=angular.module("app",["ngAria","ngMaterial","ngMessages","ngMdIcons","ngResource","ngSanitize","ui.router",angularDragula(angular)]);i.config(["$stateProvider","$urlRouterProvider",t("./app/router.js")]),i.run(function(){console.log("App initialized")}),i.controller("ShellController",["$scope","$state",t("./app/controllers/shellController")]),i.controller("SideNavController",["$scope",t("./app/controllers/sideNavController")]),i.controller("DashboardController",["$scope",t("./app/controllers/dashboardController")]),i.controller("PortfolioController",["$scope","$mdDialog","$mdMedia",t("./app/controllers/administration/portfolioController")]),i.controller("PortfolioAddDialogController",["$scope","$mdDialog","parentScope","$state",t("./app/controllers/administration/portfolioAddDialogController")]),i.controller("PortfolioEditDialogController",["$scope","$mdDialog","parentScope","portfolio","$state",t("./app/controllers/administration/portfolioEditDialogController")]),i.controller("PortfolioDeleteDialogController",["$scope","$mdDialog","portfolio",t("./app/controllers/administration/PortfolioDeleteDialogController")]),i.controller("EntityDataConstructorController",["$scope","$stateParams","$state",t("./app/controllers/entityDataConstructorController")]),i.controller("EntityDataConstructorDialogController",["$scope","$mdDialog","parentScope",t("./app/controllers/entityDataConstructorDialogController")]),i.directive("menuToggle",[t("./app/directives/menuToggleDirective")]),i.directive("menuLink",[t("./app/directives/menuLinkDirective")]),i.directive("bindFieldControl",[t("./app/directives/bindFieldControlDirective")]),i.directive("layoutConstructorField",[t("./app/directives/layoutConstructorFieldDirective")]),i.directive("addTabEc",["$compile",t("./app/directives/addTabEcDirective")]),i.directive("groupTable",[t("./app/directives/groupTable/gTableComponent")]),i.directive("groupTableBody",["$mdDialog",t("./app/directives/groupTable/gTableBodyComponent")]),i.directive("groupSidebarFilter",[t("./app/directives/groupTable/gSidebarFilterComponent")]),i.directive("groupReportSettings",[t("./app/directives/groupTable/gReportSettingsComponent")]),i.directive("groupGrouping",["$mdDialog",t("./app/directives/groupTable/gGroupingComponent")]),i.directive("groupColumns",[t("./app/directives/groupTable/gColumnsComponent")]),i.directive("groupAligner",[t("./app/directives/groupTable/gGroupAlignerComponent")]),i.directive("gDialogDraggable",[t("./app/directives/groupTable/gDialogDraggableComponent")]),i.directive("groupHeightAligner",[t("./app/directives/groupTable/gHeightAlignerComponent")]),i.controller("gModalController",["$scope","$mdDialog","parentScope","callback",t("./app/directives/groupTable/gModalComponent")]),t("./templates.min.js")},{"./app/controllers/administration/PortfolioDeleteDialogController":1,"./app/controllers/administration/portfolioAddDialogController":2,"./app/controllers/administration/portfolioController":3,"./app/controllers/administration/portfolioEditDialogController":4,"./app/controllers/dashboardController":5,"./app/controllers/entityDataConstructorController":6,"./app/controllers/entityDataConstructorDialogController":7,"./app/controllers/shellController":8,"./app/controllers/sideNavController":9,"./app/directives/addTabEcDirective":10,"./app/directives/bindFieldControlDirective":11,"./app/directives/groupTable/gColumnsComponent":12,"./app/directives/groupTable/gDialogDraggableComponent":13,"./app/directives/groupTable/gGroupAlignerComponent":14,"./app/directives/groupTable/gGroupingComponent":15,"./app/directives/groupTable/gHeightAlignerComponent":16,"./app/directives/groupTable/gModalComponent":17,"./app/directives/groupTable/gReportSettingsComponent":18,"./app/directives/groupTable/gSidebarFilterComponent":19,"./app/directives/groupTable/gTableBodyComponent":20,"./app/directives/groupTable/gTableComponent":21,"./app/directives/layoutConstructorFieldDirective":22,"./app/directives/menuLinkDirective":23,"./app/directives/menuToggleDirective":24,"./app/router.js":30,"./templates.min.js":45}],45:[function(t,e,n){!function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/dashboard-view.html","dashboard!")}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/entity-data-constructor-view.html",'<div class="entity-constructor"><div data-ng-if="vm.attrs.length" class="ec-tabs-holder" data-add-tab-ec data-tabs="vm.tabs"><h1 class="ec-breadcrumbs"><span>PORTFOLIO ></span> INPUT FORM EDITOR</h1><md-tabs md-border-bottom md-dynamic-height><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><div data-ng-if="!tab.editState"><span class="ec-tab-item-name">{{tab.name}}</span><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.deleteTab(tab)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div><div data-ng-if="tab.editState"><md-input-container class="ec-tab-item-edit"><label>Tab name</label><input ng-model="tab.captionName"></md-input-container><md-button class="ec-tab-btn" data-ng-click="vm.saveEditedTab(tab)"><ng-md-icon icon="save"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab, \'back\', $index)"><ng-md-icon icon="cancel"></ng-md-icon></md-button></div></md-tab-label><md-tab-body><div class="ec-md-content ec-layout-tab"><div class="ec-layout-box"><span class="select-layout-caption">Select layout</span><md-button class="{{tab.layout.columns === item ? \'active\' : \'\' }} ec-layout-btn" data-ng-click="vm.setLayoutColumns(tab, item)" data-ng-repeat="item in vm.boxColumns"><ng-md-icon icon="stop" data-ng-repeat="icon in vm.range(item)"></ng-md-icon></md-button></div><div class="ec-layout"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div data-ng-repeat="column in vm.range(tab.layout.columns)" flex="{{vm.bindFlex(tab, row, column)}}" data-ng-if="vm.checkColspan(tab, row, column)"><layout-constructor-field tab="tab" row="row" column="column"></layout-constructor-field></div></div><div layout="row"><div data-ng-repeat="column in vm.range(tab.layout.columns)" flex="{{vm.bindFlex(tab, 0, column)}}"><layout-constructor-field tab="tab" row="row" column="column"></layout-constructor-field></div></div></div></div></md-tab-body></md-tab></md-tabs><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.saveLayout()">Save & Return</md-button></div></div>');
}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/shell-view.html",'<div layout="row" class="min-height"><div layout="row" class="sidenav-wrapper" data-ng-controller="SideNavController as vm" data-ng-include="\'views/side-nav-view.html\'"></div><div layout="column" class="relative" layout-fill role="main"><md-toolbar ng-show="!showSearch" class="header"><div class="md-toolbar-tools"><h1>{{vm.currentState()}}</h1><md-button ng-click="toggleSidenav(\'left\')" hide-gt-md aria-label="Menu"><ng-md-icon icon="menu"></ng-md-icon></md-button><!--<a href="#" data-ng-click="vm.logout()">Log out</a>--></div></md-toolbar><md-toolbar class="md-hue-1" ng-show="showSearch"><div class="md-toolbar-tools"><md-button ng-click="showSearch = !showSearch" aria-label="Back"><ng-md-icon icon="arrow_back"></ng-md-icon></md-button><h3 flex="10">Back</h3><md-input-container md-theme="input" flex><label>&nbsp;</label><input ng-model="search.who" placeholder="enter search"></md-input-container><md-button aria-label="Search" ng-click="showSearch = !showSearch"><ng-md-icon icon="search"></ng-md-icon></md-button><md-button aria-label="Open Settings" ng-click="showListBottomSheet($event)"><ng-md-icon icon="more_vert"></ng-md-icon></md-button></div></md-toolbar><md-content flex md-scroll-y><div data-ui-view class="shell-view min-height"></div></md-content></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/side-nav-view.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z1" md-component-id="left" md-is-locked-open="$mdMedia(\'gt-sm\')"><md-toolbar md-scroll-shrink><div class="md-toolbar-tools"><img src="portal/content/img/finmars_logo.png" alt="" height="40" style="margin: 0 auto"></div></md-toolbar><md-content flex role="navigation"><ul class="side-menu"><li data-ng-repeat="section in vm.sections" class="parent-list-item" data-ng-class="{\'parentActive\' : vm.isSectionSelected(section)}"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul><md-button hide-gt-md aria-label="resize" class="to-small-btn fab"><ng-md-icon icon="chevron_left"></ng-md-icon></md-button></md-content></md-sidenav>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/notes.html",'<div><md-input-container class="md-block"><label>Row count</label><input data-ng-model="attr.options.rowCount" type="number"></md-input-container><md-input-container class="md-block" flex-gt-sm><label>Frame</label><md-select ng-model="attr.options.frame"><md-option value="0">No border</md-option><md-option value="1">Border</md-option></md-select></md-input-container></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/string.html",'<div><md-input-container class="md-block"><label>Copy text from</label><md-select ng-model="attr.options.copyFrom"><md-option data-ng-repeat="item in attrs" ng-value="item">{{item.name}}</md-option></md-select></md-input-container></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/administration/portfolio-add-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="add-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Add portfolio</h2><span flex></span></div></md-toolbar><md-dialog-content data-ng-if="vm.attrs.length"><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="row === field.row"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab></md-tabs></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.editLayout()">Select fields</md-button><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.save()" style="margin-right:20px">Add</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/administration/portfolio-delete-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="delete-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Delete {{vm.portfolio.name}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>Are you sure to delete this portfolio <b>{{vm.portfolio.name}}?</b></p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.delete()" style="margin-right:20px">Delete</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/administration/portfolio-edit-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="edit-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Add portfolio</h2><span flex></span></div></md-toolbar><md-dialog-content data-ng-if="vm.attrs.length"><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="row === field.row"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab></md-tabs></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.editLayout()">Select fields</md-button><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.save()" style="margin-right:20px">Add</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/administration/portfolio-view.html",'<md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addEntity($event)"><ng-md-icon icon="add"></ng-md-icon></md-button><div class="lock-size g-table-dial" layout="row" layout-align="center center"><md-fab-speed-dial md-direction="up" md-open="false" class="md-scale"><md-fab-trigger><md-button aria-label="menu" class="md-fab" data-ng-if="vm.checkAdditionStatus()"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button aria-label="menu" class="md-fab" data-ng-if="!vm.checkAdditionStatus()" data-ng-click="vm.hideAdditions()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></md-fab-trigger><md-fab-actions><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openDataViewPanel()"><ng-md-icon icon="work"></ng-md-icon><md-tooltip md-direction="right">Open data view panel</md-tooltip></md-button><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openEditorViewPanel()"><ng-md-icon icon="view_stream"></ng-md-icon><md-tooltip md-direction="right">Open editor split panel</md-tooltip></md-button></md-fab-actions></md-fab-speed-dial></div><div data-ng-if="vm.tableIsReady"><group-table tabs="vm.tabs" items="vm.groupTableService.projection()" columns="vm.columns" filters="vm.filters" grouping="vm.grouping" sorting="vm.sorting" item-additions="vm.groupTableService.additions.projection()" item-additions-columns="vm.entityAdditionsColumns" item-additions-filters="vm.entityAdditionsFilters" item-additions-sorting="vm.entityAdditionsSorting" external-get-additions="vm.getEntityAdditions(id)" external-callback="vm.updateTable()" external-additions-callback="vm.updateAdditionsTable()" external-update-item="vm.updateItem()" external-update-item-additions="vm.updateItemAddition()" additions-status="vm.additionsStatus"></group-table></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/bind-field-control-view.html",'<div><div data-ng-if="fieldType[\'display_name\'] === \'Number\'"><md-input-container class="md-block"><label>{{item.name}}</label><input data-ng-model="portfolio[getModelKey()]" type="number"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'String\'"><md-input-container class="md-block"><label>{{item.name}}</label><input data-ng-model="portfolio[getModelKey()]"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Date\'"><span>Date is not ready</span></div><div data-ng-if="fieldType[\'display_name\'] === \'Classifier\'"><span>Classifier is not ready</span></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/layout-constructor-field-view.html",'<div><div data-ng-if="!editMode"><div data-ng-if="attribute"><md-card class="ec-attr-card"><div layout="row"><p class="name-holder" flex="60"><b><span data-ng-bind="attribute.name"></span></b> (<span data-ng-bind="bindType()"></span>)</p><div class="options-holder" flex="40"><md-button aria-label="delete attribute" data-ng-click="deleteAttribute()"><ng-md-icon icon="delete"></ng-md-icon></md-button><md-button aria-label="edit attribute" data-ng-click="toggleEditMode()"><ng-md-icon icon="mode_edit"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!attribute"><md-card class="ec-attr-card"><md-button aria-label="add field" data-ng-click="toggleEditMode()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button></md-card></div></div><div data-ng-if="editMode"><md-card class="ec-attr-card"><md-input-container class="md-block" flex-gt-sm><label>Attribute</label><md-select ng-model="attribute" ng-change="changeModel(attribute)"><md-option ng-repeat="attr in attrsLeft" ng-value="attr">{{attr.name}}</md-option></md-select></md-input-container><md-input-container class="md-block" flex-gt-sm><label>Colspan</label><md-select ng-model="item.colspan"><md-option ng-repeat="colspan in getCols()" value="{{colspan}}">Fit {{colspan}} column</md-option></md-select></md-input-container><div data-ng-if="checkForSpecialOptions()"><div data-ng-include="specialOptionTemplate"></div></div><md-button aria-label="cancel" data-ng-click="toggleEditMode()">Cancel</md-button><md-button aria-label="save layout" data-ng-click="saveLayout()">Ok</md-button></md-card></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/menu-link-view.html",'<md-button ui-sref-active="active" class="sidemenu-btn" ui-sref="{{section.state}}" ng-click="focusSection()">{{section.title}} <span class="md-visually-hidden" data-ng-if="isSelected()">current page</span></md-button>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/menu-toggle-view.html",'<md-button class="md-button-toggle sidemenu-btn" ng-click="toggle()" aria-controls="side-menu-{{section.title}}" flex layout="row" aria-expanded="{{isOpen()}}">{{section.title}}<ng-md-icon icon="expand_more" class="dropdown-icon" data-ng-if="!isOpen()"></ng-md-icon><ng-md-icon icon="expand_less" class="dropdown-icon" data-ng-if="isOpen()"></ng-md-icon><!--<span aria-hidden="true" class="pull-right fa fa-chevron-down md-toggle-icon" data-ng-class="{\'toggled\' : isOpen()}"></span>--></md-button><ul data-ng-show="isOpen()" id="side-menu-{{section.title}}" class="menu-toggle-list"><li data-ng-repeat="page in section.pages"><menu-link section="page"></menu-link></li></ul>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/columns-view.html",'<div class="g-columns-component g-thead"><div class="g-cell-select all"><ng-md-icon icon="signal_cellular_0_bar"></ng-md-icon></div><div dragula="\'columns-bag\'" dragula-model="columns" class="g-columns-holder"><md-card data-ng-repeat="column in columns" class="g-cell g-column"><div class="sort"><md-button class="" aria="open settings" data-ng-click="openGroupSettings()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{column.name}}</div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openColumnSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div><div class="resize-slider"></div></md-card></div><div class="drop-new-field" id="columnsbag" data-ng-if="!isItemAddition">Drop New Field</div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/group-table-shell-view.html",'<div class="g-wrapper" group-height-aligner additions-status="additionsStatus"><div class="g-workarea main-area"><div class="g-grouping-section"><group-grouping tabs="tabs" grouping="grouping" filters="filters" columns="columns" external-callback="externalCallback()"></group-grouping></div><div class="g-table-section"><div class="g-table-wrap" group-aligner items="items"><group-columns columns="columns" is-item-addition="false"></group-columns><group-table-body items="items" tabs="tabs" class="group-table-body" entity-type="portfolio" grouping="grouping" columns="columns"></group-table-body></div></div></div><div class="g-sidebar main-sidebar"><div class="g-filter"><group-sidebar-filter filters="filters" external-callback="externalCallback()"></group-sidebar-filter></div></div><div class="g-additions" data-ng-if="showAdditions()"><div class="g-height-slider"></div><div class="g-additions-data-editor"></div><div class="g-additions-workarea"><div class="g-workarea"><div class="g-table-section"><div class="g-table-wrap" group-aligner items="itemAdditions"><group-columns columns="itemAdditionsColumns" is-item-addition="true"></group-columns><group-table-body items="itemAdditions" class="group-table-body" entity-type="transaction" columns="itemAdditionsColumns"></group-table-body></div></div></div><div class="g-sidebar additions-sidebar"><div class="g-filter"><group-sidebar-filter filters="itemAdditionsFilters" external-callback="externalAdditionsCallback()"></group-sidebar-filter></div></div></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/grouping-view.html",'<div class="g-grouping-component"><div><p class="g-drag-section-title"><span class="g-meta-circle green">G</span>ROUPING AREA</p></div><div class="g-second-line"><div class="groups-holder"><div dragula="\'group-bag\'" dragula-model="grouping"><md-card data-ng-repeat="item in grouping" class="group-item card"><div class="add"><md-button class="" aria="hide/show grouping" data-ng-click="toggleGroup()"><ng-md-icon icon="add"></ng-md-icon></md-button></div><div class="sort"><md-button class="" aria="open settings" data-ng-click="openGroupSettings()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{item.name}}</div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-group" id="groupsbag">Drop level {{grouping.length + 1}} Group</div></div><md-button class="md-fab g-settings-btn" data-ng-click="openModalSettings($event)"><ng-md-icon icon="view_week"></ng-md-icon></md-button></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/modal-view.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools"><h2 style="user-select: none">DRAG FIELDS FROM HERE</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.attrs.length"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in tab.attrs"><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.attrs.length" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/sidebar-filter-view.html",'<div class="g-sidebar-filter-component"><p class="area-title"><span class="g-meta-circle blue">F</span>ILTER AREA</p><md-card data-ng-repeat="filter in filters" class="{{filter.options.enabled ? \'\' : \'f-disabled\' }} g-filter-item" layout="row"><md-checkbox ng-model="filter.options.enabled" aria="filters" class="md-primary" ng-change="toggleFilterState(filter)" flex="15"></md-checkbox><md-input-container flex="65"><label data-ng-bind="filter.name"></label><input data-ng-model="filter.options.query" data-ng-change="filterChange(filter)" data-ng-model-options="{debounce: 1000}"></md-input-container><div class="settings-btn" flex="20"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openFilterSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeFilter(filter)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/table-body-view.html",'<div class="g-table-body-component" data-ng-if="keywordsReady"><div data-ng-if="grouping.length"><div data-ng-repeat="item in items"><div class="g-group-holder"><div class="g-row-selection"></div><div data-ng-repeat="group in item.groups track by $index" class="g-group">{{group}}</div></div><div data-ng-repeat="groupedItem in item.items" class="g-row" data-ng-click="rowCallback(groupedItem)"><div class="g-row-selection"></div><div data-ng-repeat="column in columns" class="g-cell"><span data-ng-bind="bindCell(groupedItem, column)"></span></div><div class="g-row-right-misc"><md-button ng-click="deleteEntity($event, groupedItem)" class="g-delete-btn md-icon-button"><ng-md-icon icon="delete"></ng-md-icon></md-button><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button g-entity-menu" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="more_vert"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="editEntity($event, groupedItem)" class="g-settings-option-btn"><ng-md-icon icon="mode_edit"></ng-md-icon><span>Edit</span></md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div><div data-ng-if="!grouping.length"><div data-ng-repeat="item in items" class="g-row" data-ng-click="rowCallback(item)"><div class="g-row-selection"></div><div data-ng-repeat="column in columns" class="g-cell"><span data-ng-bind="bindCell(item, column)"></span></div><div class="g-row-right-misc"><md-button ng-click="deleteEntity($event, item)" class="g-delete-btn md-icon-button"><ng-md-icon icon="delete"></ng-md-icon></md-button><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button g-entity-menu" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="more_vert"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="editEntity($event, item)" class="g-settings-option-btn"><ng-md-icon icon="mode_edit"></ng-md-icon><span>Edit</span></md-button></md-menu-item></md-menu-content></md-menu></div></div></div></div>')}])}()},{}]},{},[44]);