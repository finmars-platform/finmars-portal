!function e(t,n,i){function a(r,s){if(!n[r]){if(!t[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var d=n[r]={exports:{}};t[r][0].call(d.exports,function(e){var n=t[r][1][e];return a(n?n:e)},d,d.exports,e,t,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(e,t,n){!function(){"use strict";var e=function(e){var t=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,e.length+1)==e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t},n=function(e,t,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var a=new Date;a.setTime(a.getTime()+1e3*i),i=n.expires=a}i&&i.toUTCString&&(n.expires=i.toUTCString()),t=encodeURIComponent(t);var o=e+"="+t;for(var r in n){o+="; "+r;var s=n[r];s!==!0&&(o+="="+s)}document.cookie=o},i=function(){n(name,"",{expires:-1})};t.exports={getCookie:e,setCookie:n,deleteCookie:i}}()},{}],2:[function(e,t,n){!function(){"use strict";var e={property:"65,199,132",collection:"79,195,247",event:"239,83,80",controller:"224,224,224",component:"179,157,219",service:"236,64,122"},n=function(e,t){return t<10?"rgba("+e+" ,."+t+")":"rgba("+e+" , 1)"},i=function(t,i,a,o){var r=a||10,s=o||"color: "+n(e.property,r);console.log('%c{"property": "'+t+'", "value": "',s,i,'"}')},a=function(t,i,a,o){var r=a||10,s=o||"color: "+n(e.collection,r);console.log('%c{"collection": "'+t+'", "data":',s,i,"}")},o=function(t,i,a,o){var r=a||10,s=o||"color: "+n(e.event,r);console.log('%c{"event": "'+t+'", "data": "'+i+'"}',s)},r=function(t,i,a,o){var r=a||10,s=o||"color: "+n(e.controller,r);console.log('%c{"controller": "'+t+'", "status": "'+i+'"}',s)},s=function(t,i,a,o){var r=a||10,s=o||"color: "+n(e.component,r);console.log('%c{"component": "'+t+'", "status": "'+i+'"}',s)},c=function(t,i,a,o){var r=a||10,s=o||"color: "+n(e.service,r);console.log('%c{"service": "'+t+'", "status": "'+i+'"}',s)};t.exports={property:i,collection:a,event:o,controller:r,component:s,service:c}}()},{}],3:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),e("../../../../../portal/scripts/app/services/tagService")),i=e("../../services/threadService"),a=e("../../../../../portal/scripts/app/services/usersService"),o=e("../../../../../portal/scripts/app/services/usersGroupService");t.exports=function(e,t,r){var s=this;s.tags=[],n.getListByContentType("thread","tag").then(function(t){s.tags=t.results,e.$apply()}),s.thread=[],i.getByKey(r).then(function(t){s.thread=t,s.threadName=t.subject,s.threadTags=t.tags[0],s.loadPermissions(),e.$apply()}),s.readyStatus={permissions:!1},s.groups=[],s.members=[],s.loadPermissions=function(){var e=[];e.push(s.getGroupList()),e.push(s.getMemberList()),Promise.all(e).then(function(e){})},s.getGroupList=function(){return o.getList().then(function(e){s.groups=e.results,s.groups.forEach(function(e){s.thread.group_object_permissions&&s.thread.group_object_permissions.forEach(function(t){t.group==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_thread"===t.permission&&(e.objectPermissions.manage=!0),"change_thread"===t.permission&&(e.objectPermissions.change=!0))})})})},s.getMemberList=function(){a.getMemberList().then(function(t){s.members=t.results,s.members.forEach(function(e){s.thread.user_object_permissions&&s.thread.user_object_permissions.forEach(function(t){t.member==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_thread"===t.permission&&(e.objectPermissions.manage=!0),"change_thread"===t.permission&&(e.objectPermissions.change=!0))})}),s.readyStatus.permissions=!0,e.$apply()})},s.cancel=function(){t.cancel()},s.agree=function(){console.log("tags to send",typeof s.threadTags,[s.threadTags]),s.thread.group_object_permissions=[],s.groups.map(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&s.thread.group_object_permissions.push({group:e.id,permission:"manage_thread"}),e.objectPermissions&&1==e.objectPermissions.change&&s.thread.group_object_permissions.push({group:e.id,permission:"change_thread"})}),s.thread.user_object_permissions=[],s.members.map(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&s.thread.user_object_permissions.push({member:e.id,permission:"manage_thread"}),e.objectPermissions&&1==e.objectPermissions.change&&s.thread.user_object_permissions.push({member:e.id,permission:"change_thread"})}),t.hide({status:"agree",data:{name:s.threadName,tags:s.threadTags,groups_permissions:s.thread.group_object_permissions,users_permissions:s.thread.user_object_permissions}})},s.getGroupList(),s.getMemberList()}}()},{"../../../../../core/services/logService":2,"../../../../../portal/scripts/app/services/tagService":340,"../../../../../portal/scripts/app/services/usersGroupService":348,"../../../../../portal/scripts/app/services/usersService":349,"../../services/threadService":19}],4:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),e("../../services/threadGroupService")),i=e("../../services/threadService"),a=e("../../../../../portal/scripts/app/services/tagService"),o=e("../../../../../portal/scripts/app/services/usersService"),r=e("../../../../../portal/scripts/app/services/usersGroupService");t.exports=function(e,t,s){var c=this;console.log("threadsGroupId is",s),c.tags=[],a.getListByContentType("thread-group","tag").then(function(t){c.tags=t.results,console.log("forum group tags is",c.tags,t),e.$apply()}),c.threadGroup=[],c.loadThreadGroups=function(){return n.getByKey(s).then(function(e){c.threadGroup=e,c.threadGroup.name&&c.threadGroup.name.length&&(c.threadsGroupName=c.threadGroup.name),c.threadGroup.tags&&c.threadGroup.tags.length&&(c.threadsGroupTags=c.threadGroup.tags[0])})},c.loadThreadList=function(){return i.getList({threadGroup:s}).then(function(e){c.threadList=e.results,console.log("thread list is",c.threadList),c.loadPermissions()})},c.loadAllThreads=function(){var t=[];t.push(c.loadThreadGroups()),t.push(c.loadThreadList()),Promise.all(t).then(function(t){e.$apply()})},c.readyStatus={permissions:!1},c.groups=[],c.members=[],c.loadPermissions=function(){var e=[];e.push(c.getGroupList()),e.push(c.getMemberList()),Promise.all(e).then(function(e){})},c.getGroupList=function(){return r.getList().then(function(e){c.groups=e.results,c.groups.forEach(function(e){c.threadList.group_object_permissions&&c.threadList.group_object_permissions.forEach(function(t){t.group==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_thread_list"===t.permission&&(e.objectPermissions.manage=!0),"change_thread_list"===t.permission&&(e.objectPermissions.change=!0))})})})},c.getMemberList=function(){o.getMemberList().then(function(t){c.members=t.results,c.members.forEach(function(e){c.threadList.user_object_permissions&&c.threadList.user_object_permissions.forEach(function(t){t.member==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_thread_list"===t.permission&&(e.objectPermissions.manage=!0),"change_thread_list"===t.permission&&(e.objectPermissions.change=!0))})}),c.readyStatus.permissions=!0,e.$apply()})},c.cancel=function(){t.cancel()},c.agree=function(){c.threadList.group_object_permissions=[],c.groups.map(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&c.threadList.group_object_permissions.push({group:e.id,permission:"manage_thread_list"}),e.objectPermissions&&1==e.objectPermissions.change&&c.threadList.group_object_permissions.push({group:e.id,permission:"change_thread_list"})}),c.threadList.user_object_permissions=[],c.members.map(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&c.threadList.user_object_permissions.push({member:e.id,permission:"manage_thread_list"}),e.objectPermissions&&1==e.objectPermissions.change&&c.threadList.user_object_permissions.push({member:e.id,permission:"change_thread_list"})}),t.hide({status:"agree",data:{tags:c.threadsGroupTags,name:c.threadsGroupName,groups_permissions:c.threadList.group_object_permissions,users_permissions:c.threadList.user_object_permissions}})},c.loadAllThreads()}}()},{"../../../../../core/services/logService":2,"../../../../../portal/scripts/app/services/tagService":340,"../../../../../portal/scripts/app/services/usersGroupService":348,"../../../../../portal/scripts/app/services/usersService":349,"../../services/threadGroupService":17,"../../services/threadService":19}],5:[function(e,t,n){!function(){"use strict";t.exports=function(e){}}()},{}],6:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/threadMessagesService"),a=e("../services/threadService");t.exports=function(e,t,o){n.controller("ForumThreadGroupListController","initialized");var r=this;r.readyStatus={content:!1},r.threadId=t.threadId,r.threadGroupId=t.groupId,r.threadPageCurrent=1,r.itemPerPage=20,a.getByKey(r.threadId).then(function(t){r.thread=t,e.$apply()}),r.getList=function(n){r.readyStatus.content=!1,console.log("vm.threadPageCurrent",r.threadPageCurrent,t),n&&"last-page"==n.position&&(r.threadMessagesTotal%r.itemPerPage!==0?r.threadPageCurrent=Math.round(r.threadMessagesTotal/r.itemPerPage)+1:r.threadPageCurrent=Math.round(r.threadMessagesTotal/r.itemPerPage)),0===r.threadPageCurrent&&(r.threadPageCurrent=1);var a={page:r.threadPageCurrent,thread:r.threadId};console.log("OPTIONS",a),console.log("params",n),i.getList(a).then(function(t){r.messages=t.results.map(function(e){return e.text=e.text.replace(/(\r\n|\n|\r)/gm,"<br />"),e}),console.log(t.results),r.threadMessagesTotal=t.count,r.readyStatus.content=!0,e.$apply()})},r.changePage=function(e){console.log("PAGE",e),r.threadPageCurrent=e,r.getList()},r.replyToMessage=function(e,t){var n={quote:{item:t}};r.write(e,n)},r.write=function(e,t){var n;t&&t.hasOwnProperty("quote")&&(n=t.quote),o.show({controller:"ForumWriteMessageDialogController as vm",templateUrl:"views/forum-message-dialog-view.html",locals:{options:{quote:n}},parent:angular.element(document.body),targetEvent:e}).then(function(e){"agree"===e.status&&i.create({thread:r.threadId,text:e.data.message,quotation:e.data.quotation}).then(function(){r.getList({position:"last-page"})})})},r.getList()}}()},{"../../../../core/services/logService":2,"../services/threadMessagesService":18,"../services/threadService":19}],7:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t){n.controller("threadGroupDialogController","initialized");var i=this;i.cancel=function(){t.cancel()},i.agree=function(){t.hide({status:"agree",data:{threadGroupTitle:i.groupTitle}})}}}()},{"../../../../core/services/logService":2}],8:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/threadGroupService"),a=(e("../services/threadService"),e("../../../../portal/scripts/app/services/tagService"));t.exports=function(e,t){n.controller("ForumThreadGroupListController","initialized");var o=this;o.readyStatus={content:!1},o.getList=function(){i.getList({page:1}).then(function(t){console.log("threadGroup items",t.results),o.threadGroups=t.results,o.threadGroups.forEach(function(e){e.filterTag=parseInt(e.tags[0])}),o.readyStatus.content=!0,console.log("thread groups tags",o.threadGroups),e.$apply()})},o.createThredsGroup=function(e){t.show({controller:"ForumThreadGroupDialogController as vm",templateUrl:"views/forum-thread-group-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&(console.log(e,e.data),i.create({name:e.data.threadGroupTitle}).then(function(){console.log("Threads group created"),o.getList()}))})},o.editThreadsGroupsDialog=function(e,n){t.show({controller:"EditThreadsGroupsDialogController as vm",templateUrl:"views/dialogs/edit-threads-groups-dialog-view.html",targetEvent:e,locals:{threadsGroupId:n}}).then(function(e){var t=[],a=parseInt(e.data.tags);isNaN(a)||(t="string"==typeof e.data.tags?[a]:[e.data.tags]);var r=e.data.name;i.update(n,{name:r,tags:t}).then(function(){o.getList()})})},o.getTagList=function(){a.getListByContentType("thread-group","tag").then(function(t){o.tags=t.results,e.$apply()})},o.deleteThreadsGroup=function(e){i.deleteByKey(e).then(function(){o.getList()})},o.getTagList(),o.getList()}}()},{"../../../../core/services/logService":2,"../../../../portal/scripts/app/services/tagService":340,"../services/threadGroupService":17,"../services/threadService":19}],9:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/threadService"),a=e("../services/threadGroupService"),o=e("../../../../portal/scripts/app/services/tagService");t.exports=function(e,t,r){n.controller("ForumThreadListController","initialized");var s=this;s.threadPageCurrent=1,s.itemPerPage=20,s.threadGroupId=t.groupId,console.log(t,e),s.threadGroupName="",s.readyStatus={content:!1},s.getList=function(){var t={page:s.threadPageCurrent,threadGroup:s.threadGroupId};i.getList(t).then(function(t){console.log(t,t.results),s.threadMessagesTotal=t.count,s.threads=t.results,s.threads.forEach(function(e){e.filterTag=e.tags[0]}),s.readyStatus.content=!0,e.$apply()})},o.getListByContentType("thread","tag").then(function(t){s.tags=t.results,e.$apply()}),s.getThreadGroupName=function(){a.getByKey(s.threadGroupId).then(function(t){s.threadGroupName=t.name,e.$apply()})},s.createThredsList=function(e){r.show({controller:"ForumThreadListDialogController as vm",templateUrl:"views/forum-thread-list-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&i.create({subject:e.data.threadListTitle,thread_group:s.threadGroupId}).then(function(){console.log("Thread list created"),s.getList()})})},s.editThreadDialog=function(e,t){r.show({controller:"EditThreadDialogController as vm",templateUrl:"views/dialogs/edit-thread-dialog-view.html",targetEvent:e,locals:{threadId:t}}).then(function(e){var n=[],a=parseInt(e.data.tags);isNaN(a)||(n="string"==typeof e.data.tags?[a]:[e.data.tags]);var o=e.data.name;console.log("thread user permissions",e.data.users_permissions,"thread groups permissions",e.data.groups_permissions),i.update(t,{subject:o,tags:n,thread_group:s.threadGroupId,group_object_permissions:e.data.groups_permissions,user_object_permissions:e.data.users_permissions}).then(function(){console.log("thread's tags updated"),s.getList()})})},s.deleteThread=function(e){i.deleteByKey(e).then(function(){s.getList()})},s.getList(),s.getThreadGroupName()}}()},{"../../../../core/services/logService":2,"../../../../portal/scripts/app/services/tagService":340,"../services/threadGroupService":17,"../services/threadService":19}],10:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t){n.controller("threadListDialogController","initialized");var i=this;i.cancel=function(){t.cancel()},i.agree=function(){t.hide({status:"agree",data:{threadListTitle:i.listTitle}})}}}()},{"../../../../core/services/logService":2}],11:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e,t,i){n.controller("WriteMessageDialogController","initialized");var a=this;console.log("options---------------------",i),a.isQuotation=!1,i&&i.quote&&(a.isQuotation=!0,a.quotation=i.quote.item),a.cancel=function(){t.cancel()},a.agree=function(){t.hide({status:"agree",data:{message:a.message}})}}}()},{"../../../../core/services/logService":2}],12:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"E",scope:{tags:"="},templateUrl:"views/directives/hide-by-tags-directive-view.html",link:function(e,t,n){e.hideByTags=function(){var t=$("md-card[data-tag-id]"),n=$("md-card[data-tag-id].ng-hide");n.length>0&&n.each(function(){var e=$(this);e.removeClass("ng-hide")}),t.each(function(){var t=$(this),n=t.data("tag-id");e.tagsToHide.map(function(e){parseInt(n)!==e||t.hasClass("ng-hide")||t.addClass("ng-hide")})})}}}}}()},{}],13:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",a=function(e){return window.fetch(i+"chats/thread-group/?ordering=created&page="+e.page,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},o=function(e){return window.fetch(i+"chats/thread-group/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"chats/thread-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"chats/thread-group/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(i+"chats/thread-group/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../../../../core/services/cookieService":1}],14:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",a=function(e){return window.fetch(i+"chats/message/?ordering=created&thread="+e.thread+"&page="+e.page,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},o=function(e){return window.fetch(i+"chats/message/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"chats/message/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"chats/message/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(i+"chats/message/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../../../../core/services/cookieService":1}],15:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i="/api/v1/",a=function(e){var t="";return t=e.page&&e.page.length?"chats/thread/?ordering=created&page="+e.page+"&thread_group="+e.threadGroup:"chats/thread/?ordering=created&thread_group="+e.threadGroup,window.fetch(i+t,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},o=function(e){return window.fetch(i+"chats/thread/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(i+"chats/thread/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(i+"chats/thread/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},c=function(e){return window.fetch(i+"chats/thread/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../../../../core/services/cookieService":1}],16:[function(e,t,n){!function(){t.exports=function(e){e.state("app.forum",{url:"/forum",templateUrl:"views/forum-shell-view.html","abstract":!0,controller:"ForumController as vm"}).state("app.forum.thread-groups",{url:"",templateUrl:"views/forum-thread-groups-view.html",controller:"ForumThreadGroupListController as vm"}).state("app.forum.threads-list",{url:"/:groupId",templateUrl:"views/forum-threads-list-view.html",controller:"ForumThreadListController as vm"}).state("app.forum.thread",{url:"/:groupId/thread/:threadId",templateUrl:"views/forum-thread-view.html",controller:"ForumThreadController as vm"})}}()},{}],17:[function(e,t,n){!function(){"use strict";var n=e("../repositories/threadGroupRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/threadGroupRepository":13}],18:[function(e,t,n){!function(){"use strict";var n=e("../repositories/threadMessagesRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/threadMessagesRepository":14}],19:[function(e,t,n){!function(){"use strict";var n=e("../repositories/threadRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/threadRepository":15}],20:[function(e,t,n){"use strict";!function(){var t=angular.module("forum",[]);t.config(["$stateProvider",e("./app/router.js")]),t.run(function(){console.log("Forum initialized")}),t.controller("ForumController",["$scope",e("./app/controllers/forumController")]),t.controller("ForumThreadGroupListController",["$scope","$mdDialog",e("./app/controllers/forumThreadGroupListController")]),t.controller("ForumThreadListController",["$scope","$stateParams","$mdDialog",e("./app/controllers/forumThreadListController")]),t.controller("ForumThreadController",["$scope","$stateParams","$mdDialog",e("./app/controllers/forumThreadController")]),t.controller("ForumThreadGroupDialogController",["$scope","$mdDialog",e("./app/controllers/forumThreadGroupDialogController")]),t.controller("ForumThreadListDialogController",["$scope","$mdDialog",e("./app/controllers/forumThreadListDialogController")]),t.controller("ForumWriteMessageDialogController",["$scope","$mdDialog","options",e("./app/controllers/forumWriteMessageDialogController")]),t.controller("EditThreadDialogController",["$scope","$mdDialog","threadId",e("./app/controllers/dialogs/editThreadDialogController")]),t.controller("EditThreadsGroupsDialogController",["$scope","$mdDialog","threadsGroupId",e("./app/controllers/dialogs/editThreadsGroupsDialogController")]),t.directive("hideByTags",[e("./app/directives/hideByTagsDirective")]),e("./templates.min.js"),t.filter("forumFilterByTags",function(){return function(e,t){var n=[];return t&&t.length?e.map(function(e){t.map(function(t){e.tags[0]===t&&n.push(e)})}):e.map(function(e){n.push(e)}),n}})}()},{"./app/controllers/dialogs/editThreadDialogController":3,"./app/controllers/dialogs/editThreadsGroupsDialogController":4,"./app/controllers/forumController":5,"./app/controllers/forumThreadController":6,"./app/controllers/forumThreadGroupDialogController":7,"./app/controllers/forumThreadGroupListController":8,"./app/controllers/forumThreadListController":9,"./app/controllers/forumThreadListDialogController":10,"./app/controllers/forumWriteMessageDialogController":11,"./app/directives/hideByTagsDirective":12,"./app/router.js":16,"./templates.min.js":21}],21:[function(e,t,n){!function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-message-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="forum-send-message-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Write a message</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="column"><div data-ng-if="vm.isQuotation"><div layout="row" layout-align="start center" style="margin-bottom: 10px"><h4 class="author-username" data-ng-bind="vm.quotation.sender_object.username"></h4><p class="thread-message-create-data" data-ng-bind="vm.quotation.created | date:\'HH:mm dd/MM/yyyy\'"></p></div><div layout="row"><p class="thread-message-text" data-ng-bind-html="vm.quotation.text | trustAsHtml"></p></div></div><md-input-container flex="100" style="margin-bottom: 0"><label>Message</label><!-- <div data-ng-model="vm.message" contenteditable="true" cols="30" rows="10" data-ng-bind-html="vm.message | trustAsHtml" data-ng-change="vm.alertMessage()"></div> --><textarea data-ng-model="vm.message" contenteditable="true" cols="30" rows="10">\n\t\t\t\t</textarea></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Send</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-shell-view.html",'<div data-ui-view=""></div>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-group-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Enter threads group title</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-input-container style="margin-bottom: 0"><label>Title</label><textarea data-ng-model="vm.groupTitle" cols="30" rows="10"></textarea></md-input-container></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Create</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-groups-view.html",'<div><md-content class="forum-content-padding"><h2 class="forum-section-header list">Thread groups list</h2><div layout="row"><div layout="row" flex="50"><md-input-container class="margin-top-5"><label>Filter by tags</label><md-select aria-label="filter by tags" data-ng-model="vm.filterTags" multiple="true"><md-option data-ng-repeat="tag in vm.tags" ng-value="tag.id">{{tag.display_name}}</md-option></md-select></md-input-container><hide-by-tags tags="vm.tags"></hide-by-tags></div><div layout="row" layout-align="end center" flex="50"><md-button aria-label="create group" class="md-raised md-primary" data-ng-click="vm.createThredsGroup($event)">Create thread group</md-button></div></div><div data-ng-if="vm.readyStatus.content"><md-card class="group-forum-list-item" class="md-3-line" ng-repeat="item in vm.threadGroups | forumFilterByTags : vm.filterTags" data-tag-id="{{item.filterTag}}"><a href="" data-ui-sref="app.forum.threads-list({groupId: item.id})"><span data-ng-bind="item.name"></span></a><div class="forum-manage-buttons"><md-button aria-label="edit group" class="forum-manage-btn" data-ng-click="vm.editThreadsGroupsDialog(\'$event\', item.id)"><ng-md-icon icon="mode_edit" size="20"></ng-md-icon></md-button><md-button aria-label="delete group" class="forum-manage-btn" data-ng-click="vm.deleteThreadsGroup(item.id)"><ng-md-icon icon="clear" size="20"></ng-md-icon></md-button></div></md-card></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div><div layout="row" layout-align="end center"><md-button aria-label="create group" class="md-raised md-primary" data-ng-click="vm.createThredsGroup($event)">Create thread group</md-button></div></md-content></div>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-list-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Enter threads list title</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-input-container style="margin-bottom: 0"><label>Title</label><textarea data-ng-model="vm.listTitle" cols="30" rows="10"></textarea></md-input-container></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Create</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-thread-view.html",'<div><md-content class="forum-content-padding"><h2 class="forum-section-header">Thread name: <span data-ng-bind="::vm.thread.subject"></span></h2><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button aria-label="back" ui-sref="app.forum.threads-list({groupId: vm.threadGroupId})" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button><div paging page="vm.threadPageCurrent" page-size="vm.itemPerPage" total="vm.threadMessagesTotal" paging-action="vm.changePage(page)" class="global-pagination-div"></div></div><div layout="row" flex="50" layout-align="end center"><md-button aria-label="write" data-ng-click="vm.write($event)" class="md-raised md-primary">Write</md-button></div></div><div data-ng-if="vm.readyStatus.content"><!-- <md-list flex> --><!-- <md-list-item class="thread-forum-list-item" class="md-3-line" ng-repeat="item in vm.messages"\n            >\n                <h4 class="author-username" data-ng-bind="item.sender_object.username"></h4>\n                <p class="thread-message-text" data-ng-bind="item.text"></p>\n                <md-divider></md-divider>\n            </md-list-item> --><md-card class="thread-forum-list-item" data-ng-repeat="item in vm.messages"><div class="thread-message-content"><div layout="row" layout-align="start center" style="margin-bottom: 10px"><h4 class="author-username" data-ng-bind="item.sender_object.username"></h4><p class="thread-message-create-data" data-ng-bind="item.created | date:\'HH:mm dd/MM/yyyy\'"></p></div><div layout="row"><p class="thread-message-text" data-ng-bind-html="item.text | trustAsHtml"></p></div><div layout="row" layout-align="end center"><md-button aria-label="reply" class="md-raised message-reply-btn" data-ng-click="vm.replyToMessage($event, item)">Reply</md-button></div></div><md-divider class="thread-message-divider"></md-divider></md-card><!-- </md-list> --><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button aria-label="back" ui-sref="app.forum.threads-list({groupId: vm.threadGroupId})" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button><div paging page="vm.threadPageCurrent" page-size="vm.itemPerPage" total="vm.threadMessagesTotal" paging-action="vm.changePage(page)" class="global-pagination-div"></div></div><div layout="row" flex="50" layout-align="end center"><md-button aria-label="write" data-ng-click="vm.write($event)" class="md-raised md-primary">Write</md-button></div></div></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></div>');
}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/forum-threads-list-view.html",'<div><md-content class="forum-content-padding"><h2>Thread group: <span data-ng-bind="vm.threadGroupName"></span></h2><h3 class="forum-section-header">Threads list</h3><div layout="row"><div layout="row" flex="50"><md-button aria-label="back" ui-sref="app.forum.thread-groups" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button><md-input-container class="margin-top-5"><label>Filter by tags</label><md-select aria-label="" data-ng-model="vm.filterTags" multiple="true"><md-option data-ng-repeat="tag in vm.tags" ng-value="tag.id">{{tag.display_name}}</md-option></md-select></md-input-container><hide-by-tags tags="vm.tags"></hide-by-tags></div><div layout="row" layout-align="end center" flex="50"><md-button aria-lable="create thread" class="md-raised md-primary" data-ng-click="vm.createThredsList($event)">Create thread</md-button></div></div><div data-ng-if="vm.readyStatus.content"><md-card class="thread-forum-list-item" class="md-3-line" ng-repeat="item in vm.threads | forumFilterByTags : vm.filterTags" data-tag-id="{{item.filterTag}}"><a data-ui-sref="app.forum.thread({groupId: vm.threadGroupId, threadId: item.id})"><span data-ng-bind="item.subject"></span></a><md-divider></md-divider><div class="forum-manage-buttons"><md-button aria-label="edit thread" class="forum-manage-btn" data-ng-click="vm.editThreadDialog(\'$event\', item.id)"><ng-md-icon icon="mode_edit" size="20"></ng-md-icon></md-button><md-button aria-label="delete thread" class="forum-manage-btn" data-ng-click="vm.deleteThread(item.id)"><ng-md-icon icon="clear" size="20"></ng-md-icon></md-button></div></md-card></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div><div layout="row"><div layout="row" flex="50"><md-button aria-label="back" ui-sref="app.forum.thread-groups" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button></div><div layout="row" layout-align="end center" flex="50"><md-button aria-label="create" class="md-raised md-primary" data-ng-click="vm.createThredsList($event)">Create thread</md-button></div></div></md-content></div>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/directives/hide-by-tags-directive-view.html",'<md-input-container class="margin-top-5"><label>Hide by tags</label><md-select aria-label="hide" data-ng-model="tagsToHide" multiple="true" data-ng-change="hideByTags()"><md-option data-ng-repeat="tag in tags" ng-value="tag.id">{{tag.display_name}}</md-option></md-select></md-input-container>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/edit-thread-dialog-view.html",'<md-dialog aria-label="edit thread" ng-cloak class="forum-dialog-padding forum-lg-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit thread</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-tabs md-dynamic-height><md-tab><md-tab-label><span class="colored-tab">General</span></md-tab-label><md-tab-body><md-content><div layout="row" class="forum-edit-general"><md-input-container flex="50"><label>Name</label><textarea data-ng-model="vm.threadName" cols="30" rows="10" data-ng-bind="vm.groupName"></textarea></md-input-container><md-input-container flex="50"><label>thread tags</label><md-select data-ng-model="vm.threadTags"><md-option value="">-</md-option><md-option data-ng-repeat="tag in vm.tags" data-ng-bind="tag.display_name" value="{{tag.id}}"></md-option></md-select></md-input-container></div></md-content></md-tab-body></md-tab><!-- <md-tab data-ng-if="vm.checkPermissions()"> --><md-tab data-ng-if="vm.groups && vm.members"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage" aria-label="member-manage" data-ng-change="vm.setMembersPermissions()"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change" aria-label="member-change" data-ng-change="vm.setMembersPermissions()"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage" aria-label="group-manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change" aria-label="group-change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div data-ng-if="!vm.members && !vm.groups"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></md-dialog-content><md-dialog-actions layout="row"><md-button aria-label="cancel" class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button aria-label="save" class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Send</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("forum")}catch(t){e=angular.module("forum",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/edit-threads-groups-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="forum-dialog-padding draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit group</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="column"><md-input-container><label>Name</label><textarea data-ng-model="vm.threadsGroupName" cols="30" rows="10"></textarea></md-input-container><md-input-container><label>Group tags</label><md-select data-ng-model="vm.threadsGroupTags"><md-option value="">-</md-option><md-option data-ng-repeat="tag in vm.tags" data-ng-bind="tag.display_name" value="{{tag.id}}"></md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Send</md-button></md-dialog-actions></md-dialog>')}])}()},{}],22:[function(e,t,n){!function(){"use strict";t.exports={bindings:{options:"="},template:'<div class="dashboard-entity-viewer-component"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="min-height"></div></div>',controllerAs:"vm",controller:function(){var e=this;console.log("this",this),e.entityType=e.options.entityType,e.entityRaw=e.options.entityRaw,e.uiLayoutId=e.options.uiLayoutId,e.isReport=e.options.isReport,e.entityViewer=e.options.entityViewer,e.eventsList=e.options.eventsList,e.components=e.options.components}}}()},{}],23:[function(e,t,n){!function(){"use strict";var e=function(){console.log("this",this);var e=this;e.dateFormats=[{id:1,caption:"dd.mm.yyyy"},{id:2,caption:"dd.mm.yy"},{id:3,caption:"mmmm'yy"},{id:4,caption:"dd-mmm-yy"}],e.frequencies=[{id:1,caption:"Daily"},{id:2,caption:"Weekly (+7d)"},{id:3,caption:"Weekly (EoW)"},{id:4,caption:"Bi-weekly (+14d)"},{id:5,caption:"Bi-weekly (EoW)"},{id:6,caption:"Monthly"},{id:7,caption:"Monthly (EoM)"},{id:8,caption:"Monthly (Last business day)"},{id:9,caption:"Quarterly (Calendar)"},{id:10,caption:"Quarterly (+3m)"},{id:11,caption:"Yearly (+12m)"},{id:12,caption:"Yearly (EoY)"}],e.addRange=function(t,n){e.items.splice(n+1,0,{})},e.removeRange=function(t){e.items.splice(t,1)}};t.exports={bindings:{items:"=",range:"="},templateUrl:"views/components/date-range-custom-field-control-component.html",controller:e}}()},{}],24:[function(e,t,n){!function(){"use strict";var e=function(){console.log("this",this);var e=this;e.inputIsFocused=!1,e.syncActiveItem=function(t,n){e.items[n+1].value_left=t.value_right},e.checkRange=function(t,n){parseFloat(t.value_left)>parseFloat(t.value_right)&&(t.value_right=parseFloat(t.value_left)+1,e.items[n+1].value_left=t.value_right),e.inputIsFocused=!1},e.addRange=function(t,n){e.inputIsFocused=!0;var i;e.items.forEach(function(e){e.is_active=!1}),1==e.items.length?(i={value_left:"",value_right:e.items[n].value_right,group_name:"Group "+(e.items.length+1),is_active:!1},t.is_active=!0,t.value_right="",e.items.splice(n+1,0,i)):e.items.length-1==n?(i={value_left:"",value_right:"inf",group_name:"Group "+(e.items.length+1),is_active:!1},e.items.splice(n+1,0,i),e.items[n].value_right="",e.items[n].is_active=!0):(i={value_left:e.items[n].value_right,value_right:parseFloat(e.items[n+1].value_left)+1,group_name:"Group "+(e.items.length+1),is_active:!0},e.items[n+1].value_left=i.value_right+1,e.items.splice(n+1,0,i)),console.log("vm.items",e.items)},e.removeRange=function(t){e.inputIsFocused=!0,e.items.length-1==t?(e.items.forEach(function(e){e.is_active=!1}),3==e.items.length?e.items[0].is_active=!0:e.items[t-1].is_active=!0,e.items[t-1].value_right="inf",e.items.splice(t,1)):(e.items.forEach(function(e){e.is_active=!1}),e.items[t-1].is_active=!0,e.items.splice(t,1))}};t.exports={bindings:{items:"="},templateUrl:"views/components/float-range-custom-field-control-component.html",controller:e}}()},{}],25:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/import/instrumentSchemeService");t.exports=function(e,t){n.controller("ActionsController","initialized");var a=this;a.importInstrument=function(e){t.show({controller:"ImportInstrumentDialogController as vm",templateUrl:"views/dialogs/import-instrument-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},a.importTransaction=function(e){t.show({controller:"ImportTransactionDialogController as vm",templateUrl:"views/dialogs/import-transaction-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},a.fillPriceHistory=function(e){t.show({controller:"FillPriceHistoryDialogController as vm",templateUrl:"views/dialogs/fill-price-history-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},a.eventScheduleConfig=function(e){t.show({controller:"EventScheduleConfigDialogController as vm",templateUrl:"views/dialogs/event-schedule-config-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},a.automatedUploads=function(e){t.show({controller:"AutomatedUploadsHistoryDialogController as vm",templateUrl:"views/dialogs/automated-uploads-history-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},a.openMapping=function(e,n){t.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},a.addScheme=function(e){t.show({controller:"InstrumentMappingAddDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.create(e.data).then(function(){a.getList()}))})},a.addPriceDownloadScheme=function(e){t.show({controller:"PriceDownloadSchemeAddDialogController as vm",templateUrl:"views/dialogs/price-download-scheme-dialog-view.html",targetEvent:e})}}}()},{"../../../../core/services/logService":2,"../services/import/instrumentSchemeService":298}],26:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=(e("../services/attributeTypeService"),e("../services/entityResolverService"));e("../services/uiService"),e("../services/gridHelperService"),e("../services/metaService"),e("../services/layoutService");t.exports=function(e,t,a){n.controller("AdditionsEditorEntityEditController","initialized");var o=this;o.readyStatus={content:!1},o.entityType=e.$parent.options.entityType,o.entity={attributes:[]},o.entityId="",o.evAction="update",o.readyStatus.entityId=!1,e.$parent.$watch("options.editorEntityId",function(t){o.readyStatus.entityId=!1,setTimeout(function(){o.entityId=t,void 0!==o.entityId&&(o.evAction="update",o.readyStatus.entityId=!0),e.$apply()},100)}),o.cancel=function(){var t=o.entityId;o.entityId=void 0,o.readyStatus.entityId=!1,setTimeout(function(){o.entityId=t,o.readyStatus.entityId=!0,e.$apply()},100)},o.editLayout=function(){t.go("app.data-constructor",{entityType:o.entityType})},o.manageAttrs=function(e){t.go("app.attributesManager",{entityType:o.entityType})},o.copy=function(){o.copyCallback().then(function(){o.evAction="create",e.$apply()})},o.save=function(){(o.evAction="create")?o.saveCallback().then(function(t){i.create(t.entityType,t.entity).then(function(){o.evAction="update",e.$apply()})}):o.saveCallback().then(function(t){i.update(t.entityType,t.entityId,t.entity).then(function(){e.$apply()})})}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":256,"../services/entityResolverService":268,"../services/gridHelperService":274,"../services/layoutService":319,"../services/metaService":326,"../services/uiService":347}],27:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/attributeTypeService"),a=e("../services/metaService");t.exports=function(e,t,o,r){function s(e){return e.name=e.text,e.id.indexOf("j")!==-1&&(delete e.li_attr,delete e.state,delete e.icon,delete e.a_attr,delete e.data,delete e.text,delete e.type,delete e.id),e.children=e.children.map(s),e}n.controller("AttributesManagerController","initialized");var c=this;c.showHidden=!1;var l=a.getDynamicAttrsValueTypesCaptions();c.attrs=[],c.entityType=o.entityType;var d=function(){i.getList(c.entityType).then(function(t){c.attrs=t.results,e.$apply()})};d(),c.addAttribute=function(e){r.show({controller:"AttributesManagerAddDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{data:{entityType:c.entityType}}}).then(function(e){"agree"===e.status&&(console.log(e.data.attribute.value_type),console.log("res",e.data),i.create(c.entityType,e.data.attribute).then(d))})},c.bindType=function(e){var t;for(t=0;t<l.length;t+=1)if(e.value_type===l[t].value)return l[t].caption_name},c.editTreeAttr=function(e,t){r.show({controller:"ClassificationEditorDialogController as vm",templateUrl:"views/classification-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{data:{classifier:e,entityType:c.entityType}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),e.data.classifier.classifiers=e.data.classifier.children.map(s),i.update(c.entityType,e.data.classifier.id,e.data.classifier).then(d))})},c.editAttr=function(e,t){r.show({controller:"AttributesManagerEditDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{data:{attributeId:e.id,entityType:c.entityType}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.update(c.entityType,e.data.attribute.id,e.data.attribute).then(d))})},c.toggleHidden=function(){c.showHidden=!c.showHidden},c.checkIsHidden=function(e){return 0!=c.showHidden||1!=e.is_hidden},c.deleteAttr=function(e,t){var n="Are you sure to delete attribute "+e.name+" ?";r.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:n}}}).then(function(n){console.log("res",n),"agree"===n.status&&i.deleteByKey(c.entityType,e.id).then(function(e){"conflict"===e.status?r.show({controller:"InfoDialogController as vm",templateUrl:"views/info-dialog-view.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,locals:{info:{title:"Notification",description:"You can not delete attributed that already in use"}}}):d()})})}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":256,"../services/metaService":326}],28:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/eventsService"),a=e("../services/uiService"),o=e("../services/metaContentTypesService");t.exports=function(e,t){n.controller("DashboardController","initialized");var r=this;r.readyStatus={uiLayouts:!1,entityListLayout:!1},r.entityType="dashboard",r.oldListView=null,r.listView=null,r.getUiLayouts=function(){a.getListLayout("all").then(function(t){r.uiLayouts=t.results.map(function(e){if("ui.dashboard"!==e.content_type)return e}).filter(function(e){return!!e}),r.readyStatus.uiLayouts=!0,e.$apply()})},r.getUiLayouts(),r.resolveEntity=function(e){return o.findEntityByContentType(e.content_type,"ui").split("-").join(" ").capitalizeFirstLetter()},r.closeWidget=function(e){e._d_configured=!1,e.uiLayoutId=null,e.entityType=null,e._d_layout=null,e.isReport=!1},r.changeWidget=function(e){e.entityType=o.findEntityByContentType(e._d_layout.content_type,"ui"),e.uiLayoutId=e._d_layout.id,e._d_configured=!0,e.entityType.indexOf("-report")!==-1?e.isReport=!0:e.isReport=!1,console.log("widget",e)},r.checkForEvents=function(t){i.getList().then(function(n){r.eventsList=n.results,e.$apply(),n.results.map(function(e){var n=e.event_schedule_object.actions;r.openEventWindow(t,e.id,n)})})},r.openEventWindow=function(e,n,i){t.show({controller:"EventDialogController as vm",templateUrl:"views/dialogs/event-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{data:{eventId:n,eventActions:i}}})},r.getView=function(){r.readyStatus.entityListLayout=!1,a.getActiveListLayout(r.entityType).then(function(t){t.results.length?(r.listView=t.results[0],r.oldListView=JSON.parse(JSON.stringify(r.listView)),r.widget1=r.listView.data.widget1,r.widget2=r.listView.data.widget2,r.widget3=r.listView.data.widget3,r.widget4=r.listView.data.widget4):(r.widget1={entityType:"balance-report",entityRaw:[],isReport:!0,entityViewer:{extraFeatures:[]},_d_configured:!0,components:{sidebar:!1,groupingArea:!1,columnAreaHeader:!1,splitPanel:!1,addEntityBtn:!1,fieldManagerBtn:!1,layoutManager:!1}},r.widget2={entityType:"instrument",entityRaw:[],isReport:!1,entityViewer:{extraFeatures:[]},_d_configured:!0,components:{sidebar:!1,groupingArea:!1,columnAreaHeader:!1,splitPanel:!1,addEntityBtn:!1,fieldManagerBtn:!1,layoutManager:!1}},r.widget3={entityType:"portfolio",entityRaw:[],isReport:!1,entityViewer:{extraFeatures:[]},_d_configured:!0,components:{sidebar:!1,groupingArea:!1,columnAreaHeader:!1,splitPanel:!1,addEntityBtn:!1,fieldManagerBtn:!1,layoutManager:!1}},r.widget4={entityType:"account",entityRaw:[],isReport:!1,entityViewer:{extraFeatures:[]},_d_configured:!0,components:{sidebar:!1,groupingArea:!1,columnAreaHeader:!1,splitPanel:!1,addEntityBtn:!1,fieldManagerBtn:!1,layoutManager:!1}}),r.readyStatus.entityListLayout=!0,r.bindLayoutManager(),e.$apply()})},r.getView(),r.bindLayoutManager=function(){$(".save-layout-as-btn").bind("click",function(e){t.show({controller:"UiLayoutSaveAsDialogController as vm",templateUrl:"views/dialogs/ui/ui-layout-save-as-view.html",parent:angular.element(document.body),targetEvent:e,locals:{options:{}},clickOutsideToClose:!1}).then(function(e){r.listView||(r.listView={data:{}}),r.listView.data.widget1=r.widget1,r.listView.data.widget2=r.widget2,r.listView.data.widget3=r.widget3,r.listView.data.widget4=r.widget4,"agree"==e.status&&(r.oldListView?(r.oldListView.is_default=!1,a.updateListLayout(r.oldListView.id,r.oldListView).then(function(){}).then(function(){r.listView.name=e.data.name,r.listView.is_default=!0,a.createListLayout(r.entityType,r.listView).then(function(){r.getView()})})):(r.listView.name=e.data.name,r.listView.is_default=!0,a.createListLayout(r.entityType,r.listView).then(function(){r.getView()})))})}),$(".save-layout-btn").bind("click",function(e){r.listView||(r.listView={name:"Default",data:{}}),r.listView.data.widget1=r.widget1,r.listView.data.widget2=r.widget2,r.listView.data.widget3=r.widget3,r.listView.data.widget4=r.widget4,r.listView.hasOwnProperty("id")?a.updateListLayout(r.listView.id,r.listView).then(function(){}):a.createListLayout(r.entityType,r.listView).then(function(){}),t.show({controller:"SaveLayoutDialogController as vm",templateUrl:"views/save-layout-dialog-view.html",targetEvent:e,clickOutsideToClose:!0}).then(function(){r.getView()})})},e.$on("$destroy",function(e){$(".save-layout-btn").unbind("click"),$(".save-layout-as-btn").unbind("click"),n.controller("DashboardController","destroyed")})}}()},{"../../../../core/services/logService":2,"../services/eventsService":272,"../services/metaContentTypesService":321,"../services/uiService":347}],29:[function(e,t,n){!function(){"use strict";var n=e("../../services/accountService");t.exports=function(e){console.log('{"controller": "DataAccountController", status: "initialized"}');var t=this;t.entityType="account",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,console.log("vm.entityRaw",t.entityRaw),e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/accountService":253}],30:[function(e,t,n){!function(){"use strict";var n=e("../../services/accountTypeService");t.exports=function(e){console.log('{"controller": "DataAccountTypeController", status: "initialized"}');var t=this;t.entityType="account-type",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/accountTypeService":254}],31:[function(e,t,n){!function(){"use strict";var n=e("../../services/transaction/complexTransactionService");t.exports=function(e){console.log('{"controller": "DataComplexTransactionController", status: "initialized"}');var t=this;t.entityType="complex-transaction",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/transaction/complexTransactionService":344}],32:[function(e,t,n){!function(){"use strict";var n=e("../../services/counterpartyService");t.exports=function(e){console.log('{"controller": "DataCounterpartytController", status: "initialized"}');var t=this;t.entityType="counterparty",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/counterpartyService":263}],33:[function(e,t,n){!function(){"use strict";var n=e("../../services/counterpartyGroupService");t.exports=function(e){console.log('{"controller": "DataCounterpartyGroupController", status: "initialized"}');var t=this;t.entityType="counterparty-group",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/counterpartyGroupService":262}],34:[function(e,t,n){!function(){"use strict";var n=e("../../services/currencyService");t.exports=function(e){console.log('{"controller": "DataCurrencyController", status: "initialized"}');var t=this;t.entityType="currency",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/currencyService":265}],35:[function(e,t,n){!function(){"use strict";var n=e("../../services/currencyHistoryService");t.exports=function(e){console.log('{"controller": "DataCurrencyHistoryController", status: "initialized"}');var t=this;t.entityType="currency-history",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/currencyHistoryService":264}],36:[function(e,t,n){!function(){"use strict";var n=e("../../services/instrumentService");t.exports=function(e){console.log('{"controller": "DataInstrumentController", status: "initialized"}');var t=this;t.entityType="instrument",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/instrumentService":312}],37:[function(e,t,n){!function(){"use strict";var n=e("../../services/instrumentTypeService");t.exports=function(e){console.log('{"controller": "DataInstrumentTypeController", status: "initialized"}');var t=this;t.entityType="instrument-type",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/instrumentTypeService":313}],38:[function(e,t,n){!function(){"use strict";var n=e("../../services/portfolioService");t.exports=function(e,t){console.log('{"controller": "DataPortfolioController", status: "initialized"}');var i=this;i.entityType="portfolio",i.uiLayoutId=t.listLayout,i.entityRaw=[],i.readyStatus={content:!1},i.entityViewer={extraFeatures:[]},n.getList().then(function(t){i.entityRaw=t.results,i.readyStatus.content=!0,e.$apply()}),i.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/portfolioService":328}],39:[function(e,t,n){!function(){"use strict";var n=e("../../services/priceHistoryService");t.exports=function(e){console.log('{"controller": "DataPriceHistoryController", status: "initialized"}');var t=this;t.entityType="price-history",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/priceHistoryService":329}],40:[function(e,t,n){!function(){"use strict";var n=e("../../services/pricingPolicyService");t.exports=function(e){console.log('{"controller": "DataPricingPolicyController", status: "initialized"}');var t=this;t.entityType="pricing-policy",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/pricingPolicyService":330}],41:[function(e,t,n){!function(){"use strict";var n=e("../../services/responsibleService");t.exports=function(e){console.log('{"controller": "DataResponsibleController", status: "initialized"}');var t=this;t.entityType="responsible",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/responsibleService":335}],42:[function(e,t,n){!function(){"use strict";var n=e("../../services/responsibleGroupService");t.exports=function(e){console.log('{"controller": "DataResponsibleGroupController", status: "initialized"}');var t=this;t.entityType="responsible-group",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/responsibleGroupService":334}],43:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/strategyService");t.exports=function(e,t){n.controller("DataStrategyController","initialized"),console.log("$stateParams",t);var a=this;a.readyStatus={content:!1},a.strategyNumber=t.strategyNumber,a.entityType="strategy-"+a.strategyNumber,a.entityRaw=[],a.entityViewer={extraFeatures:[]},i.getList(a.strategyNumber).then(function(t){a.entityRaw=t.results,a.readyStatus.content=!0,e.$apply()}),a.getList=function(e){return i.getList(a.strategyNumber,e).then(function(e){return e})}}}()},{"../../../../../core/services/logService":2,"../../services/strategyService":338}],44:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/strategyGroupService");
t.exports=function(e,t){n.controller("DataStrategyGroupController","initialized"),console.log("$stateParams",t);var a=this;a.readyStatus={content:!1},a.strategyNumber=t.strategyNumber,a.entityType="strategy-"+a.strategyNumber+"-group",a.entityRaw=[],a.entityViewer={extraFeatures:[]},i.getList(a.strategyNumber).then(function(t){a.entityRaw=t.results,a.readyStatus.content=!0,console.log("vm.entityRaw",a.entityRaw),e.$apply()}),a.getList=function(e){return i.getList(a.strategyNumber,e).then(function(e){return e})}}}()},{"../../../../../core/services/logService":2,"../../services/strategyGroupService":337}],45:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/strategySubgroupService");t.exports=function(e,t){n.controller("DataStrategySubGroupController","initialized"),console.log("$stateParams",t);var a=this;a.readyStatus={content:!1},a.strategyNumber=t.strategyNumber,a.entityType="strategy-"+a.strategyNumber+"-subgroup",a.entityRaw=[],a.entityViewer={extraFeatures:[]},i.getList(a.strategyNumber).then(function(t){a.entityRaw=t.results,a.readyStatus.content=!0,console.log("vm.entityRaw",a.entityRaw),e.$apply()}),a.getList=function(e){return i.getList(a.strategyNumber,e).then(function(e){return e})}}}()},{"../../../../../core/services/logService":2,"../../services/strategySubgroupService":339}],46:[function(e,t,n){!function(){"use strict";var n=e("../../services/tagService");t.exports=function(e){console.log('{"controller": "DataTagController", status: "initialized"}');var t=this;t.entityType="tag",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,console.log("vm.entityRaw",t.entityRaw),e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/tagService":340}],47:[function(e,t,n){!function(){"use strict";var n=e("../../services/transactionService");t.exports=function(e){console.log('{"controller": "DataTransactionController", status: "initialized"}');var t=this;t.entityType="transaction",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/transactionService":342}],48:[function(e,t,n){!function(){"use strict";var n=e("../../services/transactionTypeService");t.exports=function(e){console.log('{"controller": "DataTransactionController", status: "initialized"}');var t=this;t.readyStatus={content:!1},t.entityType="transaction-type",t.entityRaw=[],t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/transactionTypeService":343}],49:[function(e,t,n){!function(){"use strict";var n=e("../../services/transaction/transactionTypeGroupService");t.exports=function(e){console.log('{"controller": "DataTransactionTypeGroupController", status: "initialized"}');var t=this;t.readyStatus={content:!1},t.entityType="transaction-type-group",t.entityRaw=[],t.entityViewer={extraFeatures:[]},n.getList().then(function(n){t.entityRaw=n.results,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/transaction/transactionTypeGroupService":346}],50:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e){n.controller("DateCustomFieldConstructorController","initialized");var t=this;t.rangeItems=e.$parent.vm.rangeItems,t.dateRange=e.$parent.vm.dateRange,e.$parent.vm.rangeType=40,t.rangeItems.length||t.rangeItems.push({})}}()},{"../../../../core/services/logService":2}],51:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e,t){var i=this;n.controller("EventScheduleConfigDialogController","initialized"),i.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2}],52:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/usersService"),a=e("../../services/usersGroupService"),o=e("../../services/metaService");e("../../services/attributeTypeService");t.exports=function(e,t,r){n.controller("AttributesAddDialogManagerController","initialized");var s=this;s.attribute={name:"",value_type:""},s.readyStatus={attribute:!0,permissions:!1},s.editRestriction=!1,console.log("vm.attribute",s.attribute),s.valueTypes=[],s.loadPermissions=function(){var t=[];t.push(s.getMemberList()),t.push(s.getGroupList()),Promise.all(t).then(function(t){s.readyStatus.permissions=!0,e.$apply()})},s.getGroupList=function(){return a.getList().then(function(e){s.groups=e.results,s.groups.forEach(function(e){s.attribute.group_object_permissions&&s.attribute.group_object_permissions.forEach(function(t){t.group==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_genericattributetype"===t.permission&&(e.objectPermissions.manage=!0),"change_genericattributetype"===t.permission&&(e.objectPermissions.change=!0))})})})},s.getMemberList=function(){return i.getMemberList().then(function(e){s.members=e.results,s.members.forEach(function(e){s.attribute.user_object_permissions&&s.attribute.user_object_permissions.forEach(function(t){t.member==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_genericattributetype"===t.permission&&(e.objectPermissions.manage=!0),"change_genericattributetype"===t.permission&&(e.objectPermissions.change=!0))})})})},s.checkPermissions=function(){if(s.attributeId){var e=!1;return s.attribute.granted_permissions.indexOf("manage_genericattributetype")!==-1&&(e=!0),e}return!0},s.loadPermissions(),s.valueTypes=o.getDynamicAttrsValueTypesCaptions(),console.log("Value type is ",s.valueTypes),s.agree=function(){s.attribute.user_object_permissions=[],s.members.forEach(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&s.attribute.user_object_permissions.push({member:e.id,permission:"manage_genericattributetype"}),e.objectPermissions&&1==e.objectPermissions.change&&s.attribute.user_object_permissions.push({member:e.id,permission:"change_genericattributetype"})}),s.attribute.group_object_permissions=[],s.groups.forEach(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&s.attribute.group_object_permissions.push({group:e.id,permission:"manage_genericattributetype"}),e.objectPermissions&&1==e.objectPermissions.change&&s.attribute.group_object_permissions.push({group:e.id,permission:"change_genericattributetype"})}),console.log("vm.attr",s.attribute),"float"==s.attribute.value_type&&(s.attribute.value_type=20),t.hide({status:"agree",data:{attribute:s.attribute}})},s.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/metaService":326,"../../services/usersGroupService":348,"../../services/usersService":349}],53:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/usersService"),a=e("../../services/usersGroupService"),o=e("../../services/metaService"),r=e("../../services/attributeTypeService");t.exports=function(e,t,s){n.controller("AttributesAddDialogManagerController","initialized");var c=this;c.readyStatus={attribute:!1,permissions:!1},c.entityType=s.entityType,c.attributeId=s.attributeId,r.getByKey(c.entityType,c.attributeId).then(function(t){c.attribute=t,c.readyStatus.attribute=!0,c.loadPermissions(),e.$apply()}),c.loadPermissions=function(){var t=[];t.push(c.getMemberList()),t.push(c.getGroupList()),Promise.all(t).then(function(t){c.readyStatus.permissions=!0,e.$apply()})},c.getGroupList=function(){return a.getList().then(function(e){c.groups=e.results,c.groups.forEach(function(e){c.attribute.group_object_permissions&&c.attribute.group_object_permissions.forEach(function(t){t.group==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_genericattributetype"===t.permission&&(e.objectPermissions.manage=!0),"change_genericattributetype"===t.permission&&(e.objectPermissions.change=!0))})})})},c.getMemberList=function(){return i.getMemberList().then(function(e){c.members=e.results,c.members.forEach(function(e){c.attribute.user_object_permissions&&c.attribute.user_object_permissions.forEach(function(t){t.member==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),"manage_genericattributetype"===t.permission&&(e.objectPermissions.manage=!0),"change_genericattributetype"===t.permission&&(e.objectPermissions.change=!0))})})})},c.checkPermissions=function(){if(c.attributeId){var e=!1;return c.attribute.granted_permissions.indexOf("manage_genericattributetype")!==-1&&(e=!0),e}return!0},c.editRestriction=!0,console.log("vm.attribute",c.attribute),c.valueTypes=o.getDynamicAttrsValueTypesCaptions(),c.agree=function(){console.log("vm.attr",c.attribute),c.attribute.user_object_permissions=[],c.members.forEach(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&c.attribute.user_object_permissions.push({member:e.id,permission:"manage_genericattributetype"}),e.objectPermissions&&1==e.objectPermissions.change&&c.attribute.user_object_permissions.push({member:e.id,permission:"change_genericattributetype"})}),c.attribute.group_object_permissions=[],c.groups.forEach(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&c.attribute.group_object_permissions.push({group:e.id,permission:"manage_genericattributetype"}),e.objectPermissions&&1==e.objectPermissions.change&&c.attribute.group_object_permissions.push({group:e.id,permission:"change_genericattributetype"})}),t.hide({status:"agree",data:{attribute:c.attribute}})},c.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/metaService":326,"../../services/usersGroupService":348,"../../services/usersService":349}],54:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/import/dataProvidersService"),e("../../services/import/scheduleService"),e("../../services/attributeTypeService"),e("../../services/import/instrumentSchemeService"),e("../../services/instrumentService"),e("../../services/import/importInstrumentService"),e("../../services/import/pricingAutomatedScheduleService"));t.exports=function(e,t,a){n.controller("AutomatedUploadsHistoryDialogController","initialized");var o=this;o.readyStatus={schedule:!1},o.days=[],o.schedule={},o.cron={periodicity:1},o.cron.time=new Date,o.setDay=function(e){o.cron.day||(o.cron.day=[]),o.cron.day.push(e)},o.resetCronExpr=function(){o.cron.day=[],o.cron.month=[]},o.getRange=function(e){var t,n=[];for(t=0;t<e;t+=1)n.push(t);return n},i.getSchedule().then(function(t){o.schedule=t,o.readyStatus.schedule=!0;var n=o.schedule.cron_expr.split(" ");o.cron.time=new Date,o.cron.time.setMinutes(n[0]),o.cron.time.setHours(n[1]),console.log("value",n),"*"==n[3]&&"*"==n[2]&&(o.cron.periodicity=2,o.cron.day=n[4].split(","),o.cron.day.forEach(function(e){o.days[e-1]={status:!0}})),"*"==n[4]&&(o.cron.periodicity=3,o.cron.day=n[2].split(","),n[3].length>1?o.cron.month=n[3].split(","):o.cron.month=[n[3]]),"*"==n[4]&&"*"==n[3]&&"*"==n[2]&&(o.cron.periodicity=1),console.log("vm.periodicity",o.periodicity),e.$apply()}),o.cancel=function(){t.cancel()},o.agree=function(n){var a=moment(new Date(o.cron.time)).format("mm"),r=moment(new Date(o.cron.time)).format("hh");o.schedule.is_enabled=!0,1==o.cron.periodicity&&(console.log(parseInt(a)+" "+parseInt(r)+" * * *"),o.schedule.cron_expr=parseInt(a)+" "+parseInt(r)+" * * *"),2==o.cron.periodicity&&(o.schedule.cron_expr=parseInt(a)+" "+parseInt(r)+" * * "+o.cron.day),3==o.cron.periodicity&&(o.schedule.cron_expr=parseInt(a)+" "+parseInt(r)+" "+o.cron.day+" "+o.cron.month+" *"),i.updateSchedule(o.schedule).then(function(i){console.log("here?"),400==i.status||500==i.status?t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:n,locals:{validationData:i.response},preserveScope:!0,autoWrap:!0,skipHide:!0}):(t.hide({status:"agree",data:"success"}),e.$apply())})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/import/dataProvidersService":291,"../../services/import/importInstrumentService":292,"../../services/import/instrumentSchemeService":298,"../../services/import/pricingAutomatedScheduleService":304,"../../services/import/scheduleService":306,"../../services/instrumentService":312,"../../services/metaService":326}],55:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/reports/balanceReportCustomAttrService");t.exports=function(e,t,a){n.controller("BalanceReportCustomAttrController","initialized");var o=this;o.attribute={},o.attributeId,o.readyStatus={attribute:!1,permissions:!1},o.editRestriction=a.editRestriction,o.editRestriction?(o.attributeId=a.attributeId,console.log("balance attribute id",o.attributeId),i.getByKey(o.attributeId).then(function(t){console.log("balance edit attr data",t),o.attribute=t,o.readyStatus.attribute=!0,e.$apply()})):(o.attribute={name:"",expr:""},o.readyStatus.attribute=!0,console.log("balance report create custom attr")),o.setupConfig=function(e){t.show({controller:"CustomFieldsConfigDialogController as vm",templateUrl:"views/dialogs/custom-fields-config-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{data:{customField:o.attribute}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(e){console.log("res",e),"agree"===e.status&&(o.attribute.expr=e.data.expression,o.attribute.layout=e.data.layout)})},o.agree=function(){t.hide({status:"agree",data:{attribute:o.attribute}})},o.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/reports/balanceReportCustomAttrService":333}],56:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/uiService"),a=e("../../services/metaContentTypesService");t.exports=function(e,t){function o(e){var t="";return a.getListForUi().forEach(function(n){n.key==e&&(t=0==e.indexOf("reports")?"app.reports."+n.entity:"app.data."+n.entity)}),t}var r=this;n.controller("BookmarksLayoutSelectDialogController","initialized"),r.readyStatus={content:!1},i.getListLayout("all").then(function(t){r.items=t.results,r.readyStatus.content=!0,e.$apply()}),r.selectedLayoutId=null,r.selectLayout=function(e){r.selectedLayoutId=e.id,r.selectedContentType=e.content_type},r.agree=function(){t.hide({status:"agree",data:{listLayoutId:r.selectedLayoutId,state:o(r.selectedContentType)}})},r.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/metaContentTypesService":321,"../../services/uiService":347}],57:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/bookmarkService");t.exports=function(e,t){var a=this;n.controller("BookmarksWizardDialogController","initialized"),a.deletedNodes=[],i.getList().then(function(t){function n(e){return e.text=e.name,e.type="default",e.children.length&&(e.type="folder"),e.children=e.children.map(n),e}var i=t.results.map(n);$("#jstree_demo").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0},data:[{text:"Bookmark panel",state:{opened:!0,selected:!0},children:i}]},types:{"#":{valid_children:["Bookmark panel"]},"Bookmark panel":{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default"]},"default":{icon:"portal/content/img/ic_label_outline_black_1x.png",valid_children:["default","folder"]},folder:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default","folder"]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),e.$apply()}),a.createNode=function(e){var n=$("#jstree_demo").jstree(!0),i=n.get_selected();t.show({controller:"BookmarksLayoutSelectDialogController as vm",templateUrl:"views/dialogs/bookmarks-layout-select-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{}}).then(function(e){"agree"===e.status&&(n.set_type(i,"folder"),i=i[0],i=n.create_node(i,{type:"default"}),$("#jstree_demo").jstree(!0).get_node(i).a_attr.state=e.data.state,$("#jstree_demo").jstree(!0).get_node(i).a_attr.list_layout=e.data.listLayoutId,i&&n.edit(i))})},a.renameNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();return!!t.length&&(t=t[0],void e.edit(t))},a.deleteNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();return!!t.length&&(a.deletedNodes.push(t),void e.delete_node(t))},a.agree=function(){var e=$("#jstree_demo").jstree(!0),n=e.get_json("#");console.log("ref",n);var o=[];a.deletedNodes.forEach(function(e){o.push(i.deleteByKey(e))}),Promise.all(o).then(function(){var e=[];n[0].children.forEach(function(t){t.name=t.text,t.hasOwnProperty("children")||(t.children=[]),t.children.forEach(function(e){e.name=e.text}),isNaN(parseInt(t.id,10))?(t.list_layout=t.a_attr.list_layout,t.data.state=t.a_attr.state,delete t.id,t.children.forEach(function(e){console.log("subItem CREATE",e),isNaN(parseInt(e.id,10))&&(e.list_layout=e.a_attr.list_layout,e.data.state=e.a_attr.state,delete e.id)}),e.push(i.create(t))):(t.children.forEach(function(e){isNaN(parseInt(e.id,10))&&(e.list_layout=e.a_attr.list_layout,e.data.state=e.a_attr.state,delete e.id)}),e.push(i.update(t.id,t)))}),Promise.all(e).then(function(){t.hide({status:"agree",data:{}})})})},a.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/bookmarkService":260}],58:[function(e,t,n){!function(){"use strict";var n=e("../../services/attributeTypeService"),i=e("../../../../../core/services/logService");t.exports=function(e,t,a){var o=this;i.controller("ClassificationEditorDialogController","initialized"),o.classifier=a.classifier,n.getByKey(a.entityType,a.classifier.id).then(function(t){function n(e){return e.text=e.name,e.type="default",e.children.length&&(e.type="folder"),e.children=e.children.map(n),e}var i=t.classifiers.map(n);$("#jstree_demo").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0},data:[{text:"Root",state:{opened:!0,selected:!0},children:i}]},types:{"#":{valid_children:["root"]},root:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default"]},"default":{icon:"portal/content/img/ic_label_outline_black_1x.png",valid_children:["default","folder"]},folder:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default","folder"]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),e.$apply()}),o.createNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();e.set_type(t,"folder"),t=t[0],t=e.create_node(t,{type:"default"}),t&&e.edit(t)},o.renameNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();return!!t.length&&(t=t[0],void e.edit(t))},o.deleteNode=function(){var e=$("#jstree_demo").jstree(!0),t=e.get_selected();return!!t.length&&void e.delete_node(t)},o.agree=function(){console.log("vm.attr",o.classifier);var e=$("#jstree_demo").jstree(!0),n=e.get_json("#");console.log("ref",n),console.log("classifier",o.classifier),o.classifier.children=n[0].children,t.hide({status:"agree",data:{classifier:o.classifier}})},o.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256}],59:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),e("../../services/attributeTypeService"));t.exports=function(e,t,i){function a(e){return e.name=e.text,e.id.indexOf("j")!==-1&&(delete e.li_attr,delete e.state,delete e.icon,delete e.a_attr,delete e.data,delete e.text,delete e.type,delete e.id),e.children=e.children.map(a),e}var o=this;o.entityType=i.entityType,o.classifierId=i.classifier.id,o.classifierValue=i.classifierId,o.getTree=function(){$("#js-tree-select-wrapper").remove(),n.getByKey(o.entityType,o.classifierId).then(function(t){function n(e){return e.text=e.name,e.type="default",e.children.length&&(e.type="folder"),e.children=e.children.map(n),e}console.log("DATA",t),$(".js-tree-holder-dialog-select").append('<div id="js-tree-select-wrapper" class="js-tree-select" style="width: 100%; overflow: hidden"></div>'),o.tree=t.classifiers;var i=t.classifiers.map(n);$("#js-tree-select-wrapper").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0,dots:!0},data:[{text:"Root",state:{opened:!0,selected:!0},children:i}]},dnd:{is_draggable:function(e){return!1}},types:{"#":{valid_children:["root"]},root:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default"]},"default":{icon:"portal/content/img/ic_label_outline_black_1x.png",valid_children:["default","folder"]},folder:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default","folder"]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),$("#js-tree-select-wrapper").jstree(!0).show_dots(),e.$apply(function(){setTimeout(function(){$("#js-tree-select-wrapper").jstree("deselect_all")},300),setTimeout(function(){console.log("vm.classifierId",o.classifierValue),$("#js-tree-select-wrapper").jstree("select_node","#"+o.classifierValue)},301)})})},o.getTree(),o.edit=function(e){t.show({controller:"ClassificationEditorDialogController as vm",templateUrl:"views/classification-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{data:{classifier:i.classifier,entityType:o.entityType}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),e.data.classifier.classifiers=e.data.classifier.children.map(a),$("#js-tree-select-wrapper").jstree(!0).destroy(),n.update(o.entityType,e.data.classifier.id,e.data.classifier).then(function(){o.getTree()}))})},o.agree=function(){var e=$("#js-tree-select-wrapper").jstree(!0).get_selected();console.log("ite---------------m",e),t.hide({status:"agree",data:{item:e[0]}})},o.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256}],60:[function(e,t,n){!function(){"use strict";e("../../../../../core/services/logService");t.exports=function(e,t){var n=this;n.agree=function(){t.hide({status:"agree",data:{name:n.groupName,members:[]}})},n.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2}],61:[function(e,t,n){!function(){"use strict";e("../../../../../core/services/logService");t.exports=function(e,t){var n=this;n.agree=function(){t.hide({status:"agree",data:{username:n.memberName,email:n.memberEmail}})},n.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2}],62:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");e("../../services/metaService"),e("../../services/reports/balanceReportCustomAttrService");t.exports=function(e,t,i){n.controller("CustomFieldConfigDialogController","initialized");var a=this;a.customField=i.customField,a.rangeItems=[],a.dateRange={},a.rangeType=null,a.customField.hasOwnProperty("layout")&&null!==a.customField.layout&&(a.exprType=a.customField.layout.exprType,a.exprField=a.customField.layout.exprField,a.rangeItems=a.customField.layout.rangeItems,a.dateRange=a.customField.layout.dateRange),a.resetRanges=function(){a.rangeItems=[]},a.agree=function(){console.log("vm",a);var e="";if(20==a.rangeType&&(e='simple_group("'+a.exprField+'", [',a.rangeItems.forEach(function(t,n){var i=t.value_left,o=t.value_right,r=",";a.rangeItems.length-1==n&&(r=""),"inf"==i&&(i='"inf"'),"-inf"==i&&(i='"-inf"'),"inf"==o&&(o='"inf"'),"-inf"==o&&(o='"-inf"'),e=e+"["+i+", "+o+', "'+t.group_name+'"]'+r}),e+='], default="lorem")'),40==a.rangeType){e='date_group("'+a.exprField+'", [';var n="",i="",o="";a.dateRange.before&&(n=a.dateRange.before.date,a.dateRange.before.format&&(i=a.dateRange.before.format.caption),o=a.dateRange.before.name),e=e+'["","'+n+'", "", ["", "", "", "", "'+i+'", "'+o+'"]],',a.rangeItems.forEach(function(t){var n=t.begin||"",i=t.end||"",a="";t.step&&(a=t.step.caption);var o=t.str1||"",r="";t.begin_date_fmt&&(r=t.begin_date_fmt.caption);var s=t.str3||"",c=t.str4||"",l="";t.end_date_fmt&&(l=t.end_date_fmt.caption);var d=t.str6||"",u=",";e=e+'["'+n+'", "'+i+'", "'+a+'" ["'+o+'", "'+r+'", "'+s+'", "'+c+'", "'+l+'", "'+d+'"]]'+u});var r="",s="",c="";a.dateRange.after&&(r=a.dateRange.after.date,a.dateRange.after.format&&(s=a.dateRange.after.format.caption),c=a.dateRange.after.name),e=e+'["","'+r+'", "", ["", "", "", "", "'+s+'", "'+c+'"]]',e+='], default="lorem")'}t.hide({status:"agree",data:{expression:e,layout:{rangeItems:a.rangeItems,dateRange:a.dateRange,exprField:a.exprField,exprType:a.exprType}}})},a.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/metaService":326,"../../services/reports/balanceReportCustomAttrService":333}],63:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/entityTypeMappingResolveService"),a=e("../../services/entityResolverService"),o=e("../../services/instrument/instrumentAttributeTypeService");t.exports=function(e,t,r){function s(e,t){console.log("item",t),c.entityItems.push({value_type:e.value_type,classifier:e.id,name:t.name,id:t.id,level:t.level}),t.children&&t.children.length>0&&t.children.forEach(function(t){s(e,t)})}n.controller("EntityTypeMappingDialogController","initialized");var c=this;c.readyStatus={content:!1},c.entityItems=[],c.mapItem=r,c.mapEntityType=r.complexExpressionEntity,console.log("mapEntityType",c.mapEntityType),c.toggleQuery=function(){c.queryStatus=!c.queryStatus,c.query={}},c.bindEntityName=function(e){return e.hasOwnProperty("scheme_name")?e.scheme_name:e.name},c.setSort=function(e){c.direction=c.sort===e&&!c.direction,c.sort=e},c.addMapping=function(e,t){e.mapping.splice(t,0,{value:""})},c.removeMapping=function(e,t,n){t.hasOwnProperty("id")?t.isDeleted=!0:e.mapping.splice(n,1)},c.fancyEntity=function(){return c.mapEntityType.replace("_"," ")};"classifier"==c.mapEntityType?o.getByKey(c.mapItem.attribute_type).then(function(t){console.log("classifier data",t),[t].forEach(function(e){console.log("classifier",e),e.classifiers.forEach(function(t){s(e,t)})}),i.getList(c.mapEntityType).then(function(t){t.hasOwnProperty("results")?c.items=t.results:c.items=t;var n,i;for(i=0;i<c.entityItems.length;i+=1)for(n=0;n<c.items.length;n+=1)c.items[n].content_object==c.entityItems[i].id&&(c.entityItems[i].mapping=c.items[n]);console.log("!!!!!!!!!!!!!!!",c.entityItems),c.readyStatus.content=!0,e.$apply()})}):(c.entityMapDashed=c.mapEntityType.split("_").join("-"),a.getList(c.entityMapDashed).then(function(t){t.hasOwnProperty("results")?c.entityItems=t.results:c.entityItems=t,i.getList(c.mapEntityType).then(function(t){t.hasOwnProperty("results")?c.items=t.results:c.items=t;var n,i;for(i=0;i<c.entityItems.length;i+=1)for(n=0;n<c.items.length;n+=1)c.items[n].content_object==c.entityItems[i].id&&(c.entityItems[i].hasOwnProperty("mapping")||(c.entityItems[i].mapping=[]),c.entityItems[i].mapping.push(c.items[n]));c.entityItems.forEach(function(e){e.hasOwnProperty("mapping")||(e.mapping=[{value:""}])}),console.log("!!!!!!!!!!!!!!!",c.items),console.log("!!!!!!!!!!!!!!!",c.entityItems),c.readyStatus.content=!0,e.$apply()})})),c.cancel=function(){t.cancel()},c.agree=function(){function e(){if(console.log("i",n),console.log(c.entityItems[n]),n<c.entityItems.length){if(!c.entityItems[n].hasOwnProperty("mapping"))return n+=1,e(),!1;c.entityItems[n].mapping.length&&c.entityItems[n].mapping.forEach(function(t){return t.hasOwnProperty("id")?1==t.isDeleted?i.deleteByKey(c.mapEntityType,t.id).then(function(){return n+=1,e(),!1}):i.update(c.mapEntityType,t.id,t).then(function(){return n+=1,e(),!1}):(t.provider=1,"classifier"==c.mapEntityType?(t.attribute_type=c.entityItems[n].classifier,30==c.entityItems[n].value_type&&(t.classifier=c.entityItems[n].id)):t.content_object=c.entityItems[n].id,i.create(c.mapEntityType,t).then(function(){return n+=1,e(),!1}))})}}var n=0;e(),t.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":268,"../../services/entityTypeMappingResolveService":269,"../../services/instrument/instrumentAttributeTypeService":314}],64:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),e("../../services/eventsService"));t.exports=function(e,t,i){console.log("id for event buttons",i);var a=this;a.actionsBtns=i.eventActions,console.log("event button is",a.actionsBtns);var o=i.eventId;a.eventAction=function(e){var t={eventId:o,actionId:e};n.getEventAction(t).then(function(e){var i=moment(new Date).format("YYYY-MM-DD");e.values.date=i,n.putEventAction(t,e).then(function(){console.log("event action done"),a.cancel()})})},a.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/eventsService":272}],65:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/metaNotificationClassService"),a=e("../../services/instrument/instrumentEventScheduleConfigService");t.exports=function(e,t){n.controller("EventScheduleConfigDialogController","initialized");var o=this;o.readyStatus={notificationClass:!1,config:!1},a.getList().then(function(t){o.config=t.results[0],o.readyStatus.config=!0,e.$apply()}),i.getList().then(function(t){o.notificationClasses=t,o.readyStatus.notificationClass=!0,e.$apply()}),o.checkReadyStatus=function(){return 1==o.readyStatus.notificationClass&&1==o.readyStatus.config},o.agree=function(e){a.update(o.config.id,o.config).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.hide({res:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},o.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/instrument/instrumentEventScheduleConfigService":316,"../../services/metaNotificationClassService":323}],66:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/helpService");t.exports=function(e,t,a){n.controller("ExpressionEditorDialogController","initialized");var o=this;o.readyStatus={expression:!1},o.item=a,i.getFunctionsHelp().then(function(t){o.expressions=t,o.readyStatus.expression=!0,o.selectedHelpItem=o.expressions[0],e.$apply()}),o.selectHelpItem=function(e){o.expressions.forEach(function(e){e.isSelected=!1}),e.isSelected=!0,o.selectedHelpItem=e},o.appendFunction=function(e){console.log(this);var t=$("#editorExpressionInput")[0].value,n=t.slice(0,$("#editorExpressionInput")[0].selectionStart+"").length;0==n?o.item.expression=o.item.expression+e.func:o.item.expression=o.item.expression.slice(0,n)+e.func+o.item.expression.slice(n)},o.cancel=function(){t.cancel()},o.agree=function(){t.hide({status:"agree",data:{item:o.item}})},o.openHelp=function(e){t.show({controller:"HelpDialogController as vm",templateUrl:"views/dialogs/help-dialog-view.html",targetEvent:e,locals:{data:{}},preserveScope:!0,autoWrap:!0,skipHide:!0})}}}()},{"../../../../../core/services/logService":2,"../../services/helpService":284}],67:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/import/dataProvidersService"),e("../../services/import/scheduleService"),
e("../../services/attributeTypeService"),e("../../services/import/instrumentSchemeService"),e("../../services/instrumentService"),e("../../services/import/importInstrumentService"),e("../../services/import/importPricingService")),a=e("../../services/instrument/instrumentRecalculateAccruedPriceService");t.exports=function(e,t){n.controller("FillPriceHistoryDialogController","initialized");var o=this;o.readyStatus={mapping:!1,processing:!1,recalculationProcessing:!1,recalculationDone:!1};var r=new Date;r=new Date(r.setDate(r.getDate()-1)),o.price={date_from:r,date_to:r,date_both:r,balance_date:r,override_existed:!1},o.priceSettings={isRange:!1},o.cancel=function(){t.cancel()},o.automatedUploads=function(e){t.show({controller:"AutomatedUploadsHistoryDialogController as vm",templateUrl:"views/dialogs/automated-uploads-history-dialog-view.html",targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},o.uploadPrice=function(n){o.readyStatus.processing=!0,o.price.date_both||(o.price.date_both=o.price.date_from),o.priceSettings.isRange?(o.price.date_from=moment(new Date(o.price.date_from)).format("YYYY-MM-DD"),o.price.date_to=moment(new Date(o.price.date_to)).format("YYYY-MM-DD"),o.price.balance_date=moment(new Date(o.price.balance_date)).format("YYYY-MM-DD")):(o.price.date_from=moment(new Date(o.price.date_both)).format("YYYY-MM-DD"),o.price.date_to=moment(new Date(o.price.date_both)).format("YYYY-MM-DD"),o.price.balance_date=moment(new Date(o.price.balance_date)).format("YYYY-MM-DD")),i.create(o.price).then(function(i){o.price=i,"P"==o.price.task_object.status||"S"==o.price.task_object.status||"W"==o.price.task_object.status?setTimeout(function(){o.uploadPrice()},5e3):(o.price.instrument_price_missed.length||o.price.currency_price_missed.length?t.show({controller:"FillPriceManuallyInstrumentDialogController as vm",templateUrl:"views/dialogs/fill-price-manually-instrument-dialog-view.html",targetEvent:n,locals:{data:{instruments:o.price.instrument_price_missed,currencies:o.price.currency_price_missed}},preserveScope:!0,autoWrap:!0,skipHide:!0}):t.show({controller:"SuccessDialogController as vm",templateUrl:"views/dialogs/success-dialog-view.html",targetEvent:n,locals:{success:{title:"Success",description:"Prices download success"}},preserveScope:!0,autoWrap:!0,skipHide:!0}),o.readyStatus.processing=!1),e.$apply()})},o.startRecalculation=function(){o.readyStatus.recalculationProcessing=!0,o.readyStatus.recalculationDone=!1,o.readyStatus.recalculationError=!1;var t,n;try{t=moment(new Date(o.recalculate.date_from)).format("YYYY-MM-DD"),n=moment(new Date(o.recalculate.date_to)).format("YYYY-MM-DD"),a.recalculate(t,n).then(function(){o.readyStatus.recalculationDone=!0,o.readyStatus.recalculationProcessing=!1,e.$apply()})}catch(i){o.readyStatus.recalculationProcessing=!1,o.readyStatus.recalculationError=!0}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/import/dataProvidersService":291,"../../services/import/importInstrumentService":292,"../../services/import/importPricingService":294,"../../services/import/instrumentSchemeService":298,"../../services/import/scheduleService":306,"../../services/instrument/instrumentRecalculateAccruedPriceService":318,"../../services/instrumentService":312,"../../services/metaService":326}],68:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/pricingPolicyService"),a=e("../../services/instrumentService"),o=e("../../services/currencyService"),r=e("../../services/priceHistoryService"),s=e("../../services/currencyHistoryService");t.exports=function(e,t,c){n.controller("FillPriceManuallyInstrumentDialogController","initialized");var l=this;l.readyStatus={instruments:!1,policies:!1,currencies:!1},l.newItem={pricing_policy:"",expr:"",notes:""},l.instrumentsPrices=c.instruments,l.currenciesPrices=c.currencies,i.getList().then(function(t){l.policies=t.results,l.readyStatus.policies=!0,e.$apply()}),a.getList().then(function(t){l.instruments=t.results,l.readyStatus.instruments=!0,e.$apply()}),o.getList().then(function(t){l.currencies=t.results,l.readyStatus.currencies=!0,e.$apply()}),l.checkReadyStatus=function(){return 1==l.readyStatus.instruments&&1==l.readyStatus.policies&&1==l.readyStatus.currencies},l.bindPricingPolicy=function(e){var t="";return l.policies.forEach(function(n){e.pricing_policy==n.id&&(e.policy_name=n.name,t=n.name)}),t},l.bindInstrument=function(e){var t="";return l.instruments.forEach(function(n){e.instrument==n.id&&(e.instrument_name=n.name,t=n.name)}),t},l.bindCurrency=function(e){var t="";return l.currencies.forEach(function(n){e.currency==n.id&&(e.currency_name=n.name,t=n.name)}),t},l.toggleQuery=function(){l.queryStatus=!l.queryStatus,l.query={}},l.setSort=function(e){l.direction=l.sort===e&&!l.direction,l.sort=e},l.agree=function(){var e=[];l.instrumentsPrices.forEach(function(t){null==t.id?e.push(r.create(t)):e.push(r.update(t.id,t))}),l.currenciesPrices.forEach(function(t){null==t.id?e.push(s.create(t)):e.push(s.update(t.id,t))}),Promise.all(e).then(function(){t.hide({status:"agree"})})}}}()},{"../../../../../core/services/logService":2,"../../services/currencyHistoryService":264,"../../services/currencyService":265,"../../services/instrumentService":312,"../../services/priceHistoryService":329,"../../services/pricingPolicyService":330}],69:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),e("../../services/pricingPolicyService")),i=e("../../services/currencyService"),a=e("../../services/portfolioService"),o=e("../../services/accountService"),r=e("../../services/strategyService"),s=e("../../services/transaction/transactionClassService");t.exports=function(e,t,c){var l=this;console.log("reportOptions",c),l.reportOptions=JSON.parse(JSON.stringify(c)),l.readyStatus={pricingPolicy:!1,currency:!1,portfolio:!1,account:!1,strategy1:!1,strategy2:!1,strategy3:!1,transactionClass:!1},l.getPricingPolicies=function(){l.readyStatus.pricingPolicy=!1,n.getList().then(function(t){l.pricingPolicies=t.results,l.readyStatus.pricingPolicy=!0,e.$apply()})},l.onSearchChange=function(e){e.stopPropagation()},l.getCurrencies=function(){l.readyStatus.currency=!1,i.getList().then(function(t){l.currencies=t.results,l.readyStatus.currency=!0,e.$apply()})},l.getPortfolios=function(){l.readyStatus.portfolio=!1,a.getList().then(function(t){l.portfolios=t.results,l.readyStatus.portfolio=!0,e.$apply()})},l.getAccounts=function(){l.readyStatus.account=!1,o.getList().then(function(t){l.accounts=t.results,l.readyStatus.account=!0,e.$apply()})},l.getStrategies1=function(){l.readyStatus.strategy1=!1,r.getList(1).then(function(t){l.strategies1=t.results,l.readyStatus.strategy1=!0,e.$apply()})},l.getStrategies2=function(){l.readyStatus.strategy2=!1,r.getList(2).then(function(t){l.strategies2=t.results,l.readyStatus.strategy2=!0,e.$apply()})},l.getStrategies3=function(){l.readyStatus.strategy3=!1,r.getList(3).then(function(t){l.strategies3=t.results,l.readyStatus.strategy3=!0,e.$apply()})},l.getTransactionClasses=function(){l.readyStatus.transactionClass=!1,s.getList().then(function(t){l.transactionClasses=t,l.readyStatus.transactionClass=!0,e.$apply()})},l.checkReadyStatus=function(){for(var e=!0,t=Object.keys(l.readyStatus),n=0;n<t.length;n+=1)0==l.readyStatus[t[n]]&&(e=!1);return e},l.getPricingPolicies(),l.getCurrencies(),l.getPortfolios(),l.getAccounts(),l.getTransactionClasses(),l.getStrategies1(),l.getStrategies2(),l.getStrategies3(),l.saveSettings=function(){t.hide({status:"agree",data:l.reportOptions})},l.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/accountService":253,"../../services/currencyService":265,"../../services/portfolioService":328,"../../services/pricingPolicyService":330,"../../services/strategyService":338,"../../services/transaction/transactionClassService":345}],70:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e,t,i){n.controller("HelpDialogController","initialized");var a=this;a.data=i,a.cancel=function(){t.cancel()},a.agree=function(){t.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],71:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/import/dataProvidersService"),e("../../services/import/scheduleService"),e("../../services/attributeTypeService"),e("../../services/import/instrumentSchemeService")),a=e("../../services/instrumentService"),o=e("../../services/currencyService"),r=e("../../services/instrumentTypeService"),s=e("../../services/instrument/instrumentDailyPricingModelService"),c=e("../../services/import/importPriceDownloadSchemeService"),l=e("../../services/import/importInstrumentService"),d=e("../../services/instrument/instrumentPaymentSizeDetailService"),u=e("../../services/instrument/instrumentAttributeTypeService");t.exports=function(e,t){n.controller("InstrumentMappingDialogController","initialized"),console.log("mdDialog is ",t);var m=this;m.readyStatus={mapping:!1,processing:!1,dailyModel:!1,priceDownloadScheme:!1,instrumentType:!1,currency:!1},m.dataIsImported=!1,m.config={instrument_code:"USP16394AG62 Corp",mode:1},m.loadIsAvailable=function(){return 0==m.readyStatus.processing&&null!=m.providerId&&null!=m.config.instrument_download_scheme&&null!=m.config.instrument_code},m.dailyModels=[],m.priceDownloadSchemes=[],m.instrumentTypes=[],m.currencies=[],m.dynAttributes={},m.providerId=1,i.getList(m.providerId).then(function(t){m.instrumentSchemes=t.results,m.readyStatus.mapping=!0,e.$apply()}),s.getList().then(function(t){m.dailyModels=t,m.readyStatus.dailyModel=!0,e.$apply()}),c.getList().then(function(t){m.priceDownloadSchemes=t.results,m.readyStatus.priceDownloadScheme=!0,e.$apply()}),d.getList().then(function(t){m.paymentSizeDefaults=t,e.$apply()}),r.getList().then(function(t){m.instrumentTypes=t.results,m.readyStatus.instrumentType=!0,e.$apply()}),o.getList().then(function(t){m.currencies=t.results,m.readyStatus.currency=!0,e.$apply()}),m.appendString=function(e){var t=m.config.instrument_code.split(" ")[0];m.config.instrument_code=t+" "+e},m.resolveAttributeNode=function(e){var t="";return e.hasOwnProperty("classifier_object")&&null!==e.classifier_object?e.classifier_object.name:(m.dynAttributes["id_"+e.attribute_type].classifiers.forEach(function(n){n.id==e.classifier&&(t=n.name)}),t)},m.findError=function(e,t,n){var i="",a=!1;return"entityAttr"==t&&m.config.errors.hasOwnProperty(e)&&(i=m.config.errors[e].join(" "),a=!0),"dynAttr"==t&&m.config.errors.hasOwnProperty("attribute_type_"+e.attribute_type)&&(i=m.config.errors["attribute_type_"+e.attribute_type].join(" "),a=!0),"message"==n?i:a},m.load=function(n){m.readyStatus.processing=!0,l.startImport(m.config).then(function(i){if(console.log("data",i),500!=i.status)if(m.config=i.response,"D"==m.config.task_object.status&&null!==m.config.instrument){m.readyStatus.processing=!1,m.dataIsImported=!0,m.mappedFields=[];var a=[];a=Object.keys(m.config.task_result_overrides).length>0?m.config.task_result_overrides:m.config.task_result;var o,r=Object.keys(a);for(o=0;o<r.length;o+=1)m.mappedFields.push({key:r[o],value:a[r[o]]});var s=[];m.config.instrument.attributes.forEach(function(e){30==e.attribute_type_object.value_type&&s.push(u.getByKey(e.attribute_type))}),console.log("vm.instrument",m.instrument),Promise.all(s).then(function(t){t.forEach(function(e){m.dynAttributes["id_"+e.id]=e}),e.$apply()})}else setTimeout(function(){m.load()},1e3);500==i.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:n,locals:{validationData:"An error occurred. Please try again later"},preserveScope:!0,autoWrap:!0,skipHide:!0})})},m.recalculate=function(){m.mappedFields.forEach(function(e){m.config.task_result_overrides[e.key]=e.value}),m.load()},m.openEditMapping=function(n){t.show({controller:"InstrumentMappingEditDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{schemeId:m.config.instrument_download_scheme}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.update(m.config.instrument_download_scheme,t.data).then(function(){e.$apply()}))})},m.cancel=function(){t.cancel()},m.agree=function(e){a.create(m.config.instrument).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.show({controller:"SuccessDialogController as vm",templateUrl:"views/dialogs/success-dialog-view.html",targetEvent:e,locals:{success:{title:"",description:"You have you have successfully add instrument "+m.config.instrument.user_code+" (user code)."}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(){t.hide({res:"agree"})}),400!=n.status&&500!=n.status||t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/currencyService":265,"../../services/import/dataProvidersService":291,"../../services/import/importInstrumentService":292,"../../services/import/importPriceDownloadSchemeService":293,"../../services/import/instrumentSchemeService":298,"../../services/import/scheduleService":306,"../../services/instrument/instrumentAttributeTypeService":314,"../../services/instrument/instrumentDailyPricingModelService":315,"../../services/instrument/instrumentPaymentSizeDetailService":317,"../../services/instrumentService":312,"../../services/instrumentTypeService":313,"../../services/metaService":326}],72:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/import/dataProvidersService"),e("../../services/import/scheduleService"),e("../../services/attributeTypeService"),e("../../services/import/transactionSchemeService")),a=e("../../services/instrumentService"),o=e("../../services/currencyService"),r=e("../../services/instrumentTypeService"),s=e("../../services/instrument/instrumentDailyPricingModelService"),c=e("../../services/import/importPriceDownloadSchemeService"),l=e("../../services/import/importInstrumentService"),d=e("../../services/instrument/instrumentPaymentSizeDetailService"),u=e("../../services/instrument/instrumentAttributeTypeService");t.exports=function(e,t){n.controller("TransactionMappingDialogController","initialized"),console.log("mdDialog is ",t);var m=this;m.readyStatus={mapping:!1,processing:!1,dailyModel:!1,priceDownloadScheme:!1,instrumentType:!1,currency:!1},m.dataIsImported=!1,m.config={mode:1},m.loadIsAvailable=function(){return 0==m.readyStatus.processing&&null!=m.config.scheme},m.dailyModels=[],m.priceDownloadSchemes=[],m.instrumentTypes=[],m.currencies=[],m.dynAttributes={},i.getList().then(function(t){m.transactionSchemes=t.results,m.readyStatus.mapping=!0,e.$apply()}),s.getList().then(function(t){m.dailyModels=t,m.readyStatus.dailyModel=!0,e.$apply()}),c.getList().then(function(t){m.priceDownloadSchemes=t.results,m.readyStatus.priceDownloadScheme=!0,e.$apply()}),d.getList().then(function(t){m.paymentSizeDefaults=t,e.$apply()}),r.getList().then(function(t){m.instrumentTypes=t.results,m.readyStatus.instrumentType=!0,e.$apply()}),o.getList().then(function(t){m.currencies=t.results,m.readyStatus.currency=!0,e.$apply()}),m.appendString=function(e){var t=m.config.instrument_code.split(" ")[0];m.config.instrument_code=t+" "+e},m.resolveAttributeNode=function(e){var t="";return e.hasOwnProperty("classifier_object")&&null!==e.classifier_object?e.classifier_object.name:(m.dynAttributes["id_"+e.attribute_type].classifiers.forEach(function(n){n.id==e.classifier&&(t=n.name)}),t)},m.findError=function(e,t,n){var i="",a=!1;return"entityAttr"==t&&m.config.errors.hasOwnProperty(e)&&(i=m.config.errors[e].join(" "),a=!0),"dynAttr"==t&&m.config.errors.hasOwnProperty("attribute_type_"+e.attribute_type)&&(i=m.config.errors["attribute_type_"+e.attribute_type].join(" "),a=!0),"message"==n?i:a},m.load=function(n){m.readyStatus.processing=!0,l.startImport(m.config).then(function(i){if(console.log("data",i),500!=i.status)if(m.config=i.response,"D"==m.config.task_object.status&&null!==m.config.instrument){m.readyStatus.processing=!1,m.dataIsImported=!0,m.mappedFields=[];var a=[];a=Object.keys(m.config.task_result_overrides).length>0?m.config.task_result_overrides:m.config.task_result;var o,r=Object.keys(a);for(o=0;o<r.length;o+=1)m.mappedFields.push({key:r[o],value:a[r[o]]});var s=[];m.config.instrument.attributes.forEach(function(e){30==e.attribute_type_object.value_type&&s.push(u.getByKey(e.attribute_type))}),console.log("vm.instrument",m.instrument),Promise.all(s).then(function(t){t.forEach(function(e){m.dynAttributes["id_"+e.id]=e}),e.$apply()})}else setTimeout(function(){m.load()},1e3);500==i.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:n,locals:{validationData:"An error occurred. Please try again later"},preserveScope:!0,autoWrap:!0,skipHide:!0})})},m.recalculate=function(){m.mappedFields.forEach(function(e){m.config.task_result_overrides[e.key]=e.value}),m.load()},m.openEditMapping=function(n){t.show({controller:"TransactionMappingEditDialogController as vm",templateUrl:"views/dialogs/transaction-mapping-dialog-view.html",targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{schemeId:m.config.scheme}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.update(m.config.scheme,t.data).then(function(){e.$apply()}))})},m.cancel=function(){t.cancel()},m.agree=function(e){a.create(m.config.instrument).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.show({controller:"SuccessDialogController as vm",templateUrl:"views/dialogs/success-dialog-view.html",targetEvent:e,locals:{success:{title:"",description:"You have you have successfully add instrument "+m.config.instrument.user_code+" (user code)."}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(){t.hide({res:"agree"})}),400!=n.status&&500!=n.status||t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/currencyService":265,"../../services/import/dataProvidersService":291,"../../services/import/importInstrumentService":292,"../../services/import/importPriceDownloadSchemeService":293,"../../services/import/scheduleService":306,"../../services/import/transactionSchemeService":310,"../../services/instrument/instrumentAttributeTypeService":314,"../../services/instrument/instrumentDailyPricingModelService":315,"../../services/instrument/instrumentPaymentSizeDetailService":317,"../../services/instrumentService":312,"../../services/instrumentTypeService":313,"../../services/metaService":326}],73:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e,t,i){n.controller("WarningDialogController","initialized");var a=this;a.info=i,a.cancel=function(){t.cancel()},a.agree=function(){t.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],74:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/transactionTypeService"));t.exports=function(e,t,a){n.controller("InstrumentEventActionDialogController","initialized");var o=this;o.readyStatus={transactionTypes:!1},console.log("eventActions",a),o.eventActions=a.$viewValue||[],o.toggleQuery=function(){o.queryStatus=!o.queryStatus,o.query={}},o.setSort=function(e){o.direction=o.sort===e&&!o.direction,o.sort=e},o.checkReadyStatus=function(){return 1==o.readyStatus.transactionTypes},i.getList().then(function(t){console.log("data",t),o.transactionTypes=t.results,o.readyStatus.transactionTypes=!0,e.$apply()}),o.newItem={transaction_type:"",text:"",is_sent_to_pending:null,is_book_automatic:null,button_position:""},o.bindTransactionType=function(e){var t;return o.transactionTypes.forEach(function(n){e.transaction_type==n.id&&(e.transaction_type_name=n.name,t=n.name)}),t},o.editItem=function(e){e.editStatus=!0},o.saveItem=function(e){e.editStatus=!1},o.deleteItem=function(e,t){o.eventActions.splice(t,1)},o.addRow=function(){o.eventActions.push({transaction_type:o.newItem.transaction_type,text:o.newItem.text,is_sent_to_pending:o.newItem.is_sent_to_pending,is_book_automatic:o.newItem.is_book_automatic,button_position:o.newItem.button_position}),o.newItem={transaction_type:"",text:"",is_sent_to_pending:null,is_book_automatic:null,button_position:""}},console.log("eventActions",a),o.agree=function(){a.$viewValue=o.eventActions,t.hide({status:"agree"})},o.cancel=function(){t.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/metaService":326,"../../services/transactionTypeService":343}],75:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/metaService"),a=e("../../services/import/dataProvidersService"),o=e("../../services/import/scheduleService"),r=e("../../services/attributeTypeService"),s=e("../../services/import/instrumentSchemeService");t.exports=function(e,t){n.controller("InstrumentMappingDialogController","initialized");var c=this;c.dataProviders=[],c.readyStatus={dataProviders:!1,scheme:!0},a.getList().then(function(t){c.dataProviders=t,c.readyStatus.dataProviders=!0,e.$apply()}),c.hidedEntityAttrs=["factor_schedule_method","accrual_calculation_schedule_method","provider","url","scheme_name","id","attributes","inputs"],c.baseAttrs=i.getBaseAttrs(),c.entityAttrs=i.getEntityAttrs("instrument-scheme").map(function(e){return"factor_schedule_method"==e.key||"accrual_calculation_schedule_method"==e.key?null:e}).filter(function(e){return!!e}),c.attrs=[],r.getList("instrument").then(function(t){c.attrs=t.results,e.$apply()}),c.scheme={};var l=function(){c.scheme.attributes=[];var e;for(e=0;e<c.baseAttrs.length;e+=1)c.scheme[c.baseAttrs[e].key]="";var t;for(t=0;t<c.entityAttrs.length;t+=1)c.scheme[c.entityAttrs[t].key]=""};l(),c.mapFields=[{key:"name",caption:"Name",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"user_code",caption:"User code",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"instrument_type",caption:"Instrument type",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:"instrument_type"},{key:"short_name",caption:"Short name",required:!0,expression:"",complexExpressionEntity:!1},{key:"public_name",caption:"Public name",required:!0,expression:"",complexExpressionEntity:!1},{key:"maturity_date",caption:"Maturity",required:!0,expression:"",complexExpressionEntity:!1}],c.mappedFieldsDefaults=[{key:"daily_pricing_model",caption:"Daily pricing model",required:!1,hasBackground:!0,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"price_download_scheme",caption:"Price download scheme",required:!1,hasBackground:!0,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"pricing_currency",caption:"Pricing currency",value_type:"field",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:"currency"},{key:"price_multiplier",caption:"Price multiplier",value_type:10,required:!1,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"reference_for_pricing",caption:"Reference for pricing",required:!0,expression:"",complexExpressionEntity:!1},{key:"default_price",caption:"Default price",value_type:10,required:!1,expression:"",complexExpressionEntity:!1}],c.mappedFieldsSecond=[{key:"accrued_currency",caption:"Accrued currency",value_type:"field",required:!1,hasBackground:!0,expression:"",complexExpressionEntity:"currency"},{key:"accrued_multiplier",caption:"Accrued multiplier",value_type:10,required:!1,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"default_accrued",caption:"Default accrued",value_type:10,required:!1,expression:"",complexExpressionEntity:!1},{key:"payment_size_detail",caption:"Payment size detail",value_type:"field",required:!1,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"user_text_1",caption:"User text 1",required:!1,expression:"",complexExpressionEntity:!1},{key:"user_text_2",caption:"User text 2",required:!1,expression:"",complexExpressionEntity:!1},{key:"user_text_3",caption:"User text 3",required:!1,expression:"",complexExpressionEntity:!1},{key:"notes",caption:"Notes",required:!1,expression:"",complexExpressionEntity:!1}],c.mappedDynamic=[],c.providerFields=[{name:"",field:""}],c.addProviderField=function(){c.providerFields.push({name:"",field:""})},c.addMapField=function(){c.mappedDynamic.push({expression:"",required:!1,complexExpressionEntity:!1})},c.removeProviderField=function(e,t){console.log("$index",t),c.providerFields.splice(t,1),console.log("vm.providerFields",c.providerFields)},c.removeMappingField=function(e,t){c.mappedDynamic.splice(t,1)},c.beatufier=function(e){if(void 0!==e){var t=e.split("_").join(" ");return t}return e},c.cancel=function(){t.cancel()},c.agree=function(e){function n(){var e;for(e=0;e<c.mapFields.length;e+=1)c.mapFields[e].hasOwnProperty("attribute_type")?c.scheme.attributes.push({attribute_type:c.mapFields[e].attribute_type,value:c.mapFields[e].expression}):c.scheme[c.mapFields[e].key]=c.mapFields[e].expression}function i(){var e;for(e=0;e<c.mappedFieldsDefaults.length;e+=1)c.mappedFieldsDefaults[e].hasOwnProperty("attribute_type")?c.scheme.attributes.push({attribute_type:c.mappedFieldsDefaults[e].attribute_type,value:c.mappedFieldsDefaults[e].expression}):c.scheme[c.mappedFieldsDefaults[e].key]=c.mappedFieldsDefaults[e].expression}function a(){var e;for(e=0;e<c.mappedFieldsSecond.length;e+=1)c.mappedFieldsSecond[e].hasOwnProperty("attribute_type")?c.scheme.attributes.push({attribute_type:c.mappedFieldsSecond[e].attribute_type,value:c.mappedFieldsSecond[e].expression}):c.scheme[c.mappedFieldsSecond[e].key]=c.mappedFieldsSecond[e].expression}function o(){var e,t,n,i,a;for(n=0;n<c.baseAttrs.length;n+=1)"notes"==c.baseAttrs[n].key&&(null==c.scheme.notes&&""==c.scheme.notes||c.mappedDynamic.push({key:"notes",caption:"Notes",required:!1,value:c.baseAttrs[n],complexExpressionEntity:!1,expression:c.scheme.notes}));var o=Object.keys(c.scheme),r=["user_code","instrument_type","reference_for_pricing","daily_pricing_model","price_download_scheme","default_price","default_accrued","payment_size_detail","public_name"];for(i=0;i<o.length;i+=1)if(c.hidedEntityAttrs.indexOf(o[i])===-1&&r.indexOf(o[i])===-1)for(a=0;a<c.entityAttrs.length;a+=1)if(c.entityAttrs[a].key==o[i]&&""!=c.scheme[o[i]]&&null!=c.scheme[o[i]]&&void 0!=c.scheme[o[i]]){var s=!1;"accrued_currency"!=o[i]&&"pricing_currency"!=o[i]||(s="currency"),c.mappedDynamic.push({key:o[i],required:!1,value:c.entityAttrs[a],complexExpressionEntity:s,expression:c.scheme[o[i]]})}for(e=0;e<c.scheme.attributes.length;e+=1)for(console.log("vm.scheme.attributes[a]",c.scheme.attributes[e]),console.log("vm.attrs",c.attrs),t=0;t<c.attrs.length;t+=1)if(c.attrs[t].id==c.scheme.attributes[e].attribute_type){var l=!1;30==c.attrs[t].value_type&&(l=!0),c.mappedDynamic.push({id:c.scheme.attributes[e].id,complexExpressionEntity:l,expression:c.scheme.attributes[e].value,attribute_name:c.scheme.attributes[e].name,attribute_type:c.scheme.attributes[e].attribute_type,value:c.attrs[t],attr:c.scheme.attributes[e]})}}c.scheme.scheme_name=c.schemeName,c.scheme.provider=c.schemeProvider,c.scheme.factor_schedule_method=c.factorScheduleMethod,c.scheme.accrual_calculation_schedule_method=c.accrualCalculation,c.scheme.attributes=[],n(),i(),a(),o(),c.scheme.inputs=c.providerFields,c.scheme.inputs.forEach(function(e){e.field=e.name}),s.create(c.scheme).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.hide({status:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},c.openMapping=function(e,n){console.log("ITEEM",n),t.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},c.openExpressionDialog=function(n,i){t.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:i}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.expression=t.data.item.expression,e.$apply())})},c.resolveFieldType=function(e){console.log("field",e),e.value.hasOwnProperty("key")&&(e.key=e.value.key,"accrued_currency"!=e.key&&"pricing_currency"!=e.key||(e.complexExpressionEntity="currency")),e.value.hasOwnProperty("value_type")&&e.value.hasOwnProperty("id")&&(e.attribute_type=e.value.id,30==e.value.value_type&&(e.complexExpressionEntity="classifier"))},c.getModelKey=function(e){return e.hasOwnProperty("key")?"key":"attribute_type"},c.getSchedules=function(){o.getAccrualScheduleDownloadMethodList().then(function(t){c.accrualSchedule=t,c.readyStatus.accrualSchedule=!0,e.$apply()}),o.getFactorScheduleDownloadMethodList().then(function(t){c.factorSchedule=t,c.readyStatus.factorSchedule=!0,e.$apply()})},c.checkSchedules=function(){return!(!c.readyStatus.accrualSchedule||!c.readyStatus.factorSchedule)},c.getSchedules(),c.checkAttrs=function(){var e,t,n,i,a,o,r,s,l,d,u,m,p,g,y;for(e=0;e<c.baseAttrs.length;e+=1){for(c.baseAttrs[e].disabled=!1,i=0;i<c.mapFields.length;i+=1)c.mapFields[i].key==c.baseAttrs[e].key&&(c.baseAttrs[e].disabled=!0);for(r=0;r<c.mappedFieldsDefaults.length;r+=1)c.mappedFieldsDefaults[r].key==c.baseAttrs[e].key&&(c.baseAttrs[e].disabled=!0);for(d=0;d<c.mappedFieldsSecond.length;d+=1)c.mappedFieldsSecond[d].key==c.baseAttrs[e].key&&(c.baseAttrs[e].disabled=!0);for(p=0;p<c.mappedDynamic.length;p+=1)c.mappedDynamic[p].key==c.baseAttrs[e].key&&(c.baseAttrs[e].disabled=!0)}for(t=0;t<c.entityAttrs.length;t+=1){for(c.entityAttrs[t].disabled=!1,a=0;a<c.mapFields.length;a+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[t].key)===-1&&c.mapFields[a].key==c.entityAttrs[t].key&&(c.entityAttrs[t].disabled=!0);for(s=0;s<c.mappedFieldsDefaults.length;s+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[t].key)===-1&&c.mappedFieldsDefaults[s].key==c.entityAttrs[t].key&&(c.entityAttrs[t].disabled=!0);for(u=0;u<c.mappedFieldsSecond.length;u+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[t].key)===-1&&c.mappedFieldsSecond[u].key==c.entityAttrs[t].key&&(c.entityAttrs[t].disabled=!0);for(g=0;g<c.mappedDynamic.length;g+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[t].key)===-1&&c.mappedDynamic[g].key==c.entityAttrs[t].key&&(c.entityAttrs[t].disabled=!0)}for(n=0;n<c.attrs.length;n+=1){for(c.attrs[n].disabled=!1,o=0;o<c.mapFields.length;o+=1)c.mapFields[o].hasOwnProperty("attribute_type")&&c.mapFields[o].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0);for(l=0;l<c.mappedFieldsDefaults.length;l+=1)c.mappedFieldsDefaults[l].hasOwnProperty("attribute_type")&&c.mappedFieldsDefaults[l].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0);for(m=0;m<c.mappedFieldsSecond.length;m+=1)c.mappedFieldsSecond[m].hasOwnProperty("attribute_type")&&c.mappedFieldsSecond[m].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0);
for(y=0;y<c.mappedDynamic.length;y+=1)c.mappedDynamic[y].hasOwnProperty("attribute_type")&&c.mappedDynamic[y].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0)}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/import/dataProvidersService":291,"../../services/import/instrumentSchemeService":298,"../../services/import/scheduleService":306,"../../services/metaService":326}],76:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/metaService"),a=e("../../services/import/dataProvidersService"),o=e("../../services/import/instrumentSchemeService"),r=e("../../services/import/scheduleService"),s=e("../../services/attributeTypeService");t.exports=function(e,t,c){n.controller("InstrumentMappingEditDialogController","initialized");var l=this;l.scheme={},l.readyStatus={dataProviders:!1,scheme:!1},o.getByKey(c).then(function(t){l.scheme=t,l.getAttrs(),e.$apply()}),l.hidedEntityAttrs=["factor_schedule_method","accrual_calculation_schedule_method","provider","url","scheme_name","id","attributes","inputs"],l.baseAttrs=i.getBaseAttrs(),l.entityAttrs=i.getEntityAttrs("instrument-scheme").map(function(e){return"factor_schedule_method"==e.key||"accrual_calculation_schedule_method"==e.key?null:e}).filter(function(e){return!!e}),console.log("vm.entityAttrs",l.entityAttrs),l.attrs=[],l.getAttrs=function(){s.getList("instrument").then(function(t){l.attrs=t.results,d(),e.$apply()})},l.dataProviders=[],a.getList().then(function(t){l.dataProviders=t,l.readyStatus.dataProviders=!0,e.$apply()}),l.mapFields=[{key:"name",caption:"Name",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"user_code",caption:"User code",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"instrument_type",caption:"Instrument type",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:"instrument_type"},{key:"short_name",caption:"Short name",required:!0,expression:"",complexExpressionEntity:!1},{key:"public_name",caption:"Public name",required:!0,expression:"",complexExpressionEntity:!1},{key:"maturity_date",caption:"Maturity",required:!0,expression:"",complexExpressionEntity:!1},{key:"daily_pricing_model",caption:"Daily pricing model",required:!1,hasBackground:!0,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"price_download_scheme",caption:"Price download scheme",required:!1,hasBackground:!0,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"pricing_currency",caption:"Pricing currency",value_type:"field",required:!0,hasBackground:!0,expression:"",complexExpressionEntity:"currency"},{key:"price_multiplier",caption:"Price multiplier",value_type:10,required:!1,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"reference_for_pricing",caption:"Reference for pricing",required:!0,value_type:10,expression:"",complexExpressionEntity:!1},{key:"default_price",caption:"Default price",value_type:10,required:!1,expression:"",complexExpressionEntity:!1},{key:"accrued_currency",caption:"Accrued currency",value_type:"field",required:!1,hasBackground:!0,expression:"",complexExpressionEntity:"currency"},{key:"accrued_multiplier",caption:"Accrued multiplier",value_type:10,required:!1,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"default_accrued",caption:"Default accrued",value_type:10,required:!1,expression:"",complexExpressionEntity:!1},{key:"payment_size_detail",caption:"Payment size detail",value_type:"field",required:!1,hasBackground:!0,expression:"",complexExpressionEntity:!1},{key:"user_text_1",caption:"User text 1",required:!1,expression:"",complexExpressionEntity:!1},{key:"user_text_2",caption:"User text 2",required:!1,expression:"",complexExpressionEntity:!1},{key:"user_text_3",caption:"User text 3",required:!1,expression:"",complexExpressionEntity:!1},{key:"notes",caption:"Notes",required:!1,expression:"",complexExpressionEntity:!1}],l.mappedFieldsDefaults=[],l.mappedFieldsSecond=[],l.mappedDynamic=[],l.providerFields=[{name:"",field:""}];var d=function(){function e(){var e,t,n=Object.keys(l.scheme);for(e=0;e<n.length;e+=1)if(l.hidedEntityAttrs.indexOf(n[e])===-1){var i=a(n[e]),s=o(n[e]),c=r(n[e]);for(t=0;t<l.mapFields.length;t+=1)l.mapFields[t].key==n[e]&&(l.mapFields[t].caption=i,l.mapFields[t].required=s,l.mapFields[t].complexExpressionEntity=c,l.mapFields[t].expression=l.scheme[n[e]])}}function t(){var e,t,n=Object.keys(l.scheme);for(e=0;e<n.length;e+=1)if(l.hidedEntityAttrs.indexOf(n[e])===-1){var i=a(n[e]),s=o(n[e]),c=r(n[e]);for(t=0;t<l.mappedFieldsDefaults.length;t+=1)l.mappedFieldsDefaults[t].key==n[e]&&(l.mappedFieldsDefaults[t].caption=i,l.mappedFieldsDefaults[t].required=s,l.mappedFieldsDefaults[t].complexExpressionEntity=c,l.mappedFieldsDefaults[t].expression=l.scheme[n[e]])}}function n(){var e,t,n=Object.keys(l.scheme);for(e=0;e<n.length;e+=1)if(l.hidedEntityAttrs.indexOf(n[e])===-1){var i=a(n[e]),s=o(n[e]),c=r(n[e]);for(t=0;t<l.mappedFieldsSecond.length;t+=1)l.mappedFieldsSecond[t].key==n[e]&&(l.mappedFieldsSecond[t].caption=i,l.mappedFieldsSecond[t].required=s,l.mappedFieldsSecond[t].complexExpressionEntity=c,l.mappedFieldsSecond[t].expression=l.scheme[n[e]])}}function i(){var e,t;Object.keys(l.scheme);for(e=0;e<l.scheme.attributes.length;e+=1)for(console.log("vm.scheme.attributes[a]",l.scheme.attributes[e]),console.log("vm.attrs",l.attrs),t=0;t<l.attrs.length;t+=1)if(l.attrs[t].id==l.scheme.attributes[e].attribute_type){var n=!1;30==l.attrs[t].value_type&&(n="classifier"),l.mappedDynamic.push({id:l.scheme.attributes[e].id,complexExpressionEntity:n,expression:l.scheme.attributes[e].value,attribute_name:l.scheme.attributes[e].name,attribute_type:l.scheme.attributes[e].attribute_type,value:l.attrs[t],attr:l.scheme.attributes[e]})}}l.schemeName=l.scheme.scheme_name,l.schemeProvider=l.scheme.provider,l.factorScheduleMethod=l.scheme.factor_schedule_method,l.accrualCalculation=l.scheme.accrual_calculation_schedule_method;var a=function(e){var t;for(t=0;t<l.entityAttrs.length;t+=1)if(l.entityAttrs[t].key==e)return l.entityAttrs[t].caption},o=function(e){var t=["name","user_code","instrument_type","reference_for_pricing","short_name","public_name"];return t.indexOf(e)!==-1},r=function(e){return"accrued_currency"==e?"currency":"pricing_currency"==e?"currency":"instrument_type"==e&&"instrument_type"};e(),t(),n(),i(),l.providerFields=l.scheme.inputs,l.readyStatus.scheme=!0};l.resolveFieldType=function(e){console.log("field",e),e.value.hasOwnProperty("key")&&(e.key=e.value.key,"accrued_currency"!=e.key&&"pricing_currency"!=e.key||(e.complexExpressionEntity="currency")),e.value.hasOwnProperty("value_type")&&e.value.hasOwnProperty("id")&&(e.attribute_type=e.value.id,30==e.value.value_type&&(e.complexExpressionEntity="classifier"))},l.getModelKey=function(e){return e.hasOwnProperty("key")?"key":"attribute_type"},l.addProviderField=function(){l.providerFields.push({name:"",field:""})},l.beatufier=function(e){if(void 0!==e){var t=e.split("_").join(" ");return t}return e},l.addMapField=function(){l.mappedDynamic.push({expression:"",required:!1,complexExpressionEntity:!1})},l.removeProviderField=function(e,t){l.providerFields.splice(t,1)},l.removeMappingField=function(e,t){l.mappedDynamic.splice(t,1)},l.cancel=function(){t.cancel()},l.agree=function(e){l.schemeUpdated={},l.schemeUpdated.scheme_name=l.schemeName,l.schemeUpdated.provider=l.schemeProvider,l.schemeUpdated.factor_schedule_method=l.factorScheduleMethod,l.schemeUpdated.accrual_calculation_schedule_method=l.accrualCalculation,l.schemeUpdated.attributes=[],console.log("mapFields",l.mapFields),console.log("mappedFieldsDefaults",l.mappedFieldsDefaults),console.log("mappedFieldsSecond",l.mappedFieldsSecond),console.log("mappedDynamic",l.mappedDynamic);var n,i,a,r;for(n=0;n<l.mapFields.length;n+=1)l.mapFields[n].hasOwnProperty("attribute_type")?l.schemeUpdated.attributes.push({id:l.mapFields[n].id,attribute_type:l.mapFields[n].attribute_type,value:l.mapFields[n].expression}):l.schemeUpdated[l.mapFields[n].key]=l.mapFields[n].expression;for(i=0;i<l.mappedFieldsDefaults.length;i+=1)l.mappedFieldsDefaults[i].hasOwnProperty("attribute_type")?l.schemeUpdated.attributes.push({id:l.mappedFieldsDefaults[i].id,attribute_type:l.mappedFieldsDefaults[i].attribute_type,value:l.mappedFieldsDefaults[i].expression}):l.schemeUpdated[l.mappedFieldsDefaults[i].key]=l.mappedFieldsDefaults[i].expression;for(a=0;a<l.mappedFieldsSecond.length;a+=1)l.mappedFieldsSecond[a].hasOwnProperty("attribute_type")?l.schemeUpdated.attributes.push({id:l.mappedFieldsSecond[a].id,attribute_type:l.mappedFieldsSecond[a].attribute_type,value:l.mappedFieldsSecond[a].expression}):l.schemeUpdated[l.mappedFieldsSecond[a].key]=l.mappedFieldsSecond[a].expression;for(r=0;r<l.mappedDynamic.length;r+=1)l.mappedDynamic[r].hasOwnProperty("attribute_type")?l.schemeUpdated.attributes.push({id:l.mappedDynamic[r].id,attribute_type:l.mappedDynamic[r].attribute_type,value:l.mappedDynamic[r].expression}):l.schemeUpdated[l.mappedDynamic[r].key]=l.mappedDynamic[r].expression;l.schemeUpdated.inputs=l.providerFields,l.schemeUpdated.inputs.forEach(function(e){e.field=e.name}),o.update(l.scheme.id,l.schemeUpdated).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.hide({res:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},l.openMapping=function(e,n){t.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},l.openExpressionDialog=function(n,i){t.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:i}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),t.data&&(i.expression=t.data.item.expression),e.$apply())})},l.getSchedules=function(){r.getAccrualScheduleDownloadMethodList().then(function(t){l.accrualSchedule=t,l.readyStatus.accrualSchedule=!0,e.$apply()}),r.getFactorScheduleDownloadMethodList().then(function(t){l.factorSchedule=t,l.readyStatus.factorSchedule=!0,e.$apply()})},l.checkSchedules=function(){return!(!l.readyStatus.accrualSchedule||!l.readyStatus.factorSchedule)},l.getSchedules(),l.checkAttrs=function(){console.log("chack attrs?");var e,t,n,i,a,o,r,s,c,d,u,m,p,g,y;for(e=0;e<l.baseAttrs.length;e+=1){for(l.baseAttrs[e].disabled=!1,i=0;i<l.mapFields.length;i+=1)l.mapFields[i].key==l.baseAttrs[e].key&&(l.baseAttrs[e].disabled=!0);for(r=0;r<l.mappedFieldsDefaults.length;r+=1)l.mappedFieldsDefaults[r].key==l.baseAttrs[e].key&&(l.baseAttrs[e].disabled=!0);for(d=0;d<l.mappedFieldsSecond.length;d+=1)l.mappedFieldsSecond[d].key==l.baseAttrs[e].key&&(l.baseAttrs[e].disabled=!0);for(p=0;p<l.mappedDynamic.length;p+=1)l.mappedDynamic[p].key==l.baseAttrs[e].key&&(l.baseAttrs[e].disabled=!0)}for(t=0;t<l.entityAttrs.length;t+=1){for(l.entityAttrs[t].disabled=!1,a=0;a<l.mapFields.length;a+=1)l.hidedEntityAttrs.indexOf(l.entityAttrs[t].key)===-1&&l.mapFields[a].key==l.entityAttrs[t].key&&(l.entityAttrs[t].disabled=!0);for(s=0;s<l.mappedFieldsDefaults.length;s+=1)l.hidedEntityAttrs.indexOf(l.entityAttrs[t].key)===-1&&l.mappedFieldsDefaults[s].key==l.entityAttrs[t].key&&(l.entityAttrs[t].disabled=!0);for(u=0;u<l.mappedFieldsSecond.length;u+=1)l.hidedEntityAttrs.indexOf(l.entityAttrs[t].key)===-1&&l.mappedFieldsSecond[u].key==l.entityAttrs[t].key&&(l.entityAttrs[t].disabled=!0);for(g=0;g<l.mappedDynamic.length;g+=1)l.hidedEntityAttrs.indexOf(l.entityAttrs[t].key)===-1&&l.mappedDynamic[g].key==l.entityAttrs[t].key&&(l.entityAttrs[t].disabled=!0)}for(n=0;n<l.attrs.length;n+=1){for(l.attrs[n].disabled=!1,o=0;o<l.mapFields.length;o+=1)l.mapFields[o].hasOwnProperty("attribute_type")&&l.mapFields[o].attribute_type==l.attrs[n].id&&(l.attrs[n].disabled=!0);for(c=0;c<l.mappedFieldsDefaults.length;c+=1)l.mappedFieldsDefaults[c].hasOwnProperty("attribute_type")&&l.mappedFieldsDefaults[c].attribute_type==l.attrs[n].id&&(l.attrs[n].disabled=!0);for(m=0;m<l.mappedFieldsSecond.length;m+=1)l.mappedFieldsSecond[m].hasOwnProperty("attribute_type")&&l.mappedFieldsSecond[m].attribute_type==l.attrs[n].id&&(l.attrs[n].disabled=!0);for(y=0;y<l.mappedDynamic.length;y+=1)l.mappedDynamic[y].hasOwnProperty("attribute_type")&&l.mappedDynamic[y].attribute_type==l.attrs[n].id&&(l.attrs[n].disabled=!0)}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/import/dataProvidersService":291,"../../services/import/instrumentSchemeService":298,"../../services/import/scheduleService":306,"../../services/metaService":326}],77:[function(e,t,n){!function(){"use strict";var n=e("../../services/instrumentService");t.exports=function(e,t){var i=this;i.search={user_code:"",name:"",short_name:"",user_text_1:"",user_text_2:"",user_text_3:""},i.instruments=[],i.selectedItem={},i.agree=function(){t.hide({status:"agree",data:{item:i.selectedItem}})},i.cancel=function(){t.cancel()},i.selectRow=function(e){i.instruments.forEach(function(e){e.active=!1}),i.selectedItem=e,e.active=!0},i.selectAndSave=function(e){t.hide({status:"agree",data:{item:e}})},n.getList({filters:i.search}).then(function(t){i.instruments=t.results,e.$apply()}),i.updateTable=function(){n.getList({filters:i.search}).then(function(t){i.instruments=t.results,e.$apply()})}}}()},{"../../services/instrumentService":312}],78:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),e("../../services/membersAndGroupsService"));t.exports=function(e,t,i){var a=this;a.membersList=[],a.assignedMembersList=[],a.groups=[],n.getList("members").then(function(t){a.membersList=t.results,n.getMemberOrGroupByKey("groups",i).then(function(t){a.groups=t,console.log("groups is",t);var n=a.groups.members;n&&n.length>0&&n.map(function(e){a.membersList.map(function(t,n){var i=t.id;i===e&&(a.membersList.splice(n,1),a.assignedMembersList.push(t))})}),e.$apply()})}),a.cancel=function(){t.cancel()},a.agree=function(){var e=[];a.assignedMembersList&&a.assignedMembersList.length>0&&a.assignedMembersList.map(function(t){e.push(t.id)}),t.hide({status:"agree",data:{members:e,name:a.groups.name}})}}}()},{"../../../../../core/services/logService":2,"../../services/membersAndGroupsService":320}],79:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),e("../../services/membersAndGroupsService"));t.exports=function(e,t,i){var a=this;a.groupsList=[],a.assignedGroupsList=[],a.members=[],n.getList("groups").then(function(t){a.groupsList=t.results,n.getMemberOrGroupByKey("members",i).then(function(t){a.members=t;var n=a.members.groups;n&&n.length>0&&n.map(function(e){a.groupsList.map(function(t,n){var i=t.id;i===e&&(a.groupsList.splice(n,1),a.assignedGroupsList.push(t))})}),e.$apply()})}),a.cancel=function(){t.cancel()},a.agree=function(){var e=[];a.assignedGroupsList&&a.assignedGroupsList.length>0&&a.assignedGroupsList.map(function(t){e.push(t.id)}),t.hide({status:"agree",data:{isAdmin:a.memberIsAdmin,groups:e,join_date:a.members.join_date}})}}}()},{"../../../../../core/services/logService":2,"../../services/membersAndGroupsService":320}],80:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/import/importPriceDownloadSchemeService")),a=e("../../services/import/dataProvidersService");t.exports=function(e,t){n.controller("PriceDownloadSchemeAddDialogController","initialized");var o=this;o.readyStatus={scheme:!0,providers:!1},o.dataProviders=[],a.getList().then(function(t){o.dataProviders=t,o.readyStatus.providers=!0,o.getList(),e.$apply()}),o.toggleQuery=function(){o.queryStatus=!o.queryStatus,o.query={}},o.setSort=function(e){o.direction=o.sort===e&&!o.direction,o.sort=e},o.cancel=function(){t.cancel()},o.editItem=function(e){e.editStatus=!0},o.saveItem=function(e){i.update(e.id,e).then(function(){e.editStatus=!1,o.getList()})},o.deleteItem=function(e,t){i.deleteByKey(e.id),setTimeout(function(){o.getList()},100)},o.items=[],o.getList=function(){i.getList().then(function(t){o.items=t.results,o.items.forEach(function(e){o.dataProviders.forEach(function(t){e.provider==t.id&&(e.provider_name=t.name)})}),e.$apply()})},o.addRow=function(){i.create(o.newItem).then(function(){o.newItem={scheme_name:null,provider:null,bid0:"",bid1:"",bid2:"",bid_multiplier:"",ask0:"",ask1:"",ask2:"",ask_multiplier:"",last:"",last_multiplier:"",mid:"",mid_multiplier:"",bid_history:"",ask_history:"",last_history:"",mid_history:"",bid_history_multiplier:"",mid_history_multiplier:"",last_history_multiplier:"",ask_history_multiplier:"",currency_fxrate:"",currency_fxrate_multiplier:""},o.getList()})},o.agree=function(){}}}()},{"../../../../../core/services/logService":2,"../../services/import/dataProvidersService":291,"../../services/import/importPriceDownloadSchemeService":293,"../../services/metaService":326}],81:[function(e,t,n){!function(){"use strict";t.exports=function(e,t){var n=this;n.cancel=function(){t.cancel()}}}()},{}],82:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e,t,i){n.controller("SuccessDialogController","initialized");var a=this;a.success=i,a.cancel=function(){t.cancel()},a.agree=function(){t.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],83:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/import/scheduleService"),e("../../services/import/transactionSchemeService")),a=e("../../services/transactionTypeService");t.exports=function(e,t){n.controller("InstrumentMappingDialogController","initialized");var o=this;o.dataProviders=[],o.readyStatus={dataProviders:!1,scheme:!0,transactionTypes:!1},a.getList().then(function(t){o.transactionTypes=t.results,o.readyStatus.transactionTypes=!0,e.$apply()}),o.openInputs=function(e,n){t.show({controller:"TransactionMappingInputMappingDialogController as vm",templateUrl:"views/dialogs/transaction-mapping-input-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{data:{item:e}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),e=t.data.item)})},o.checkReadyStatus=function(){return o.readyStatus.scheme&&o.readyStatus.transactionTypes},o.scheme={};var r=function(){o.scheme.inputs=[],o.scheme.rules=[],o.scheme.rule_expr="a + b",o.scheme.scheme_name=""};r(),o.openInputs=function(e,n){t.show({controller:"TransactionMappingInputMappingDialogController as vm",templateUrl:"views/dialogs/transaction-mapping-input-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{data:{item:e}}}).then(function(t){"agree"===t.status&&(e.fields=t.data.item.fields)})},o.mapFields=[{value:"",transaction_type:null,fields:[]}],o.providerFields=[{name:"",column:""}],o.addProviderField=function(){o.providerFields.push({name:"",column:o.providerFields.length})},o.addMapField=function(){o.mapFields.push({value:"",transaction_type:null,fields:[]})},o.removeProviderField=function(e,t){console.log("$index",t),o.providerFields.splice(t,1),console.log("vm.providerFields",o.providerFields)},o.removeMappingField=function(e,t){o.mapFields.splice(t,1)},o.cancel=function(){t.cancel()},o.agree=function(e){o.scheme.inputs=o.providerFields,o.scheme.rules=o.mapFields,i.create(o.scheme).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.hide({status:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},o.openMapping=function(e,n){console.log("ITEEM",n),t.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},o.openExpressionDialog=function(n,i){t.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:{expression:i.value}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),t.data&&(i.value=t.data.item.expression),e.$apply())})}}}()},{"../../../../../core/services/logService":2,"../../services/import/scheduleService":306,"../../services/import/transactionSchemeService":310,"../../services/metaService":326,"../../services/transactionTypeService":343}],84:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/metaService"),e("../../services/import/transactionSchemeService")),a=(e("../../services/import/scheduleService"),e("../../services/attributeTypeService"),e("../../services/transactionTypeService"));t.exports=function(e,t,o){n.controller("InstrumentMappingEditDialogController","initialized");var r=this;r.scheme={},r.readyStatus={scheme:!1,transactionTypes:!1},r.mapFields=[{value:"",transaction_type:null,fields:[]}],r.providerFields=[{name:"",column:""}],i.getByKey(o).then(function(t){r.scheme=t,r.scheme.inputs.length&&(r.providerFields=[],r.scheme.inputs.forEach(function(e){r.providerFields.push(e)})),r.scheme.rules.length&&(r.mapFields=[],r.scheme.rules.forEach(function(e){r.mapFields.push(e)})),r.readyStatus.scheme=!0,e.$apply()}),a.getList().then(function(t){r.transactionTypes=t.results,r.readyStatus.transactionTypes=!0,e.$apply()}),r.openInputs=function(e,n){t.show({controller:"TransactionMappingInputMappingDialogController as vm",templateUrl:"views/dialogs/transaction-mapping-input-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{data:{item:e}}}).then(function(t){"agree"===t.status&&(e.fields=t.data.item.fields)})},r.checkReadyStatus=function(){return r.readyStatus.scheme&&r.readyStatus.transactionTypes},r.addProviderField=function(){r.providerFields.push({name:"",column:r.providerFields.length})},r.addMapField=function(){r.mapFields.push({value:"",transaction_type:null,fields:[]})},r.removeProviderField=function(e,t){r.providerFields.splice(t,1)},r.removeMappingField=function(e,t){r.mapFields.splice(t,1)},r.cancel=function(){t.cancel()},r.agree=function(e){r.scheme.inputs=r.providerFields,r.scheme.rules=r.mapFields,i.update(r.scheme.id,r.scheme).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.hide({res:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},r.openMapping=function(e,n){t.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},r.openExpressionDialog=function(n,i){t.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:{expression:i.value}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),t.data&&(i.value=t.data.item.expression),e.$apply())})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/import/scheduleService":306,"../../services/import/transactionSchemeService":310,"../../services/metaService":326,"../../services/transactionTypeService":343}],85:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/transactionTypeService"),a=e("../../services/metaContentTypesService");t.exports=function(e,t,o){n.controller("TransactionMappingInputMappingDialogController","initialized");var r=this;r.readyStatus={transactionType:!1},r.data=o,r.item=JSON.parse(JSON.stringify(r.data.item)),i.getByKey(r.item.transaction_type).then(function(t){r.transactionType=t,r.item.fields.forEach(function(e){r.transactionType.inputs.forEach(function(t){t.id==e.transaction_type_input&&(t.hasOwnProperty("mapping")||(t.mapping={expression:""}),t.mapping.expression=e.value_expr)})}),r.readyStatus.transactionType=!0,e.$apply()}),r.bindType=function(e){switch(e.value_type){case 100:return"Relation";case 10:return"String";case 20:return"Number";case 30:return"Classifier";case 40:return"Date";default:return"N/A"}},r.openExpressionDialog=function(n,i){i.hasOwnProperty("mapping")||(i.mapping={expression:""}),t.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:{expression:i.mapping.expression}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),t.data&&(i.value=t.data.item.expression),e.$apply())})},r.openMapping=function(e,n){t.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:{complexExpressionEntity:a.findEntityByContentType(e.content_type,"ui")}}}).then(function(e){"agree"===e.status&&console.log("res",e.data)})},r.checkReadyStatus=function(){return r.readyStatus.transactionType},console.log("data",o),r.cancel=function(){t.cancel()},r.agree=function(){r.transactionType.inputs.forEach(function(e){var t=!1;r.item.fields.forEach(function(n){n.transaction_type_input_object&&e.id==n.transaction_type_input&&(t=!0,e.hasOwnProperty("mapping")&&(n.value_expr=e.mapping.expression))}),t||e.hasOwnProperty("mapping")&&""!=e.mapping.expression&&r.item.fields.push({transaction_type_input:e.id,value_expr:e.mapping.expression})}),t.hide({status:"agree",data:{item:r.item}})}}}()},{"../../../../../core/services/logService":2,"../../services/metaContentTypesService":321,"../../services/transactionTypeService":343}],86:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/uiService");e("../../../services/metaContentTypesService");t.exports=function(e,t,a){n.controller("UiLayoutListDialogController","initalized");var o=this;o.readyStatus={items:!1},o.getList=function(){i.getListLayout(a.entityType).then(function(t){o.items=t.results,o.readyStatus.items=!0,e.$apply()})},o.getList(),o.deleteItem=function(e,n){t.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:"Are you sure to delete layout?"}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(e){"agree"===e.status&&i.deleteListLayoutByKey(n.id).then(function(e){o.getList()})})},o.selectLayout=function(e){o.items.forEach(function(e){e.is_default=!1}),e.is_default=!0},o.cancel=function(){t.cancel()},o.agree=function(){var e=[];o.items.forEach(function(t){e.push(i.updateListLayout(t.id,t))}),Promise.all(e).then(function(){t.hide({status:"agree"})})}}}()},{"../../../../../../core/services/logService":2,"../../../services/metaContentTypesService":321,"../../../services/uiService":347}],87:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService");t.exports=function(e,t,i){n.controller("UiLayoutSaveAsDialogController","initialized");var a=this;a.cancel=function(){t.cancel()},a.agree=function(){t.hide({status:"agree",data:{name:a.layoutName}})}}}()},{"../../../../../../core/services/logService":2}],88:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e,t,i){function a(e){var t="";return t=e.split("_").join(" "),t.charAt(0).toUpperCase()+t.slice(1)}n.controller("ValidationDialogController","initialized");var o=this;o.validationData=i,o.errorKeys=[];var r,s=Object.keys(o.validationData);for(r=0;r<s.length;r+=1)o.errorKeys.push({caption:a(s[r]),value:o.validationData[s[r]]});o.bindValue=function(e){if(Array.isArray(e.value)){var t="";return e.value.forEach(function(e,n){var i=Object.keys(e);i.length>0&&(t+=e.hasOwnProperty("name")?"<br/>&nbsp;&nbsp;"+(n+1)+" "+e.name[0]:JSON.stringify(e))}),t}return JSON.stringify(e.value)},o.cancel=function(){t.cancel()},o.agree=function(){t.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],89:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e,t,i){n.controller("WarningDialogController","initialized");var a=this;a.warning=i,a.cancel=function(){t.cancel()},a.agree=function(){t.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],90:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/attributeTypeService"),a=e("../services/uiService"),o=(e("../services/portfolioService"),e("../services/entityResolverService")),r=e("../services/metaService"),s=e("../services/gridHelperService"),c=e("../services/routeResolverService");t.exports=function(e,t,l,d){function u(){var e;for(e=0;e<g.tabs.length;e+=1)m(g.tabs[e])}function m(e){var t;for(e.layout.rows=e.layout.rows+1,t=0;t<e.layout.columns;t+=1)e.layout.fields.push({row:e.layout.rows,column:t+1,colspan:1,type:"empty"})}function p(e){var t;for(t=0;t<e.layout.fields.length;t+=1)e.layout.fields[t].row===e.layout.rows&&(e.layout.fields.splice(t,1),t-=1);e.layout.rows=e.layout.rows-1}n.controller("EntityDataConstructorController","initialized");var g=this;g.boxColumns=[1,2,3,4,5,6],g.readyStatus={constructor:!1},g.uiIsDefault=!1,g.attrs=[],g.baseAttrs=[],g.entityAttrs=[],g.userInputs=[],console.log(t),g.entityType=t.entityType,g.isntanceId=t.instanceId,g.isntanceId?a.getEditLayoutByInstanceId(g.entityType,g.isntanceId).then(function(t){t?g.ui=t:(g.uiIsDefault=!0,g.ui=a.getDefaultEditLayout()[0]),g.tabs=g.ui.data||[],g.tabs.forEach(function(e){e.layout.fields.forEach(function(e){e.editMode=!1})}),u(),e.$apply()}):a.getEditLayout(g.entityType).then(function(t){t.results.length?g.ui=t.results[0]:(g.uiIsDefault=!0,g.ui=a.getDefaultEditLayout()[0]),g.tabs=g.ui.data,g.tabs.forEach(function(e){e.layout.fields.forEach(function(e){e.editMode=!1})}),u(),e.$apply()}),g.isntanceId&&"complex-transaction"===g.entityType&&o.getByKey("transaction-type",g.isntanceId).then(function(t){var n=t.inputs;n.forEach(function(e){var t=e.value_type;100==e.value_type&&(t="field");var n=void 0,i=e.name.split(" ").join("_").toLowerCase();e.content_type&&void 0!==e.content_type?(n=e.content_type.split(".")[1],i=e.name.split(" ").join("_").toLowerCase()+"_"+e.content_type):n=e.name.split(" ").join("_").toLowerCase(),g.userInputs.push({unique_key:i,key:n,name:e.name,verbose_name:e.verbose_name,content_type:e.content_type,value_type:t})}),e.$apply()}),g.cancel=function(){l.go("app.data."+g.entityType)},i.getList(g.entityType).then(function(t){n.collection("data",t),g.attrs=t.results,
n.collection("vm attrs",g.attrs),r.getEntitiesWithoutBaseAttrsList().indexOf(g.entityType)===-1&&(g.baseAttrs=r.getBaseAttrs()),n.collection("vm.baseAttrs",g.baseAttrs),g.entityAttrs=r.getEntityAttrs(g.entityType),n.collection("vm.entityAttrs",g.entityAttrs),g.readyStatus.constructor=!0,e.$apply()}),g.checkColspan=function(e,t,n){var i,a,o,r,s=[];for(i=0;i<e.layout.fields.length;i+=1)if(e.layout.fields[i].row==t)for(o=e.layout.fields[i].column,r=parseInt(e.layout.fields[i].colspan,10),a=0;a<r;a+=1)s[o]||(s[o]=[]),s[o].push(parseInt(o,10)+parseInt(a,10));var c,l,d=Object.keys(s);for(c=0;c<d.length;c+=1){if(d[c]===n)return!0;for(l=1;l<s[d[c]].length;l+=1)if(n==s[d[c]][l])return!1}return!0},g.range=s.range,g.setLayoutColumns=function(e,t,n){if(t<e.layout.columns){var i,a=[];for(i=t;i<e.layout.columns;i+=1)a.push(i+1);var o;o=a.length>1?"If you switch to less number of columns you lose data of "+a.join(", ")+" columns":"If you switch to less number of columns you lose data of "+a.join(", ")+" column",d.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:o}}}).then(function(n){if("agree"===n.status){var i,a,o;for(i=0;i<e.layout.fields.length;i+=1)for(a=0;a<e.layout.rows;a+=1)for(o=t;o<e.layout.columns;o+=1)e.layout.fields[i].row==a+1&&e.layout.fields[i].column==o+1&&e.layout.fields.splice(i,1);e.layout.columns=t}})}else{var r,s;for(r=1;r<=e.layout.rows;r+=1)for(s=e.layout.columns+1;s<=t;s+=1)e.layout.fields.push({row:r,column:s,colspan:1,type:"empty"});e.layout.columns=t}},g.saveLayout=function(){var t;for(t=0;t<g.tabs.length;t+=1)p(g.tabs[t]);g.ui.data=g.tabs,g.uiIsDefault?g.isntanceId?a.updateEditLayoutByInstanceId(g.entityType,g.isntanceId,g.ui).then(function(t){console.log("layout saved");var n;n="complex-transaction"===g.entityType?c.findExistingState("app.data.","transaction-type"):c.findExistingState("app.data.",g.entityType),l.go(n.state,n.options),e.$apply()}):a.createEditLayout(g.entityType,g.ui).then(function(){console.log("layout saved");var t=c.findExistingState("app.data.",g.entityType);l.go(t.state,t.options),e.$apply()}):g.isntanceId?a.updateEditLayoutByInstanceId(g.entityType,g.isntanceId,g.ui).then(function(t){console.log("layout saved");var n;n="complex-transaction"===g.entityType?c.findExistingState("app.data.","transaction-type"):c.findExistingState("app.data.",g.entityType),l.go(n.state,n.options),e.$apply()}):a.updateEditLayout(g.ui.id,g.ui).then(function(){console.log("layout saved");var t=c.findExistingState("app.data.",g.entityType);l.go(t.state,t.options),e.$apply()})},g.bindFlex=function(e,t,n){var i,a,o=0;for(i=0;i<e.layout.fields.length;i+=1)e.layout.fields[i].row===t&&(e.layout.fields[i].column===n&&(a=e.layout.fields[i]),o+=parseInt(e.layout.fields[i].colspan,10));var r=100/e.layout.columns;return a?Math.floor(a.colspan*r):Math.floor(r)},g.deleteTab=function(e){var t;for(t=0;t<g.tabs.length;t+=1)if(e.name===g.tabs[t].name){g.tabs.splice(t,1);break}},g.addTab=function(){g.tabs.length||(g.tabs=[]),g.tabs.push({name:"",editState:!0,layout:{rows:0,columns:1,fields:[]}}),m(g.tabs[g.tabs.length-1])},g.toggleEditTab=function(e,t,n){e.editState||(e.editState=!1),e.captionName||(e.captionName=e.name),"back"===t&&(console.log("??"),e.captionName||""!==e.name?e.captionName=e.name:g.tabs.splice(n,1)),e.editState=!e.editState},g.saveEditedTab=function(e){console.log(e),""!==e.captionName&&(e.name=e.captionName,e.editState=!e.editState)},g.MABtnVisibility=function(e){return r.checkRestrictedEntityTypesForAM(e)}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":256,"../services/entityResolverService":268,"../services/gridHelperService":274,"../services/metaService":326,"../services/portfolioService":328,"../services/routeResolverService":336,"../services/uiService":347}],91:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/attributeTypeService"),a=e("../services/entityResolverService"),o=e("../services/entityViewerHelperService"),r=e("../services/usersService"),s=e("../services/usersGroupService"),c=e("../services/uiService"),l=e("../services/gridHelperService"),d=e("../services/metaService"),u=e("../services/layoutService"),m=e("../services/metaPermissionsService");t.exports=function(e,t){n.controller("EntityEditorController","initialized");var p=this;p.readyStatus={content:!1,permissions:!1,entity:!1,me:!1},p.entityType=e.$parent.vm.entityType,p.entityTabs=d.getEntityTabs(p.entityType),p.evAction=e.$parent.vm.evAction,p.entityId=e.$parent.vm.entityId,p.entity={$_isValid:!0},p.editLayoutEntityInstanceId=null,p.editLayoutByEntityInsance=!1,p.entitySpecialRules=!1,p.specialRulesReady=!0,["complex-transaction"].indexOf(p.entityType)!==-1&&(p.editLayoutByEntityInsance=!0,p.entitySpecialRules=!0,p.complexTransactionOptions={}),n.property("entityType",p.entityType),n.property("entityId",p.entityId),p.getEditListByInstanceId=function(){"complex-transaction"==p.entityType?"update"==p.evAction?a.getByKey("complex-transaction",p.editLayoutEntityInstanceId).then(function(n){p.complexTransactionOptions.transactionType=n.response.transaction_type,p.editLayoutEntityInstanceId=n.response.transaction_type,p.transactionTypeId=n.response.transaction_type,p.entity=n.response.complex_transaction,p.specialRulesReady=!0,p.readyStatus.entity=!0,p.readyStatus.permissions=!0;var i=Object.keys(n.response.values);i.forEach(function(e){p.entity[e]=n.response.values[e]}),n.response.complex_transaction.attributes.forEach(function(e){10==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.value_string),20==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.value_float),30==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.classifier),40==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.value_date)}),p.tabs=n.response.book_transaction_layout.data,p.userInputs=[],p.tabs.forEach(function(e){e.layout.fields.forEach(function(e){"userInput"==e.attribute_class&&p.userInputs.push(e.attribute)})}),e.$parent.vm.editLayout=function(){t.go("app.data-constructor",{entityType:p.entityType,instanceId:p.editLayoutEntityInstanceId})},e.$apply()}):a.getByKey("transaction-type-book",p.editLayoutEntityInstanceId).then(function(n){p.complexTransactionOptions.transactionType=n.transaction_type,p.editLayoutEntityInstanceId=n.transaction_type,p.entity=n.complex_transaction,p.entity.transaction_type=n.transaction_type,p.specialRulesReady=!0,p.readyStatus.entity=!0,p.readyStatus.permissions=!0;var i=Object.keys(n.values);i.forEach(function(e){p.entity[e]=n.values[e]}),p.tabs=n.book_transaction_layout.data,p.userInputs=[],p.tabs.forEach(function(e){e.layout.fields.forEach(function(e){"userInput"==e.attribute_class&&p.userInputs.push(e.attribute)})}),e.$parent.vm.editLayout=function(){t.go("app.data-constructor",{entityType:p.entityType,instanceId:p.editLayoutEntityInstanceId})},e.$apply()}):(c.getEditLayoutByInstanceId(p.entityType,p.editLayoutEntityInstanceId).then(function(t){t?(p.tabs=t.data,p.userInputs=[],p.tabs.forEach(function(e){e.layout.fields.forEach(function(e){"userInput"==e.attribute_class&&p.userInputs.push(e.attribute)})})):p.tabs=c.getDefaultEditLayout(p.entityType)[0].data,e.$apply()}),e.$parent.vm.editLayout=function(){t.go("app.data-constructor",{entityType:p.entityType,instanceId:p.editLayoutEntityInstanceId})})},"transaction-type"!==p.entityType&&(1==p.editLayoutByEntityInsance?p.editLayoutEntityInstanceId&&p.getEditListByInstanceId():c.getEditLayout(p.entityType).then(function(t){t.results.length?p.tabs=t.results[0].data:p.tabs=c.getDefaultEditLayout(p.entityType)[0].data,n.collection("vm.tabs",p.tabs),e.$apply()})),n.collection("vm.tabs",p.tabs),p.attrs=[],p.baseAttrs=[],p.entityAttrs=[],p.userInputs=[],p.layoutAttrs=u.getLayoutAttrs(),p.baseAttrs=d.getBaseAttrs(),p.entityAttrs=d.getEntityAttrs(p.entityType)||[],i.getList(p.entityType).then(function(n){p.attrs=n.results,p.readyStatus.content=!0,p.entityId?"complex-transaction"==p.entityType?"update"==p.evAction?a.getByKey(p.entityType,p.entityId).then(function(t){p.complexTransactionOptions.transactionType=t.response.transaction_type,p.transactionTypeId=t.response.transaction_type,p.editLayoutEntityInstanceId=t.response.complex_transaction.id,p.getEditListByInstanceId(),p.entity=t.response.complex_transaction;var n=Object.keys(t.response.values);n.forEach(function(e){p.entity[e]=t.response.values[e]}),t.response.complex_transaction.attributes.forEach(function(e){10==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.value_string),20==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.value_float),30==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.classifier),40==e.attribute_type_object.value_type&&(p.entity[e.attribute_type_object.name]=e.value_date)}),p.reserveEntity=JSON.parse(JSON.stringify(p.entity)),p.reserveEntity.values=t.response.values,p.specialRulesReady=!0,p.readyStatus.entity=!0,p.readyStatus.permissions=!0,e.$apply()}):a.getByKey("transaction-type-book",p.entityId).then(function(t){p.complexTransactionOptions.transactionType=t.transaction_type,p.editLayoutEntityInstanceId=t.transaction_type,p.getEditListByInstanceId(),p.entity=t.complex_transaction,p.entity.transaction_type=t.transaction_type;var n=Object.keys(t.values);n.forEach(function(e){p.entity[e]=t.values[e]}),p.specialRulesReady=!0,p.readyStatus.entity=!0,p.readyStatus.permissions=!0,e.$apply()}):a.getByKey(p.entityType,p.entityId).then(function(n){p.entity=n,"transaction-type"==p.entityType&&(e.$parent.vm.editLayout=function(){t.go("app.data-constructor",{entityType:"complex-transaction",instanceId:n.id})}),o.transformItems([p.entity],p.attrs).then(function(e){p.entity=e[0],p.entity.$_isValid=!0,p.readyStatus.entity=!0,p.loadPermissions()})}):(p.readyStatus.entity=!0,p.loadPermissions())});var g;p.loadPermissions=function(){var t=[];t.push(p.getMemberList()),t.push(p.getGroupList()),Promise.all(t).then(function(t){p.readyStatus.permissions=!0,e.$apply()})},r.getMe().then(function(t){p.user=t,p.readyStatus.me=!0,e.$apply()}),p.resolveSpecialRules=function(){return"views/special-rules/"+p.entityType+"-special-rules-view.html"},p.getGroupList=function(){return s.getList().then(function(e){p.groups=e.results,p.groups.forEach(function(e){p.entity.group_object_permissions&&p.entity.group_object_permissions.forEach(function(t){t.group==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),t.permission==="manage_"+p.entityType&&(e.objectPermissions.manage=!0),t.permission==="change_"+p.entityType&&(e.objectPermissions.change=!0))})})})},p.getMemberList=function(){r.getMemberList().then(function(t){p.members=t.results,p.members.forEach(function(e){p.entity.user_object_permissions&&p.entity.user_object_permissions.forEach(function(t){t.member==e.id&&(e.hasOwnProperty("objectPermissions")||(e.objectPermissions={}),t.permission==="manage_"+p.entityType&&(e.objectPermissions.manage=!0),t.permission==="change_"+p.entityType&&(e.objectPermissions.change=!0))})}),p.readyStatus.permissions=!0,e.$apply()})},p.checkPermissions=function(){if(m.getEntitiesWithDisabledPermissions().indexOf(p.entityType)!==-1)return!1;if(p.entityId){var e=!1,t=p.entityType.split("-").join("");return p.entity.granted_permissions&&p.entity.granted_permissions.indexOf("manage_"+t)!==-1&&(e=!0),e}return!0},p.checkReadyStatus=function(){return!!(p.readyStatus.content&&p.readyStatus.entity&&p.readyStatus.me&&p.readyStatus.permissions)},p.range=l.range,p.bindFlex=function(e,t,n){var i,a=0;for(i=0;i<e.layout.fields.length;i+=1)e.layout.fields[i].row===t&&(a+=e.layout.fields[i].colspan);var o=100/e.layout.columns;return Math.floor(n.colspan*o)},p.bindField=function(e,t){var n,i,a,o;if(t&&"field"===t.type)if(t.hasOwnProperty("id")&&null!==t.id){for(n=0;n<p.attrs.length;n+=1)if(t.id===p.attrs[n].id)return p.attrs[n].options=t.options,p.attrs[n]}else{for(n=0;n<p.baseAttrs.length;n+=1)if(t.name===p.baseAttrs[n].name)return p.baseAttrs[n].options=t.options,p.baseAttrs[n];for(a=0;a<p.entityAttrs.length;a+=1)if(t.name===p.entityAttrs[a].name)return p.entityAttrs[a].options=t.options,p.entityAttrs[a];for(i=0;i<p.layoutAttrs.length;i+=1)if(t.name===p.layoutAttrs[i].name)return p.layoutAttrs[i].options=t.options,p.layoutAttrs[i];for(o=0;o<p.userInputs.length;o+=1)if(t.name===p.userInputs[o].name)return p.userInputs[o].options=t.options,p.userInputs[o]}},p.checkFieldRender=function(e,t,n){if(n.row===t){if("field"===n.type)return!0;var i,a,o,r=[];for(i=0;i<e.layout.fields.length;i+=1)if(e.layout.fields[i].row===t&&"field"===e.layout.fields[i].type)for(a=e.layout.fields[i].column;a<=e.layout.fields[i].column+e.layout.fields[i].colspan-1;a+=1)r.push(a);for(o=0;o<r.length;o+=1)if(r[o]===n.column)return!1;return!0}return!1},p.openMenu=function(e,t){g=t,e(t)},p.checkViewState=function(e){return!e.hasOwnProperty("enabled")||e.enabled.indexOf(p.evAction)!=-1},e.$parent.vm.copyCallback=function(){return new Promise(function(e){p.readyStatus.entity=!1,setTimeout(function(){p.entity.user_code=p.entity.user_code+"_copy",p.readyStatus.entity=!0,e(p.entity)},500)})},e.$parent.vm.saveCallback=function(){function e(e,t,n){return 10===t.value_type&&(e.value_string=n),20===t.value_type&&(e.value_float=n),30===t.value_type&&(e.classifier=n),40===t.value_type&&(e.value_date=n),e}function t(e,t){var n={attribute_name:e.name,attribute_type:e.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===e.value_type&&(n.value_string=t),20===e.value_type&&(n.value_float=t),30===e.value_type&&(n.classifier=t),40===e.value_type&&(n.value_date=t),n}function n(){var e;for(e=0;e<p.entityAttrs.length;e+=1)if(40===p.entityAttrs[e].value_type&&(p.entity[p.entityAttrs[e].key]=moment(new Date(p.entity[p.entityAttrs[e].key])).format("YYYY-MM-DD")),20===p.entityAttrs[e].value_type||"float"===p.entityAttrs[e].value_type){var t,n=(p.entity[p.entityAttrs[e].key]+"").replace(" ","");t=n.indexOf(",")!==-1?n.replace(",","."):n,p.entity[p.entityAttrs[e].key]=parseFloat(t)}p.entity.attributes.forEach(function(e){null!==e.value_date&&(e.value_date=moment(new Date(e.value_date)).format("YYYY-MM-DD"))})}function i(){var e;for(e=0;e<p.entity.attributes.length;e+=1)null==p.entity.attributes[e].classifier&&delete p.entity.attributes[e].classifier,null==p.entity.attributes[e].value_date&&delete p.entity.attributes[e].value_date,null==p.entity.attributes[e].value_float&&delete p.entity.attributes[e].value_float,null==p.entity.attributes[e].value_string&&delete p.entity.attributes[e].value_string}function a(e){var t,n=Object.keys(e),i={};for(t=0;t<n.length;t+=1)e[n[t]]&&e[n[t]].length?i[n[t]]=e[n[t]]:null==e[n[t]]||isNaN(e[n[t]])||(i[n[t]]=e[n[t]]);return i}function o(e){var t,n,i,a,o=Object.keys(e),r=!0;for(t=0;t<o.length;t+=1){for(n=0;n<p.entityAttrs.length;n+=1)o[t]==p.entityAttrs[n].key&&p.entityAttrs[n].options&&1==p.entityAttrs[n].options.notNull&&(""!=e[o[t]]&&null!=e[o[t]]&&void 0!=e[o[t]]||(r=!1));for(i=0;i<p.baseAttrs.length;i+=1)o[t]==p.baseAttrs[i].key&&p.baseAttrs[i].options&&1==p.baseAttrs[i].options.notNull&&(""!=e[o[t]]&&null!=e[o[t]]&&void 0!=e[o[t]]||(r=!1));for(a=0;a<p.attrs.length;a+=1)o[t]==p.attrs[a].name&&p.attrs[a].options&&1==p.attrs[a].options.notNull&&(""!=e[o[t]]&&null!=e[o[t]]&&void 0!=e[o[t]]||(r=!1))}return p.entity.$_isValid=r,r}if(d.getEntitiesWithoutDynAttrsList().indexOf(p.entityType)==-1&&(p.entity.attributes=[]),p.entity.attributes){var r,s,c,l,u=Object.keys(p.entity);for(r=0;r<p.attrs.length;r+=1)for(s=0;s<u.length;s+=1)if(p.attrs[r].name===u[s]){for(l=!1,c=0;c<p.entity.attributes.length;c+=1)p.entity.attributes[c].attribute_type===p.attrs[r].id&&(l=!0,p.entity.attributes[c]=e(p.entity.attributes[c],p.attrs[r],p.entity[u[s]]));l||p.entity.attributes.push(t(p.attrs[r],p.entity[u[s]]))}}if(p.entity.attributes&&(n(),i()),m.getEntitiesWithDisabledPermissions().indexOf(p.entityType)==-1&&(p.entity.user_object_permissions=[]),p.members&&p.members.forEach(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&p.entity.user_object_permissions.push({member:e.id,permission:"manage_"+p.entityType}),e.objectPermissions&&1==e.objectPermissions.change&&p.entity.user_object_permissions.push({member:e.id,permission:"change_"+p.entityType})}),p.entity.group_object_permissions=[],p.groups&&p.groups.forEach(function(e){e.objectPermissions&&1==e.objectPermissions.manage&&p.entity.group_object_permissions.push({group:e.id,permission:"manage_"+p.entityType}),e.objectPermissions&&1==e.objectPermissions.change&&p.entity.group_object_permissions.push({group:e.id,permission:"change_"+p.entityType})}),o(p.entity)){var g=a(p.entity);return"complex-transaction"==p.entityType&&(g.values={},p.userInputs.forEach(function(e){if(null!==e){var t=Object.keys(p.entity);t.forEach(function(t){t==e.name&&(g.values[e.name]=p.entity[e.name])})}}),g.store=!0,g.calculate=!0),new Promise(function(e,t){var n={entityType:p.entityType,entity:g};if(p.entityId&&(n.entityId=p.entityId),"complex-transaction"==p.entityType&&"update"==p.evAction){var i=!1;console.log("resultEntity",g),console.log("vm.reserveEntity",p.reserveEntity);var a=Object.keys(g.values);a.forEach(function(e){g[e]!=p.reserveEntity[e]&&(i=!0)}),n=1==i?{entityType:p.entityType,complextTransactionChangeStatus:!0,entity:{complex_transaction:{status:g.status,code:g.code,text:g.text,date:g.date,attributes:g.attributes},id:g.id,values:g.values}}:{entityType:p.entityType,complextTransactionChangeStatus:!1,entity:{id:g.id,status:g.status,code:g.code,text:g.text,date:g.date,attributes:g.attributes}}}e(n)})}}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":256,"../services/entityResolverService":268,"../services/entityViewerHelperService":271,"../services/gridHelperService":274,"../services/layoutService":319,"../services/metaPermissionsService":324,"../services/metaService":326,"../services/uiService":347,"../services/usersGroupService":348,"../services/usersService":349}],92:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/entityResolverService");e("../../services/layoutService"),e("../../services/metaPermissionsService");t.exports=function(e,t,a,o,r){n.controller("EntityViewerEditDialogController","initialized");var s=this;s.entityType=a.entityType,console.log("entity edit dialog",a),s.evAction="update",s.entityId=o,s.saveCallback="",s.copyCallback="",s.cancel=function(){t.cancel()},s.checkVisibility=function(){return!0},s.save=function(e){"create"==s.evAction?s.saveCallback().then(function(n){i.create(n.entityType,n.entity).then(function(n){200!=n.status&&201!=n.status||t.hide({res:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})}):s.saveCallback().then(function(n){i.update(n.entityType,n.entityId,n.entity).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||t.hide({res:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})})}}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":268,"../../services/layoutService":319,"../../services/metaPermissionsService":324}],93:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/attributeTypeService"),e("../../services/entityResolverService"));e("../../services/usersService"),e("../../services/uiService"),e("../../services/metaService"),e("../../services/layoutService"),e("../../services/metaPermissionsService");t.exports=function(e,t,a,o){n.controller("EntityViewerAddDialogController","initialized"),n.property("parentScope",a);var r=this;r.readyStatus={content:!1,entity:!0,permissions:!0},r.entityType=a.vm.entityType,r.evAction="create",r.cancel=function(){localStorage.setItem("entityIsChanged",!1),t.cancel()},r.editLayout=function(){o.go("app.data-constructor",{entityType:r.entityType}),t.hide()},r.manageAttrs=function(e){o.go("app.attributesManager",{entityType:r.entityType}),t.hide()},r.checkVisibility=function(e){return("edit-form-btn"!=e||"complex-transaction"!=r.entityType)&&("edit-form-btn"!=e||"transaction-type"!=r.entityType)},r.save=function(e){r.saveCallback().then(function(n){console.log("options.entityType",n),console.log("vm",r),i.create(n.entityType,n.entity).then(function(i){console.log("DATA",i),200!=i.status&&201!=i.status||("complex-transaction"==n.entityType&&i.response.hasOwnProperty("has_errors")&&1==i.response.has_errors?t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:{complex_transaction_errors:i.response.complex_transaction_errors,instruments_errors:i.response.instruments_errors,transactions_errors:i.response.transactions_errors}},preserveScope:!0,autoWrap:!0,skipHide:!0}):t.hide({res:"agree"})),400==i.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:i.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/entityResolverService":268,"../../services/layoutService":319,"../../services/metaPermissionsService":324,"../../services/metaService":326,"../../services/uiService":347,"../../services/usersService":349}],94:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/attributeTypeService"),a=e("../../services/groupTable/dynamicAttributesForReportsService"),o=e("../../services/entityViewerHelperService"),r=e("../../services/metaService"),s=e("../../services/entityViewerDataResolver"),c=e("../../services/groupTable/tablePartsService"),l=e("../../services/groupTable/groupTableService"),d=e("../../services/reportSubtotalService"),u=e("../../services/pricingPolicyService"),m=e("../../helpers/reportHelper"),p=e("../../helpers/transactionReportHelper"),g=e("../../services/uiService");t.exports=function(e,t){n.controller("EntityViewerController","initialized");var y=this;y.options={},y.reportOptions={},y.updateConfig=function(){y.options={lastUpdate:(new Date).getTime(),components:y.components,columns:y.columns,columnsWidth:y.columnsWidth,grouping:y.grouping,filters:y.filters,sorting:y.sorting,folding:y.folding,entityType:y.entityType,isRootEntityViewer:y.isRootEntityViewer,isReport:y.isReport,tableIsReady:y.tableIsReady,reportIsReady:y.reportIsReady,reportProcessing:y.reportProcessing,externalCallback:y.updateTable,additionsStatus:y.additionsStatus,additionsState:y.additionsState,editorTemplate:y.editorTemplate,editorEntityId:y.editorEntityId,permission_selected_id:y.permission_selected_id,permission_selected_entity:y.permission_selected_entity,paginationPageCurrent:y.paginationPageCurrent,paginationItemPerPage:y.paginationItemPerPage,paginationItemsTotal:y.paginationItemsTotal}},y.updateVm=function(e){var t=Object.keys(e);t.forEach(function(t){y[t]=e[t]})},y.returnFullAttributes=function(e,t,n,i){var a=[];if(!e)return[];var o,r,s,c,l,d,u,m,p,g;for(o=0;o<e.length;o+=1)if(l=e[o],l.hasOwnProperty("id"))if(1==y.isReport){var v=Object.keys(y.reportAttrs);v.forEach(function(e){y.reportAttrs[e].map(function(e){l.r_entityType===e.r_entityType&&l.id===e.id&&(l.options&&(m=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(g=JSON.parse(JSON.stringify(l.report_settings))),l=JSON.parse(JSON.stringify(e)),l.options=m,l.report_settings&&(l.report_settings=JSON.parse(JSON.stringify(g))),a.push(l))})})}else{var f=Object.keys(t);f.forEach(function(e){for(r=0;r<t[e].length;r+=1)d=t[e][r],l.id===d.id&&(l.options&&(m=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(g=JSON.parse(JSON.stringify(l.report_settings))),l=JSON.parse(JSON.stringify(d)),l.options=m,l.report_settings&&(l.report_settings=JSON.parse(JSON.stringify(g))),a.push(l))})}else{var h=Object.keys(n);h.forEach(function(e){for(s=0;s<n[e].length;s+=1)u=n[e][s],l.key===u.key&&(l.options&&(m=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(g=JSON.parse(JSON.stringify(l.report_settings))),l=JSON.parse(JSON.stringify(u)),l.options=m,l.report_settings&&(l.report_settings=JSON.parse(JSON.stringify(g))),a.push(l))});var b=Object.keys(i);b.forEach(function(e){for(c=0;c<i[e].length;c+=1)p=i[e][c],l.key===p.key&&(l.options&&(m=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(g=JSON.parse(JSON.stringify(l.report_settings))),l=JSON.parse(JSON.stringify(p)),l.options=m,l.report_settings&&(l.report_settings=JSON.parse(JSON.stringify(g))),a.push(l))})}return a},y.findFullAttributeForItem=function(e,t){if(e.hasOwnProperty("id")){var n;for(n=0;n<t.length;n+=1){var i=e.sort;e.id===t[n].id&&(e=t[n],e.sort=i)}}return e},y.checkReadyStatus=function(){return 1==y.tableIsReady&&1==y.readyStatus.uiView},y.getView=function(){var t=function(t){if(t.results.length)y.listView=t.results[0],y.oldListView=JSON.parse(JSON.stringify(y.listView)),y.table=t.results[0].data.table,y.columns=t.results[0].data.table.columns,y.columnsWidth=t.results[0].data.table.columnsWidth,y.grouping=t.results[0].data.table.grouping,y.folding=t.results[0].data.table.folding,y.filters=t.results[0].data.table.filters,y.sorting=t.results[0].data.table.sorting,n.collection("vm.columns",y.columns),y.additionsType=t.results[0].data.tableAdditions.additionsType,y.additionsStatus=t.results[0].data.tableAdditions.additionsStatus||{editor:!1,table:!1,permissionEditor:!1,extraFeatures:[]},y.additionsState=t.results[0].data.tableAdditions.additionsState,y.tableAdditions=t.results[0].data.tableAdditions,y.entityAdditionsColumns=t.results[0].data.tableAdditions.table.columns,y.entityAdditionsFilters=t.results[0].data.tableAdditions.table.filters,y.entityAdditionsSorting=t.results[0].data.tableAdditions.table.sorting,t.results[0].data.reportOptions&&(y.reportOptions=t.results[0].data.reportOptions),y.updateConfig();else{var i=g.getDefaultListLayout();y.listView=i[0],y.table=i[0].data.table,y.columns=i[0].data.table.columns,y.columnsWidth=i[0].data.table.columnsWidth,y.grouping=i[0].data.table.grouping,y.folding=i[0].data.table.folding,y.filters=i[0].data.table.filters,y.sorting=i[0].data.table.sorting,n.collection("vm.columns",y.columns),y.additionsType=i[0].data.tableAdditions.additionsType,y.additionsEntityType=i[0].data.tableAdditions.entityType,y.tableAdditions=i[0].data.tableAdditions,y.entityAdditionsColumns=i[0].data.tableAdditions.table.columns,y.entityAdditionsFilters=i[0].data.tableAdditions.table.filters,y.entityAdditionsSorting=i[0].data.tableAdditions.table.sorting,y.updateConfig()}y.readyStatus.uiView=!0,e.$apply()};return console.log("vm.uiLayoutId",y.uiLayoutId),null!==y.uiLayoutId&&void 0!==y.uiLayoutId?g.getListLayoutByKey(y.uiLayoutId).then(function(e){t({results:[e]})}):g.getActiveListLayout(y.entityType).then(t)},y.checkIfPermissionEditorAllowed=function(){return!0},y.transformViewAttributes=function(){y.columns=y.returnFullAttributes(y.columns,y.attrs,y.baseAttrs,y.entityAttrs),y.grouping=y.returnFullAttributes(y.grouping,y.attrs,y.baseAttrs,y.entityAttrs),y.filters=y.returnFullAttributes(y.filters,y.attrs,y.baseAttrs,y.entityAttrs),y.sorting.group=y.findFullAttributeForItem(y.sorting.group,y.attrs),y.sorting.column=y.findFullAttributeForItem(y.sorting.column,y.attrs),n.collection("vm.grouping",y.grouping),n.collection("vm.columns",y.columns),y.updateConfig()},y.getAttributes=function(){return 1==y.isReport?new Promise(function(e,t){var n=[];n.push(i.getList(y.entityType)),n.push(i.getList("instrument")),n.push(i.getList("account")),n.push(i.getList("portfolio")),Promise.all(n).then(function(t){y.attrs[y.entityType]=t[0].results,y.attrs.instrument=t[1].results,y.attrs.account=t[2].results,y.attrs.portfolio=t[3].results,y.baseAttrs[y.entityType]=[],y.baseAttrs.instrument=r.getBaseAttrs(),y.baseAttrs.account=r.getBaseAttrs(),y.baseAttrs.portfolio=r.getBaseAttrs(),y.entityAttrs[y.entityType]=r.getEntityAttrs(y.entityType).map(function(e){return e.name=y.entityType.split("-")[0].capitalizeFirstLetter()+"."+e.name,e}),y.entityAttrs.instrument=r.getEntityAttrs("instrument").map(function(e){return e.name="Instrument."+e.name,e.key="instrument_object_"+e.key,e}),y.entityAttrs.account=r.getEntityAttrs("account").map(function(e){return e.key="account_object_"+e.key,e}),y.entityAttrs.portfolio=r.getEntityAttrs("portfolio").map(function(e){return e.key="portfolio_object_"+e.key,e}),e(void 0)})}):i.getList(y.entityType).then(function(t){y.attrs[y.entityType]=t.results,r.getEntitiesWithoutBaseAttrsList().indexOf(y.entityType)==-1&&(y.baseAttrs[y.entityType]=r.getBaseAttrs()),y.entityAttrs[y.entityType]=r.getEntityAttrs(y.entityType)||[],e.$apply()})},y.itemFilterHasOwnProperty=function(e,t){if(t.hasOwnProperty("key")&&e.hasOwnProperty(t.key))return!0;if(t.hasOwnProperty("id"))if(t.hasOwnProperty("r_entityType")){if(e.hasOwnProperty(t.r_entityType+"_attribute_"+t.source_name))return!0}else if(e.hasOwnProperty(t.attribute_entity+"_attribute_"+t.source_name))return!0;return!1},y.getProjection=function(){return y.groupTableService.projection()},y.originalData=[],y.updateTable=function(t){var n=function(t){if(y.reportOptions=t,y.reportOptions.currency=t.report_currency,"SUCCESS"!==t.task_status)y.reportProcessing=!0,y.updateConfig(),e.$apply(),setTimeout(function(){y.updateTable()},1e3);else{y.originalData=JSON.parse(JSON.stringify(t)),y.reportOptions.task_id=null;var n=t.items;"transaction-report"==y.entityType&&(n=p.injectIntoItems(n,t)),console.log("filteredData",n),n=y.groupTableService.extractDynamicAttributes(n);var i=!1,a=!1;if(y.filters.length>0&&(i=!0,y.filters.forEach(function(e){void 0!==e.options&&1==e.options.enabled&&("field"==e.value_type&&void 0!==e.options.query&&e.options.query.length>0&&(a=!0),"float"==e.value_type&&void 0!==e.options.query&&(e.options.query+"").length>0&&(a=!0),10==e.value_type&&void 0!==e.options.query&&(e.options.query+"").length>0&&(a=!0))})),1==i&&1==a){var r=t.items;y.filters.forEach(function(e){var t=[];void 0!==e.options&&1==e.options.enabled&&(r.forEach(function(n){if(y.itemFilterHasOwnProperty(n,e)){if("field"==e.value_type)if(void 0!==e.options.query&&e.options.query.length){var i=!1;e.options.query.forEach(function(t){n[e.key]==t&&(i=!0)}),i&&t.push(n)}else t.push(n);if("float"==e.value_type&&(void 0!==e.options.query?n[e.key]==parseFloat(e.options.query)&&t.push(n):t.push(n)),10==e.value_type){var a;a=e.hasOwnProperty("r_entityType")?e.r_entityType+"_attribute_"+e.source_name:e.attribute_entity+"_attribute_"+e.source_name,void 0!==e.options.query?n[a].indexOf(e.options.query)!==-1&&t.push(n):t.push(n)}}}),r=t)}),n=r}o.transformItems(n,y.attrs).then(function(t){var n=t;y.reportIsReady=!0,"balance-report"==y.entityType&&(n=d.groupByAndCalc(n,y.reportOptions)),n=m.releaseEntityObjects(n);var i=[y.entityType,"instrument","account","portfolio","instrument-type","account-type","strategy-1","strategy-1-subgroup","strategy-1-subgroup","strategy-2","strategy-2-subgroup","strategy-2-subgroup","strategy-3","strategy-3-subgroup","strategy-3-subgroup"];y.groupTableService.setItems(n),y.groupTableService.columns.setColumns(y.columns),y.groupTableService.grouping.setGroupsWithColumns(y.grouping,y.columns,i),y.groupTableService.folding.setFolds(y.folding),y.sorting.group=y.findFullAttributeForItem(y.sorting.group,y.attrs),y.groupTableService.sorting.group.sort(y.sorting.group),
y.tableIsReady=!0,y.reportProcessing=!1,y.updateConfig(),e.$apply()})}},i=function(t){y.originalData=JSON.parse(JSON.stringify(t)),y.paginationItemsTotal=t.count,y.nextExist=!!t.next,y.previousExist=!!t.previous,t.results=t.results.map(function(e){return e.object_permissions&&(e.object_permissions_group=[],e.object_permissions_user=[],e.object_permissions.forEach(function(t){null==t.group&&e.object_permissions_user.push(t),null==t.member&&e.object_permissions_group.push(t)})),e}),o.transformItems(t.results,y.attrs).then(function(t){var n=t;n=n.map(function(e){return e.date_formatted=moment(new Date(e.created)).format("DD/MM/YYYY"),"audit-transaction"!=y.entityType&&"audit-instrument"!=y.entityType||(e.username=e.member.username),e}),y.groupTableService.setItems(n),y.groupTableService.columns.setColumns(y.columns),y.groupTableService.grouping.setGroups(y.grouping,[y.entityType]),y.groupTableService.folding.setFolds(y.folding),y.sorting.group=y.findFullAttributeForItem(y.sorting.group,y.attrs),y.sorting.column=y.findFullAttributeForItem(y.sorting.column,y.attrs),y.groupTableService.sorting.group.sort(y.sorting.group),y.groupTableService.sorting.column.sort(y.sorting.column),y.tableIsReady=!0,y.updateConfig(),console.log(y.groupTableService.projection()),e.$apply()})},a=function(e,t){return t=t||!1,1==t?(y.reportOptions.custom_fields=[],y.columns.forEach(function(e){e.hasOwnProperty("columnType")&&"custom-field"==e.columnType&&y.reportOptions.custom_fields.push(e.id)}),y.reportIsReady=!1,r):"audit-transaction"===y.entityType?(r={sort:{key:y.sorting.column.key,direction:y.sorting.column.sort},filters:{content_type:"transactions.transaction"},page:y.paginationPageCurrent,pageSize:y.paginationItemPerPage},y.reportIsReady=!0,y.filters.forEach(function(e){e.options&&e.options.enabled===!0&&(r.filters[e.key]=e.options.query)}),r):"audit-instrument"===y.entityType?(r={sort:{key:y.sorting.column.key,direction:y.sorting.column.sort},filters:{content_type:"instruments.instrument"},page:y.paginationPageCurrent,pageSize:y.paginationItemPerPage},y.reportIsReady=!0,y.filters.forEach(function(e){e.options&&e.options.enabled===!0&&(r.filters[e.key]=e.options.query)}),r):(r={sort:{key:y.sorting.column.key,direction:y.sorting.column.sort},filters:{},page:y.paginationPageCurrent,pageSize:y.paginationItemPerPage},y.reportIsReady=!0,y.filters.forEach(function(e){e.options&&e.options.enabled===!0&&(r.filters[e.key]=e.options.query)}),r)},r=a(y.entityType,y.isReport);console.log("params",t);var c={redraw:!0,silent:!1,options:{}},l=Object.assign(c,t);y.updateVm(l.options),console.log("vm",y),console.trace(),1==l.redraw?1==y.isReport?1==l.silent?y.originalData.length||y.originalData.hasOwnProperty("items")?n(y.originalData):y.updateConfig():s.getList(y.entityType,y.reportOptions).then(function(e){n(e)}):1==l.silent?i(y.originalData):s.getList(y.entityType,r).then(function(e){i(e)}):y.updateConfig()},y.addEntity=function(n){t.show({controller:"EntityViewerAddDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{parentScope:e}}).then(function(){y.updateTable({test:"ololo"})})},y.openCustomAdditionsView=function(e,t){y.additionsStatus.reportWizard=!1,y.additionsStatus.table=!1,y.additionsState=!0,y.additionsStatus.extraFeatures.forEach(function(e){e.isOpened=!1,e.id===t.id&&(e.isOpened=!0)}),y.updateConfig()},y.openDataViewPanel=function(){y.additionsStatus.editor=!1,y.additionsStatus.permissionEditor=!1,y.additionsState=!0,y.additionsStatus.extraFeatures.forEach(function(e){e.isOpened=!1}),y.additionsStatus.reportWizard=!0,y.updateConfig()},y.openPermissionEditor=function(){y.additionsStatus.editor=!1,y.additionsStatus.reportWizard=!1,y.additionsState=!0,y.additionsStatus.extraFeatures.forEach(function(e){e.isOpened=!1}),y.additionsStatus.permissionEditor=!0,y.updateConfig()},y.openEditorViewPanel=function(){y.additionsStatus.editor=!0,y.additionsState=!0,y.additionsStatus.extraFeatures.forEach(function(e){e.isOpened=!1}),y.additionsStatus.reportWizard=!1,y.additionsStatus.permissionEditor=!1,y.updateConfig()},y.checkAdditionStatus=function(){return!(y.additionsStatus.reportWizard||y.additionsStatus.editor||y.additionsStatus.permissionEditor)},y.hideAdditions=function(){y.additionsState=!1,y.additionsStatus.reportWizard=!1,y.additionsStatus.editor=!1,y.additionsStatus.permissionEditor=!1,y.updateConfig()},y.getReport=function(){u.getList().then(function(e){y.reportOptions={cost_method:1,pricing_policy:e.results[0].id},y.readyStatus.reportOptions=!0,y.getView().then(function(){y.getAttributes().then(function(){y.transformViewAttributes(),y.updateTable()})})})},y.checkOnBeforeLoadAction=function(){return!(!y.onBeforeLoadAction||0!=y.onBeforeLoadActionFinish)||(y.onBeforeLoadAction&&1==y.onBeforeLoadActionFinish,!1)},y.checkAddEntityBtn=function(){return y.checkAddEntityBtn&&y.components.addEntityBtn},function(){e.$parent.options&&1==e.$parent.options.additionsState?!function(){y.oldListView=null,1==e.$parent.options.additionsStatus.reportWizard&&(y.onBeforeLoadAction="views/entity-viewer/report-wizard-view.html"),y.onBeforeLoadActionFinish=!1,y.paginationPageCurrent=1,y.paginationItemPerPage=20,y.paginationItemsTotal=0,y.isRootEntityViewer=!1,y.attrs={},y.baseAttrs={},y.layoutAttrs=[],y.entityAttrs={},y.groupTableService=l.getInstance(!0,"child"),y.columns=[],y.columnsWidth=[],y.grouping=[],y.filters=[],y.sorting=[],y.permission_selected_id=null,y.permission_selected_entity=null,y.entityAdditions=[],y.additionsType="",y.additionsEntityType="",y.entityAdditionsColumns=[],y.entityAdditionsFilters=[],y.entityAdditionsSorting=[],y.tabs=[],y.table={},y.tableAdditions={},y.tableIsReady=!1,y.readyStatus={uiView:!1},y.editorTemplate="views/additions-editor-view.html",y.additionsStatus={editor:!1,table:!1,permissionEditor:!1,extraFeatures:[]},y.additionsState=!1,y.additionsStatus.extraFeatures=y.customButtons,y.reportIsReady=!1,y.reportAttrs={},a.getDynamicAttributes().then(function(e){y.reportAttrs=e}),e.$on("$destroy",function(e){n.controller("EntityViewerController","destroyed")})}():!function(){y.oldListView=null,y.onBeforeLoadAction=!1,y.onBeforeLoadActionFinish=!0,y.paginationPageCurrent=1,y.paginationItemPerPage=20,y.paginationItemsTotal=0,y.isRootEntityViewer=!0,y.attrs={},y.baseAttrs={},y.layoutAttrs=[],y.entityAttrs={},y.entityType=e.$parent.vm.entityType,y.uiLayoutId=e.$parent.vm.uiLayoutId,y.components=e.$parent.vm.components||{sidebar:!0,groupingArea:!0,columnAreaHeader:!0,splitPanel:!0,addEntityBtn:!0,fieldManagerBtn:!0,layoutManager:!0},y.isReport=e.$parent.vm.isReport||!1,y.customButtons=e.$parent.vm.entityViewer.extraFeatures,y.groupTableService=l.getInstance(!0,"root"),y.columns=[],y.columnsWidth=[],y.grouping=[],y.filters=[],y.sorting=[],y.permission_selected_id=null,y.permission_selected_entity=null,y.entityAdditions=[],y.additionsType="",y.additionsEntityType="",y.tabs=[],y.table={},y.tableAdditions={},y.tableIsReady=!1,y.readyStatus={uiView:!1},y.editorTemplate="views/additions-editor-view.html",y.additionsStatus={editor:!1,table:!1,permissionEditor:!1,extraFeatures:[]},y.additionsState=!1,y.additionsStatus.extraFeatures=y.customButtons,y.reportIsReady=!1,y.reportAttrs={},a.getDynamicAttributes().then(function(e){y.reportAttrs=e}),1==y.isReport?u.getList().then(function(e){y.reportOptions={cost_method:1,pricing_policy:e.results[0].id,report_date:moment(new Date(Date.now()-864e5)).format("YYYY-MM-DD")},console.log("vm.reportOptions",y.reportOptions),y.getView().then(function(){y.getAttributes().then(function(){y.transformViewAttributes(),y.tableIsReady=!0})})}):y.getView().then(function(){y.getAttributes().then(function(){y.transformViewAttributes(),y.updateTable()})}),y.tableParts=c.setTablePartsSettings(y.entityType),1==y.components.layoutManager&&($(".save-layout-as-btn").bind("click",function(e){for(var n=($(".g-columns-component"),$(".g-columns-component.g-thead").find(".g-cell")),i=[],a=0;a<n.length;a+=1){var o=$(n[a]).width();i.push(o)}y.listView.data.table.columnsWidth=i,y.listView.data.table=y.table,y.listView.data.table.columns=y.columns,y.listView.data.table.grouping=y.grouping,y.listView.data.table.folding=y.folding,y.listView.data.table.filters=y.filters,y.listView.data.table.sorting=y.sorting,y.listView.data.additionsType=y.additionsType,y.listView.data.tableAdditions.entityType=y.additionsEntityType,y.listView.data.tableAdditions=y.tableAdditions,y.listView.data.tableAdditions.table.columns=y.entityAdditionsColumns,y.listView.data.tableAdditions.table.filters=y.entityAdditionsFilters,y.listView.data.tableAdditions.table.sorting=y.entityAdditionsSorting,y.listView.data.tableAdditions.additionsStatus=y.additionsStatus,y.listView.data.tableAdditions.additionsState=y.additionsState,y.listView.data.reportOptions=y.reportOptions,t.show({controller:"UiLayoutSaveAsDialogController as vm",templateUrl:"views/dialogs/ui/ui-layout-save-as-view.html",parent:angular.element(document.body),targetEvent:e,locals:{options:{}},clickOutsideToClose:!1}).then(function(e){"agree"==e.status&&(y.oldListView?(y.oldListView.is_default=!1,g.updateListLayout(y.oldListView.id,y.oldListView).then(function(){}).then(function(){y.listView.name=e.data.name,y.listView.is_default=!0,g.createListLayout(y.entityType,y.listView).then(function(){y.getView()})})):(y.listView.name=e.data.name,y.listView.is_default=!0,g.createListLayout(y.entityType,y.listView).then(function(){y.getView()})))})}),$(".save-layout-btn").bind("click",function(e){for(var n=($(".g-columns-component"),$(".g-columns-component.g-thead").find(".g-cell")),i=[],a=0;a<n.length;a+=1){var o=$(n[a]).width();i.push(o)}y.listView.data.table.columnsWidth=i,y.listView.data.table=y.table,y.listView.data.table.columns=y.columns,y.listView.data.table.grouping=y.grouping,y.listView.data.table.folding=y.folding,y.listView.data.table.filters=y.filters,y.listView.data.table.sorting=y.sorting,y.listView.data.additionsType=y.additionsType,y.listView.data.tableAdditions.entityType=y.additionsEntityType,y.listView.data.tableAdditions=y.tableAdditions,y.listView.data.tableAdditions.table.columns=y.entityAdditionsColumns,y.listView.data.tableAdditions.table.filters=y.entityAdditionsFilters,y.listView.data.tableAdditions.table.sorting=y.entityAdditionsSorting,y.listView.data.tableAdditions.additionsStatus=y.additionsStatus,y.listView.data.tableAdditions.additionsState=y.additionsState,y.listView.data.reportOptions=y.reportOptions,y.listView.hasOwnProperty("id")?g.updateListLayout(y.listView.id,y.listView).then(function(){}):g.createListLayout(y.entityType,y.listView).then(function(){}),t.show({controller:"SaveLayoutDialogController as vm",templateUrl:"views/save-layout-dialog-view.html",targetEvent:e,clickOutsideToClose:!0}).then(function(){y.getView()})})),e.$on("$destroy",function(e){1==y.components.layoutManager&&($(".save-layout-btn").unbind("click"),$(".save-layout-as-btn").unbind("click")),n.controller("EntityViewerController","destroyed")})}()}()}}()},{"../../../../../core/services/logService":2,"../../helpers/reportHelper":174,"../../helpers/transactionReportHelper":175,"../../services/attributeTypeService":256,"../../services/entityViewerDataResolver":270,"../../services/entityViewerHelperService":271,"../../services/groupTable/dynamicAttributesForReportsService":276,"../../services/groupTable/groupTableService":280,"../../services/groupTable/tablePartsService":283,"../../services/metaService":326,"../../services/pricingPolicyService":330,"../../services/reportSubtotalService":332,"../../services/uiService":347}],95:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/entityResolverService");t.exports=function(e,t,a,o){n.controller("EntityViewerDeleteDialogController","initialized");var r=this;console.log("vm.entity",a),r.entity=a,r.entityType=o,r.displayCaption=function(){return r.entity.name?r.entity.name:"item"},r.cancel=function(){t.cancel()},r["delete"]=function(){i.deleteByKey(r.entityType,r.entity.id).then(function(e){console.log("deleted!",e),t.hide({status:"agree"})})}}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":268}],96:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/attributeTypeService"),e("../../services/entityResolverService"));e("../../services/entityViewerHelperService"),e("../../services/usersService"),e("../../services/uiService"),e("../../services/gridHelperService"),e("../../services/metaService"),e("../../services/layoutService"),e("../../services/metaPermissionsService");t.exports=function(e,t,a,o,r){n.controller("EntityViewerEditDialogController","initialized");var s=this;s.entityType=a.entityType,console.log("entity edit dialog",a),s.evAction="update",s.entityId=o,s.saveCallback="",s.copyCallback="",s.cancel=function(){t.cancel()},s.editLayout=function(e){r.go("app.data-constructor",{entityType:s.entityType}),t.hide()},s.manageAttrs=function(e){r.go("app.attributesManager",{entityType:s.entityType}),t.hide()},s.copy=function(){s.copyCallback().then(function(){s.evAction="create",e.$apply()})},s.checkVisibility=function(){return!0},s.save=function(e){"create"==s.evAction?s.saveCallback().then(function(n){i.create(n.entityType,n.entity).then(function(n){200!=n.status&&201!=n.status||t.hide({res:"agree"}),400==n.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})}):s.saveCallback().then(function(n){var a=n.entityType;"complex-transaction"==n.entityType&&0==n.complextTransactionChangeStatus&&(a="complex-transaction-default"),i.update(a,n.entityId,n.entity).then(function(i){console.log("DATA",i),"complex-transaction"==n.entityType&&i.response.hasOwnProperty("has_errors")&&1==i.response.has_errors?t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:{complex_transaction_errors:i.response.complex_transaction_errors,instruments_errors:i.response.instruments_errors,transactions_errors:i.response.transactions_errors}},preserveScope:!0,autoWrap:!0,skipHide:!0}):t.hide({res:"agree"}),400==i.status&&t.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:e,locals:{validationData:i.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/entityResolverService":268,"../../services/entityViewerHelperService":271,"../../services/gridHelperService":274,"../../services/layoutService":319,"../../services/metaPermissionsService":324,"../../services/metaService":326,"../../services/uiService":347,"../../services/usersService":349}],97:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/usersService"),a=e("../../services/usersGroupService"),o=e("../../services/entityResolverService");t.exports=function(e){n.controller("EntityViewerPermissionEditorController","initialized");var t=this;t.readyStatus={users:!1,groups:!1},t.processing=!1,t.getUsers=function(){t.readyStatus.users=!1,i.getMemberList().then(function(n){t.users=n.results,t.readyStatus.users=!0,e.$apply()})},t.getGroups=function(){t.readyStatus.groups=!1,a.getList().then(function(n){t.groups=n.results,t.readyStatus.groups=!0,e.$apply()})},t.selectEntity=function(n,i){"user"==n?(t.users.forEach(function(e){i.id!==e.id&&(e.isSelected=!1)}),i.isSelected||(i.isSelected=!0,e.$parent.options.externalCallback({silent:!0,options:{permission_selected_id:i.id,permission_selected_entity:"user"}}))):(t.groups.forEach(function(e){e.isSelected=!1}),i.isSelected=!i.isSelected,1==i.isSelected&&e.$parent.options.externalCallback({silent:!0,options:{permission_selected_id:i.id,permission_selected_entity:"group"}}))},t.toggleManage=function(n,i){i.hasOwnProperty("manager_actions")||(i.manager_actions={manage:!1,change:!1});var a=[],o=e.$parent.options.entityType;e.$parent.items[0].hasOwnProperty("groups")?e.$parent.items.map(function(e){e.items.forEach(function(e){e.hasOwnProperty("selectedRow")&&1==e.selectedRow&&a.push(e)})}):e.$parent.items.forEach(function(e){e.hasOwnProperty("selectedRow")&&1==e.selectedRow&&a.push(e)}),i.manager_actions.manage=n;var r="manage";t.updateBulk(a,o,i,r)},t.toggleChange=function(n,i){i.hasOwnProperty("manager_actions")||(i.manager_actions={manage:!1,change:!1});var a=[],o=e.$parent.options.entityType;e.$parent.items[0].hasOwnProperty("groups")?e.$parent.items.map(function(e){e.items.forEach(function(e){e.hasOwnProperty("selectedRow")&&1==e.selectedRow&&a.push(e)})}):e.$parent.items.forEach(function(e){e.hasOwnProperty("selectedRow")&&1==e.selectedRow&&a.push(e)}),i.manager_actions.change=n;var r="change";t.updateBulk(a,o,i,r)},t.updateBulk=function(n,i,a,r){t.processing=!0;var s=n.map(function(e){return{id:e.id,object_permissions:e.object_permissions}});a.hasOwnProperty("first_name")?s.forEach(function(e){e.object_permissions.forEach(function(t,n){t.member==a.id&&null==t.group&&(0==t.permission.indexOf(r)&&e.object_permissions.splice(n,1),console.log("?here",e))}),e.hasOwnProperty("object_permissions")||(e.object_permissions=[]),a.hasOwnProperty("manager_actions")&&(1==a.manager_actions.change&&e.object_permissions.push({group:null,member:a.id,permission:"change_"+i.split("-").join("").toLowerCase()}),1==a.manager_actions.manage&&e.object_permissions.push({group:null,member:a.id,permission:"manage_"+i.split("-").join("").toLowerCase()}))}):s.forEach(function(e){e.object_permissions.forEach(function(t,n){t.group==a.id&&null==t.member&&e.object_permissions.splice(n,1)}),e.hasOwnProperty("object_permissions")||(e.object_permissions=[]),a.hasOwnProperty("manager_actions")&&(1==a.manager_actions.change&&e.object_permissions.push({group:a.id,member:null,permission:"change_"+i.split("-").join("").toLowerCase()}),1==a.manager_actions.manage&&e.object_permissions.push({group:a.id,member:null,permission:"manage_"+i.split("-").join("").toLowerCase()}))}),o.updateBulk(i,s).then(function(){t.processing=!1,e.$parent.options.externalCallback(),e.$apply()})},t.getUsers(),t.getGroups()}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":268,"../../services/usersGroupService":348,"../../services/usersService":349}],98:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/uiService");t.exports=function(e){n.controller("ReportWizardController","initialized");var t=this;t.currentStep=1,t.readyStatus={layouts:!0},t.wizard={entityType:null,uiLayout:null},t.reportTypes=[{caption:"Balance report",entityType:"balance-report"},{caption:"Profit & Lost report",entityType:"pnl-report"},{caption:"Transaction report",entityType:"transaction-report"},{caption:"Cash flow projection report",entityType:"cash-flow-projection-report"},{caption:"Performance report",entityType:"performance-report"}],t.selectReport=function(e){t.reportTypes.forEach(function(e){e.selected=!1}),e.selected=!0,t.wizard.entityType=e.entityType,t.currentStep=t.currentStep+1,t.renderStep()},t.selectLayout=function(e){t.layouts.forEach(function(e){e.selected=!1}),e.selected=!0,t.wizard.uiLayout=e.id,t.currentStep=t.currentStep+1,t.renderStep()},t.checkDisabled=function(){return(1!=t.currentStep||null===t.wizard.entityType)&&(2!=t.currentStep||null===t.wizard.uiLayout)},t.checkReadyStatus=function(){return 1==t.readyStatus.layouts},t.getUiLayouts=function(){t.readyStatus.layouts=!1,i.getListLayout(t.wizard.entityType).then(function(n){t.layouts=n.results,t.readyStatus.layouts=!0,e.$apply()})},t.renderStep=function(){2==t.currentStep&&t.getUiLayouts(),3==t.currentStep&&(e.$parent.vm.entityType=t.wizard.entityType,e.$parent.vm.uiLayoutId=t.wizard.uiLayout,e.$parent.vm.isReport=!0,e.$parent.vm.onBeforeLoadActionFinish=!0,e.$parent.vm.getReport())},t.nextStep=function(){t.currentStep=t.currentStep+1,t.renderStep()},t.prevStep=function(){t.currentStep=t.currentStep-1,t.renderStep()}}}()},{"../../../../../../core/services/logService":2,"../../../services/uiService":347}],99:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");t.exports=function(e){n.controller("FloatCustomFieldConstructorController","initialized");var t=this;t.rangeItems=e.$parent.vm.rangeItems,t.rangeItems.length||t.rangeItems.push({value_left:"-inf",value_right:"inf",group_name:"Group 1"}),e.$parent.vm.rangeType=20}}()},{"../../../../core/services/logService":2}],100:[function(e,t,n){!function(){"use strict";var n=e("../../services/reportService");t.exports=function(e){console.log('{"controller": "BalanceReportController", status: "initialized"}');var t=this;t.entityType="balance-report",t.entityRaw=[],t.isReport=!0,t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},t.readyStatus.content=!0,t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/reportService":331}],101:[function(e,t,n){!function(){"use strict";var n=e("../../services/reportService");t.exports=function(e){console.log('{"controller": "CashFlowProjectionReportController", status: "initialized"}');var t=this;t.entityType="cash-flow-projection-report",t.entityRaw=[],t.isReport=!0,t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},t.readyStatus.content=!0,t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/reportService":331}],102:[function(e,t,n){!function(){"use strict";var n=e("../../services/reportService");t.exports=function(e){console.log('{"controller": "PerformanceReportController", status: "initialized"}');var t=this;t.entityType="performance-report",t.entityRaw=[],t.isReport=!0,t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},t.readyStatus.content=!0,t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/reportService":331}],103:[function(e,t,n){!function(){"use strict";var n=e("../../services/reportService");t.exports=function(e){console.log('{"controller": "ProfitAndLostReportController", status: "initialized"}');var t=this;t.entityType="pnl-report",t.entityRaw=[],t.readyStatus={content:!1},t.isReport=!0,t.entityViewer={extraFeatures:[]},t.readyStatus.content=!0,t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/reportService":331}],104:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/reports/balanceReportCustomAttrService");t.exports=function(e,t,a){n.controller("BalanceReportCustomAttributesController","initialized");var o=this;o.showHidden=!1,o.attrs=[],o.entityType=t.entityType;var r=function(){i.getList(o.entityType).then(function(t){o.attrs=t.results,e.$apply(),console.log("balance custom attr",o.attrs)})};r(),o.addAttribute=function(e){a.show({controller:"BalanceReportDialogCustomAttrController as vm",templateUrl:"views/dialogs/balance-report-custom-attr-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{data:{editRestriction:!1}}}).then(function(e){"agree"===e.status&&(console.log(e.data.attribute),console.log("res",e.data),i.create(e.data.attribute).then(r))})},o.editAttr=function(e,t){a.show({controller:"BalanceReportDialogCustomAttrController as vm",templateUrl:"views/dialogs/balance-report-custom-attr-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{data:{attributeId:e.id,editRestriction:!0}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.update(e.data.attribute.id,e.data.attribute).then(r))})},o.checkIsHidden=function(e){return!0},o.deleteAttr=function(e,t){var n="Are you sure to delete attribute "+e.name+" ?";a.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:n}}}).then(function(n){console.log("res",n),"agree"===n.status&&i.deleteByKey(e.id).then(function(e){"conflict"===e.status?a.show({controller:"InfoDialogController as vm",templateUrl:"views/info-dialog-view.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,locals:{info:{title:"Notification",description:"You can not delete attributed that already in use"}}}):r()})})}}}()},{"../../../../../core/services/logService":2,"../../services/reports/balanceReportCustomAttrService":333}],105:[function(e,t,n){!function(){"use strict";var n=e("../../services/reportService");t.exports=function(e){console.log('{"controller": "TransactionReportController", status: "initialized"}');var t=this;t.entityType="transaction-report",t.entityRaw=[],t.isReport=!0,t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},t.readyStatus.content=!0,t.getList=function(e){return n.getList(e).then(function(e){return e})}}}()},{"../../services/reportService":331}],106:[function(e,t,n){!function(){var n=e("../../../../../../core/services/logService"),i=e("../../../services/import/dataProvidersService");t.exports=function(e,t,a,o){n.controller("SettingsGeneralDataProvidersConfigController","initialized");var r=this;r.providerId=t.dataProviderId,r.provider=[],r.readyStatus={provider:!1},i.getConfig(r.providerId).then(function(t){r.provider=t.results[0],r.readyStatus.provider=!0,e.$apply()}),r.saveConfig=function(e){e.preventDefault(),e.stopPropagation();var t=new FormData;t.append("p12cert",r.provider.p12cert),t.append("password",r.provider.password),t.append("provider",r.provider.provider),i.setConfig(r.provider.id,t).then(function(t){console.log("test!",t),200!=t.status&&201!=t.status||a.show({controller:"SuccessDialogController as vm",templateUrl:"views/dialogs/success-dialog-view.html",targetEvent:e,locals:{success:{title:"",description:"You have you have successfully add sertificate"}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(){o.go("app.settings.general.data-providers")})})}}}()},{"../../../../../../core/services/logService":2,"../../../services/import/dataProvidersService":291}],107:[function(e,t,n){!function(){var n=e("../../../../../../core/services/logService"),i=e("../../../services/import/dataProvidersService");t.exports=function(e){n.controller("SettingsGeneralDataProvidersController","initialized");var t=this;t.dataProviders=[],t.readyStatus={dataProviders:!1},i.getList().then(function(n){t.dataProviders=n,t.readyStatus.dataProviders=!0,e.$apply()})}}()},{"../../../../../../core/services/logService":2,"../../../services/import/dataProvidersService":291}],108:[function(e,t,n){!function(){var n=e("../../../../../../core/services/logService"),i=e("../../../services/import/instrumentSchemeService");t.exports=function(e,t){n.controller("SettingsGeneralInstrumentImportController","initialized");var a=this;a.readyStatus={instrumentSchemes:!1},a.instrumentSchemes=[],a.getList=function(){a.readyStatus.instrumentSchemes=!1,i.getList().then(function(t){a.instrumentSchemes=t.results,a.readyStatus.instrumentSchemes=!0,e.$apply()})},a.getList(),a.addScheme=function(e){t.show({controller:"InstrumentMappingAddDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&(console.log("res",e.data),a.getList())})},a.editScheme=function(n,o){console.log("what?"),t.show({controller:"InstrumentMappingEditDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:n,locals:{schemeId:o.id}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.update(o.id,t.data).then(function(){a.getList(),e.$apply()}))})},a.deleteScheme=function(e,n){t.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",targetEvent:e,locals:{warning:{title:"Warning!",description:"Are you sure to delete "+n.scheme_name}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.deleteByKey(n.id),setTimeout(function(){a.getList()},100))})}}}()},{"../../../../../../core/services/logService":2,"../../../services/import/instrumentSchemeService":298}],109:[function(e,t,n){!function(){var n=e("../../../../../../core/services/logService"),i=e("../../../services/timeZonesService"),a=e("../../../services/usersService");t.exports=function(e){n.controller("SettingsGeneralProfileController","initialized");var t=this;t.readyStatus={user:!1},t.timeZones=i.getList(),a.getByKey(0).then(function(n){t.user=n,t.readyStatus.user=!0,e.$apply()}),t.save=function(){a.update(0,t.user).then(function(){e.$apply()})}}}()},{"../../../../../../core/services/logService":2,"../../../services/timeZonesService":341,"../../../services/usersService":349}],110:[function(e,t,n){!function(){var n=e("../../../../../../core/services/logService"),i=e("../../../services/import/transactionSchemeService");t.exports=function(e,t){n.controller("SettingsGeneralTransactionImportController","initialized");var a=this;a.readyStatus={instrumentSchemes:!1},a.instrumentSchemes=[],a.getList=function(){a.readyStatus.instrumentSchemes=!1,i.getList().then(function(t){a.instrumentSchemes=t.results,a.readyStatus.instrumentSchemes=!0,e.$apply()})},a.getList(),a.addScheme=function(e){t.show({controller:"TransactionMappingAddDialogController as vm",templateUrl:"views/dialogs/transaction-mapping-dialog-view.html",targetEvent:e}).then(function(e){"agree"===e.status&&(console.log("res",e.data),a.getList())})},a.editScheme=function(n,o){console.log("what?"),t.show({controller:"TransactionMappingEditDialogController as vm",templateUrl:"views/dialogs/transaction-mapping-dialog-view.html",targetEvent:n,locals:{schemeId:o.id}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.update(o.id,t.data).then(function(){a.getList(),e.$apply()}))})},a.deleteScheme=function(e,n){t.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",targetEvent:e,locals:{warning:{title:"Warning!",description:"Are you sure to delete "+n.scheme_name}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.deleteByKey(n.id),setTimeout(function(){a.getList()},100))})}}}()},{"../../../../../../core/services/logService":2,"../../../services/import/transactionSchemeService":310}],111:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/importInstrumentService");t.exports=function(e){n.controller("SettingsBloomberImportInstrumentController","initialized");var t=this;t.readyStatus={content:!1},i.getInstrumentMappingList().then(function(n){t.mapping=n.results,t.readyStatus.content=!0,e.$apply()})}}()},{"../../../../../core/services/logService":2,"../../services/importInstrumentService":285}],112:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e,t){n.controller("SettingsFormDesignController","initialized");var i=this;i.goToState=function(e){t.go("app.data-constructor",{entityType:e})}}}()},{"../../../../../core/services/logService":2}],113:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");e("../../services/timeZonesService"),e("../../services/usersService");t.exports=function(e,t){n.controller("SettingsGeneralController","initialized");var i=this;e.$state=t,i.checkProviders=function(){return t.includes("app.settings.general.data-providers")||t.includes("app.settings.general.data-providers-config")}}}()},{"../../../../../core/services/logService":2,"../../services/timeZonesService":341,"../../services/usersService":349}],114:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/logService"),
e("../../services/membersAndGroupsService"));t.exports=function(e,t){var i=this;i.members=[],i.groups=[],i.getList=function(){n.getList("members").then(function(t){console.log("members is",t),i.members=[],i.members=t.results,n.getList("groups").then(function(t){console.log("groups is",t),i.groups=t.results,i.members.map(function(e){var t=e.groups;t&&t.length>0&&(e.groupsName=[],t.map(function(t){i.groups.map(function(n){n.id===t&&e.groupsName.push(n.name)})}))}),e.$apply()})})},i.getGroupsList=function(){n.getList("groups").then(function(e){i.groups=e.results}),e.$apply()},i.deleteMemberGroupByKey=function(e,t){n.deleteByKey(e,t).then(function(){"members"===e?i.getList():"groups"===e&&i.getGroupsList()})},i.createMemberDialog=function(e){t.show({controller:"CreateMemberDialogController as vm",templateUrl:"views/dialogs/create-member-dialog-view.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){console.log("new members data is",e),n.create("members",{username:e.data.username,email:e.data.email}).then(function(){console.log("member has been created"),i.getList()})})},i.createGroupDialog=function(e){t.show({controller:"CreateGroupDialogController as vm",templateUrl:"views/dialogs/create-group-dialog-view.html",parent:angular.element(document.body),targetEvent:e}).then(function(e){console.log("new group's data is",e),n.create("groups",{name:e.data.name,members:e.data.members}).then(function(){i.getGroupsList(),console.log("group has been created")})})},i.manageMemberDialog=function(e,a){t.show({controller:"ManageMemberDialogController as vm",templateUrl:"views/dialogs/manage-member-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{memberId:a}}).then(function(e){n.update("members",a,{is_admin:e.data.isAdmin,groups:e.data.groups,join_date:e.data.join_date}).then(function(){i.getList(),console.log("member is updated")})})},i.manageGroupDialog=function(e,a){t.show({controller:"ManageGroupDialogController as vm",templateUrl:"views/dialogs/manage-group-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{groupId:a}}).then(function(e){n.update("groups",a,{name:e.data.name,members:e.data.members}).then(function(){i.getList(),console.log("member is updated")})})},i.getList()}}()},{"../../../../../core/services/logService":2,"../../services/membersAndGroupsService":320}],115:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../../../../core/services/cookieService"),a=e("../services/usersService"),o=e("../services/metaContentTypesService"),r=e("../services/notificationsService");t.exports=function(e,t,s,c){n.controller("ShellController","initialized",1);var l=this;l.logout=function(){console.log("Logged out"),a.logout(),window.location.pathname="/",i.deleteCookie()},a.getList().then(function(t){l.user=t.results[0],e.$apply()}),l.currentState=function(){return""},l.currentLocation=function(){switch(l.currentLocationShowBtns=!0,t.current.name){case"app.dashboard":return"DASHBOARD";case"app.data.portfolio":return"PORTFOLIO";case"app.data.account":return"ACCOUNT";case"app.data.counterparty":return"COUNTERPARTY";case"app.data.counterparty-group":return"COUNTERPARTY GROUP";case"app.data.responsible":return"RESPONSIBLE";case"app.data.responsible-group":return"RESPONSIBLE GROUP";case"app.data.instrument":return"INSTRUMENT";case"app.data.transaction":return"TRANSACTION";case"app.data.price-history":return"PRICE HISTORY";case"app.data.currency-history":return"CURRENCY HISTORY";case"app.data.strategy":return"STRATEGY";case"app.data.strategy-subgroup":return"STRATEGY SUBGROUP";case"app.data.strategy-group":return"STRATEGY GROUP";case"app.data.account-type":return"ACCOUNT TYPES";case"app.data.instrument-type":return"INSTRUMENT TYPES";case"app.data.pricing-policy":return"PRICING POLICY";case"app.data.transaction-type":return"TRANSACTION TYPE";case"app.data.transaction-type-group":return"TRANSACTION TYPE GROUPS";case"app.data.currency":return"CURRENCY";case"app.data.complex-transaction":return"Transaction";case"app.data.tag":return"Tags";case"app.reports.balance-report":return"BALANCE REPORT";case"app.reports.pnl-report":return"P&L REPORT";case"app.reports.transaction-report":return"TRANSACTION REPORT";case"app.reports.cash-flow-projection-report":return"CASH FLOW PROJECTION REPORT";case"app.reports.performance-report":return"PERFORMANCE REPORT";case"app.settings.users-groups":return l.currentLocationShowBtns=!1,"USERS & GROUPS";default:return l.currentLocationShowBtns=!1,""}},l.openLayoutList=function(e){var n=o.getContentTypeUIByState(t.current.name);c.show({controller:"UiLayoutListDialogController as vm",templateUrl:"views/dialogs/ui/ui-layout-list-view.html",parent:angular.element(document.body),targetEvent:e,locals:{options:{entityType:n}}}).then(function(e){"agree"==e.status&&t.reload(t.current.name)})},l.openNotificationsMenu=function(e){c.show({controller:"HeaderNotificationsDialogController as vm",templateUrl:"views/dialogs/header-notifications-dialog-view.html",parent:angular.element(document.body),targetEvent:e})},l.unreadedNotificationsAmount,r.getList(1,"unreaded").then(function(t){l.unreadedNotificationsAmount=t.count,e.$apply()}),s.$on("$stateChangeSuccess",function(){c.cancel()}),console.log("Curent state is ",t.current),l.logOutMethod=function(){a.logout().then(function(e){console.log("Logged out"),window.location.pathname="/",i.deleteCookie()})}}}()},{"../../../../core/services/cookieService":1,"../../../../core/services/logService":2,"../services/metaContentTypesService":321,"../services/notificationsService":327,"../services/usersService":349}],116:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/metaService");t.exports=function(e){n.controller("SideNavController","initialized");var t=this;t.sections=[],t.sideNavStatus="expand",t.resizeSideNav=function(e){if(t.sideNavStatus=e,"expand"==e)$("body").removeClass("sidenav-collapsed"),$("body").addClass("sidenav-expanded"),$(".sidenav-wrapper").unbind("mouseenter"),$(".sidenav-wrapper").unbind("mouseleave"),$(window).trigger("resize");else{$("body").removeClass("sidenav-expanded"),$("body").addClass("sidenav-collapsed"),$(".sidenav-wrapper").bind("mouseenter",function(){$(".sidenav-wrapper").width(200),$(".md-button.md-raised.side-nav-btn ").show(),$(".menu-toggle-list").show()}),setTimeout(function(){$(".sidenav-wrapper").width(55)},0);var n=setInterval(function(){$(window).trigger("resize")},50);setTimeout(function(){clearInterval(n)},300),$(".sidenav-wrapper").bind("mouseleave",function(){$(".sidenav-wrapper").width(55),$(".md-button.md-raised.side-nav-btn ").hide(),$(".menu-toggle-list").hide()})}},i.getMenu().then(function(n){t.sections=n,e.$apply()}),t.isOpen=function(e){var n=!1;return t.openedSection&&e.hasOwnProperty("pages")&&e.pages.forEach(function(e){e.title===t.openedSection.title&&(n=!0)}),!!n||t.openedSection===e},t.toggleOpen=function(e,n){t.openedSection=t.openedSection===n?null:n},t.autoFocusContent=!1}}()},{"../../../../core/services/logService":2,"../services/metaService":326}],117:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/portfolioService"),a=e("../../services/instrumentTypeService"),o=e("../../services/transactionTypeService");t.exports=function(e){n.controller("complexTransactionSpecialRulesController","initialized");var t=this;t.complexTransactionOptions={portfolio:e.$parent.vm.complexTransactionOptions.portfolio,instrumentType:e.$parent.vm.complexTransactionOptions.instrumentType,transactionType:e.$parent.vm.complexTransactionOptions.transactionType},e.$parent.vm.specialRulesReady=!1,i.getList().then(function(n){t.portfolios=n.results,e.$apply()}),a.getList().then(function(n){t.instrumentTypes=n.results,e.$apply()}),o.getList().then(function(n){t.transactionTypes=n.results,e.$apply()}),t.loadTransactionTypes=function(){var n={filters:{portfolio:t.complexTransactionOptions.portfolio,instrument_type:t.complexTransactionOptions.instrumentType}};o.getList(n).then(function(n){t.transactionTypes=n.results,e.$apply()})},e.$parent.$watchCollection("vm.complexTransactionOptions",function(){console.log("hererer?"),t.complexTransactionOptions=e.$parent.vm.complexTransactionOptions,t.loadTransactionTypes()}),t.transactionTypeHandler=function(){e.$parent.vm.specialRulesReady=!1,setTimeout(function(){e.$parent.vm.complexTransactionOptions.transactionType=t.complexTransactionOptions.transactionType,e.$parent.vm.editLayoutEntityInstanceId=t.complexTransactionOptions.transactionType,e.$parent.vm.specialRulesReady=!0,e.$parent.vm.entity._transaction_type_id=t.complexTransactionOptions.transactionType,console.log("PARENT",e.$parent.vm),e.$parent.vm.getEditListByInstanceId(),e.$apply()},200)}}}()},{"../../../../../core/services/logService":2,"../../services/instrumentTypeService":313,"../../services/portfolioService":328,"../../services/transactionTypeService":343}],118:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/auditService");t.exports=function(e){function t(){a.instrumentCurrent=a.instrumentCurrent||1,a.readyStatus.instrument=!1,i.getList({filters:{content_type:"instruments.instrument"},page:a.instrumentCurrent}).then(function(t){a.instruments=t.results.map(function(e){return e.dateFormatted=moment(new Date(e.created)).format("DD/MM/YYYY"),e.timeFormatted=moment(new Date(e.created)).format("HH:ss"),e}),a.instrumentTotal=t.count,a.readyStatus.instrument=!0,e.$apply()})}n.controller("AuditController","initialized");var a=this;a.readyStatus={transaction:!1,instrument:!1},a.itemPerPage=20,a.checkActiveTab=function(e){return window.location.hash.split("tab=")[1]==e},a.setActiveTab=function(e){window.location.hash="#/system/audit?tab="+e,a.instrumentCurrent=1,a.transactionCurrent=1},a.changePage=function(e,n){"instrument"===e?(a.instrumentCurrent=n,t()):(getTransaction(),a.transactionCurrent=n),console.log("--------",e,n)},t()}}()},{"../../../../../core/services/logService":2,"../../services/auditService":257}],119:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/auditService");t.exports=function(e){n.controller("AuditController","initialized");var t=this,t=this;t.entityType="audit-instrument",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},i.getList({filters:{content_type:"instruments.instrument"}}).then(function(n){t.entityRaw=n,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return i.getList(e).then(function(e){return e})}}}()},{"../../../../../core/services/logService":2,"../../services/auditService":257}],120:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/auditService");t.exports=function(e){n.controller("AuditController","initialized");var t=this,t=this;t.entityType="audit-transaction",t.entityRaw=[],t.readyStatus={content:!1},t.entityViewer={extraFeatures:[]},i.getList({filters:{content_type:"transactions.transaction"}}).then(function(n){t.entityRaw=n,t.readyStatus.content=!0,e.$apply()}),t.getList=function(e){return i.getList(e).then(function(e){return e})}}}()},{"../../../../../core/services/logService":2,"../../services/auditService":257}],121:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/notificationsService");t.exports=function(e,t,a){n.controller("NotificationsController","initialized");var o=this;o.itemPerPage=20,o.notificationsReady=!0,a.notificationsListType&&a.notificationsListType.length?o.notificationsListType=a.notificationsListType:o.notificationsListType="all",console.log("notification state",t,a),o.changePage=function(e){o.notificationsCurrent=e,o.getNotifications()},o.getNotifications=function(){o.notificationsCurrent=o.notificationsCurrent||1,o.notificationsReady=!1,i.getList(o.notificationsCurrent,o.notificationsListType).then(function(t){o.notificationsTotal=t.count,o.notifications=t.results,o.markNotificationAsReaded(o.notifications),o.notificationsReady=!0,e.$apply()})},o.getNotifications(),o.markNotificationAsReaded=function(e){e.map(function(e){var t=e.id,n={create_date:e.create_date,read_date:moment(new Date).format("YYYY-MM-DD[T]HH:mm:ssZZ")};null==e.read_date&&i.markAsReaded(t,n)})},o.markAllNotificationsAsReaded=function(){i.markAllAsReaded()},o.hideShowReadedNotifications=function(e){o.notificationsListType=e,o.notificationsCurrent=1,o.getNotifications()}}}()},{"../../../../../core/services/logService":2,"../../services/notificationsService":327}],122:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/transactionTypeService");t.exports=function(e){n.controller("BookTransactionActionsTabController","initialized");var t=this;t.entity=e.$parent.vm.entity,t.transactionTypeId=e.$parent.vm.transactionTypeId,t.readyStatus={transactionType:!1},t.beatufier=function(e){if(void 0!==e){var t=e.split("_").join(" ");return t}return e},i.getByKey(t.transactionTypeId).then(function(n){t.transactionType=n,t.transactionActions={action_order:[],action_type:[],action_notes:[],transaction_class:[],portfolio:[],instrument:[],account_cash:[],account_interim:[],account_position:[],accounting_date:[],carry_amount:[],carry_with_sign:[],cash_consideration:[],cash_date:[],counterparty:[],factor:[],overheads:[],overheads_with_sign:[],position_size_with_sign:[],principal_amount:[],principal_with_sign:[],responsible:[],settlement_currency:[],strategy1_cash:[],strategy1_position:[],strategy2_cash:[],strategy2_position:[],strategy3_cash:[],strategy3_position:[],trade_price:[],transaction_currency:[],accrued_currency:[],accrued_multiplier:[],daily_pricing_model:[],default_accrued:[],default_price:[],instrument_type:[],maturity_date:[],name:[],notes:[],payment_size_detail:[],price_download_scheme:[],price_multiplier:[],pricing_currency:[],public_name:[],reference_for_pricing:[],short_name:[],user_code:[],user_text_1:[],user_text_2:[],user_text_3:[]},t.transactionActionsKeys=Object.keys(t.transactionActions),console.log("vm.transactionType",t.transactionType),t.transactionType.actions.forEach(function(e,n){t.transactionActions.action_order.push(e.order),t.transactionActions.action_notes.push(e.action_notes),null!==e.instrument?(t.transactionActions.action_type.push("Instrument"),null!==e.instrument.accrued_currency_object?t.transactionActions.accrued_currency.push(e.instrument.accrued_currency_object.name):null!==e.instrument.accrued_currency_input?t.transactionActions.accrued_currency.push(e.instrument.accrued_currency_input):t.transactionActions.accrued_currency.push("-"),t.transactionActions.accrued_multiplier.push(e.instrument.accrued_multiplier),null!==e.instrument.daily_pricing_model_object?t.transactionActions.daily_pricing_model.push(e.instrument.daily_pricing_model_object.name):null!==e.instrument.daily_pricing_model_input?t.transactionActions.daily_pricing_model.push(e.instrument.daily_pricing_model_input):t.transactionActions.daily_pricing_model.push("-"),t.transactionActions.default_accrued.push(e.instrument.default_accrued),t.transactionActions.default_price.push(e.instrument.default_price),null!==e.instrument.payment_size_detail_object?t.transactionActions.payment_size_detail.push(e.instrument.payment_size_detail_object.name):null!==e.instrument.payment_size_detail_input?t.transactionActions.payment_size_detail.push(e.instrument.payment_size_detail_input):t.transactionActions.payment_size_detail.push("-"),t.transactionActions.maturity_date.push(e.instrument.maturity_date),t.transactionActions.name.push(e.instrument.name),t.transactionActions.notes.push(e.instrument.notes),null!==e.instrument.price_download_scheme_object?t.transactionActions.price_download_scheme.push(e.instrument.price_download_scheme_object.scheme_name):null!==e.instrument.price_download_scheme_input?t.transactionActions.price_download_scheme.push(e.instrument.price_download_scheme_input):t.transactionActions.price_download_scheme.push("-"),t.transactionActions.price_multiplier.push(e.instrument.price_multiplier),null!==e.instrument.pricing_currency_object?t.transactionActions.pricing_currency.push(e.instrument.pricing_currency_object.name):null!==e.instrument.pricing_currency_input?t.transactionActions.pricing_currency.push(e.instrument.pricing_currency_input):t.transactionActions.pricing_currency.push("-"),t.transactionActions.public_name.push(e.instrument.public_name),t.transactionActions.reference_for_pricing.push(e.instrument.reference_for_pricing),t.transactionActions.short_name.push(e.instrument.short_name),t.transactionActions.user_code.push(e.instrument.user_code),t.transactionActions.user_text_1.push(e.instrument.user_text_1),t.transactionActions.user_text_2.push(e.instrument.user_text_2),t.transactionActions.user_text_3.push(e.instrument.user_text_3),t.transactionActions.transaction_class.push("-"),t.transactionActions.portfolio.push("-"),t.transactionActions.instrument.push("-"),t.transactionActions.account_cash.push("-"),t.transactionActions.account_interim.push("-"),t.transactionActions.account_position.push("-"),t.transactionActions.accounting_date.push("-"),t.transactionActions.carry_amount.push("-"),t.transactionActions.carry_with_sign.push("-"),t.transactionActions.cash_consideration.push("-"),t.transactionActions.cash_date.push("-"),t.transactionActions.counterparty.push("-"),t.transactionActions.factor.push("-"),t.transactionActions.overheads.push("-"),t.transactionActions.overheads_with_sign.push("-"),t.transactionActions.position_size_with_sign.push("-"),t.transactionActions.principal_amount.push("-"),t.transactionActions.principal_with_sign.push("-"),t.transactionActions.responsible.push("-"),t.transactionActions.settlement_currency.push("-"),t.transactionActions.strategy1_cash.push("-"),t.transactionActions.strategy1_position.push("-"),t.transactionActions.strategy2_cash.push("-"),t.transactionActions.strategy2_position.push("-"),t.transactionActions.strategy3_cash.push("-"),t.transactionActions.strategy3_position.push("-"),t.transactionActions.trade_price.push("-"),t.transactionActions.transaction_currency.push("-")):(t.transactionActions.action_type.push("Transaction"),null!==e.transaction.transaction_class_object?t.transactionActions.transaction_class.push(e.transaction.transaction_class_object.name):t.transactionActions.transaction_class.push("-"),null!==e.transaction.portfolio_object?t.transactionActions.portfolio.push(e.transaction.portfolio_object.name):null!==e.transaction.portfolio_input?t.transactionActions.portfolio.push(e.transaction.portfolio_input):t.transactionActions.portfolio.push("-"),null!==e.transaction.instrument_phantom?t.transactionActions.instrument.push("Instrument Action #"+e.transaction.instrument_phantom):null!==e.transaction.instrument_object?t.transactionActions.instrument.push(e.transaction.instrument_object.name):null!==e.transaction.instrument_input?t.transactionActions.instrument.push(e.transaction.instrument_input):t.transactionActions.instrument.push("-"),null!==e.transaction.account_cash_object?t.transactionActions.account_cash.push(e.transaction.account_cash_object.name):null!==e.transaction.account_cash_input?t.transactionActions.account_cash.push(e.transaction.account_cash_input):t.transactionActions.account_cash.push("-"),null!==e.transaction.account_interim_object?t.transactionActions.account_interim.push(e.transaction.account_interim_object.name):null!==e.transaction.account_interim_input?t.transactionActions.account_interim.push(e.transaction.account_interim_input):t.transactionActions.account_interim.push("-"),null!==e.transaction.account_position_object?t.transactionActions.account_position.push(e.transaction.account_position_object.name):null!==e.transaction.account_position_input?t.transactionActions.account_position.push(e.transaction.account_position_input):t.transactionActions.account_position.push("-"),t.transactionActions.accounting_date.push(e.transaction.accounting_date),t.transactionActions.carry_amount.push(e.transaction.carry_amount),t.transactionActions.carry_with_sign.push(e.transaction.carry_with_sign),t.transactionActions.cash_consideration.push(e.transaction.cash_consideration),t.transactionActions.cash_date.push(e.transaction.cash_date),null!==e.transaction.counterparty_object?t.transactionActions.counterparty.push(e.transaction.counterparty_object.name):null!==e.transaction.counterparty_input?t.transactionActions.counterparty.push(e.transaction.counterparty_input):t.transactionActions.counterparty.push("-"),t.transactionActions.factor.push(e.transaction.factor),t.transactionActions.overheads.push(e.transaction.overheads),t.transactionActions.overheads_with_sign.push(e.transaction.overheads_with_sign),t.transactionActions.position_size_with_sign.push(e.transaction.position_size_with_sign),t.transactionActions.principal_amount.push(e.transaction.principal_amount),t.transactionActions.principal_with_sign.push(e.transaction.principal_with_sign),null!==e.transaction.responsible_object?t.transactionActions.responsible.push(e.transaction.responsible_object.name):null!==e.transaction.responsible_input?t.transactionActions.responsible.push(e.transaction.responsible_input):t.transactionActions.responsible.push("-"),null!==e.transaction.settlement_currency_object?t.transactionActions.settlement_currency.push(e.transaction.settlement_currency_object.name):null!==e.transaction.settlement_currency_input?t.transactionActions.settlement_currency.push(e.transaction.settlement_currency_input):t.transactionActions.settlement_currency.push("-"),null!==e.transaction.strategy1_cash_object?t.transactionActions.strategy1_cash.push(e.transaction.strategy1_cash_object.name):null!==e.transaction.strategy1_cash_input?t.transactionActions.strategy1_cash.push(e.transaction.strategy1_cash_input):t.transactionActions.strategy1_cash.push("-"),null!==e.transaction.strategy1_position_object?t.transactionActions.strategy1_position.push(e.transaction.strategy1_position_object.name):null!==e.transaction.strategy1_position_input?t.transactionActions.strategy1_position.push(e.transaction.strategy1_position_input):t.transactionActions.strategy1_position.push("-"),null!==e.transaction.strategy2_cash_object?t.transactionActions.strategy2_cash.push(e.transaction.strategy2_cash_object.name):null!==e.transaction.strategy2_cash_input?t.transactionActions.strategy2_cash.push(e.transaction.strategy2_cash_input):t.transactionActions.strategy2_cash.push("-"),null!==e.transaction.strategy2_position_object?t.transactionActions.strategy2_position.push(e.transaction.strategy2_position_object.name):null!==e.transaction.strategy2_position_input?t.transactionActions.strategy2_position.push(e.transaction.strategy2_position_input):t.transactionActions.strategy2_position.push("-"),null!==e.transaction.strategy3_cash_object?t.transactionActions.strategy3_cash.push(e.transaction.strategy3_cash_object.name):null!==e.transaction.strategy3_cash_input?t.transactionActions.strategy3_cash.push(e.transaction.strategy3_cash_input):t.transactionActions.strategy3_cash.push("-"),null!==e.transaction.strategy3_position_object?t.transactionActions.strategy3_position.push(e.transaction.strategy3_position_object.name):null!==e.transaction.strategy3_position_input?t.transactionActions.strategy3_position.push(e.transaction.strategy3_position_input):t.transactionActions.strategy3_position.push("-"),t.transactionActions.trade_price.push(e.transaction.trade_price),null!==e.transaction.transaction_currency_object?t.transactionActions.transaction_currency.push(e.transaction.transaction_currency_object.name):null!==e.transaction.transaction_currency_input?t.transactionActions.transaction_currency.push(e.transaction.transaction_currency_input):t.transactionActions.transaction_currency.push("-"),t.transactionActions.accrued_currency.push("-"),t.transactionActions.accrued_multiplier.push("-"),t.transactionActions.daily_pricing_model.push("-"),t.transactionActions.default_accrued.push("-"),t.transactionActions.default_price.push("-"),t.transactionActions.instrument_type.push("-"),t.transactionActions.maturity_date.push("-"),t.transactionActions.name.push("-"),t.transactionActions.notes.push("-"),t.transactionActions.payment_size_detail.push("-"),t.transactionActions.price_download_scheme.push("-"),t.transactionActions.price_multiplier.push("-"),t.transactionActions.public_name.push("-"),t.transactionActions.reference_for_pricing.push("-"),t.transactionActions.short_name.push("-"),t.transactionActions.user_code.push("-"),t.transactionActions.user_text_1.push("-"),t.transactionActions.user_text_2.push("-"),t.transactionActions.user_text_3.push("-"),t.transactionActions.pricing_currency.push("-"))}),console.log("vm.transactionActions",t.transactionActions),t.readyStatus.transactionType=!0,e.$apply()})}}()},{"../../../../../../core/services/logService":2,"../../../services/transactionTypeService":343}],123:[function(e,t,n){!function(){"use strict";t.exports=function(e,t){var n=this;n.transactions=e.$parent.vm.entity.transactions_object,console.log("complex transactions scope",e,n.transactions),n.editBaseTransaction=function(e,n){t.show({controller:"EntityViewerEditDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{parentScope:{entityType:"transaction"},entityId:n}}).then(function(e){e&&"agree"===e.res&&scope.externalCallback()})}}}()},{}],124:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/accrualCalculationModelService"),a=e("../../../services/instrumentPeriodicityService");t.exports=function(e){n.controller("AccrualCalculationSchedulesController","initialized");var t=this;t.entity=e.$parent.vm.entity,t.readyStatus={accrualModals:!1,periodicityItems:!1},i.getList().then(function(n){t.accrualModels=n,t.readyStatus.accrualModals=!0,e.$apply()}),a.getList().then(function(n){t.periodicityItems=n,t.readyStatus.periodicityItems=!0,e.$apply()}),t.checkReadyStatus=function(){return 1==t.readyStatus.accrualModals&&1==t.readyStatus.periodicityItems},t.toggleQuery=function(){t.queryStatus=!t.queryStatus,t.query={}},t.setSort=function(e){t.direction=t.sort===e&&!t.direction,t.sort=e},t.bindCalculationModel=function(e){var n;return t.accrualModels.forEach(function(t){e.accrual_calculation_model==t.id&&(e.calculation_model_name=t.name,n=t.name)}),n},t.bindPeriodicity=function(e){var n;return t.periodicityItems.forEach(function(t){e.periodicity==t.id&&(e.periodicity_name=t.name,n=t.name)}),n},t.newItem={accrual_start_date:new Date,first_payment_date:new Date,accrual_size:"",accrual_calculation_model:"",periodicity:"",periodicity_n:"",notes:""},t.editItem=function(e){e.editStatus=!0},t.saveItem=function(e){e.editStatus=!1},t.deleteItem=function(e,n){t.entity.accrual_calculation_schedules.splice(n,1)},t.addRow=function(){t.entity.accrual_calculation_schedules.push({accrual_start_date:moment(new Date(t.newItem.accrual_start_date)).format("YYYY-MM-DD"),first_payment_date:moment(new Date(t.newItem.first_payment_date)).format("YYYY-MM-DD"),accrual_size:t.newItem.accrual_size,accrual_calculation_model:t.newItem.accrual_calculation_model,periodicity:t.newItem.periodicity,periodicity_n:t.newItem.periodicity_n,notes:t.newItem.notes}),t.newItem={accrual_start_date:new Date,first_payment_date:new Date,accrual_size:"",accrual_calculation_model:"",periodicity:"",periodicity_n:"",notes:""}}}}()},{"../../../../../../core/services/logService":2,"../../../services/accrualCalculationModelService":255,"../../../services/instrumentPeriodicityService":311}],125:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/metaNotificationClassService"),a=e("../../../services/metaEventClassService"),o=e("../../../services/instrumentPeriodicityService");t.exports=function(e){n.controller("AccrualCalculationSchedulesController","initialized");var t=this;t.entity=e.$parent.vm.entity,t.readyStatus={notificationClasses:!1,eventClasses:!1},i.getList().then(function(n){t.notificationClasses=n,t.readyStatus.notificationClasses=!0,e.$apply()}),a.getList().then(function(n){t.eventClasses=n,t.readyStatus.eventClasses=!0,e.$apply()}),o.getList().then(function(n){t.periodicityItems=n,t.readyStatus.periodicityItems=!0,e.$apply()}),t.checkReadyStatus=function(){return t.readyStatus.notificationClasses&&t.readyStatus.eventClasses},t.toggleQuery=function(){t.queryStatus=!t.queryStatus,t.query={}},t.setSort=function(e){t.direction=t.sort===e&&!t.direction,t.sort=e},t.bindNotificationClass=function(e){var n;return t.notificationClasses.forEach(function(t){e.notification_class==t.id&&(e.notification_class_name=t.name,n=t.name)}),n},t.bindEventClass=function(e){var n;return t.eventClasses.forEach(function(t){e.event_class==t.id&&(e.event_class_name=t.name,n=t.name)}),n},t.bindPeriodicity=function(e){var n;return t.periodicityItems.forEach(function(t){e.periodicity==t.id&&(e.periodicity_name=t.name,n=t.name)}),n},t.newItem={name:"",description:"",notification_class:"",notify_in_n_days:"",periodicity:"",periodicity_n:"",action_is_sent_to_pending:null,action_is_book_automatic:null,actions:[],effective_date:null,final_date:null,event_class:null},t.editItem=function(e){e.editStatus=!0},t.saveItem=function(e){e.editStatus=!1},t.deleteItem=function(e,n){t.entity.event_schedules.splice(n,1)},t.addRow=function(){t.entity.event_schedules.push({name:t.newItem.name,description:t.newItem.description,notification_class:t.newItem.notification_class,notify_in_n_days:t.newItem.notify_in_n_days,action_text:t.newItem.action_text,event_class:t.newItem.event_class,action_is_sent_to_pending:t.newItem.action_is_sent_to_pending,action_is_book_automatic:t.newItem.action_is_book_automatic,effective_date:t.newItem.effective_date,final_date:t.newItem.final_date,periodicity:t.newItem.periodicity,periodicity_n:t.newItem.periodicity_n}),t.newItem={name:"",description:"",notification_class:"",notify_in_n_days:"",periodicity:"",periodicity_n:"",action_is_sent_to_pending:null,action_is_book_automatic:null,actions:[],effective_date:null,final_date:null,event_class:null}}}}()},{"../../../../../../core/services/logService":2,"../../../services/instrumentPeriodicityService":311,"../../../services/metaEventClassService":322,"../../../services/metaNotificationClassService":323}],126:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService");t.exports=function(e){n.controller("FactorScheduleTabController","initialized");var t=this;t.entity=e.$parent.vm.entity,console.log("----------------------------------",t.entity),t.newItem={},t.newItem.date=new Date,t.toggleQuery=function(){t.queryStatus=!t.queryStatus,t.query={}},t.setSort=function(e){t.direction=t.sort===e&&!t.direction,t.sort=e},t.editItem=function(e){e.editStatus=!0},t.saveItem=function(e){e.editStatus=!1},t.deleteItem=function(e,n){t.entity.factor_schedules.splice(n,1)},t.addRow=function(){t.entity.factor_schedules.push({factor_value:t.newItem.value,effective_date:moment(new Date(t.newItem.date)).format("YYYY-MM-DD")}),t.newItem.value=null,t.newItem.date=null}}}()},{"../../../../../../core/services/logService":2}],127:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/pricingPolicyService");t.exports=function(e){n.controller("ManualPricingFormulasTabController","initialized");var t=this;t.readyStatus={content:!1},t.entity=e.$parent.vm.entity,t.newItem={pricing_policy:"",expr:"",notes:""},i.getList().then(function(n){t.policies=n.results,t.readyStatus.content=!0,e.$apply()}),t.bindPricingPolicy=function(e){var n;return t.policies.forEach(function(t){e.pricing_policy==t.id&&(e.policy_name=t.name,
n=t.name)}),n},t.toggleQuery=function(){t.queryStatus=!t.queryStatus,t.query={}},t.setSort=function(e){t.direction=t.sort===e&&!t.direction,t.sort=e},t.editItem=function(e){e.editStatus=!0},t.saveItem=function(e){e.editStatus=!1},t.deleteItem=function(e,n){t.entity.manual_pricing_formulas.splice(n,1)},t.addRow=function(){t.entity.manual_pricing_formulas.push({pricing_policy:t.newItem.pricing_policy,expr:t.newItem.expr,notes:t.newItem.notes}),t.newItem.pricing_policy=null,t.newItem.expr=null,t.newItem.notes=null}}}()},{"../../../../../../core/services/logService":2,"../../../services/pricingPolicyService":330}],128:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/fieldResolverService"),a=e("../../../services/metaContentTypesService");t.exports=function(e,t){n.controller("TransactionTypeActionsTabController","initialized");var o=this;o.entity=e.$parent.vm.entity,o.contentTypes=a.getListForTransactionTypeInputs(),o.toggleItem=function(e,t){e.toggle(),1==t.isPaneExpanded?t.isPaneExpanded=!1:t.isPaneExpanded=!0},o.openExpressionDialog=function(e,n,i){var a={expression:""};n&&(a={expression:JSON.parse(JSON.stringify(n))}),t.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:a}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i&&(i.obj[i.prop]=e.data.item.expression)),console.log("item",n)})},o.entity.actions.forEach(function(e){var t;null!==e.instrument?(t=Object.keys(e.instrument),t.forEach(function(t){e.instrument.hasOwnProperty(t+"_input")&&null!==e.instrument[t]&&(e.instrument[t+"_toggle"]=!0)})):(t=Object.keys(e.transaction),t.forEach(function(t){e.transaction.hasOwnProperty(t+"_input")&&null!==e.transaction[t]&&(e.transaction[t+"_toggle"]=!0)}))}),o.resetProperty=function(e,t,n){e[t][n]=null,e[t][n+"_input"]=null},o.resetPropertyBtn=function(e,t,n){e[t][n]=null,e[t][n+"_input"]=null,e[t][n+"_toggle"]=!e[t][n+"_toggle"]},o.findInputs=function(e){var t="",n=[];return o.contentTypes.forEach(function(n){n.entity===e&&(t=n.key)}),o.entity.inputs.forEach(function(e){e.content_type===t&&n.push(e)}),n},o.deletePane=function(n,i,a){var r="Are you sure to delete this action?";t.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:a,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{warning:{title:"Warning",description:r}}}).then(function(t){"agree"===t.status&&o.entity.actions.splice(i,1),e.$apply()})},o.addAction=function(t){e.accordion.collapseAll(),"instrument"==t?o.entity.actions.push({isPaneExpanded:!0,instrument:{}}):o.entity.actions.push({isPaneExpanded:!0,transaction:{}}),o.findPhantoms()},o.relationItems={},o.moveDown=function(e,t){var n=JSON.parse(JSON.stringify(e));o.entity.actions[t]=o.entity.actions[t+1],o.entity.actions[t+1]=n,o.findPhantoms()},o.moveUp=function(e,t){var n=JSON.parse(JSON.stringify(e));o.entity.actions[t]=o.entity.actions[t-1],o.entity.actions[t-1]=n,o.findPhantoms()},o.resolveInstrumentProp=function(e,t){return"instrument"==t?null!==e.transaction.instrument_input?"instrument_input":"instrument_phantom":"linked_instrument"==t?null!==e.transaction.linked_instrument_input?"linked_instrument_input":"linked_instrument_phantom":"allocation_pl"==t?null!==e.transaction.allocation_pl_input?"allocation_pl_input":"allocation_pl_phantom":"allocation_balance"==t?null!==e.transaction.allocation_balance_input?"allocation_balance_input":"allocation_balance_phantom":void 0},o.setTransactionInstrumentInput=function(e,t,n){"instrument"==n&&(e.transaction.instrument_input=t,e.transaction.instrument_phantom=null,e.transaction.instrument=null),"linked_instrument"==n&&(e.transaction.linked_instrument_input=t,e.transaction.linked_instrument_phantom=null,e.transaction.linked_instrument=null),"allocation_pl"==n&&(e.transaction.allocation_pl_input=t,e.transaction.allocation_pl_phantom=null,e.transaction.allocation_pl=null),"allocation_balance"==n&&(e.transaction.allocation_balance_input=t,e.transaction.allocation_balance_phantom=null,e.transaction.allocation_balance=null)},o.setTransactionInstrumentPhantom=function(e,t,n){"instrument"==n&&(e.transaction.instrument_input=null,e.transaction.instrument_phantom=t,e.transaction.instrument=null),"linked_instrument"==n&&(e.transaction.linked_instrument_input=null,e.transaction.linked_instrument_phantom=t,e.transaction.linked_instrument=null),"allocation_pl"==n&&(e.transaction.allocation_pl_input=null,e.transaction.allocation_pl_phantom=t,e.transaction.allocation_pl=null),"allocation_balance"==n&&(e.transaction.allocation_balance_input=null,e.transaction.allocation_balance_phantom=t,e.transaction.allocation_balance=null)},o.findPhantoms=function(){var e=[];return o.entity.actions.forEach(function(t,n){t.positionOrder=n,null!==t.instrument&&e.push(t)}),e},o.loadRelation=function(e){return new Promise(function(t,n){o.relationItems[e]?t(o.relationItems[e]):i.getFields(e).then(function(n){o.relationItems[e]=n.data,t(o.relationItems[e])})})}}}()},{"../../../../../../core/services/logService":2,"../../../services/fieldResolverService":273,"../../../services/metaContentTypesService":321}],129:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/transaction/transactionTypeGroupService"),a=e("../../../services/portfolioService"),o=e("../../../services/instrumentTypeService"),r=e("../../../services/tagService");t.exports=function(e,t){n.controller("TransactionTypeGeneralTabController","initialized");var s=this;s.entity=e.$parent.vm.entity,s.entity.book_transaction_layout=s.entity.book_transaction_layout||"",s.entity.actions=s.entity.actions||[],s.entity.inputs=s.entity.inputs||[],s.readyStatus={transactionTypeGroups:!1,instrumentTypes:!1,portfolios:!1,tags:!1},s.getTransactionTypeGroups=function(){i.getList().then(function(t){s.transactionTypeGroups=t.results,s.readyStatus.transactionTypeGroups=!0,e.$apply()})},s.getPortfolios=function(){a.getList().then(function(t){s.portfolios=t.results,s.readyStatus.portfolios=!0,e.$apply()})},s.getInstrumentTypes=function(){o.getList().then(function(t){s.instrumentTypes=t.results,s.readyStatus.instrumentTypes=!0,e.$apply()})},s.getTags=function(){r.getListByContentType("transaction-type").then(function(t){s.tags=t.results,s.readyStatus.tags=!0,e.$apply()})},s.bindSelectedText=function(e,t){return e?"["+e.length+"]":t},s.openExpressionDialog=function(e,n,i){t.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:{expression:n[i.key]}}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),n[i.key]=e.data.item.expression),console.log("item",n)})},s.getTransactionTypeGroups(),s.getPortfolios(),s.getInstrumentTypes(),s.getTags(),s.tagTransform=function(e){var t={name:e,id:null};return t},e.$watch("vm.entity.tags",function(){s.entity.tags.forEach(function(e){null==e.id&&r.create({name:e.name,content_types:["transactions.transactiontype"]})})}),e.$watch("vm.entity.group",function(){null!=s.entity.group.name&&i.create({name:s.entity.group.name})}),s.checkReadyStatus=function(){return 1==s.readyStatus.transactionTypeGroups&&1==s.readyStatus.portfolios&&1==s.readyStatus.instrumentTypes&&1==s.readyStatus.tags}}}()},{"../../../../../../core/services/logService":2,"../../../services/instrumentTypeService":313,"../../../services/portfolioService":328,"../../../services/tagService":340,"../../../services/transaction/transactionTypeGroupService":346}],130:[function(e,t,n){!function(){"use strict";var n=e("../../../../../../core/services/logService"),i=e("../../../services/metaContentTypesService"),a=e("../../../services/entityResolverService");t.exports=function(e){n.controller("TransactionTypeInputsTabController","initialized");var t=this;t.entity=e.$parent.vm.entity,t.relationItems={},t.newItem={content_type:null,account:null,instrument_type:null,instrument:null,currency:null,counterparty:null,is_fill_from_context:!1,responsible:null,portfolio:null,strategy1:null,strategy2:null,strategy3:null,daily_pricing_model:null,payment_size_detail:null,price_download_scheme:null},t.valueTypes=[{display_name:"Number",value:20},{display_name:"String",value:10},{display_name:"Date",value:40},{display_name:"Relation",value:100}],t.contentTypes=i.getListForTransactionTypeInputs(),t.bindValueType=function(e){var n;return t.valueTypes.forEach(function(t){e.value_type==t.value&&(e.value_type_name=t.display_name,n=t.display_name)}),n},t.bindContentType=function(e){var n;return t.contentTypes.forEach(function(t){e.content_type==t.key&&(e.content_type_name=t.name,n=t.name)}),n},t.resolveRelation=function(e){var n;return t.contentTypes.forEach(function(t){t.key==e.content_type&&(n=t.entity)}),n},t.resolveDefaultValue=function(e){var n="";if(t.contentTypes.forEach(function(t){e.content_type==t.key&&(n=t.entity)}),e[n+"_object"])return e[n+"_object"].name;var i="";return t.relationItems[n]&&t.relationItems[n].forEach(function(t){t.id==e[n]&&(i=t.name)}),i},t.loadRelation=function(e){return new Promise(function(n,i){t.relationItems[e]?n(t.relationItems[e]):a.getList(e).then(function(i){t.relationItems[e]=i.results,n(t.relationItems[e])})})},t.toggleQuery=function(){t.queryStatus=!t.queryStatus,t.query={}},t.setSort=function(e){t.direction=t.sort===e&&!t.direction,t.sort=e},t.editItem=function(e){e.editStatus=!0},t.saveItem=function(e){e.editStatus=!1},t.deleteItem=function(e,n){t.entity.inputs.splice(n,1)},t.addRow=function(){t.entity.inputs.push({name:t.newItem.name,verbose_name:t.newItem.verbose_name,value_type:t.newItem.value_type,content_type:t.newItem.content_type,is_fill_from_context:t.newItem.is_fill_from_context,account:t.newItem.account,instrument_type:t.newItem.instrument_type,instrument:t.newItem.instrument,currency:t.newItem.currency,counterparty:t.newItem.counterparty,responsible:t.newItem.responsible,portfolio:t.newItem.portfolio,strategy1:t.newItem.strategy1,strategy2:t.newItem.strategy2,strategy3:t.newItem.strategy3,daily_pricing_model:t.newItem.daily_pricing_model,payment_size_detail:t.newItem.payment_size_detail,price_download_scheme:t.newItem.price_download_scheme}),t.newItem.name=null,t.newItem.verbose_name=null,t.newItem.value_type=null,t.newItem.content_type=null,t.newItem.is_fill_from_context=!1,t.newItem.account=null,t.newItem.instrument_type=null,t.newItem.instrument=null,t.newItem.currency=null,t.newItem.counterparty=null,t.newItem.responsible=null,t.newItem.portfolio=null,t.newItem.strategy1=null,t.newItem.strategy2=null,t.newItem.strategy3=null,t.newItem.daily_pricing_model=null,t.newItem.payment_size_detail=null,t.newItem.price_download_scheme=null}}}()},{"../../../../../../core/services/logService":2,"../../../services/entityResolverService":268,"../../../services/metaContentTypesService":321}],131:[function(e,t,n){!function(){"use strict";t.exports=function(e){return{scope:{tabs:"="},link:function(t,n){var i='<md-button class="ec-tab-add-btn"data-ng-click="vm.addTab()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button>',a=e(i)(t.$parent),o=n.find("md-pagination-wrapper");o.append(a)}}}}()},{}],132:[function(e,t,n){!function(){"use strict";var n=e("../services/metaService"),i=e("../services/layoutService"),a=e("../services/attributeTypeService");t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/bind-field-control-view.html",scope:{item:"="},link:function(e,t,o){function r(t){e.classifierId==t.id?e.node=t:t.children.length&&t.children.forEach(r)}function s(){return a.getByKey(e.entityType,e.item.id).then(function(t){return y=t,y.classifiers.forEach(r),e.node})}e.entityType=e.$parent.vm.entityType,e.readyStatus={classifier:!1},e.entity=e.$parent.vm.entity;var c=e.$parent.vm.attrs||[],l=e.$parent.vm.userInputs||[],d=n.getValueTypes()||[],u=n.getBaseAttrs()||[],m=n.getEntityAttrs(e.entityType)||[];if(e.layoutAttrs=i.getLayoutAttrs(),e.item){e.fieldType=null,e.attribute=e.item;var p;for(p=0;p<d.length;p+=1)d[p].value===e.attribute.value_type&&(e.fieldType=d[p]);100==e.attribute.value_type&&(e.fieldType=d[5])}e.getName=function(){return e.item.hasOwnProperty("verbose_name")?e.item.verbose_name:e.item.options&&e.item.options.fieldName?e.item.options.fieldName:e.item.name},e.copyFromField=function(t){var n=JSON.parse(t);if(n.key&&(e.entity[e.getModelKey()]=e.entity[n.key],console.log(e.entity[e.getModelKey()])),n.id){var i=null;c.forEach(function(e){e.id===n.id&&(i=e)}),e.entity[e.getModelKey()]=e.entity[i.name]}},e.checkValid=function(){if(0==e.entity.$_isValid){var t=e.entity[e.getModelKey()];if(null==t||""==t||void 0==t)return!0}return!1},e.dateFormatter=function(){},e.getModelKey=function(){if(e.item){if(e.item.hasOwnProperty("id")&&null!==e.item.id)return e.item.name;var t,n,i,a;for(t=0;t<u.length;t+=1)if(e.item.name===u[t].name)return u[t].key;for(n=0;n<e.layoutAttrs.length;n+=1)if(e.item.name===e.layoutAttrs[n].name)return e.layoutAttrs[n].key;for(i=0;i<m.length;i+=1)if(e.item.name===m[i].name)return m[i].key;for(a=0;a<l.length;a+=1)if(e.item.name===l[a].name)return l[a].name}};var g=e.getModelKey();e.options={},"tags"==g?e.options={entityType:e.entityType}:n.getEntitiesWithSimpleFields().indexOf(e.entityType)!==-1&&(e.options={entityType:e.entityType,key:g}),e.setDateToday=function(){e.entity[e.getModelKey()]=new Date},e.setDatePlus=function(){e.entity[e.getModelKey()]=new Date((new Date).setDate(new Date(e.entity[e.getModelKey()]).getDate()+1))},e.setDateMinus=function(){e.entity[e.getModelKey()]=new Date((new Date).setDate(new Date(e.entity[e.getModelKey()]).getDate()-1))},e.node=e.node||null;var y;e.findNodeItem=function(){return e.readyStatus.classifier=!1,new Promise(function(t){s().then(function(n){e.readyStatus.classifier=!0,e.node=n,e.entity[e.getModelKey()]=e.classifierId,t(void 0)})})},e.fieldType&&30==e.fieldType.value&&e.entity&&(e.classifierId=e.entity[e.getModelKey()],e.findNodeItem().then(function(){e.$apply()})),e.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},e.changeClassifier=function(){y&&(e.classifierId=e.entity[e.getModelKey()],e.findNodeItem().then(function(){y.classifiers.forEach(r),e.$apply()}))}}}}}()},{"../services/attributeTypeService":256,"../services/layoutService":319,"../services/metaService":326}],133:[function(e,t,n){!function(){"use strict";var n=e("../services/bookmarkService");t.exports=function(e){return{restriction:"AE",templateUrl:"views/directives/bookmarks-view.html",link:function(t,i,a){t.toggleBookmarkPanel=function(){t.showBookmarks=!t.showBookmarks},t.getBookmarks=function(){n.getList().then(function(e){t.items=e.results,t.$apply()})},t.getBookmarks(),t.openSettings=function(n){e.show({controller:"BookmarksWizardDialogController as vm",templateUrl:"views/dialogs/bookmarks-wizard-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{}}).then(function(e){"agree"===e.status&&t.getBookmarks()})},t.getState=function(e){var t=e.data;return t.state+"({listLayout: "+e.list_layout+"})"}}}}}()},{"../services/bookmarkService":260}],134:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService");e("../services/attributeTypeService");t.exports=function(e){return{restrict:"A",require:"?ngModel",scope:{classifierAttr:"=",entityType:"=",classifierValue:"="},link:function(t,i,a,o){n.component("ClassifierModalResolver","initialize"),$(i).on("click",function(n){n.preventDefault(),n.stopPropagation(),setTimeout(function(){$(".md-select-backdrop")[0].dispatchEvent(new Event("click"))},400),e.show({controller:"ClassifierSelectDialogController as vm",templateUrl:"views/classifier-select-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{data:{ngModelCtrl:o,classifier:t.classifierAttr,classifierId:t.classifierValue,entityType:t.entityType}}}).then(function(e){"agree"===e.status&&(o.$setViewValue(e.data.item),o.$render(),console.log("ngModelCtrl",o))})})}}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":256}],135:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",scope:{scrollY:"@",scrollSticky:"@"},link:function(e,t){if(e.scrollY&&"false"==e.scrollY){$(t).perfectScrollbar({suppressScrollY:!0});var n,i,a;$(t).on("ps-scroll-x",function(e){$(".ps-scrollbar-y-rail.sticky")&&(n=$(".ps-scrollbar-y-rail.sticky"),i=$(t).find("> .ps-scrollbar-x-rail"),a=parseInt(i.css("left").split("px")[0],10),a>0?$(n).css("left",$(".g-table-section").width()+a-21+"px"):$(n).css("left",$(".g-table-section").width()-21+"px"))})}else $(t).perfectScrollbar(),e.scrollSticky&&"true"==e.scrollSticky&&$(t).find(".ps-scrollbar-y-rail").addClass("sticky")}}}}()},{}],136:[function(e,t,n){!function(){"use strict";e("../../../../core/services/logService");t.exports=function(){return{restrict:"A",link:function(e,t,n){function i(e){s=e.pageX,r=e.pageY,o[0].style.left=s+c-d+"px",o[0].style.top=r+l-u+"px"}var a=$(t).find("md-toolbar"),o=$(t),r=0,s=0,c=0,l=0,d=0,u=0;a.bind("mousedown",function(e){return e.preventDefault(),e.stopPropagation(),d=e.clientX,u=e.clientY,c=o[0].offsetLeft,l=o[0].offsetTop,$(window).bind("mousemove",i),$(window).bind("mouseup",function(e){$(window).unbind("mousemove")}),!1})}}}}()},{"../../../../core/services/logService":2}],137:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/fieldResolverService"),a=e("../helpers/bindFieldsHelper"),o=e("../services/metaService"),r=e("../services/tagService");t.exports=function(e){return{scope:{item:"=",entity:"=",content_type:"=",options:"="},templateUrl:"views/entity-viewer/field-resolver-view.html",link:function(e,t,s){n.component("EntityViewerFieldResolverController","initialized"),e.readyStatus={content:!1,tags:!1},e.type="",n.property("field scope",e.item),n.property("field entity",e.entity),n.property("field options",e.options),e.resolveMultiple=function(){return"instrument-type"!==e.$parent.entityType||"tags"==e.item.key},e.getFieldsGrouped=function(){if(o.getFieldsWithTagGrouping().indexOf(e.item.key)!==-1){var n=e.item.key.replace("_","-");console.log("ENTITYTYPE------------------------------------------",n),"transaction-types"===n&&(n="transaction-type"),r.getListByContentType(n).then(function(n){e.tags=n.results,e.groups=a.groupFieldsByTagsWithDuplicates(e.fields,e.tags),console.log("test?"),e.readyStatus.tags=!0,e.$apply(function(){setTimeout(function(){$(t).find(".md-select-search-pattern").on("keydown",function(e){e.stopPropagation()})},100)})})}},e.searchTerm="",i.getFields(e.item.key,e.options).then(function(i){n.collection("DATA",i),e.type=i.type,e.fields=i.data,e.readyStatus.content=!0,e.getFieldsGrouped(),e.$apply(function(){setTimeout(function(){$(t).find(".md-select-search-pattern").on("keydown",function(e){e.stopPropagation()})},100)})}),e.resolveSort=function(e){if(e){if(e.hasOwnProperty("name"))return e.name;if(e.hasOwnProperty("user_code"))return e.user_code;if(e.hasOwnProperty("public_name"))return e.public_name}},e.checkComplexEntityType=function(){return o.getFieldsWithTagGrouping().indexOf(e.item.key)!==-1},e.getName=function(){return e.item.hasOwnProperty("verbose_name")?e.item.verbose_name:e.item.options&&e.item.options.fieldName?e.item.options.fieldName:e.item.name},e.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},e.bindFormFields=function(){var t=e.entity[e.getModelKey()];if(t){var n,i;for(n=0;n<e.fields.length;n+=1)t==e.fields[n].id&&(i=e.fields[n]);if(e.item.options&&e.item.options.fieldsForm){var a="";return e.item.options.fieldsForm.forEach(function(t,n){n+1===e.item.options.fieldsForm.length?a+=i[t]:a=a+i[t]+" / "}),a}return i.name}return e.getName()},e.bindListFields=function(t){if(e.item.options&&e.item.options.fieldsList){var n="";return e.item.options.fieldsList.forEach(function(i,a){a+1===e.item.options.fieldsList.length?n+=t[i]:n=n+t[i]+" / "}),n}return t.name},e.bindMCField=function(t){return e.entity[e.getModelKey()]&&e.entity[e.getModelKey()].length>0?"["+e.entity[e.getModelKey()].length+"] selected":e.getName()},e.getModelKey=e.$parent.getModelKey}}}}()},{"../../../../core/services/logService":2,"../helpers/bindFieldsHelper":172,"../services/fieldResolverService":273,"../services/metaService":326,"../services/tagService":340}],138:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",scope:{fileRead:"="},link:function(e,t,n){console.log("scope?13124",e),t.bind("change",function(t){e.fileRead=t.target.files[0]})}}}}()},{}],139:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"A",scope:{onlyPositive:"@"},require:"?ngModel",link:function(e,t,n,i){i&&(i.$parsers.push(function(t){var n=t.replace(/[^-0-9\,]/g,""),a=n.split("-"),o=n.split(",");return angular.isUndefined(a[1])||(a[1]=a[1].slice(0,a[1].length),n=e.onlyPositive?a[1]:a[0]+"-"+a[1],a[0].length>0&&(n=a[0])),angular.isUndefined(o[1])||(o[1]=o[1].slice(0,o[1].length),n=o[0]+","+o[1]),t!==n&&(i.$setViewValue(n),i.$render()),n}),t.bind("keypress",function(e){32===e.keyCode&&e.preventDefault()}),t.bind("blur",function(){function e(e){var t=e.length%3;return(e.substr(0,t)+e.substr(t).replace(/(\d{3})/g," $1")).trim()}var n,i,a=t.val();0===a.indexOf(",")?(n=a.split(",")[0],i=a.split(",")[1],n=e(n),i=e(i),t.val(n+","+i)):t.val(e(a))}))}}}}()},{}],140:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",transclude:!0,templateUrl:"views/directives/groupTable/bind-report-row-view.html",link:function(e,t,n){}}}}()},{}],141:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{items:"=",columns:"="},link:function(e,t,i){n.component("groupClipboardHandlerComponent","initialized");var a=function(t){if(t){var n=[];if(e.items.forEach(function(e){e.hasOwnProperty("groups")?(e.selectedRow===!0&&n.push({type:"group",data:e.groups}),e.items.forEach(function(e){e.selectedRow===!0&&n.push(e)})):e.selectedRow===!0&&n.push(e)}),n.length){var i="<table>";n.forEach(function(t){var n="<tr>";t.hasOwnProperty("type")?n=n+"<td>"+t.data.map(function(e){return e.value}).join(" ")+"</td>":e.columns.forEach(function(e){n=e.hasOwnProperty("key")?n+"<td>"+t[e.key]+"</td>":n+"<td>"+t[e.name]+"</td>"}),n+="</tr>",i+=n}),i+="</table",console.log("result",i),t.clipboardData&&t.clipboardData.setData("text/html",i),console.log("e",t),t.preventDefault()}}};document.addEventListener("copy",a),$(document).bind("copy",a),e.$on("destroy",function(){n.component("groupClipboardHandlerComponent","destroyed"),$(document).unbind("copy"),document.removeEventListener("copy")})}}}}()},{"../../../../../core/services/logService":2}],142:[function(e,t,n){!function(){"use strict";var n=e("../../services/metaService");t.exports=function(){return{restrict:"A",scope:{columns:"="},link:function(e,t,i){var a=n.columnsWidthGroups(),o=function(){if(a.newColumnAdded){var n,i=t.find(".g-column"),o=i.length-1,r=i[o];switch(e.columns[o].value_type){case 10:n=a.groupThree;break;case 20:case 40:n=a.groupFive;break;case 30:n=a.groupOne}$(r).width(n)}};e.$watchCollection("columns",function(){o()})}}}}()},{"../../services/metaService":326}],143:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{items:"=",options:"="},link:function(e,t,i){function a(e,t){t<=c&&!e.hasClass("small-width")?e.addClass("small-width"):t>c&&e.hasClass("small-width")&&e.removeClass("small-width")}function o(){if(!l){var n=t.find(".g-column"),i=e.columnsWidth;if(n.length>0&&n.length===i.length){for(var a=0;a<n.length;a+=1)i[a]&&!isNaN(i[a])&&($(n[a]).width(i[a]),i[a]<=c&&$(n[a]).addClass("small-width"));l=!0}}}function r(){var e,n,i=0,a=16,o=400;for(e=t.find(".g-column"),n=0;n<e.length;n+=1)i=i+$(e[n]).width()+a;var r=$(t).find(".g-columns-component.g-thead").width()-$(t).find(".g-cell-select.all").width();r<i+o&&($(t).find(".g-scrollable-area").width(i+o),$(t).width(i+o+24))}function s(){function e(){var e,i,a=$(t).find(".g-thead"),o=a.find(".g-cell"),r=$(t).find(".g-row");for(e=0;e<r.length;e+=1)for(n=$(r[e]).find(".g-cell-wrap"),i=0;i<o.length;i+=1)!function(e){$(n[e]).css({width:$(o[e]).width()+"px"})}(i)}var n,i=$(t).find(".g-thead"),o=i.find(".g-cell"),s=($(t).find(".g-row"),o.find(".resize-slider")),c=function(){var e;for(e=0;e<o.length;e+=1)$(o[e]).attr("min-width")||$(o[e]).attr("min-width","20")};c(),$(s).bind("mousedown",function(t){t.preventDefault(),t.stopPropagation();var n,i=$(this).parents("md-card.g-cell.g-column"),o=i.width(),s=i.attr("min-width"),c=t.clientX;$(window).bind("mousemove",function(t){n=t.clientX-c,r(),e(),i.width(o+n),n+o>s&&i.width(o+n),a(i,i.width())}),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})}),setTimeout(function(){e()},100)}e.columnsWidth=e.options.columnsWidth,n.component("groupColumnResizer","initialized");var c=65,l=!1;setTimeout(function(){var e=t.parents(".g-workarea-wrap");e.width($(t).parents(".entity-viewer-holder").width()-$(t).parents(".g-wrapper").find(".g-filter-sidebar.main-sidebar").width());var n=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();n<$(t).parents(".g-table-section").width()&&(n=$(t).parents(".g-table-section").width(),$(t).width(n)),$(t).find(".g-scroll-wrapper").width(n),$(t).find(".g-scrollable-area").width(n)},0);var d=function(){var e=t.parents(".g-workarea-wrap");e.width($(t).parents(".entity-viewer-holder").width()-$(t).parents(".g-wrapper").find(".g-filter-sidebar.main-sidebar").width());var n=$(t).find(".g-columns-component.g-thead").width()-$(t).find(".g-cell-select.all").width();$(t).find(".g-scroll-wrapper").width(n),$(t).find(".g-scrollable-area").width(n),r(),s()};e.$parent.triggerResize=s,$(window).on("resize",function(){d()}),$(".filter-area-size-btn").click(function(){var e=$(t).parents(".g-wrapper").find(".g-filter-sidebar.main-sidebar");e.hasClass("min-filter")?(e.attr({"min-width":"20px",width:"20px"}),d(),e.addClass("min-filter")):(e.attr({"min-width":"239px",width:"235px"}),d(),e.removeClass("min-filter"))}),e.$watch("options.lastUpdate",function(){r(),s(),o()}),s()}}}}()},{"../../../../../core/services/logService":2}],144:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/metaService");t.exports=function(){return{restrict:"AE",scope:{items:"=",options:"="},templateUrl:"views/directives/groupTable/columns-view.html",link:function(e,t,a){e.grouping=e.options.grouping,e.filters=e.options.filters,e.sorting=e.options.sorting,e.columns=e.options.columns,e.entityType=e.options.entityType,e.externalCallback=e.options.externalCallback,e.isReport=e.options.isReport,n.component("groupColumnResizer","initialized");var o=[],r=[];i.getEntitiesWithoutBaseAttrsList().indexOf(e.entityType)===-1&&(o=i.getBaseAttrs()),r=i.getEntityAttrs(e.entityType),e.isAllSelected=!1,e.selectAllRows=function(){e.isAllSelected=!e.isAllSelected,e.items.forEach(function(t){t.hasOwnProperty("groups")?(t.selectedRow=e.isAllSelected,t.items.forEach(function(t){t.selectedRow=e.isAllSelected})):t.selectedRow=e.isAllSelected})},e.isColumnFloat=function(e){return"float"==e.value_type||20==e.value_type},e.sortHandler=function(t,n){var i;for(i=0;i<e.columns.length;i+=1)e.columns[i].options||(e.columns[i].options={}),e.columns[i].options.sort=null;t.options.sort=n,t.hasOwnProperty("id")?(e.sorting.column.id=t.id,e.sorting.column.key=null,e.sorting.column.sort=n):(e.sorting.column.id=null,e.sorting.column.key=t.key,e.sorting.column.sort=n),e.externalCallback({silent:!0,options:{columns:e.columns}})},e.selectSubtotalType=function(t,n){t.hasOwnProperty("report_settings")||(t.report_settings={}),t.report_settings.subtotal_formula_id==n?t.report_settings.subtotal_formula_id=null:t.report_settings.subtotal_formula_id=n,e.externalCallback({silent:!0,options:{columns:e.columns}})},e.checkSubtotalFormula=function(e,t){return!(!e.hasOwnProperty("report_settings")||!e.report_settings||e.report_settings.subtotal_formula_id!=t)},e.isSortable=function(e){var t,n;if(o&&o.length)for(t=0;t<o.length;t+=1)if(o[t].key===e.key&&"notes"!==o[t].key)return!0;if(r&&r.length)for(n=0;n<r.length;n+=1)if(r[n].key===e.key)return!0;return!1},e.removeColumn=function(t){t.id&&(e.columns=e.columns.map(function(e){return e.id!==t.id&&e.key!==t.key||(e=void 0),e}).filter(function(e){return!!e})),t.key&&(e.columns=e.columns.map(function(e){if(e.key!==t.key)return e}).filter(function(e){return!!e})),e.externalCallback({silent:!0,options:{columns:e.columns}})},e.reportHideSubtotal=function(e){e.hasOwnProperty("report_settings")||(e.report_settings={}),e.report_settings.hide_subtotal=!e.report_settings.hide_subtotal}}}}}()},{"../../../../../core/services/logService":2,"../../services/metaService":326}],145:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",link:function(e,t,i){function a(e){l=document.all?window.event.clientX:e.pageX,c=document.all?window.event.clientY:e.pageY,r[0].style.left=l+d-m+"px",r[0].style.top=c+u-p+"px"}n.component("gDialogDraggable","initialized");var o=$(t).find(".md-toolbar-tools"),r=$(t).parent(),s=$(t).parent(".md-dialog-container");s.addClass("viewConstructorDialog");var c=0,l=0,d=0,u=0,m=0,p=0;$(r).width(400),$(r).height($(t).height()),$(r).css({left:"65%"}),o.bind("mousedown",function(e){return e.preventDefault(),e.stopPropagation(),m=e.clientX,p=e.clientY,d=r[0].offsetLeft,u=r[0].offsetTop,$(window).bind("mousemove",a),$(window).bind("mouseup",function(e){$(window).unbind("mousemove")}),!1})}}}}()},{"../../../../../core/services/logService":2}],146:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(e){return{restrict:"AE",scope:{options:"="},templateUrl:"views/directives/groupTable/grouping-view.html",link:function(t,i,a){t.grouping=t.options.grouping,t.filters=t.options.filters,t.columns=t.options.columns,t.sorting=t.options.sorting,t.folding=t.options.folding,t.entityType=t.options.entityType,t.externalCallback=t.options.externalCallback,t.isReport=t.options.isReport,n.component("groupGrouping","initialized"),t.sortHandler=function(e,n){var i;for(i=0;i<t.grouping.length;i+=1)t.grouping[i].options||(t.grouping[i].options={}),t.grouping[i].options.sort=null;e.options.sort=n,e.hasOwnProperty("id")?(t.sorting.group={},t.sorting.group.id=e.id,t.sorting.group.key=null,t.sorting.group.sort=n):(t.sorting.group={},t.sorting.group.id=null,t.sorting.group.key=e.key,t.sorting.group.sort=n),t.externalCallback({silent:!0,options:{grouping:t.grouping}})},t.openGroupSettings=function(e,t){e(t)},t.$watchCollection("grouping",function(){1==t.isReport&&t.grouping.forEach(function(e){e.hasOwnProperty("report_settings")||e.report_settings?void 0==e.report_settings.subtotal_type&&(e.report_settings.subtotal_type="area"):e.report_settings={subtotal_type:"area"}}),setTimeout(function(){t.externalCallback({silent:!0,options:{grouping:t.grouping}}),t.$apply()},0)}),t.toggleGroupFold=function(){t.folding=!t.folding,setTimeout(function(){t.externalCallback({silent:!0,options:{grouping:t.grouping}}),t.$apply()},0)},t.removeGroup=function(e){e.id&&(t.grouping=t.grouping.map(function(t){return t.id===e.id&&(t=void 0),t}).filter(function(e){return!!e})),e.name&&(t.grouping=t.grouping.map(function(t){return t.name===e.name&&(t=void 0),t}).filter(function(e){return!!e})),setTimeout(function(){t.externalCallback({silent:!0,options:{grouping:t.grouping}})},0)},t.reportSetSubtotalType=function(e,n,i){
e.hasOwnProperty("report_settings")&&void 0!=e.report_settings||(e.report_settings={}),"area"==n&&t.grouping.forEach(function(e,t){t>i?(e.disableLineSubtotal=!0,e.hasOwnProperty("report_settings")&&"line"==e.report_settings.subtotal_type&&(e.report_settings.subtotal_type=!1)):t<i&&(e.disableLineSubtotal=!1)}),"line"==n&&t.grouping.forEach(function(e,t){t>i&&(e.disableLineSubtotal=!1)}),e.report_settings.subtotal_type==n?e.report_settings.subtotal_type=!1:e.report_settings.subtotal_type=n,t.externalCallback({silent:!0,options:{grouping:t.grouping}})},t.isReportGroupHaveExtSettings=function(e,n,i){var a=!1,o=0,r=0;return t.grouping.forEach(function(e,n){t.columns.length>n&&(e.hasOwnProperty("id")?e.id==t.columns[n-o].id?r=o:o+=1:e.hasOwnProperty("key")&&t.columns[n]&&t.columns[n].hasOwnProperty("key")&&e.key==t.columns[n-o].key?r=o:o+=1)}),t.columns.length>n&&(e.hasOwnProperty("id")&&t.columns[n-r]&&t.columns[n-r].hasOwnProperty("id")?e.id==t.columns[n-r].id&&(a=!0):e.hasOwnProperty("key")&&t.columns[n-r]&&t.columns[n-r].hasOwnProperty("key")&&e.key==t.columns[n-r].key&&(a=!0)),e.hasOwnProperty("disableLineSubtotal")&&1==e.disableLineSubtotal&&"line"==i&&(a=!1),a},t.openModalSettings=function(n){t.isReport?"balance-report"==t.options.entityType||"pnl-report"==t.options.entityType?e.show({controller:"gModalReportController as vm",templateUrl:"views/directives/groupTable/modal-report-view.html",parent:angular.element(document.body),targetEvent:n,locals:{callback:t.externalCallback,parentScope:t}}):e.show({controller:"gModalReportTransactionController as vm",templateUrl:"views/directives/groupTable/modal-report-transaction-view.html",parent:angular.element(document.body),targetEvent:n,locals:{callback:t.externalCallback,parentScope:t}}):e.show({controller:"gModalController as vm",templateUrl:"views/directives/groupTable/modal-view.html",parent:angular.element(document.body),targetEvent:n,locals:{callback:t.externalCallback,parentScope:t}})}}}}}()},{"../../../../../core/services/logService":2}],147:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{options:"="},link:function(e,t,i){function a(){var e=$(t).find(".g-filter-sidebar").first(),n=$(t).find(".g-wrapper .g-table-section").first(),i=$(t).find("group-table-body").first(),a=$(t).find(".g-wrapper .g-grouping-section").first();c=$(t).parents(".entity-viewer-holder").height(),l=c-a.height(),e.height(c),n.height(l),i.css("height","auto")}function o(){$(".g-height-slider").bind("mousedown",function(e){var n,i,a=$(".header").height(),o=$(".g-workarea.main-area .g-table-section").first(),r=$(".g-filter-sidebar.main-sidebar").first(),c=$(".g-wrapper .g-grouping-section").height(),l=$(".g-additions"),d=$(".g-additions-workarea .g-table-section").last(),u=$(".g-additions-workarea .g-filter-sidebar").last(),m=function(e){s=e,i=$(window).height()-a,n=e.clientY,$(t).find(".mCSB_scrollTools_vertical").css({position:"absolute",top:0,left:"auto"}),l.height(i-n+88-15),d.height(i-n+88),u.height(i-n+88),$(".g-workarea.main-area .group-table-body").first().height(n-$(".header").height()-$(".g-columns-component.g-thead").height()-88),$(".g-additions-workarea .group-table-body").last().height($(window).height()-n-$(".g-additions-workarea .g-columns-component.g-thead").height()),o.height(n-a-88),c<n+c-a-88&&r.height(n+c-a-88)};$(window).bind("mousemove",function(e){m(e),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})})});var e=$(t).find(".g-wrapper .g-grouping-section").first(),n=$(t).find(".g-filter-sidebar").first(),i=$(t).find(".g-wrapper .g-table-section").first(),a=$(t).find(".g-additions").first(),o=$(t).find(".g-additions-workarea .g-table-section").last(),r=$(t).find(".g-additions-workarea .g-table-section").last();c=Math.floor($(t).parents(".entity-viewer-holder").height()/2),l=Math.floor(c-e.height()),n.height(c),i.height(l),a.height(c),o.height(c),r.height(c)}function r(){e.additionsStatus.reportWizard||e.additionsStatus.editor||e.additionsStatus.permissionEditor?setTimeout(function(){o()},100):e.additionsStatus.reportWizard||e.additionsStatus.editor||e.additionsStatus.permissionEditor||a()}var s=null;if(1==e.options.isRootEntityViewer){e.additionsStatus=e.options.additionsStatus,n.component("groupHeightAligner","initialized");var c,l;e.$watchCollection("additionsStatus",function(){r()}),setInterval(function(){var e,n,i=$(".header").height(),a=$(".g-workarea.main-area .g-table-section").first(),o=$(".g-filter-sidebar.main-sidebar").first(),r=$(".g-wrapper .g-grouping-section").height(),c=$(".g-additions"),l=$(".g-additions-workarea .g-table-section").last(),d=($(".g-additions-workarea .g-filter-sidebar").last(),function(s){n=$(window).height()-i,e=s.clientY,$(t).find(".mCSB_scrollTools_vertical").css({position:"absolute",top:0,left:"auto"}),c.height(n-e+88-15),l.height(n-e+88),$(".g-additions-workarea .g-filter-sidebar").last().height(n-e+88),$(".g-workarea.main-area .group-table-body").first().height(e-$(".header").height()-$(".g-columns-component.g-thead").height()-88),$(".g-additions-workarea .group-table-body").last().height($(window).height()-e-$(".g-additions-workarea .g-columns-component.g-thead").height()),a.height(e-i-88),r<e+r-i-88&&o.height(e+r-i-88)});null==s&&(s=new Event("mousemove"),s._is_default_event=!0),s.hasOwnProperty("_is_default_event")&&$(".g-additions-workarea .g-filter-sidebar").length&&(s.clientY=Math.floor(($(window).height()-$(".header").height())/2)),d(s)},100),$(window).on("resize",function(){r()})}}}}}()},{"../../../../../core/services/logService":2}],148:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{},link:function(e,t,i){n.component("groupHorizontalScroll","initialized")}}}}()},{"../../../../../core/services/logService":2}],149:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/uiService"),e("../../services/metaService")),a=e("../../services/attributeTypeService"),o=e("../../services/reports/balanceReportCustomAttrService"),r=e("../../services/groupTable/dynamicAttributesForReportsService");t.exports=function(e,t,s,c){function l(){function e(){var e,t;for(e=0;e<m.tabs.length;e+=1)if(!m.tabs[e].attrs)for(m.tabs[e].attrs=[],t=0;t<m.tabs[e].layout.fields.length;t+=1)"field"===m.tabs[e].layout.fields[t].type&&(m.tabs[e].layout.fields[t].hasOwnProperty("id")?m.tabs[e].attrs.push({id:m.tabs[e].layout.fields[t].id}):"field"===m.tabs[e].layout.fields[t].type&&"Labeled Line"!=m.tabs[e].layout.fields[t].name&&"Line"!=m.tabs[e].layout.fields[t].name&&m.tabs[e].attrs.push({name:m.tabs[e].layout.fields[t].name}))}function t(){var e,t,n,i,a,o,r,s,c,l,d;for(t=0;t<m.tabs.length;t+=1)for(o=m.tabs[t],n=0;n<o.attrs.length;n+=1)if(r=o.attrs[n],l=!1,r.hasOwnProperty("id")){for(e=0;e<m.attrs.length;e+=1)s=m.attrs[e],r.id===s.id&&(m.tabs[t].attrs[n]=s,l=!0);l||(m.tabs[t].attrs.splice(n,1),n-=1)}else{for(i=0;i<m.baseAttrs.length;i+=1)c=m.baseAttrs[i],r.name===c.name&&(m.tabs[t].attrs[n]=c,l=!0);for(a=0;a<m.entityAttrs.length;a+=1)d=m.entityAttrs[a],r.name===d.name&&(m.tabs[t].attrs[n]=d,l=!0);l||(m.tabs[t].attrs.splice(n,1),n-=1)}}e(),t(),m.tabAttrsReady=!0}function d(e){var t;for(t=0;t<e.length;t+=1)e[t].columns=!1,e[t].filters=!1,e[t].groups=!1,p.map(function(n){return e[t].name===n.name&&(e[t].columns=!0),n}),y.map(function(n){return e[t].name===n.name&&(e[t].filters=!0),n}),v.map(function(n){return n.hasOwnProperty("key")?e[t].key===n.key&&(e[t].groups=!0):e[t].name===n.name&&(e[t].groups=!0),n})}function u(e){var t,n,i,a,o,r,s;for(t=0;t<e.length;t+=1){for(o=!1,r=!1,s=!1,n=0;n<p.length;n+=1)e[t].hasOwnProperty("key")?e[t].key===p[n].key&&(o=!0,e[t].columns===!1&&(p.splice(n,1),n-=1)):e[t].name===p[n].name&&(o=!0,e[t].columns===!1&&(p.splice(n,1),n-=1));for(o||e[t].columns===!0&&p.push(e[t]),i=0;i<v.length;i+=1)e[t].hasOwnProperty("key")?e[t].key===v[i].key&&(r=!0,e[t].groups===!1&&(v.splice(i,1),i-=1)):e[t].id===v[i].id&&(r=!0,e[t].groups===!1&&(v.splice(i,1),i-=1));for(r||e[t].groups===!0&&v.push(e[t]),a=0;a<y.length;a+=1)e[t].hasOwnProperty("key")?e[t].key===y[a].key&&(s=!0,e[t].filters===!1&&(y.splice(a,1),a-=1)):e[t].name===y[a].name&&(s=!0,e[t].filters===!1&&(y.splice(a,1),a-=1));s||e[t].filters===!0&&y.push(e[t])}}n.controller("gModalController","initialized");var m=this;m.readyStatus={content:!1},m.tabs=[],m.entityType=s.entityType,console.log("parentScope",s),console.log("vm",m),n.property("vm.entityType",m.entityType),m.general=[],m.attrs=[],m.baseAttrs=[],m.entityAttrs=[],m.custom=[],m.isReport=s.isReport,m.tabAttrsReady=!1;var p=s.columns,g=s.columns.length,y=s.filters,v=s.grouping,f=[];$("body").addClass("drag-dialog"),m.getAttributes=function(){return i.getEntitiesWithoutBaseAttrsList().indexOf(m.entityType)===-1&&(m.baseAttrs=i.getBaseAttrs()),m.entityAttrs=i.getEntityAttrs(m.entityType),o.getList().then(function(t){m.custom=t.results,m.custom.forEach(function(e){e.columnType="custom-field"}),l(),h(),e.$apply()}),1!=s.isReport?a.getList(m.entityType).then(function(t){m.attrs=t.results,f=m.attrs.concat(m.baseAttrs),f=f.concat(m.entityAttrs),l(),h(),m.readyStatus.content=!0,e.$apply()}):(m.attrs=[],void r.getDynamicAttributes().then(function(t){m.attrs=t,f=m.attrs.concat(m.baseAttrs),f=f.concat(m.entityAttrs),l(),h(),console.log("report balance new custom attr is",m.attrs),m.readyStatus.content=!0,e.$apply()}))},m.getAttributes(),m.checkAreaAccessibility=function(e,t){return"group"===t?["notes","accounts","responsibles","counterparties","transaction_types","portfolios","tags","content_types"].indexOf(e.key)!==-1:["notes"].indexOf(e.key)!==-1},s.$watch("options.columns",function(){m.tabAttrsReady&&(p=s.options.columns,h(),c({silent:!0}))}),s.$watch("options.filters",function(){m.tabAttrsReady&&(y=s.options.filters,h(),c({silent:!0}))}),s.$watch("options.grouping",function(){m.tabAttrsReady&&(v=s.options.grouping,h(),c({silent:!0}))});var h=function(){d(m.baseAttrs),d(m.entityAttrs),d(m.attrs),d(m.custom)},b=function(){console.log("gModalComponents columns ",p),u(m.baseAttrs),u(m.entityAttrs),u(m.attrs),u(m.custom),w()};m.updateAttrs=function(){b(),c({silent:!0})},m.cancel=function(){$("body").removeClass("drag-dialog"),t.cancel()};var _={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var t=!1;this.dragula.on("over",function(e,t,n){$(t).addClass("active"),$(t).on("mouseleave",function(){$(this).removeClass("active")})}),this.dragula.on("drop",function(n,i){$(i).removeClass("active");var a,o=$(n).html();if(t=!1,i===document.querySelector("#columnsbag"))for(a=0;a<p.length;a+=1)p[a].name===o&&(t=!0);if(i===document.querySelector("#groupsbag"))for(a=0;a<v.length;a+=1)v[a].name===o&&(t=!0);if(i===document.querySelector("#filtersbag .drop-new-filter"))for(a=0;a<y.length;a+=1)y[a].name===o&&(t=!0);if(!t){var r;if(i===document.querySelector("#columnsbag")){for(r=0;r<f.length;r+=1)f[r].name===o&&p.push(f[r]);h(),c({silent:!0})}if(i===document.querySelector("#groupsbag")){for(r=0;r<f.length;r+=1)f[r].name===o&&v.push(f[r]);h(),c({silent:!0})}if(i===document.querySelector("#filtersbag .drop-new-filter")){for(r=0;r<f.length;r+=1)f[r].name===o&&y.push(f[r]);h(),c({silent:!0})}e.$apply()}e.$apply()}),this.dragula.on("dragend",function(t){e.$apply(),$(t).remove()})},dragula:function(){var e,t=[document.querySelector("#columnsbag"),document.querySelector("#groupsbag"),document.querySelector("#filtersbag .drop-new-filter")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(e=0;e<n.length;e+=1)t.push(n[e]);this.dragula=dragula(t,{copy:!0})}},w=function(){g<p.length?i.columnsWidthGroups(!0):i.columnsWidthGroups(!1)};setTimeout(function(){_.init()},500),m.MABtnVisibility=function(e){return i.checkRestrictedEntityTypesForAM(e)}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/groupTable/dynamicAttributesForReportsService":276,"../../services/metaService":326,"../../services/reports/balanceReportCustomAttrService":333,"../../services/uiService":347}],150:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/uiService"),e("../../services/metaService")),a=(e("../../services/attributeTypeService"),e("../../services/reports/balanceReportCustomAttrService")),o=e("../../services/groupTable/dynamicAttributesForReportsService");t.exports=function(e,t,r,s){function c(){function e(){var e,t;for(e=0;e<u.tabs.length;e+=1)if(!u.tabs[e].attrs)for(u.tabs[e].attrs=[],t=0;t<u.tabs[e].layout.fields.length;t+=1)"field"===u.tabs[e].layout.fields[t].type&&(u.tabs[e].layout.fields[t].hasOwnProperty("id")?u.tabs[e].attrs.push({id:u.tabs[e].layout.fields[t].id}):"field"===u.tabs[e].layout.fields[t].type&&"Labeled Line"!=u.tabs[e].layout.fields[t].name&&"Line"!=u.tabs[e].layout.fields[t].name&&u.tabs[e].attrs.push({name:u.tabs[e].layout.fields[t].name}))}function t(){var e,t,n,i,a,o,r,s,c,l,d;for(t=0;t<u.tabs.length;t+=1)for(o=u.tabs[t],n=0;n<o.attrs.length;n+=1)if(r=o.attrs[n],l=!1,r.hasOwnProperty("id")){for(e=0;e<u.attrs.length;e+=1)s=u.attrs[e],r.id===s.id&&(u.tabs[t].attrs[n]=s,l=!0);l||(u.tabs[t].attrs.splice(n,1),n-=1)}else{for(i=0;i<u.baseAttrs.length;i+=1)c=u.baseAttrs[i],r.name===c.name&&(u.tabs[t].attrs[n]=c,l=!0);for(a=0;a<u.entityAttrs.length;a+=1)d=u.entityAttrs[a],r.name===d.name&&(u.tabs[t].attrs[n]=d,l=!0);l||(u.tabs[t].attrs.splice(n,1),n-=1)}}e(),t(),u.tabAttrsReady=!0}function l(e){var t;for(t=0;t<e.length;t+=1)e[t].columns=!1,e[t].filters=!1,e[t].groups=!1,m.map(function(n){return e[t].name===n.name&&(e[t].columns=!0),n}),p.map(function(n){return e[t].name===n.name&&(e[t].filters=!0),n}),g.map(function(n){return n.hasOwnProperty("key")?e[t].key===n.key&&(e[t].groups=!0):e[t].name===n.name&&(e[t].groups=!0),n})}function d(e){var t,n,i,a,o,r,s;for(t=0;t<e.length;t+=1){for(o=!1,r=!1,s=!1,n=0;n<m.length;n+=1)e[t].hasOwnProperty("key")?e[t].key===m[n].key&&(o=!0,e[t].columns===!1&&(m.splice(n,1),n-=1)):e[t].name===m[n].name&&(o=!0,e[t].columns===!1&&(m.splice(n,1),n-=1));for(o||e[t].columns===!0&&m.push(e[t]),i=0;i<g.length;i+=1)e[t].hasOwnProperty("key")?e[t].key===g[i].key&&(r=!0,e[t].groups===!1&&(g.splice(i,1),i-=1)):e[t].id===g[i].id&&(r=!0,e[t].groups===!1&&(g.splice(i,1),i-=1));for(r||e[t].groups===!0&&g.push(e[t]),a=0;a<p.length;a+=1)e[t].hasOwnProperty("key")?e[t].key===p[a].key&&(s=!0,e[t].filters===!1&&(p.splice(a,1),a-=1)):e[t].name===p[a].name&&(s=!0,e[t].filters===!1&&(p.splice(a,1),a-=1));s||e[t].filters===!0&&p.push(e[t])}}n.controller("gModalController","initialized");var u=this;u.readyStatus={content:!1},u.tabs=[],u.entityType=r.entityType,n.property("vm.entityType",u.entityType),u.general=[],u.attrs=[],u.baseAttrs=[],u.entityAttrs=[],u.custom=[],u.instrumentDynamicAttrs=[],u.accountDynamicAttrs=[],u.portfolioDynamicAttrs=[],u.isReport=r.isReport,u.tabAttrsReady=!1;var m=r.options.columns,p=(r.columns.length,r.options.filters),g=r.options.grouping,y=[];$("body").addClass("drag-dialog"),u.getAttributes=function(){i.getEntitiesWithoutBaseAttrsList().indexOf(u.entityType)===-1&&(u.baseAttrs=i.getBaseAttrs()),u.balanceAttrs=i.getEntityAttrs("balance-report").map(function(e){return e.name="Balance."+e.name,e}),u.balancePerformanceAttrs=i.getEntityAttrs("report-addon-performance").map(function(e){return e.name="Balance."+e.name,e}),u.instrumentAttrs=i.getEntityAttrs("instrument").map(function(e){return e.name="Instrument."+e.name,e.attribute_entity="instrument",e.key="instrument_object_"+e.key,e}),u.instrumentTypeAttrs=i.getEntityAttrs("instrument-type").map(function(e){return e.name="Instrument.Instrument Type."+e.name,e.key="instrument_type_object_"+e.key,e}),u.accountAttrs=i.getEntityAttrs("account").map(function(e){return e.name="Account."+e.name,e.attribute_entity="account",e.key="account_object_"+e.key,e}),u.accountTypeAttrs=i.getEntityAttrs("account-type").map(function(e){return e.name="Account.Account Type."+e.name,e.key="account_type_object_"+e.key,e}),u.portfolioAttrs=i.getEntityAttrs("portfolio").map(function(e){return e.name="Portfolio."+e.name,e.attribute_entity="portfolio",e.key="portfolio_object_"+e.key,e}),u.strategy1attrs=i.getEntityAttrs("strategy-1").map(function(e){return e.name="Strategy1."+e.name,e.key="strategy1_object_"+e.key,e}),u.strategy1subgroupAttrs=i.getEntityAttrs("strategy-1-subgroup").map(function(e){return e.name="Strategy1.Subgroup."+e.name,e.key="strategy1_subgroup_object"+e.key,e}),u.strategy1groupAttrs=i.getEntityAttrs("strategy-1-group").map(function(e){return e.name="Strategy1.Subgroup.Group."+e.name,e.key="strategy1_group_object"+e.key,e}),u.strategy2attrs=i.getEntityAttrs("strategy-2").map(function(e){return e.name="Strategy2."+e.name,e.key="strategy2_object"+e.key,e}),u.strategy2subgroupAttrs=i.getEntityAttrs("strategy-2-subgroup").map(function(e){return e.name="Strategy2.Subgroup."+e.name,e.key="strategy2_subgroup_object"+e.key,e}),u.strategy2groupAttrs=i.getEntityAttrs("strategy-2-group").map(function(e){return e.name="Strategy2.Subgroup.Group."+e.name,e.key="strategy2_group_object"+e.key,e}),u.strategy3attrs=i.getEntityAttrs("strategy-3").map(function(e){return e.name="Strategy3."+e.name,e.key="strategy3_object"+e.key,e}),u.strategy3subgroupAttrs=i.getEntityAttrs("strategy-3-subgroup").map(function(e){return e.name="Strategy3.Subgroup."+e.name,e.key="strategy3_subgroup_object"+e.key,e}),u.strategy3groupAttrs=i.getEntityAttrs("strategy-3-group").map(function(e){return e.name="Strategy3.Subgroup.Group."+e.name,e.key="strategy3_group_object"+e.key,e}),a.getList().then(function(t){u.custom=t.results,u.custom.forEach(function(e){e.columnType="custom-field"}),o.getDynamicAttributes().then(function(t){u.portfolioDynamicAttrs=t.portfolio,u.accountDynamicAttrs=t.account,u.instrumentDynamicAttrs=t.instrument,y=u.attrs.concat(u.baseAttrs),y=y.concat(u.entityAttrs),c(),v(),u.readyStatus.content=!0,e.$apply()})})},u.getAttributes(),u.checkAreaAccessibility=function(e,t){return"group"===t?["notes","accounts","responsibles","counterparties","transaction_types","portfolios","tags","content_types"].indexOf(e.key)!==-1:["notes"].indexOf(e.key)!==-1},r.$watch("options.columns",function(){u.tabAttrsReady&&(m=r.options.columns,v(),s({silent:!0}))}),r.$watch("options.filters",function(){u.tabAttrsReady&&(p=r.options.filters,v(),s({silent:!0}))}),r.$watch("options.grouping",function(){u.tabAttrsReady&&(g=r.options.grouping,v(),s({silent:!0}))}),u.bindReportItemName=function(e){if(e.name.toLocaleLowerCase().indexOf("strategy")==-1){var t=e.name.split(".");return t[t.length-1]}return e.name};var v=function(){l(u.balanceAttrs),l(u.balancePerformanceAttrs),l(u.custom),l(u.instrumentAttrs),l(u.instrumentTypeAttrs),l(u.instrumentDynamicAttrs),l(u.accountAttrs),l(u.accountTypeAttrs),l(u.accountDynamicAttrs),l(u.portfolioAttrs),l(u.portfolioDynamicAttrs),l(u.strategy1attrs),l(u.strategy1subgroupAttrs),l(u.strategy1groupAttrs),l(u.strategy2attrs),l(u.strategy2subgroupAttrs),l(u.strategy2groupAttrs),l(u.strategy3attrs),l(u.strategy3subgroupAttrs),l(u.strategy3groupAttrs)};u.updateAttrs=function(){d(u.balanceAttrs),d(u.balancePerformanceAttrs),d(u.custom),d(u.instrumentAttrs),d(u.instrumentTypeAttrs),d(u.instrumentDynamicAttrs),d(u.accountAttrs),d(u.accountTypeAttrs),d(u.accountDynamicAttrs),d(u.portfolioAttrs),d(u.portfolioDynamicAttrs),d(u.strategy1attrs),d(u.strategy1subgroupAttrs),d(u.strategy1groupAttrs),d(u.strategy2attrs),d(u.strategy2subgroupAttrs),d(u.strategy2groupAttrs),d(u.strategy3attrs),d(u.strategy3subgroupAttrs),d(u.strategy3groupAttrs),h(),s({silent:!0,options:{columns:m,filters:p,grouping:g}})},u.cancel=function(){$("body").removeClass("drag-dialog"),t.cancel()};var f={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var t=!1;this.dragula.on("over",function(e,t,n){$(t).addClass("active"),$(t).on("mouseleave",function(){$(this).removeClass("active")})}),this.dragula.on("drop",function(n,i){$(i).removeClass("active");var a,o=$(n).html();if(t=!1,i===document.querySelector("#columnsbag"))for(a=0;a<m.length;a+=1)m[a].name===o&&(t=!0);if(i===document.querySelector("#groupsbag"))for(a=0;a<g.length;a+=1)g[a].name===o&&(t=!0);if(i===document.querySelector("#filtersbag .drop-new-filter"))for(a=0;a<p.length;a+=1)p[a].name===o&&(t=!0);if(!t){var r;if(i===document.querySelector("#columnsbag")){for(r=0;r<y.length;r+=1)y[r].name===o&&m.push(y[r]);v(),s({silent:!0})}if(i===document.querySelector("#groupsbag")){for(r=0;r<y.length;r+=1)y[r].name===o&&g.push(y[r]);v(),s({silent:!0})}if(i===document.querySelector("#filtersbag .drop-new-filter")){for(r=0;r<y.length;r+=1)y[r].name===o&&p.push(y[r]);v(),s({silent:!0})}e.$apply()}e.$apply()}),this.dragula.on("dragend",function(t){e.$apply(),$(t).remove()})},dragula:function(){var e,t=[document.querySelector("#columnsbag"),document.querySelector("#groupsbag"),document.querySelector("#filtersbag .drop-new-filter")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(e=0;e<n.length;e+=1)t.push(n[e]);this.dragula=dragula(t,{copy:!0})}},h=function(){i.columnsWidthGroups(!0)};setTimeout(function(){f.init()},500),u.MABtnVisibility=function(e){return i.checkRestrictedEntityTypesForAM(e)}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/groupTable/dynamicAttributesForReportsService":276,"../../services/metaService":326,"../../services/reports/balanceReportCustomAttrService":333,"../../services/uiService":347}],151:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=(e("../../services/uiService"),e("../../services/metaService")),a=(e("../../services/attributeTypeService"),e("../../services/reports/balanceReportCustomAttrService"));e("../../services/groupTable/dynamicAttributesForReportsService");t.exports=function(e,t,o,r){function s(e){var t;for(t=0;t<e.length;t+=1)e[t].columns=!1,e[t].filters=!1,e[t].groups=!1,d.map(function(n){return e[t].name===n.name&&(e[t].columns=!0),n}),u.map(function(n){return e[t].name===n.name&&(e[t].filters=!0),n}),m.map(function(n){return n.hasOwnProperty("key")?e[t].key===n.key&&(e[t].groups=!0):e[t].name===n.name&&(e[t].groups=!0),n})}function c(e){var t,n,i,a,o,r,s;for(t=0;t<e.length;t+=1){for(o=!1,r=!1,s=!1,n=0;n<d.length;n+=1)e[t].hasOwnProperty("key")?e[t].key===d[n].key&&(o=!0,e[t].columns===!1&&(d.splice(n,1),n-=1)):e[t].name===d[n].name&&(o=!0,e[t].columns===!1&&(d.splice(n,1),n-=1));for(o||e[t].columns===!0&&d.push(e[t]),i=0;i<m.length;i+=1)e[t].hasOwnProperty("key")?e[t].key===m[i].key&&(r=!0,e[t].groups===!1&&(m.splice(i,1),i-=1)):e[t].id===m[i].id&&(r=!0,e[t].groups===!1&&(m.splice(i,1),i-=1));for(r||e[t].groups===!0&&m.push(e[t]),a=0;a<u.length;a+=1)e[t].hasOwnProperty("key")?e[t].key===u[a].key&&(s=!0,e[t].filters===!1&&(u.splice(a,1),a-=1)):e[t].name===u[a].name&&(s=!0,e[t].filters===!1&&(u.splice(a,1),a-=1));s||e[t].filters===!0&&u.push(e[t])}}n.controller("gModalController","initialized");var l=this;l.readyStatus={content:!1},l.tabs=[],l.entityType=o.entityType,n.property("vm.entityType",l.entityType),l.general=[],l.attrs=[],l.baseAttrs=[],l.entityAttrs=[],l.custom=[],l.instrumentDynamicAttrs=[],l.accountDynamicAttrs=[],l.portfolioDynamicAttrs=[],l.isReport=o.isReport,l.tabAttrsReady=!1;var d=o.options.columns,u=(o.columns.length,o.options.filters),m=o.options.grouping,p=[];$("body").addClass("drag-dialog"),l.getAttributes=function(){i.getEntitiesWithoutBaseAttrsList().indexOf(l.entityType)===-1&&(l.baseAttrs=i.getBaseAttrs()),l.transactionAttrs=i.getEntityAttrs("transaction"),a.getList().then(function(t){l.custom=t.results,l.custom.forEach(function(e){e.columnType="custom-field"}),l.readyStatus.content=!0,e.$apply()})},l.getAttributes(),l.checkAreaAccessibility=function(e,t){return"group"===t?["notes","accounts","responsibles","counterparties","transaction_types","portfolios","tags","content_types"].indexOf(e.key)!==-1:["notes"].indexOf(e.key)!==-1},o.$watch("options.columns",function(){l.tabAttrsReady&&(d=o.options.columns,g(),r({silent:!0}))}),o.$watch("options.filters",function(){l.tabAttrsReady&&(u=o.options.filters,g(),r({silent:!0}))}),o.$watch("options.grouping",function(){l.tabAttrsReady&&(m=o.options.grouping,g(),r({silent:!0}))}),l.bindReportItemName=function(e){if(e.name.toLocaleLowerCase().indexOf("strategy")==-1){var t=e.name.split(".");return t[t.length-1]}return e.name};var g=function(){s(l.transactionAttrs),s(l.custom)};l.updateAttrs=function(){c(l.transactionAttrs),c(l.custom),v(),r({silent:!0,options:{columns:d,filters:u,grouping:m}})},l.cancel=function(){$("body").removeClass("drag-dialog"),t.cancel()};var y={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var t=!1;this.dragula.on("over",function(e,t,n){$(t).addClass("active"),$(t).on("mouseleave",function(){$(this).removeClass("active")})}),this.dragula.on("drop",function(n,i){$(i).removeClass("active");var a,o=$(n).html();if(t=!1,i===document.querySelector("#columnsbag"))for(a=0;a<d.length;a+=1)d[a].name===o&&(t=!0);if(i===document.querySelector("#groupsbag"))for(a=0;a<m.length;a+=1)m[a].name===o&&(t=!0);if(i===document.querySelector("#filtersbag .drop-new-filter"))for(a=0;a<u.length;a+=1)u[a].name===o&&(t=!0);if(!t){var s;if(i===document.querySelector("#columnsbag")){for(s=0;s<p.length;s+=1)p[s].name===o&&d.push(p[s]);g(),r({silent:!0})}if(i===document.querySelector("#groupsbag")){for(s=0;s<p.length;s+=1)p[s].name===o&&m.push(p[s]);g(),r({silent:!0})}if(i===document.querySelector("#filtersbag .drop-new-filter")){for(s=0;s<p.length;s+=1)p[s].name===o&&u.push(p[s]);g(),r({silent:!0})}e.$apply()}e.$apply()}),this.dragula.on("dragend",function(t){e.$apply(),$(t).remove()})},dragula:function(){var e,t=[document.querySelector("#columnsbag"),document.querySelector("#groupsbag"),document.querySelector("#filtersbag .drop-new-filter")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(e=0;e<n.length;e+=1)t.push(n[e]);this.dragula=dragula(t,{copy:!0})}},v=function(){i.columnsWidthGroups(!0)};setTimeout(function(){y.init()},500),l.MABtnVisibility=function(e){return i.checkRestrictedEntityTypesForAM(e)}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":256,"../../services/groupTable/dynamicAttributesForReportsService":276,"../../services/metaService":326,"../../services/reports/balanceReportCustomAttrService":333,"../../services/uiService":347}],152:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/report-settings-view.html",link:function(e,t,n){console.log("Report settings component")}}}}()},{}],153:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{},link:function(e,t,i){n.component("groupVerticalScroll","initialized")}}}}()},{"../../../../../core/services/logService":2}],154:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/fieldResolverService"),a=e("../../services/pricingPolicyService"),o=e("../../services/currencyService");t.exports=function(e){return{restrict:"AE",scope:{options:"=",reportOptions:"="},templateUrl:"views/directives/groupTable/sidebar-filter-view.html",link:function(t,r,s){n.component("groupSidebarFilter","initialized"),console.log("reportOptions",t.reportOptions),t.filters=t.options.filters,t.isReport=t.options.isReport,t.entityType=t.options.entityType,t.externalCallback=t.options.externalCallback,t.fields={},t.filters.forEach(function(e){!e.options}),1==t.isReport&&(a.getList().then(function(e){t.pricingPolicies=e.results,t.$apply()}),o.getList({page_size:200}).then(function(e){t.currencies=e.results,t.$apply()})),t.openReportSettings=function(n){e.show({controller:"GReportSettingsDialogController as vm",templateUrl:"views/dialogs/g-report-settings-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{reportOptions:t.reportOptions}}).then(function(e){"agree"==e.status&&(t.reportOptions=e.data)})},t.calculateReport=function(){t.reportOptions.task_id=void 0,t.externalCallback({silent:!1,options:{filters:t.filters}})},t.resizeFilterSideNav=function(e){"collapse"===e?($("body").addClass("filter-side-nav-collapsed"),t.sideNavCollapsed=!0):($("body").removeClass("filter-side-nav-collapsed"),t.sideNavCollapsed=!1);var n=setInterval(function(){$(window).trigger("resize")},50);setTimeout(function(){clearInterval(n)},300)},t.$watchCollection("filters",function(){var e=[];t.filters.forEach(function(n){t.fields.hasOwnProperty(n.key)||"mc_field"!=n.value_type&&"field"!=n.value_type||("tags"==n.key?e.push(i.getFields(n.key,{entityType:t.entityType})):e.push(i.getFields(n.key)))}),Promise.all(e).then(function(e){e.forEach(function(e){t.fields[e.key]=e.data}),t.$apply(function(){setTimeout(function(){$(r).find(".md-select-search-pattern").on("keydown",function(e){e.stopPropagation()})},100)})})}),t.openFilterSettings=function(e,t){e(t)},t.toggleFilterState=function(){1==t.isReport?t.externalCallback({silent:!0,options:{filters:t.filters}}):t.externalCallback({silent:!1,options:{filters:t.filters}})},t.filterChange=function(e){1==t.isReport?t.externalCallback({silent:!0,options:{filters:t.filters}}):t.externalCallback({silent:!1,options:{filters:t.filters}})},t.selectAll=function(){t.filters.forEach(function(e){e.options.enabled=!0}),1==t.isReport?t.externalCallback({silent:!0,options:{filters:t.filters}}):t.externalCallback({silent:!1,options:{filters:t.filters}})},t.clearAll=function(){t.filters.forEach(function(e){e.options.query=""}),1==t.isReport?t.externalCallback({silent:!0,options:{filters:t.filters}}):t.externalCallback({silent:!1,options:{filters:t.filters}})},t.deselectAll=function(){t.filters.forEach(function(e){e.options.enabled=!1}),1==t.isReport?t.externalCallback({silent:!0,options:{filters:t.filters}}):t.externalCallback({silent:!1,options:{filters:t.filters}})},0==t.options.isRootEntityViewer&&t.$on("rootEditorEntityIdDown",function(e,n){t.filters.forEach(function(e){e.hasOwnProperty("options")&&1==e.options.useFromAbove&&e.key==n.entityType&&(e.options.query=[n.editorEntityId])}),t.externalCallback({silent:!0,options:{filters:t.filters}})}),t.useFromAbove=function(e){e.hasOwnProperty("options")||(e.options={}),e.options.useFromAbove=!e.options.useFromAbove,t.externalCallback({silent:!0,options:{filters:t.filters}})},t.removeFilter=function(e){t.filters=t.filters.map(function(t){return t.name===e.name&&(t=void 0),t}).filter(function(e){return!!e}),t.externalCallback({silent:!0,options:{filters:t.filters}})},t.getFilterType=function(e){switch(e){case"field":case"mc_field":return!0;default:return!1}}}}}}()},{"../../../../../core/services/logService":2,"../../services/currencyService":265,"../../services/fieldResolverService":273,"../../services/pricingPolicyService":330}],155:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService"),i=e("../../services/metaService"),a=e("../../services/attributeTypeService"),o=e("../../services/entityClassifierSingletonService"),r=e("../../services/bindCellService"),s=e("../../services/groupTable/groupTableReportService"),c=e("../../helpers/groupTableBodyHelper");t.exports=function(e){return{restrict:"AE",scope:{options:"=",items:"="},templateUrl:"views/directives/groupTable/table-body-view.html",link:function(t,l,d){function u(e,t){var n=[];return e.cellsCaptions.forEach(function(e,i){i<=t&&n.push(e.comparePattern)}),n.join("_-_")}function m(){return new Promise(function(e,n){var i,a,s=[],c=[],l=(t.items,!1),d=!1;if(t.items)for(i=0;i<t.items.length;i+=1)if(t.items[i].hasOwnProperty("groups"))for(a=0;a<t.items[i].groups.length;a+=1)l=!1,d=!1,"classifier"===t.items[i].groups[a].value_type&&(h.forEach(function(e){
e==t.items[i].groups[a].key+"_"+t.items[i].groups[a].value&&(l=!0)}),l||(h.push(t.items[i].groups[a].key+"_"+t.items[i].groups[a].value),s.push(o.getByKey(t.entityType,t.items[i].groups[a].value)))),"field"===t.items[i].groups[a].value_type&&null!==t.items[i].groups[a].value&&(b.forEach(function(e){e==t.items[i].groups[a].key+"_"+t.items[i].groups[a].value&&(d=!0)}),d||(b.push(t.items[i].groups[a].key+"_"+t.items[i].groups[a].value),c.push(r.getByKey(t.items[i].groups[a].key,t.items[i].groups[a].value,{entityType:t.entityType}))));Promise.all(s).then(function(e){if(e.length){var n;for(n=0;n<e.length;n+=1)void 0===k[e[n].key]&&(k[e[n].key]={}),void 0!==e[n].data&&(k[e[n].key]=e[n].data)}t.readyStatus.classifiersReady=!0}).then(function(){t.$apply()}),Promise.all(c).then(function(n){if(n.length){var i;for(i=0;i<n.length;i+=1)void 0==w[n[i].key]&&(w[n[i].key]=[]),w[n[i].key].push(n[i].data)}t.readyStatus.cellsFirstReady=!0,e({status:"groups ready"})}).then(function(){t.$apply()})})}function p(){var e=[];e.push(S()),e.push(m()),Promise.all(e).then(function(){t.$apply()})}function g(){return new Promise(function(e,n){var i,a,o=[];if(t.items)for(i=0;i<t.items.length;i+=1)if(t.items[i].hasOwnProperty("groups"))for(a=0;a<t.items[i].groups.length;a+=1)if("field"===t.items[i].groups[a].value_type&&null!==t.items[i].groups[a].value){var s=!1;b.forEach(function(e){e==t.items[i].groups[a].key+"_"+t.items[i].groups[a].value&&(s=!0)}),s||(b.push(t.items[i].groups[a].key+"_"+t.items[i].groups[a].value),o.push(r.getByKey(t.items[i].groups[a].key,t.items[i].groups[a].value)))}Promise.all(o).then(function(n){n.forEach(function(e){e.key&&(void 0==w[e.key]&&(w[e.key]=[]),void 0!==e.data&&w[e.key].push(e.data))}),t.readyStatus.cellsSecondReady=!0,e({status:"entity field ready"})}).then(function(){t.$apply()})})}n.component("groupTableBody","initialized",1),t.externalCallback=t.options.externalCallback,t.grouping=t.options.grouping,t.columns=t.options.columns,t.entityType=t.options.entityType,t.reportIsReady=t.options.reportIsReady,t.isReport=t.options.isReport,t.readyStatus={cellsFirstReady:!1,cellsSecondReady:!1,attributeTypesReady:!1,classifiersReady:!1};var y=t.entityType,v=[],f=[],h=[],b=[],_={},w={},k={};v=i.getBaseAttrs(),1==t.isReport?(f=i.getEntityAttrs(y),f=f.concat(i.getEntityAttrs("instrument").map(function(e){return e.key="instrument_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("instrument-type").map(function(e){return e.key="instrument_type_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("account").map(function(e){return e.key="account_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("account-type").map(function(e){return e.key="account_type_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("portfolio").map(function(e){return e.key="portfolio_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-1").map(function(e){return e.key="strategy1_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-1-subgroup").map(function(e){return e.key="strategy1_subgroup_object"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-1-group").map(function(e){return e.key="strategy1_group_object"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-2").map(function(e){return e.key="strategy2_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-2-subgroup").map(function(e){return e.key="strategy2_subgroup_object"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-2-group").map(function(e){return e.key="strategy2_group_object"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-3").map(function(e){return e.key="strategy3_object_"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-3-subgroup").map(function(e){return e.key="strategy3_subgroup_object"+e.key,e})),f=f.concat(i.getEntityAttrs("strategy-3-group").map(function(e){return e.key="strategy3_group_object"+e.key,e})),f=f.concat(i.getEntityAttrs(y))):f=i.getEntityAttrs(y),t.toggleGroupFold=function(e,n){if(t.isReport){e.cellsCaptions[n].isFolded=!e.cellsCaptions[n].isFolded,e.subTotal=e.cellsCaptions[n].subTotal;var i=u(e,n),a=[];t.reportItems.forEach(function(t){var o=u(t,n);i==o&&(t.isFirstOfFolded=!1,t.cellsCaptions[n].isFolded=e.cellsCaptions[n].isFolded,a.push(t))}),a[0].isFirstOfFolded=e.cellsCaptions[n].isFolded,a.forEach(function(e){e.cellsCaptions.forEach(function(e,t){t>n&&(e.isFolded=!1)})})}else e.isFolded=!e.isFolded},t.itemIsFolded=function(e){var t=!0;return e.hasOwnProperty("cellsCaptions")&&1!=e.isFirstOfFolded&&e.cellsCaptions.forEach(function(e){e.hasOwnProperty("isFolded")&&1==e.isFolded&&(t=!1)}),t},t.openEntityMenu=function(e,t){e(t)},t.checkReportColumnCaption=function(e,t,n){return!(n>e.length-1)};var S=function(){return new Promise(function(e,n){var i,o=[];if(1==t.isReport);else for(i=0;i<t.columns.length;i+=1){var s=!1;"field"==t.columns[i].value_type&&o.push(r.findEntities(t.columns[i].key,{entityType:y})),30==t.columns[i].value_type&&(_[y]||(_[y]=[]),_[y].forEach(function(e){e==t.columns[i].id&&(s=!0)}),s||(_[y].push(t.columns[i].id),o.push(a.getByKey(y,t.columns[i].id))))}g(),Promise.all(o).then(function(e){e.forEach(function(e){e.key?w[e.key]=e.data:w["classifier_"+e.id]=e}),t.readyStatus.attributeTypesReady=!0}).then(function(){t.$apply()})})};t.grouping&&t.grouping.length&&p(),t.reportItemsProjection=function(){return t.reportItems},t.isSubtotalHided=function(e){return!e.hasOwnProperty("report_settings")||!e.report_settings||!!e.report_settings.subtotal_formula_id&&1!=e.report_settings.hide_subtotal},t.resolveReportCellItemBackground=function(e,t,n,i){var a="";return t.hasOwnProperty("value_options")&&("area"==t.value_options.type&&(a="cell-area-bg-"+t.value_options.level),"subtotal-line"==e&&"line"==t.value_options.type&&(a="cell-line-bg-"+t.value_options.level)),a},t.resolveReportCellBackground=function(e,t,n,i){var a="";if(t.hasOwnProperty("cellsCaptions")){var o=t.cellsCaptions[i];o&&o.hasOwnProperty("level")&&o.hasOwnProperty("type")&&"empty"!==o.type&&("area"==o.type&&(a="cell-area-bg-"+o.level),"subtotal-line"==e&&"line"==o.type&&(a="cell-line-bg-"+o.level))}return a},t.resolveReportCellBorder=function(e,t,n,i){var a="";return"subtotal"==e&&(i<t.cellsCaptions.length?("Subtotal"==t.cellsCaptions[i]&&(a="r-c-border-left-border-bottom"),"Subtotal"==t.cellsCaptions[i+1]&&(a="r-c-border-left-border-right"),"Subtotal"==t.cellsCaptions[i-1]&&(a="r-c-border-right-border-bottom-border-top"),0==i&&(a="r-c-border-left-border-right")):a="r-c-border-right-border-bottom-border-top"),"normal"==e&&(a="r-c-border-right-border-bottom-border-top",i<t.cellsCaptions.length&&(a="r-c-border-left-border-right"),0==i&&(a="r-c-border-left-border-right")),"header"==e&&(a="r-c-border-right-border-bottom-border-top",i<t.cellsCaptions.length&&(a="r-c-border-left-border-right"),0==i&&(a="r-c-border-left-border-right")),a},t.checkRowSelection=function(e){return!(!e||!e.selectedRow&&!e.simpleSelect)},t.toggleSelectRow=function(e,n){1==n.simpleSelect&&(n.simpleSelect=!1),n.selectedRow=!n.selectedRow,t.isAllSelected===!0&&n.selectedRow===!1&&(t.isAllSelected=!1);var i=!0;t.items.forEach(function(e){e.hasOwnProperty("groups")?(!!e.selectedRow==!1&&(i=!1),e.items.forEach(function(e){!!e.selectedRow==!1&&(i=!1)})):!!e.selectedRow==!1&&(i=!1)}),i&&(t.isAllSelected=!0),e.stopPropagation()},t.checkReady=function(){return 1!=t.options.reportProcessing&&(!t.items||1==t.readyStatus.cellsFirstReady&&1==t.readyStatus.cellsSecondReady&&1==t.readyStatus.classifiersReady&&1==t.options.reportIsReady&&1==t.readyStatus.attributeTypesReady&&(t.$parent.triggerResize(),!0))},t.bindGroupValue=function(e){if(e.hasOwnProperty("r_entityType"))return e[e.r_entityType+"_attribute_"+e.source_name];var n="";if("classifier"===e.value_type&&t.readyStatus.cellsFirstReady&&k.hasOwnProperty(t.entityType+"_"+e.value)&&void 0!==k[t.entityType+"_"+e.value]&&k[t.entityType+"_"+e.value]&&void 0!==k[t.entityType+"_"+e.value]&&(n=k[t.entityType+"_"+e.value].name),"field"===e.value_type&&(!w.hasOwnProperty(e.key),1==t.readyStatus.cellsFirstReady&&w.hasOwnProperty(e.key)&&w[e.key]&&void 0!==w[e.key]&&w[e.key].length)){var i,a;for(i=0;i<w[e.key].length;i+=1)void 0!==e.value&&w[e.key][i].id===e.value&&(a=w[e.key][i]);a&&(n=n.hasOwnProperty("display_name")?a.display_name:n.hasOwnProperty("scheme_name")?a.scheme_name:a.name)}return"10"!=e.value_type&&"40"!=e.value_type&&"float"!=e.value_type&&"string"!=e.value_type&&"date"!=e.value_type&&"value_string"!=e.value_type&&"value_float"!=e.value_type&&"value_date"!=e.value_type||(n=e.value),n},t.bindCellSubTotal=function(e,t){var n="";if(t.hasOwnProperty("key")&&(n=e[t.key]),void 0!==n)return 20==t.value_type||"float"==t.value_type?n.toFixed(2)+"":n},t.bindCell=function(e,n,i){function a(t){e[n.name]==t.id?o=t:t.children.length&&t.children.forEach(a)}if(n.hasOwnProperty("r_entityType"))return e[n.r_entityType+"_attribute_"+n.source_name];if(n.hasOwnProperty("id")){if(30===n.value_type){var o;return w&&w["classifier_"+n.id]&&(w["classifier_"+n.id].classifiers.forEach(a),o)?o.display_name?o.display_name:o.name:""}return n.hasOwnProperty("columnType")&&"custom-field"==n.columnType?(u="",e.custom_fields.forEach(function(e){e.custom_field==n.id&&(u=e.value)}),u):e.hasOwnProperty(n.name)?e[n.name]:c.findGroupedItemAttribute(e,n.id)}var r,s,l;for(r=0;r<v.length;r+=1)if(v[r].key===n.key)return e[v[r].key];for(l=0;l<t.columns.length;l+=1)if(t.columns[l].key==n.key&&e[n.key+"_object"])return"instrument_type_object_instrument_class"==n.key?e[n.key+"_object"].name:e[n.key+"_object"].user_code?e[n.key+"_object"].user_code:e[n.key+"_object"].name;for(s=0;s<f.length;s+=1)if(f[s].key===n.key){if("field"===n.value_type){var d=e[f[s].key];if(w[n.key])var u=w[n.key].filter(function(e){return e.id===d})[0];return u?"instrument"===n.key&&u.user_code?u.user_code:"price_download_scheme"===n.key?u.scheme_name:u.display_name?u.display_name:u.name:""}if("mc_field"===n.value_type){if("object_permissions_user"==n.key&&e[f[s].key].length&&"user"==t.options.permission_selected_entity){var m=[];return e[f[s].key].forEach(function(e){e.member==t.options.permission_selected_id&&(0==e.permission.indexOf("change")&&m.push("Change"),0==e.permission.indexOf("manage")&&m.push("Manage"))}),m.join(", ")}if("object_permissions_group"==n.key&&"group"==t.options.permission_selected_entity){var m=[];return e[f[s].key].forEach(function(e){e.group==t.options.permission_selected_id&&(0==e.permission.indexOf("change")&&m.push("Change"),0==e.permission.indexOf("manage")&&m.push("Manage"))}),m.join(", ")}if(e[f[s].key]&&e[f[s].key].length>=1)return"["+e[f[s].key].length+"]"}else if(null!==e[f[s].key]&&void 0!==e[f[s].key]){if(20==n.value_type||"float"==n.value_type)return i&&i.hasOwnProperty("reportItem")&&i.reportItem.isFirstOfFolded&&1==i.reportItem.isFirstOfFolded?i.reportItem.subTotal[f[s].key].toFixed(2)+"":e[f[s].key].toFixed(2)+"";if("complex-transaction"==y&&"status"==f[s].key){if(1==e[f[s].key])return"Production";if(2==e[f[s].key])return"Pending"}return e[f[s].key]}}},t.bindCellTitle=function(e,t){var n="";return e&&e.hasOwnProperty(t.key)&&(n="mc_field"===t.value_type?"["+e[t.key].length+"]":e[t.key]),n},t.rowCallback=function(e,n){t.options.editorEntityId=e.id;var i=!1;e.simpleSelect&&(i=JSON.parse(JSON.stringify(e.simpleSelect))),t.items.forEach(function(e){e.hasOwnProperty("groups")?(e.simpleSelect=!1,e.items.forEach(function(e){e.simpleSelect=!1})):e.simpleSelect=!1}),e.simpleSelect=!e.simpleSelect,1==i&&(e.simpleSelect=!1,t.options.editorEntityId=void 0),t.options.isReport||t.externalCallback({silent:!0,redraw:!1,options:{editorEntityId:t.options.editorEntityId}})},t.getAlign=function(e){switch(e.value_type){case 20:return"cell-right-align";case"float":return"cell-right-align";case 40:return"cell-center-align";default:return""}},t.deleteEntity=function(n,i){e.show({controller:"EntityViewerDeleteDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{entity:i,entityType:t.entityType}}).then(function(e){"agree"===e.status&&t.externalCallback()})},t.editEntity=function(n,i){e.show({controller:"EntityViewerEditDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{parentScope:t,entityId:i.id}}).then(function(e){e&&"agree"===e.res&&t.externalCallback()})},t.changePage=function(e){t.externalCallback({options:{paginationPageCurrent:e}})},t.$watchCollection("options.lastUpdate",function(){t.externalCallback=t.options.externalCallback,t.grouping=t.options.grouping,t.columns=t.options.columns,t.entityType=t.options.entityType,t.reportIsReady=t.options.reportIsReady,t.isReport=t.options.isReport,p(),1==t.isReport&&t.items&&(t.reportItems=s.transformItems(t.items))})}}}}()},{"../../../../../core/services/logService":2,"../../helpers/groupTableBodyHelper":173,"../../services/attributeTypeService":256,"../../services/bindCellService":259,"../../services/entityClassifierSingletonService":267,"../../services/groupTable/groupTableReportService":279,"../../services/metaService":326}],156:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/group-table-shell-view.html",scope:{items:"=",options:"=",reportOptions:"="},link:function(e,t,i){n.component("groupTable","initialized"),console.log("options12312321312",e.options),e.findSelectedFeature=function(){var t={isOpened:!1,templateUrl:""};return e.options.additionsStatus.extraFeatures.forEach(function(e){1==e.isOpened&&(t=e)}),t},e.triggerResize=function(){},1==e.options.isRootEntityViewer&&e.$watch("options.editorEntityId",function(t,n){e.$broadcast("rootEditorEntityIdDown",{editorEntityId:e.options.editorEntityId,entityType:e.options.entityType})}),e.checkAdditions=function(){return 1==e.options.additionsState&&1==e.options.isRootEntityViewer&&1==e.options.components.splitPanel}}}}}()},{"../../../../../core/services/logService":2}],157:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{},link:function(e,t,i){n.component("groupVerticalScroll","initialized")}}}}()},{"../../../../../core/services/logService":2}],158:[function(e,t,n){!function(){"use strict";t.exports=function(e,t){return{scope:{options:"="},restrict:"AE",link:function(n,i,a){var o=e.get(n.options.editorTemplate),r=t(o)(n);$(i).append(r)}}}}()},{}],159:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restriction:"A",link:function(e,t,n){console.log("input file directive");$("input#providerConfigFile");$(t).on("change",function(){console.log("chosen file is 111",this.files)})}}}}()},{}],160:[function(e,t,n){!function(){"use strict";t.exports=function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,a){console.log("RESOLVER INSTRUMENT MODAL",a),$(n).on("click",function(t){t.preventDefault(),t.stopPropagation(),setTimeout(function(){$(".md-select-backdrop")[0].dispatchEvent(new Event("click"))},400),e.show({controller:"InstrumentEventActionsDialogController as vm",templateUrl:"views/dialogs/instrument-event-actions-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,clickOutsideToClose:!0,locals:{eventActions:a}}).then(function(e){"agree"===e.status&&(a.$setViewValue(e.data.item.id),a.$render(),console.log("ngModelCtrl",a))}),console.log("START MODAL!")})}}}}()},{}],161:[function(e,t,n){!function(){"use strict";t.exports=function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,a){console.log("RESOLVER INSTRUMENT MODAL",a),$(n).on("click",function(t){t.preventDefault(),t.stopPropagation(),setTimeout(function(){$(".md-select-backdrop")[0].dispatchEvent(new Event("click"))},400),e.show({controller:"InstrumentSelectDialogController as vm",templateUrl:"views/instrument-select-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,clickOutsideToClose:!0,locals:{ngModelCtrl:a}}).then(function(e){"agree"===e.status&&(a.$setViewValue(e.data.item.id),a.$render(),console.log("ngModelCtrl",a))}),console.log("START MODAL!")})}}}}()},{}],162:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/logService"),i=e("../services/fieldResolverService"),a=e("../helpers/bindFieldsHelper"),o=e("../services/metaService"),r=e("../services/tagService");t.exports=function(e){return{scope:{item:"=",options:"="},templateUrl:"views/directives/instrument-scheme-manager-field-resolver-view.html",link:function(e,t,s){n.component("EntityViewerFieldResolverController","initialized"),e.readyStatus={content:!1,tags:!1},e.type="",n.property("field scope",e.item),n.property("field entity",e.entity),n.property("field options",e.options),e.getFieldsGrouped=function(){if(o.getFieldsWithTagGrouping().indexOf(e.item.key)!==-1){var n=e.item.key.replace("_","-");console.log("ENTITYTYPE------------------------------------------",n),r.getListByContentType(n).then(function(n){e.tags=n.results,e.groups=a.groupFieldsByTagsWithDuplicates(e.fields,e.tags),console.log("test?"),e.readyStatus.tags=!0,e.$apply(function(){setTimeout(function(){$(t).find(".md-select-search-pattern").on("keydown",function(e){e.stopPropagation()})},100)})})}},e.searchTerm="",i.getFields(e.item.key,e.options).then(function(i){n.collection("DATA",i),e.type=i.type,e.fields=i.data,e.readyStatus.content=!0,e.getFieldsGrouped(),e.$apply(function(){setTimeout(function(){$(t).find(".md-select-search-pattern").on("keydown",function(e){e.stopPropagation()})},100)})}),e.resolveSort=function(e){if(e){if(e.hasOwnProperty("name"))return e.name;if(e.hasOwnProperty("user_code"))return e.user_code;if(e.hasOwnProperty("public_name"))return e.public_name}},e.checkComplexEntityType=function(){return o.getFieldsWithTagGrouping().indexOf(e.item.key)!==-1},e.getName=function(){return e.item.options&&e.item.options.fieldName?e.item.options.fieldName:e.item.name},e.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},e.bindFormFields=function(){var t=e.item.expression;if(t){var n,i;for(n=0;n<e.fields.length;n+=1)t==e.fields[n].id&&(i=e.fields[n]);if(e.item.options&&e.item.options.fieldsForm){var a="";return e.item.options.fieldsForm.forEach(function(t,n){n+1===e.item.options.fieldsForm.length?a+=i[t]:a=a+i[t]+" / "}),a}return i.name}return e.getName()},e.bindListFields=function(t){if(e.item.options&&e.item.options.fieldsList){var n="";return e.item.options.fieldsList.forEach(function(i,a){a+1===e.item.options.fieldsList.length?n+=t[i]:n=n+t[i]+" / "}),n}return t.name}}}}}()},{"../../../../core/services/logService":2,"../helpers/bindFieldsHelper":172,"../services/fieldResolverService":273,"../services/metaService":326,"../services/tagService":340}],163:[function(e,t,n){!function(){"use strict";var n=(e("../../../../core/services/logService"),e("../services/metaService")),i=e("../services/layoutService");t.exports=function(){return{restrict:"AE",templateUrl:"views/directives/layout-constructor-field-view.html",scope:{tab:"=",row:"=",column:"="},link:function(e,t,a){function o(){var t;for(t=0;t<e.tab.layout.fields.length;t+=1)e.tab.layout.fields[t].row===e.row&&e.tab.layout.fields[t].column===e.column&&(e.item=e.tab.layout.fields[t],e.backupItem=JSON.parse(JSON.stringify(e.tab.layout.fields[t])))}function r(){var t;for(e.tab.layout.rows=e.tab.layout.rows+1,t=0;t<e.tab.layout.columns;t+=1)e.tab.layout.fields.push({row:e.tab.layout.rows,column:t+1,colspan:1,type:"empty"}),console.log("tab",e.tab)}function s(){var t,n,i,a=[];for(n=1;n<=e.tab.layout.rows;n+=1){for(i=!0,t=0;t<e.tab.layout.fields.length;t+=1)if(e.tab.layout.fields[t].row==n&&"field"===e.tab.layout.fields[t].type){i=!1;break}i&&a.push(n)}c(a)}function c(t){var n,i;for(n=e.tab.layout.rows;n>0;n-=1)for(i=t.length;i>0;i-=1)if(n===t[i]&&n-1===t[i-1]&&n!==t[0]){var a;for(a=0;a<e.tab.layout.fields.length;a+=1)e.tab.layout.fields[a].row==e.tab.layout.rows&&(e.tab.layout.fields.splice(a,1),a-=1);e.tab.layout.rows=e.tab.layout.rows-1}}function l(){var t,n,i,a,o;for(t=0;t<e.attrs.length;t+=1)if(e.attrs[t].id&&e.item.id)e.attrs[t].id===e.item.id&&(e.item.attribute=e.attrs[t],e.backupItem.attribute=e.attrs[t]);else{for(n=0;n<e.baseAttrs.length;n+=1)e.baseAttrs[n].name===e.item.name&&(e.item.attribute=e.baseAttrs[n],e.backupItem.attribute=e.baseAttrs[n]);for(a=0;a<e.entityAttrs.length;a+=1)e.entityAttrs[a].name===e.item.name&&(e.item.attribute=e.entityAttrs[a],e.backupItem.attribute=e.entityAttrs[a]);for(o=0;o<e.userInputs.length;o+=1)e.userInputs[o].name===e.item.name&&(e.item.attribute=e.userInputs[o],e.backupItem.attribute=e.userInputs[o]);if(!e.item.attribute)for(i=0;i<e.layoutAttrs.length;i+=1)e.layoutAttrs[i].name===e.item.name&&(e.item.attribute=e.layoutAttrs[i],e.backupItem.attribute=e.layoutAttrs[i])}}var d=n.getTypeCaptions();e.item={column:e.column,row:e.row,colspan:1,editMode:!1},e.specialOptionTemplate="",o(),e.fieldType=null,e.editMode=!1,e.entityType=e.$parent.vm.entityType,e.attrs=e.$parent.vm.attrs||[],e.baseAttrs=e.$parent.vm.baseAttrs||[],e.entityAttrs=e.$parent.vm.entityAttrs||[],e.userInputs=e.$parent.vm.userInputs||[],e.layoutAttrs=i.getLayoutAttrs();var u=[];e.baseAttrs.forEach(function(e){u.push(e.key)});var m=[];e.entityAttrs.forEach(function(e){m.push(e.key)});var p=[];e.layoutAttrs.forEach(function(e){p.push(e.key)});var g=e.$parent.vm.tabs;e.cancel=function(){e.item.name||e.item.id?(e.item=e.backupItem,e.item.colspan=e.backupItem.colspan):(e.item.attr=null,e.item.colspan=1),e.item.editMode=!1},e.toggleEditMode=function(){var t;for(t=0;t<e.tab.layout.fields.length;t+=1)e.tab.layout.fields[t].editMode=!1;e.item.editMode=!0},e.saveField=function(){var t;for(t=0;t<e.tab.layout.fields.length;t+=1)e.tab.layout.fields[t].row===e.item.row&&e.tab.layout.fields[t].column===e.item.column&&(e.item.attribute.hasOwnProperty("id")?(e.tab.layout.fields[t].attribute_class="attr",e.tab.layout.fields[t].id=e.item.attribute.id):(e.tab.layout.fields[t].name=e.item.attribute.name,u.indexOf(e.item.attribute.key)!==-1?e.tab.layout.fields[t].attribute_class="baseAttr":m.indexOf(e.item.attribute.key)!==-1?e.tab.layout.fields[t].attribute_class="entityAttr":p.indexOf(e.item.attribute.key)!==-1?e.tab.layout.fields[t].attribute_class="decorationAttr":e.tab.layout.fields[t].attribute_class="userInput"),e.tab.layout.fields[t].type="field",e.tab.layout.fields[t].colspan=e.item.colspan,e.tab.layout.fields[t].attribute=e.item.attribute,e.tab.layout.fields[t].row==e.tab.layout.rows&&r());e.item.editMode=!1},e.getCols=function(){var t,n=1,i=[1];for(t=e.column;t<e.tab.layout.columns;t+=1)n+=1,i.push(n);return i},e.changeModel=function(t){e.item.attribute=t},e.deleteField=function(){var t;for(e.item.id=null,e.item.key=null,e.item.attribute=null,e.item.attribute_class=null,e.item.disabled=!1,e.item.options=null,e.item.colspan=1,t=0;t<e.tab.layout.fields.length;t+=1)if(e.tab.layout.fields[t].row==e.item.row&&e.tab.layout.fields[t].column==e.item.column){e.tab.layout.fields[t].id=null,e.tab.layout.fields[t].key=null,e.tab.layout.fields[t].attribute_class=null,e.tab.layout.fields[t].disabled=!1,e.tab.layout.fields[t].colspan=1,e.tab.layout.fields[t].name="",e.tab.layout.fields[t].type="empty",s();break}},l(),e.findAttrsLeft=function(){e.attrs.forEach(function(e){e.disabled=!1,g.forEach(function(t){t.layout.fields.forEach(function(t){"field"===t.type&&e.id===t.id&&(e.disabled=!0)})})}),e.baseAttrs.forEach(function(e){e.disabled=!1,g.forEach(function(t){t.layout.fields.forEach(function(t){"field"===t.type&&e.key===t.attribute.key&&(e.disabled=!0,console.log("baseAttr",e))})})}),e.entityAttrs.forEach(function(e){e.disabled=!1,g.forEach(function(t){t.layout.fields.forEach(function(t){"field"===t.type&&e.key===t.attribute.key&&(e.disabled=!0)})})}),e.userInputs.forEach(function(e){e.disabled=!1,g.forEach(function(t){t.layout.fields.forEach(function(t){"field"===t.type&&e.key===t.attribute.key&&(e.disabled=!0)})})})},e.bindAttrName=function(e){return e.attribute.hasOwnProperty("verbose_name")?e.attribute.verbose_name:e.attribute.name},e.bindTypeByValueType=function(e){var t;for(t=0;t<d.length;t+=1)if(e===d[t].value)return d[t].caption_name},e.findSelected=function(e,t){return!(!e||!t||e.join(" ")!==t.join(" "))},e.copyFromValue=function(e){return e.id?JSON.stringify({id:e.id}):JSON.stringify({key:e.key})},e.findStringAttributes=function(){var t,i,a,o=[];for(i=0;i<e.attrs.length;i+=1)10===e.attrs[i].value_type&&o.push(e.attrs[i]);if(n.getEntitiesWithoutBaseAttrsList().indexOf(e.entityType)===-1)for(t=0;t<e.baseAttrs.length;t+=1)10===e.baseAttrs[t].value_type&&o.push(e.baseAttrs[t]);for(a=0;a<e.entityAttrs.length;a+=1)10===e.entityAttrs[a].value_type&&o.push(e.entityAttrs[a]);return o},e.checkForSpecialOptions=function(){if(e.item.attribute){if("Notes"===e.item.attribute.name)return e.specialOptionTemplate="views/attribute-options/notes.html",!0;if(10==e.item.attribute.value_type)return e.specialOptionTemplate="views/attribute-options/string.html",!0;if("field"===e.item.attribute.value_type&&n.getRestrictedEntitiesWithTypeField().indexOf(e.item.attribute.key)===-1)return e.specialOptionTemplate="views/attribute-options/field.html",!0;if(40==e.item.attribute.value_type)return e.specialOptionTemplate="views/attribute-options/date.html",!0;if(20===e.item.attribute.value_type||"float"===e.item.attribute.value_type)return e.specialOptionTemplate="views/attribute-options/number.html",!0;if("decoration"===e.item.attribute.value_type&&"layoutLineWithLabel"===e.item.attribute.key)return e.specialOptionTemplate="views/attribute-options/labeled-line.html",!0}return!1}}}}}()},{"../../../../core/services/logService":2,"../services/layoutService":319,"../services/metaService":326}],164:[function(e,t,n){!function(){"use strict";e("../../../../core/services/logService");t.exports=function(){return{restrict:"A",scope:{rows:"=",columnsNames:"=",columns:"="},templateUrl:"views/directives/members-groups-table-view.html"}}}()},{"../../../../core/services/logService":2}],165:[function(e,t,n){!function(){"use strict";t.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-link-view.html",link:function(e,t){var n=t.parent().controller();e.focusSection=function(){$(".side-nav-dropdown").remove(),n.autoFocusContent=!0}}}}}()},{}],166:[function(e,t,n){!function(){"use strict";t.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-toggle-view.html",link:function(e,t){var n=t.parent().controller();e.isOpen=function(){return n.isOpen(e.section)},e.toggle=function(t){n.toggleOpen(t,e.section)}}}}}()},{}],167:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"E",scope:{allOptions:"=",selectedOptions:"="},templateUrl:"views/directives/two-fields-options-view.html",link:function(e,t,n){e.highlightOption=function(e){var t=e.currentTarget;$(t).hasClass("active-option")?$(t).removeClass("active-option"):$(t).addClass("active-option")},e.switchOptions=function(t,n,i){var a=$(t);a&&a.length>0&&a.each(function(){var t=$(this),a=parseInt(t.data("member-group-id"));n.map(function(t,o){t.id===a&&(n.splice(o,1),i.push(t),console.log("after select",e.allOptions,e.selectedOptions))})})}}}}}()},{}],168:[function(e,t,n){!function(){"use strict";t.exports=function(){return{restrict:"AE",scope:{position:"@"},require:"?ngModel",template:'<div class="pick-me-up"><input type="text" value=""></div>',link:function(e,t,n,i){var a=$(t).find("input"),o="right";e.position&&(o=e.position),i.$modelValue?($(t).parent().addClass("md-input-has-value"),a.pickmeup({date:new Date(i.$modelValue),position:o,default_date:!1,hide_on_select:!0,format:"Y-m-d",change:function(){i.$setViewValue(this.value)}})):($(t).parent().addClass("md-input-has-value"),a.pickmeup({position:o,default_date:!1,hide_on_select:!0,format:"Y-m-d",change:function(){i.$setViewValue(this.value)}})),e.$watch(function(){i.$modelValue&&a.val(moment(new Date(i.$modelValue)).format("YYYY-MM-DD"))})}}}}()},{}],169:[function(e,t,n){!function(){"use strict";t.exports=function(){return function(e,t){var n=[];if(angular.isArray(e)){var i=Object.keys(t);e.forEach(function(e){for(var a=!1,o=0;o<i.length;o++){var r=i[o],s=t[r].toLowerCase();if(e[r].toString().toLowerCase().indexOf(s)!==-1){a=!0;break}}a&&n.push(e)})}else n=e;return n}}}()},{}],170:[function(e,t,n){!function(){"use strict";t.exports=function(e){return function(e,t,n,i){if(console.log("value",e),!e)return"";var a=e.$$unwrapTrustedValue();if(n=parseInt(n,10),!n)return e;if(a.length<=n)return a;if(a=a.substr(0,n),t){var o=a.lastIndexOf(" ");o!=-1&&("."!=a.charAt(o-1)&&","!=a.charAt(o-1)||(o-=1),a=a.substr(0,o))}return a+(i||" ")}}}()},{}],171:[function(e,t,n){!function(){"use strict";t.exports=function(e){return function(t){if(t)return e.trustAsHtml(t.toString())}}}()},{}],172:[function(e,t,n){!function(){"use strict";var e=function(e,t){return t&&t.length&&t.forEach(function(t){t.fields=[],e&&e.length&&e.forEach(function(e){e.tags.forEach(function(n){n==t.id&&t.fields.push(e)})})}),[{name:"No group",fields:e}]};t.exports={groupFieldsByTagsWithDuplicates:e}}()},{}],173:[function(e,t,n){!function(){"use strict";function e(e){return 30==e.attribute_type_object.value_type?e.classifier:40==e.attribute_type_object.value_type?e.value_date:20==e.attribute_type_object.value_type?e.value_float:10==e.attribute_type_object.value_type&&""!==e.value_string?e.value_string:null}var n=function(t,n){var i="";return t.attributes.forEach(function(t){t.attribute_type_object.id==n&&(i=e(t))}),i};t.exports={findGroupedItemAttribute:n}}()},{}],174:[function(e,t,n){!function(){"use strict";var e=function(e){return e.length&&e.forEach(function(e){if(e.hasOwnProperty("instrument_object")){var t=Object.keys(e.instrument_object);if(t.forEach(function(t){e["instrument_object_"+t]=e.instrument_object[t]}),e.instrument_object.hasOwnProperty("instrument_type_object")){var n=Object.keys(e.instrument_object.instrument_type_object);n.forEach(function(t){e["instrument_type_object_"+t]=e.instrument_object.instrument_type_object[t]})}}if(e.hasOwnProperty("account_object")){var i=Object.keys(e.account_object);if(i.forEach(function(t){e["account_object_"+t]=e.account_object[t]}),e.account_object.hasOwnProperty("type_object")){var a=Object.keys(e.account_object.type_object);a.forEach(function(t){e["account_type_object_"+t]=e.account_object.type_object[t]})}}if(e.hasOwnProperty("portfolio_object")){var o=Object.keys(e.portfolio_object);o.forEach(function(t){e["portfolio_object_"+t]=e.portfolio_object[t]})}if(e.hasOwnProperty("strategy1_object")){var r=Object.keys(e.strategy1_object);if(r.forEach(function(t){e["strategy1_object_"+t]=e.strategy1_object[t]}),e.strategy1_object.hasOwnProperty("subgroup_object")){var s=Object.keys(e.strategy1_object.subgroup_object);if(s.forEach(function(t){e["strategy1_subgroup_object_"+t]=e.strategy1_object.subgroup_object[t]}),e.strategy1_object.subgroup_object.hasOwnProperty("group_object")){var c=Object.keys(e.strategy1_object.subgroup_object.group_object);c.forEach(function(t){e["strategy1_group_object_"+t]=e.strategy1_object.subgroup_object.group_object[t]})}}}if(e.hasOwnProperty("strategy2_object")){var l=Object.keys(e.strategy2_object);if(l.forEach(function(t){e["strategy2_object_"+t]=e.strategy2_object[t]}),e.strategy2_object.hasOwnProperty("subgroup_object")){var d=Object.keys(e.strategy2_object.subgroup_object);if(d.forEach(function(t){e["strategy2_subgroup_object_"+t]=e.strategy2_object.subgroup_object[t]}),e.strategy2_object.subgroup_object.hasOwnProperty("group_object")){var u=Object.keys(e.strategy2_object.subgroup_object.group_object);u.forEach(function(t){e["strategy2_group_object_"+t]=e.strategy2_object.subgroup_object.group_object[t]})}}}if(e.hasOwnProperty("strategy3_object")){var m=Object.keys(e.strategy3_object);if(m.forEach(function(t){
e["strategy3_object_"+t]=e.strategy3_object[t]}),e.strategy3_object.hasOwnProperty("subgroup_object")){var p=Object.keys(e.strategy3_object.subgroup_object);if(p.forEach(function(t){e["strategy3_subgroup_object_"+t]=e.strategy3_object.subgroup_object[t]}),e.strategy3_object.subgroup_object.hasOwnProperty("group_object")){var g=Object.keys(e.strategy3_object.subgroup_object.group_object);g.forEach(function(t){e["strategy3_group_object_"+t]=e.strategy3_object.subgroup_object.group_object[t]})}}}e.hasOwnProperty("instrument_object")&&e.instrument_object.attributes.length&&e.instrument_object.attributes.forEach(function(t){t.hasOwnProperty("attribute_type_object")&&(10==t.attribute_type_object.value_type&&(e["Instrument."+t.attribute_type_object.display_name]=t.value_string),20==t.attribute_type_object.value_type&&(e["Instrument."+t.attribute_type_object.display_name]=t.value_float),40==t.attribute_type_object.value_type&&(e["Instrument."+t.attribute_type_object.display_name]=t.value_date),30==t.attribute_type_object.value_type&&(e["Instrument."+t.attribute_type_object.display_name]=t.classifier_object.name))}),e.hasOwnProperty("account_object")&&e.account_object.attributes.length&&e.account_object.attributes.forEach(function(t){t.hasOwnProperty("attribute_type_object")&&(10==t.attribute_type_object.value_type&&(e["Account."+t.attribute_type_object.display_name]=t.value_string),20==t.attribute_type_object.value_type&&(e["Account."+t.attribute_type_object.display_name]=t.value_float),40==t.attribute_type_object.value_type&&(e["Account."+t.attribute_type_object.display_name]=t.value_date),30==t.attribute_type_object.value_type&&(e["Account."+t.attribute_type_object.display_name]=t.classifier_object.name))}),e.hasOwnProperty("portfolio_object")&&e.portfolio_object.attributes.length&&e.portfolio_object.attributes.forEach(function(t){t.hasOwnProperty("attribute_type_object")&&(10==t.attribute_type_object.value_type&&(e["Portfolio."+t.attribute_type_object.display_name]=t.value_string),20==t.attribute_type_object.value_type&&(e["Portfolio."+t.attribute_type_object.display_name]=t.value_float),40==t.attribute_type_object.value_type&&(e["Portfolio."+t.attribute_type_object.display_name]=t.value_date),30==t.attribute_type_object.value_type&&(e["Portfolio."+t.attribute_type_object.display_name]=t.classifier_object)&&(e["Portfolio."+t.attribute_type_object.display_name]=t.classifier_object.name))}),e.instrument_accrual_object_accrual_size=void 0,e.instrument_accrual_object_periodicity_object_name=void 0,e.instrument_accrual_object_periodicity_n=void 0,e.instrument_accrual_object&&(e.instrument_accrual_object_accrual_size=e.instrument_accrual_object.accrual_size,e.instrument_accrual_object.periodicity_object&&(e.instrument_accrual_object_periodicity_object_name=e.instrument_accrual_object.periodicity_object.name),e.instrument_accrual_object_periodicity_n=e.instrument_accrual_object.periodicity_n)}),e};t.exports={releaseEntityObjects:e}}()},{}],175:[function(e,t,n){!function(){"use strict";function n(e,t,n){var i=null;return e[t]&&e[t].forEach(function(e){e.id==n&&(i=e)}),i}function i(e,t,n){e.hasOwnProperty(t)&&e[t].forEach(function(e){n.forEach(function(t){t.attribute_type==e.id&&(t.attribute_type_object=e,t.attribute_type_object.classifiers_flat.length>0&&t.attribute_type_object.classifiers_flat.forEach(function(e){e.id==t.classifier&&(t.classifier_object=e)}))})})}var a=e("../services/transaction/transactionClassService"),o=function(e,t){return e.forEach(function(e){e.instrument_object=n(t,"instruments",e.instrument),e.linked_instrument_object=n(t,"instruments",e.linked_instrument),e.account_cash_object=n(t,"accounts",e.account_cash),e.account_interim_object=n(t,"accounts",e.account_interim),e.account_position_object=n(t,"accounts",e.account_position),e.counterparty_object=n(t,"counterparties",e.counterparty),e.responsible_object=n(t,"responsibles",e.responsible),e.complex_transaction_object=n(t,"complex_transactions",e.complex_transaction),e.transaction_class_object=n({transaction_classes:a.getListSync()},"transaction_classes",e.transaction_class),e.portfolio_object=n(t,"portfolios",e.portfolio),e.strategy1_cash_object=n(t,"strategies1",e.strategy1_cash),e.strategy1_position_object=n(t,"strategies1",e.strategy1_position),e.strategy2_cash_object=n(t,"strategies1",e.strategy2_cash),e.strategy2_position_object=n(t,"strategies1",e.strategy2_position),e.strategy3_cash_object=n(t,"strategies1",e.strategy3_cash),e.strategy3_position_object=n(t,"strategies1",e.strategy3_position),e.transaction_currency_object=n(t,"currencies",e.transaction_currency),e.settlement_currency_object=n(t,"currencies",e.settlement_currency),i(t,"account_attribute_types",e.account_cash_object.attributes),i(t,"account_attribute_types",e.account_interim_object.attributes),i(t,"account_attribute_types",e.account_position_object.attributes),i(t,"counterparty_attribute_types",e.counterparty_object.attributes),i(t,"responsible_attribute_types",e.responsible_object.attributes),i(t,"currency_attribute_types",e.transaction_currency_object.attributes),i(t,"currency_attribute_types",e.settlement_currency_object.attributes),i(t,"instrument_attribute_types",e.instrument_object.attributes),i(t,"instrument_attribute_types",e.linked_instrument_object.attributes),i(t,"portfolio_attribute_types",e.portfolio_object.attributes),i(t,"complex_transaction_attribute_types",e.complex_transaction_object.attributes),i(t,"transaction_attribute_types",e.attributes)}),console.log("INJECTED",e),e};t.exports={injectIntoItems:o}}()},{"../services/transaction/transactionClassService":345}],176:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(){return window.fetch(o+"accounts/account-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(i.configureUrl(o+"accounts/account/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"accounts/account/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e){return window.fetch(o+"accounts/account/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e,t){return window.fetch(o+"accounts/account/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e){return window.fetch(o+"accounts/account/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},m=function(e){return window.fetch(o+"accounts/account/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getTypeList:r,getList:s,getByKey:c,create:l,update:d,deleteByKey:m,updateBulk:u}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],177:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"accounts/account-type/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"accounts/account-type/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"accounts/account-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"accounts/account-type/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"accounts/account-type/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e){return window.fetch(o+"accounts/account-type/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:u,updateBulk:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],178:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=(e("../services/configureRepositoryUrlService"),e("../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"instruments/accrual-calculation-model/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],179:[function(e,t,n){!function(){"use strict";function n(e){switch(e){case"counterparty":return"counterparties/"+e+"-attribute-type/";case"responsible":return"counterparties/"+e+"-attribute-type/";case"currency":return"currencies/"+e+"-attribute-type/";case"complex-transaction":return"/transactions/"+e+"-attribute-type/";default:return e+"s/"+e+"-attribute-type/"}}var i=e("../../../../core/services/cookieService"),a=(e("../services/configureRepositoryUrlService"),e("../services/metaRestrictionsService")),o=e("../services/baseUrlService"),r=o.resolve(),s=function(e){return a.getEntitiesWithoutDynamicAttrsList().indexOf(e)!==-1?new Promise(function(e){e({results:[]})}):window.fetch(r+n(e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(r+n(e)+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(r+n(e),{method:"POST",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e,t,a){return window.fetch(r+n(e)+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e,t){return window.fetch(r+n(e)+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(t,n){console.log("data",e),409===e.status&&t({status:"conflict"}),t({status:"success"})})})};t.exports={getList:s,getByKey:c,create:l,update:d,deleteByKey:u}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261,"../services/metaRestrictionsService":325}],180:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"audit/history/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"audit/history/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"audit/history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"audit/history/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"audit/history/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],181:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"ui/bookmark/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"ui/bookmark/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"ui/bookmark/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"ui/bookmark/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"ui/bookmark/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],182:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"counterparties/counterparty-group/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"counterparties/counterparty-group/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"counterparties/counterparty-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"counterparties/counterparty-group/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"counterparties/counterparty-group/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],183:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"counterparties/counterparty/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"counterparties/counterparty/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"counterparties/counterparty/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"counterparties/counterparty/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"counterparties/counterparty/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e){return window.fetch(o+"counterparties/counterparty/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:u,updateBulk:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],184:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"currencies/currency-history/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"currencies/currency-history/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"currencies/currency-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"currencies/currency-history/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"currencies/currency-history/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],185:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/baseUrlService"),a=e("../services/configureRepositoryUrlService"),o=i.resolve(),r=function(e){return e||(e={}),e.pageSize=e.pageSize||200,window.fetch(a.configureUrl(o+"currencies/currency/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"currencies/currency/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"currencies/currency/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"currencies/currency/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"currencies/currency/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],186:[function(e,t,n){!function(){"use strict";function n(e){switch(e){case"counterparty":return"counterparties/"+e+"-classifier/";case"responsible":return"counterparties/"+e+"-classifier/";default:return e+"s/"+e+"-classifier/"}}var i=e("../../../../core/services/cookieService"),a=(e("../services/configureRepositoryUrlService"),e("../services/metaRestrictionsService")),o=e("../services/baseUrlService"),r=o.resolve(),s=function(e){return a.getEntitiesWithoutDynamicAttrsList().indexOf(e)!==-1?new Promise(function(e){e({results:[]})}):window.fetch(r+n(e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(r+n(e)+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(r+n(e),{method:"POST",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e,t,a){return window.fetch(r+n(e)+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e,t){return window.fetch(r+n(e)+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(t,n){console.log("data",e),409===e.status&&t({status:"conflict"}),t({status:"success"})})})};t.exports={getList:s,getByKey:c,create:l,update:d,deleteByKey:u}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261,"../services/metaRestrictionsService":325}],187:[function(e,t,n){!function(){"use strict";var n=e("../services/baseUrlService"),i=n.resolve(),a=function(){return window.fetch(i+"instruments/daily-pricing-model/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},o=function(){return window.fetch(i+"instruments/payment-size-detail/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(){return new Promise(function(e,t){e([{value:"1",name:"Buy"},{value:"2",name:"Sell"},{value:"3",name:"FX Trade"},{value:"4",name:"Instrument PL"},{value:"5",name:"Transaction PL"},{value:"6",name:"Transfer"},{value:"7",name:"FX Transfer"},{value:"8",name:"Cash-Inflow"},{value:"9",name:"Cash-Outflow"}])})};t.exports={getDailyPricingModelChoices:a,getPaymentSizeDetailChoices:o,getTransactionClassList:r}}()},{"../services/baseUrlService":258}],188:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/baseUrlService"),a=i.resolve(),o=function(){return window.fetch(a+"instruments/generated-event/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"instruments/generated-event/"+e.eventId+"/book/?action="+e.actionId,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(a+"instruments/generated-event/"+e.eventId+"/book/?action="+e.actionId,{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})};t.exports={getList:o,getEventAction:r,putEventAction:s}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258}],189:[function(e,t,n){!function(){"use strict";var e=function(){return window.fetch("portal/content/json/functions_help.json").then(function(e){return e.json()})};t.exports={getFunctionsHelp:e}}()},{}],190:[function(e,t,n){!function(){"use strict";var n=(e("../../../../core/services/cookieService"),e("../services/configureRepositoryUrlService"),e("../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"import/instruments/instrument/mapping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getInstrumentMappingList:a}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],191:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/account-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/account-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/account-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/account-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/account-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],192:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/accrual-calculation-model-mapping/?page_size=10000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/accrual-calculation-model-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/accrual-calculation-model-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"
}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/accrual-calculation-model-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/accrual-calculation-model-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],193:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/counterparty-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/counterparty-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/counterparty-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/counterparty-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/counterparty-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],194:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/currency-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/currency-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/currency-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/currency-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/currency-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],195:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/daily-pricing-model-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/daily-pricing-model-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/daily-pricing-model-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/daily-pricing-model-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/daily-pricing-model-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],196:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/provider/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/config/?provider="+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(a+"import/config/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken")},body:t}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})};t.exports={getList:o,getConfig:r,setConfig:s}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],197:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(e){return window.fetch(a+"import/instrument/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})};t.exports={startImport:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],198:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/configureRepositoryUrlService"),a=e("../../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"import/price-download-scheme/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"import/price-download-scheme/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"import/price-download-scheme/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"import/price-download-scheme/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},d=function(e){return window.fetch(o+"import/price-download-scheme/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],199:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(e){return window.fetch(a+"import/pricing/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})};t.exports={create:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],200:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/instrument-attribute-value-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/instrument-attribute-value-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/instrument-attribute-value-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/instrument-attribute-value-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/instrument-attribute-value-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],201:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/instrument-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/instrument-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/instrument-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/instrument-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/instrument-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],202:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/periodicity-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/periodicity-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/periodicity-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/periodicity-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/periodicity-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],203:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(e){return window.fetch(a+"import/instrument-scheme/?provider"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/instrument-scheme/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},s=function(e){return window.fetch(a+"import/instrument-scheme/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/instrument-scheme/"+e+"/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e){return window.fetch(a+"import/instrument-scheme/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,create:r,getByKey:s,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],204:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/instrument-type-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/instrument-type-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/instrument-type-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/instrument-type-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/instrument-type-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],205:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/payment-size-detail-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/payment-size-detail-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/payment-size-detail-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/payment-size-detail-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/payment-size-detail-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],206:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/portfolio-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/portfolio-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/portfolio-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/portfolio-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/portfolio-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],207:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/price-download-scheme-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/price-download-scheme-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/price-download-scheme-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/price-download-scheme-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/price-download-scheme-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],208:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/price-download-scheme/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/price-download-scheme/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/price-download-scheme/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/price-download-scheme/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/price-download-scheme/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],209:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(e){return window.fetch(a+"import/pricing-automated-schedule/0/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},r=function(){return window.fetch(a+"import/pricing-automated-schedule/0/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={updateSchedule:o,getSchedule:r}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],210:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/responsible-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/responsible-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/responsible-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/responsible-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/responsible-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],211:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/cookieService"),e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"import/accrual-schedule-download-method/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},o=function(){return window.fetch(i+"import/factor-schedule-download-method/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getAccrualScheduleDownloadMethodList:a,getFactorScheduleDownloadMethodList:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],212:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/strategy1-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/strategy1-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/strategy1-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/strategy1-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/strategy1-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],213:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/strategy2-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/strategy2-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/strategy2-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/strategy2-mapping/"+e+"/",{
method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/strategy2-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],214:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/strategy3-mapping/?page_size=1000",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/strategy3-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"import/strategy3-mapping/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/strategy3-mapping/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e){return window.fetch(a+"import/strategy3-mapping/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],215:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=(e("../../services/configureRepositoryUrlService"),e("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/complex-transaction-import-scheme/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"import/complex-transaction-import-scheme/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},s=function(e){return window.fetch(a+"import/complex-transaction-import-scheme/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(a+"import/complex-transaction-import-scheme/"+e+"/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e){return window.fetch(a+"import/complex-transaction-import-scheme/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o,create:r,getByKey:s,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],216:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=(e("../services/configureRepositoryUrlService"),e("../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"instruments/periodicity/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],217:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"instruments/instrument/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/instrument/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/instrument/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"instruments/instrument/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"instruments/instrument/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e){return window.fetch(o+"instruments/instrument/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:u,updateBulk:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],218:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/baseUrlService"),a=i.resolve(),o=function(){return window.fetch(a+"instruments/instrument-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"instruments/instrument-type/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"instruments/instrument-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},c=function(e,t){return window.fetch(a+"instruments/instrument-type/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e){return window.fetch(a+"instruments/instrument-type/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:o,getByKey:r,create:s,update:c,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258}],219:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/configureRepositoryUrlService"),a=e("../../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"instruments/instrument-attribute-type/",e),{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){var t="?value_type="+e[0];return window.fetch(o+"instruments/instrument-attribute-type/"+t+"&show_classifiers=1",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/instrument-attribute-type/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e){return window.fetch(o+"instruments/instrument-attribute-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},d=function(e,t){return window.fetch(o+"instruments/instrument-attribute-type/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},u=function(e){return window.fetch(o+"instruments/instrument-attribute-type/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getListByAttributeType:s,getByKey:c,create:l,update:d,deleteByKey:u}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],220:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/configureRepositoryUrlService"),a=e("../../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"instruments/instrument-class/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/instrument-class/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/instrument-class/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"instruments/instrument-class/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},d=function(e){return window.fetch(o+"instruments/instrument-class/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],221:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/configureRepositoryUrlService"),a=e("../../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"instruments/daily-pricing-model/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/daily-pricing-model/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/daily-pricing-model/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"instruments/daily-pricing-model/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},d=function(e){return window.fetch(o+"instruments/daily-pricing-model/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],222:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/configureRepositoryUrlService"),a=e("../../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"instruments/event-schedule-config/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/event-schedule-config/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/event-schedule-config/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(o+"instruments/event-schedule-config/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"instruments/event-schedule-config/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],223:[function(e,t,n){!function(){"use strict";var n=(e("../../../../../core/services/cookieService"),e("../../services/configureRepositoryUrlService")),i=e("../../services/baseUrlService"),a=i.resolve(),o=function(e){return window.fetch(n.configureUrl(a+"instruments/payment-size-detail/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],224:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/baseUrlService"),a=i.resolve(),o=function(e,t){return window.fetch(a+"instruments/instrument/recalculate-prices-accrued-price/?date_0="+e+"&date_1="+t,{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={recalculate:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258}],225:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/baseUrlService"),a=i.resolve(),o=function(e){var t="";return t="members"===e?"users/member/":"users/group/",window.fetch(a+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e,t){var n="";return n="members"===e?"users/member/":"users/group/",window.fetch(a+n+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){var i="";return i="members"===e?"users/member/":"users/group/",console.log("url is",a+i),window.fetch(a+i,{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},c=function(e,t,i){var o="";return o="members"===e?"users/member/":"users/group/",window.fetch(a+o+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){var i="";return i="members"===e?"users/member/":"users/group/",window.fetch(a+i+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:o,getMemberOrGroupByKey:r,create:s,update:c,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258}],226:[function(e,t,n){!function(){"use strict";var e=function(){return[{name:"Account",entity:"account",key:"accounts.account"},{name:"Counterparty",entity:"counterparty",key:"counterparties.counterparty"},{name:"Responsible",entity:"responsible",key:"counterparties.responsible"},{name:"Currency",entity:"currency",key:"currencies.currency"},{name:"Instrument",entity:"instrument",key:"instruments.instrument"},{name:"Portfolio",entity:"portfolio",key:"portfolios.portfolio"},{name:"Instrument Type",entity:"instrument-type",key:"instruments.instrumenttype"},{name:"Strategy 1",entity:"strategy-1",key:"strategies.strategy1"},{name:"Strategy 2",entity:"strategy-2",key:"strategies.strategy2"},{name:"Strategy 3",entity:"strategy-3",key:"strategies.strategy3"},{name:"Daily pricing model",entity:"daily-pricing-model",key:"instruments.dailypricingmodel"},{name:"Payment size detail",entity:"payment-size-detail",key:"instruments.paymentsizedetail"},{name:"Price download scheme",entity:"price-download-scheme",key:"integrations.pricedownloadscheme"}]},n=function(){return[{name:"Account Type",entity:"account-type",key:"accounts.accounttype"},{name:"Account",entity:"account",key:"accounts.account"},{name:"Counterparty",entity:"counterparty",key:"counterparties.counterparty"},{name:"Responsible",entity:"responsible",key:"counterparties.responsible"},{name:"Currency",entity:"currency",key:"currencies.currency"},{name:"Instrument",entity:"instrument",key:"instruments.instrument"},{name:"Portfolio",entity:"portfolio",key:"portfolios.portfolio"},{name:"Thread",entity:"thread",key:"chats.thread"},{name:"Instrument Type",entity:"instrument-type",key:"instruments.instrumenttype"},{name:"Transaction Type",entity:"transaction-type",key:"transactions.transactiontype"},{name:"Transaction Type Group",entity:"transaction-type-group",key:"transactions.transactiontypegroup"},{name:"Strategy 1",entity:"strategy-1",key:"strategies.strategy1"},{name:"Strategy 2",entity:"strategy-2",key:"strategies.strategy2"},{name:"Strategy 3",entity:"strategy-3",key:"strategies.strategy3"},{name:"Thread group",entity:"thread-group",key:"chats.threadgroup"},{name:"Counterparty group",entity:"counterparty-group",key:"counterparties.counterpartygroup"},{name:"Responsible group",entity:"responsible-group",key:"counterparties.responsiblegroup"},{name:"Strategy 1 group",entity:"strategy-1-group",key:"strategies.strategy1group"},{name:"Strategy 2 group",entity:"strategy-2-group",key:"strategies.strategy2group"},{name:"Strategy 3 group",entity:"strategy-3-group",key:"strategies.strategy3group"},{name:"Strategy 1 subgroup",entity:"strategy-1-subgroup",key:"strategies.strategy1subgroup"},{name:"Strategy 2 subgroup",entity:"strategy-2-subgroup",key:"strategies.strategy2subgroup"},{name:"Strategy 3 subgroup",entity:"strategy-3-subgroup",key:"strategies.strategy3subgroup"}]},i=function(){return[{name:"Dashboard",entity:"dashboard",key:"ui.dashboard"},{name:"Account Type",entity:"account-type",key:"accounts.accounttype"},{name:"Account",entity:"account",key:"accounts.account"},{name:"Counterparty",entity:"counterparty",key:"counterparties.counterparty"},{name:"Responsible",entity:"responsible",key:"counterparties.responsible"},{name:"Currency",entity:"currency",key:"currencies.currency"},{name:"Currency history",entity:"currency-history",key:"currencies.currencyhistory"},{name:"Instrument",entity:"instrument",key:"instruments.instrument"},{name:"Pricing Policy",entity:"pricing-policy",key:"instruments.pricingpolicy"},{name:"Price History",entity:"price-history",key:"instruments.pricehistory"},{name:"Portfolio",entity:"portfolio",key:"portfolios.portfolio"},{name:"Instrument Type",entity:"instrument-type",key:"instruments.instrumenttype"},{name:"Transaction",entity:"transaction",key:"transactions.transaction"},{name:"Transaction Type",entity:"transaction-type",key:"transactions.transactiontype"},{name:"Transaction Type Group",entity:"transaction-type-group",key:"transactions.transactiontypegroup"},{name:"Counterparty group",entity:"counterparty-group",key:"counterparties.counterpartygroup"},{name:"Responsible group",entity:"responsible-group",key:"counterparties.responsiblegroup"},{name:"Strategy 1",entity:"strategy-1",key:"strategies.strategy1"},{name:"Strategy 2",entity:"strategy-2",key:"strategies.strategy2"},{name:"Strategy 3",entity:"strategy-3",key:"strategies.strategy3"},{name:"Strategy 1 group",entity:"strategy-1-group",key:"strategies.strategy1group"},{name:"Strategy 2 group",entity:"strategy-2-group",key:"strategies.strategy2group"},{name:"Strategy 3 group",entity:"strategy-3-group",key:"strategies.strategy3group"},{name:"Strategy 1 subgroup",entity:"strategy-1-subgroup",key:"strategies.strategy1subgroup"},{name:"Strategy 2 subgroup",entity:"strategy-2-subgroup",key:"strategies.strategy1subgroup"},{name:"Strategy 3 subgroup",entity:"strategy-3-subgroup",key:"strategies.strategy1subgroup"},{name:"Tag",entity:"tag",key:"tags.tag"},{name:"Balance report",entity:"balance-report",key:"reports.balancereport"},{name:"P&L report",entity:"pnl-report",key:"reports.plreport"},{name:"Transaction report",entity:"transaction-report",key:"reports.transactionreport"},{name:"Cash flow projection report",entity:"cash-flow-projection-report",key:"reports.cashflowreport"},{name:"Performance report",entity:"performance-report",key:"reports.performancereport"},{name:"Transaction",entity:"complex-transaction",key:"transactions.complextransaction"}]};t.exports={getListForTags:n,getListForUi:i,getListForTransactionTypeInputs:e}}()},{}],227:[function(e,t,n){!function(){"use strict";var n=(e("../../../../core/services/cookieService"),e("../services/configureRepositoryUrlService"),e("../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"transactions/event-class/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:a}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],228:[function(e,t,n){!function(){"use strict";var n=(e("../../../../core/services/cookieService"),e("../services/configureRepositoryUrlService"),e("../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"transactions/notification-class/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={getList:a}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],229:[function(e,t,n){!function(){"use strict";var e=function(){return["transaction","price-history","currency-history","currency","complex-transaction","counterparty-group","responsible-group"]};t.exports={getEntitiesWithDisabledPermissions:e}}()},{}],230:[function(e,t,n){!function(){"use strict";var e=function(){return window.fetch("portal/content/json/menu.json").then(function(e){return e.json()})},n=function(){return[]},i=function(){return["price-history","currency-history","transaction","complex-transaction","transaction-report","cash-flow-projection-report","performance-report","balance-report","pnl-report","audit-transaction","audit-instrument"]},a=function(){return["price-history","currency-history","transaction","pricing-policy","strategy-1","strategy-2","strategy-3","strategy-1-group","strategy-2-group","strategy-3-group","strategy-1-subgroup","strategy-2-subgroup","strategy-3-subgroup","audit-transaction","audit-instrument"]},o=function(e){var t={portfolio:[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"accounts",name:"Accounts",value_type:"mc_field"},{key:"responsibles",name:"Responsibles",value_type:"mc_field"},{key:"counterparties",name:"Counterparties",value_type:"mc_field"},{key:"transaction_types",name:"Transaction types",value_type:"mc_field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"audit-transaction":[{key:"date_formatted",name:"Date",value_type:10},{key:"username",name:"Member",value_type:10},{key:"field_name",name:"Field",value_type:10},{key:"old_value",name:"Old value",value_type:10},{key:"value",name:"New value",value_type:10},{key:"message",name:"Message",value_type:10}],"audit-instrument":[{key:"date_formatted",name:"Date",value_type:10},{key:"username",name:"Member",value_type:10},{key:"field_name",name:"Field",value_type:10},{key:"old_value",name:"Old value",value_type:10},{key:"value",name:"New value",value_type:10},{key:"message",name:"Message",value_type:10}],account:[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"portfolios",name:"Portfolios",value_type:"mc_field"},{key:"type",name:"Type",value_type:"field"},{key:"public_name",name:"Public name",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],tag:[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"content_types",name:"Content Types",value_type:"mc_field"}],"account-type":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"show_transaction_details",name:"Show transaction details",value_type:"boolean"},{key:"transaction_details_expr",name:"Transaction details expr",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],counterparty:[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"portfolios",name:"Portfolios",value_type:"mc_field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"counterparty-group":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],responsible:[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"portfolios",name:"Portfolios",value_type:"mc_field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"responsible-group":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],"pricing-policy":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"expr",name:"Expression",value_type:10},{key:"user_code",name:"User code",value_type:10}],"instrument-type":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"is_active",name:"Is active",value_type:"boolean"},{key:"instrument_class",name:"Instrument class",value_type:"field"},{key:"one_off_event",name:"One off event",value_type:"field"},{key:"regular_event",name:"Regular event",value_type:"field"},{key:"factor_same",name:"Factor same",value_type:"field"},{key:"factor_up",name:"Factor up",value_type:"field"},{key:"factor_down",name:"Factor down",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],instrument:[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"instrument_type",name:"Instrument type",value_type:"field"},{key:"is_active",name:"Is active",value_type:"boolean"},{key:"reference_for_pricing",name:"Reference for pricing",value_type:10},{key:"price_download_scheme",name:"Price download scheme",value_type:"field"},{key:"pricing_currency",name:"Pricing currency",value_type:"field"},{key:"price_multiplier",name:"Price multiplier",
value_type:"float"},{key:"accrued_currency",name:"Accrued currency",value_type:"field"},{key:"maturity_date",name:"Maturity date",value_type:40},{key:"accrued_multiplier",name:"Accrued multiplier",value_type:"float"},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"payment_size_detail",name:"Payment size detail",value_type:"field"},{key:"default_price",name:"Default price",value_type:"float"},{key:"default_accrued",name:"Default accrued",value_type:"float"},{key:"user_text_1",name:"User text 1",value_type:10},{key:"user_text_2",name:"User text 2",value_type:10},{key:"user_text_3",name:"User text 3",value_type:10},{key:"object_permissions_user",name:"Users permissions",value_type:"mc_field"},{key:"object_permissions_group",name:"Groups permissions",value_type:"mc_field"},{key:"tags",name:"Tags",value_type:"mc_field"}],transaction:[{key:"transaction_code",name:"Transaction Code",value_type:20},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"position_size_with_sign",name:"Position Size with sign",value_type:"float"},{key:"settlement_currency",name:"Settlement currency",value_type:"field"},{key:"cash_consideration",name:"Cash consideration",value_type:"float"},{key:"principal_with_sign",name:"Principal with sign",value_type:"float"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"accounting_date",name:"Accounting date",value_type:40},{key:"cash_date",name:"Cash date",value_type:40},{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"strategy1_position",name:"Strategy1 position",value_type:"field"},{key:"strategy1_cash",name:"Strategy1 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy2 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy2 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy3 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy3 cash",value_type:"field"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"is_locked",name:"Is locked",value_type:"boolean"},{key:"is_canceled",name:"Is canceled",value_type:"boolean"},{key:"factor",name:"Factor",value_type:"float"},{key:"principal_amount",name:"Principal amount",value_type:"float"},{key:"carry_amount",name:"Carry amount",value_type:"float"},{key:"overheads",name:"overheads",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"}],"transaction-type-group":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],"transaction-type":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"display_expr",name:"Display Expression",value_type:10},{key:"instrument_types",name:"Instrument types",value_type:"mc_field"},{key:"portfolios",name:"Portfolios",value_type:"mc_field"},{key:"tags",name:"Tags",value_type:"mc_field"},{key:"tags",name:"Tags",value_type:"mc_field"}],currency:[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"reference_for_pricing",name:"Reference for pricing",value_type:10},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"price_download_scheme",name:"Price download scheme",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"currency-history":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"currency",name:"Currency",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"fx_rate",name:"Fx rate",value_type:"float"},{key:"pricing_policy",name:"Pricing policy",value_type:"field"}],"price-history":[{key:"instrument",name:"Instrument",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"pricing_policy",name:"Pricing policy",value_type:"field"},{key:"principal_price",name:"Principal price",value_type:"float"},{key:"accrued_price",name:"Accrued price",value_type:"float"}],"strategy-1":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"subgroup",name:"Sub Group",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-2":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"subgroup",name:"Sub Group",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-3":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"subgroup",name:"Sub Group",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-1-subgroup":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-2-subgroup":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-3-subgroup":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-1-group":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-2-group":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],"strategy-3-group":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],"balance-report":[{key:"position_size",name:"Position size",value_type:"float"},{key:"pricing_currency",name:"Pricing",value_type:"float"},{key:"instrument_pricing_currency_fx_rate",name:"Pricing currency fx rate",value_type:"float"},{key:"instrument_accrued_currency_fx_rate",name:"Accrued currency FX rate",value_type:"float"},{key:"instrument_accrual_object_accrual_size",name:"Current Payment Size",value_type:"float"},{key:"instrument_accrual_object_periodicity_object_name",name:"Current Payment Frequency",value_type:"float"},{key:"instrument_accrual_object_periodicity_n",name:"Current Payment Periodicity N",value_type:"float"},{key:"date",name:"Date",value_type:40},{key:"ytm",name:"YTM",value_type:"float"},{key:"modified_duration",name:"Modified duration",value_type:"float"},{key:"last_notes",name:"Last notes",value_type:10},{key:"gross_cost_price_loc",name:"Gross cost price (LOC)",value_type:"float"},{key:"ytm_at_cost",name:"YTM at cost",value_type:"float"},{key:"time_invested",name:"Time invested",value_type:"float"},{key:"net_cost_price_loc",name:"Net cost price (LOC)",value_type:"float"},{key:"principal_invested",name:"Principal invested",value_type:"float"},{key:"principal_invested_loc",name:"Principal invested (LOC)",value_type:"float"},{key:"amount_invested",name:"Amount invested",value_type:"float"},{key:"amount_invested_loc",name:"Amount invested (LOC)",value_type:"float"},{key:"market_value",name:"Market value",value_type:"float"},{key:"market_value_loc",name:"Market value (LOC)",value_type:"float"},{key:"market_value_percent",name:"Market value %",value_type:"float"},{key:"exposure",name:"Exposure",value_type:"float"},{key:"exposure_percent",name:"Exposure %",value_type:"float"},{key:"exposure_loc",name:"Exposure (LOC)",value_type:"float"}],"report-addon-performance":[{key:"instrument_principal",name:"Opened Principal",value_type:"float"},{key:"instrument_accrued",name:"Opened Carry",value_type:"float"},{key:"net_position_return",name:"Net position return",value_type:"float"},{key:"net_position_return_loc",name:"Net position return (LOC)",value_type:"float"},{key:"position_return",name:"Position return",value_type:"float"},{key:"position_return_loc",name:"Position return (LOC)",value_type:"float"},{key:"daily_price_change",name:"Daily price change",value_type:"float"},{key:"mtd_price_change",name:"MTD price change",value_type:"float"}],"pnl-report":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short Name",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"account",name:"Account",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"currency",name:"Currency",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"strategy-1",name:"Strategy 1",value_type:"field"},{key:"strategy-2",name:"Strategy 2",value_type:"field"},{key:"strategy-3",name:"Strategy 3",value_type:"field"},{key:"carry",name:"Carry",value_type:"float"},{key:"carry_closed",name:"Carry closed",value_type:"float"},{key:"carry_fixed",name:"Carry fixed",value_type:"float"},{key:"carry_fixed_closed",name:"Carry fixed closed",value_type:"float"},{key:"carry_fixed_opened",name:"Carry fixed opened",value_type:"float"},{key:"carry_fx",name:"Carry FX",value_type:"float"},{key:"carry_fx_closed",name:"Carry FX closed",value_type:"float"},{key:"carry_fx_opened",name:"Carry FX opened",value_type:"float"},{key:"carry_opened",name:"Carry opened",value_type:"float"},{key:"overheads",name:"Overheads",value_type:"float"},{key:"overheads_closed",name:"Overheads closed",value_type:"float"},{key:"overheads_fixed",name:"Overheads fixed",value_type:"float"},{key:"overheads_fixed_closed",name:"Overheads fixed closed",value_type:"float"},{key:"overheads_fixed_opened",name:"Overheads fixed opened",value_type:"float"},{key:"overheads_fx",name:"Overheads FX",value_type:"float"},{key:"overheads_fx_closed",name:"Overheads FX closed",value_type:"float"},{key:"overheads_fx_opened",name:"Overheads FX opened",value_type:"float"},{key:"overheads_opened",name:"Overheads opened",value_type:"float"},{key:"principal",name:"Principal",value_type:"float"},{key:"principal_closed",name:"Principal closed",value_type:"float"},{key:"principal_fixed",name:"Principal fixed",value_type:"float"},{key:"principal_fixed_closed",name:"Principal fixed closed",value_type:"float"},{key:"principal_fixed_opened",name:"Principal fixed opened",value_type:"float"},{key:"principal_fx",name:"Principal FX",value_type:"float"},{key:"principal_fx_closed",name:"Principal FX closed",value_type:"float"},{key:"principal_fx_opened",name:"Principal FX opened",value_type:"float"},{key:"principal_opened",name:"Principal opened",value_type:"float"},{key:"total",name:"Total",value_type:"float"},{key:"total_closed",name:"Total closed",value_type:"float"},{key:"total_fixed",name:"Total fixed",value_type:"float"},{key:"total_fixed_closed",name:"Total fixed closed",value_type:"float"},{key:"total_fixed_opened",name:"Total fixed opened",value_type:"float"},{key:"total_fx",name:"Total FX",value_type:"float"},{key:"total_fx_closed",name:"Total FX closed",value_type:"float"},{key:"total_fx_opened",name:"Total FX opened",value_type:"float"},{key:"total_opened",name:"Total opened",value_type:"float"},{key:"total_real",name:"Total real",value_type:"float"},{key:"total_unreal",name:"Total unreal",value_type:"float"},{key:"market_value",name:"Market value",value_type:"float"},{key:"exposure",name:"Exposure",value_type:"float"},{key:"market_value_percent",name:"Market value %",value_type:"float"},{key:"exposure_percent",name:"Exposure %",value_type:"float"}],"transaction-report":[{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"account_date",name:"Account date",value_type:40},{key:"allocation_balance",name:"Allocation balance",value_type:"field"},{key:"allocation_pl",name:"Allocation pl",value_type:"field"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"cash_consideration",name:"Cash consideration",value_type:"float"},{key:"cash_date",name:"Cash date",value_type:40},{key:"complex-transaction",name:"Complex transaction",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"linked_instrument",name:"Linked Instrument",value_type:"field"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"principal_with_sign",name:"Principal with sign",value_type:"float"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"settlement_currency",name:"Settlement currency",value_type:"field"},{key:"strategy1_cash",name:"Strategy 1 cash",value_type:"field"},{key:"strategy1_position",name:"Strategy 1 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy 2 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy 2 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy 3 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy 3 position",value_type:"field"},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"transaction_code",name:"Transaction code",value_type:"float"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"transaction_date",name:"Transaction date",value_type:40}],"cash-flow-projection-report":[{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"allocation_balance",name:"Allocation balance",value_type:"field"},{key:"allocation_pl",name:"Allocation pl",value_type:"field"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"cash_consideration",name:"Cash consideration",value_type:"float"},{key:"cash_consideration_after",name:"Cash consideration after",value_type:"float"},{key:"cash_consideration_before",name:"Cash consideration before",value_type:"float"},{key:"cash_date",name:"Cash date",value_type:40},{key:"complex-transaction",name:"Complex transaction",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"linked_instrument",name:"Linked Instrument",value_type:"field"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"settlement_currency",name:"Settlement currency",value_type:"field"},{key:"strategy1_cash",name:"Strategy 1 cash",value_type:"field"},{key:"strategy1_position",name:"Strategy 1 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy 2 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy 2 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy 3 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy 3 position",value_type:"field"},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"transaction_code",name:"Transaction code",value_type:"float"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"transaction_date",name:"Transaction date",value_type:40}],"performance-report":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"account",name:"Account",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"currency",name:"Currency",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"strategy-1",name:"Strategy 1",value_type:"field"},{key:"strategy-2",name:"Strategy 2",value_type:"field"},{key:"strategy-3",name:"Strategy 3",value_type:"field"},{key:"position_size",name:"Position size",value_type:"float"},{key:"market_value",name:"Market value",value_type:"float"},{key:"exposure",name:"Exposure",value_type:"float"},{key:"market_value_percent",name:"Market value %",value_type:"float"},{key:"exposure_percent",name:"Exposure %",value_type:"float"}],"complex-transaction":[{key:"code",name:"Code",value_type:"float"},{key:"date",name:"Date",value_type:40},{key:"status",name:"Status",value_type:10},{key:"text",name:"Description",value_type:10}],"instrument-scheme":[{key:"reference_for_pricing",name:"Reference for pricing",value_type:10},{key:"factor_schedule_method",name:"Factor schedule method",type:"field"},{key:"accrual_calculation_schedule_method",name:"Accrual calculation schedule method",type:"field"},{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"instrument_type",name:"Instrument type",value_type:10},{key:"pricing_currency",name:"Pricing currency",value_type:10},{key:"price_multiplier",name:"Price multiplier",value_type:10},{key:"accrued_currency",name:"Accrued currency",value_type:10},{key:"accrued_multiplier",name:"Accrued multiplier",value_type:10},{key:"user_text_1",name:"User text 1",value_type:10},{key:"user_text_2",name:"User text 2",value_type:10},{key:"user_text_3",name:"User text 3",value_type:10},{key:"maturity_date",name:"Maturity date",value_type:10},{key:"payment_size_detail",name:"Payment size detail",value_type:"field"},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"price_download_scheme",name:"Price download scheme",value_type:"field"},{key:"default_price",name:"Default price",value_type:10},{key:"default_accrued",name:"Default accrued",value_type:10}]};return t[e]},r=function(){return[{value:20,display_name:"Number"},{value:10,display_name:"String"},{value:40,display_name:"Date"},{value:30,display_name:"Classifier"},{value:"decoration",display_name:"Decoration"},{value:"field",display_name:"Field"},{value:"mc_field",display_name:"Multiple choice field"},{value:"boolean",display_name:"Boolean"},{value:"float",display_name:"Float"}]},s=function(){return[{value:20,display_name:"Number"},{value:10,display_name:"String"},{value:40,display_name:"Date"},{value:30,display_name:"Classifier"}]},c=function(){return["daily_pricing_model","payment_size_detail","accrued_currency","pricing_currency"]},l=function(e){switch(e){case"instrument":return[{label:"Accruals",templateUrl:"views/tabs/instrument/accrual-calculation-schedules-view.html"},{label:"Events",templateUrl:"views/tabs/instrument/events-view.html"},{label:"Pricing",templateUrl:"views/tabs/instrument/manual-pricing-formulas-view.html"},{label:"Factors",templateUrl:"views/tabs/instrument/factor-schedule-view.html"}];case"complex-transaction":return[{label:"Actions",templateUrl:"views/tabs/complex-transaction/book-transaction-actions-tab-view.html"},{enabled:["update"],label:"Transactions",templateUrl:"views/tabs/complex-transaction/book-transaction-transactions-tab-view.html"}];case"transaction-type":return[{label:"General",templateUrl:"views/tabs/transaction-type/transaction-type-general-tab-view.html"},{label:"Inputs",templateUrl:"views/tabs/transaction-type/transaction-type-inputs-tab-view.html"},{label:"Actions",templateUrl:"views/tabs/transaction-type/transaction-type-actions-tab-view.html"}]}},d=function(){return["responsible","counterparty","strategy-1","strategy-2","strategy-3","transaction-type","transaction-type-group","strategy-1-group","strategy-2-group","strategy-3-group","strategy-1-subgroup","strategy-2-subgroup","strategy-3-subgroup"]},u=function(){return["instrument_type","type","transaction_type","instrument_types","transaction_types","account_types"]};t.exports={getMenu:e,getBaseAttrs:n,getEntityAttrs:o,getValueTypes:r,getDynamicAttrsValueTypes:s,getEntitiesWithoutDynAttrsList:a,getEntityTabs:l,getEntitiesWithoutBaseAttrsList:i,getRestrictedEntitiesWithTypeField:c,getEntitiesWithSimpleFields:d,getFieldsWithTagGrouping:u}}()},{}],231:[function(e,t,n){!function(){"use strict";var e=function(){return["price-history","currency-history","complex-transaction","transaction","balance-report","pnl-report","transaction-report","cash-flow-projection-report","performance-report","audit-transaction","audit-instrument"]},n=function(){return["price-history","currency-history","instrument-type","account-type","pricing-policy","strategy-1","strategy-2","strategy-3","transaction-type","strategy-1-group","strategy-2-group","strategy-3-group","balance-report","pnl-report","transaction-report","cash-flow-projection-report","performance-report","counterparty-group","responsible-group","tag","transaction-type-group","strategy-1-subgroup","strategy-2-subgroup","strategy-3-subgroup","audit-transaction","audit-instrument"]},i=function(){return["daily_pricing_model","payment_size_detail","accrued_currency","pricing_currency"]};t.exports={getEntitiesWithoutDynamicAttrsList:n,getEntitiesWithoutBaseAttrsList:e,getRestrictedEntitiesWithTypeField:i}}()},{}],232:[function(e,t,n){!function(){"use strict";var n=e("../services/baseUrlService"),i=n.resolve(),a=e("../../../../core/services/cookieService"),o=function(e,t){var n="";switch(t){case"unreaded":n="?all=false&page="+e;break;default:n="?all=true&page="+e}return console.log("notification list url is",n),window.fetch(i+"notifications/notification/"+n,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e,t){return window.fetch(i+"notifications/notification/"+e+"/mark-as-read/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":a.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},s=function(){return window.fetch(i+"notifications/notification/mark-as-read/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":a.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({})}).then(function(e){return e.json()})};t.exports={getList:o,markAsReaded:r,markAllAsReaded:s}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258}],233:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(){return window.fetch(o+"portfolios/portfolio-classifier/node/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"portfolios/portfolio-classifier/node/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(){return window.fetch(o+"portfolios/portfolio-classifier/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e){return window.fetch(o+"portfolios/portfolio-classifier/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},d=function(e){return window.fetch(i.configureUrl(o+"portfolios/portfolio/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},u=function(e){return window.fetch(o+"portfolios/portfolio/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},m=function(e){return window.fetch(o+"portfolios/portfolio/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},p=function(e,t){return window.fetch(o+"portfolios/portfolio/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},g=function(e){return window.fetch(o+"portfolios/portfolio/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},y=function(e){return window.fetch(o+"portfolios/portfolio/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getClassifierNodeList:r,getClassifierNodeByKey:s,getClassifierList:c,getClassifierByKey:l,getList:d,getByKey:u,create:m,update:p,deleteByKey:y,updateBulk:g}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],234:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"instruments/price-history/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/price-history/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/price-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"instruments/price-history/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"instruments/price-history/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],235:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"instruments/pricing-policy/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"instruments/pricing-policy/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"instruments/pricing-policy/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"instruments/pricing-policy/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"instruments/pricing-policy/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],236:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/baseUrlService"),a=i.resolve(),o=function(e){return window.fetch(a+"reports/report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+"reports/transaction-report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},s=function(e){return window.fetch(a+"reports/cash-flow-projection-report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})},c=function(e){return window.fetch(a+"reports/performance-report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})};t.exports={getList:o,getTransactionReport:r,getCashFlowProjectionReport:s,getPerformanceReport:c}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258}],237:[function(e,t,n){!function(){"use strict";
var n=e("../../../../../core/services/cookieService"),i=e("../../services/baseUrlService"),a=i.resolve();a+="reports/custom-field/";var o=function(){return window.fetch(a,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},r=function(e){return window.fetch(a+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(a,{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},c=function(e,t){return window.fetch(a+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e){return window.fetch(a+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(t,n){console.log("data",e),409===e.status&&t({status:"conflict"}),t({status:"success"})})})};t.exports={getList:o,getByKey:r,create:s,update:c,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258}],238:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"counterparties/responsible-group/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"counterparties/responsible-group/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"counterparties/responsible-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"counterparties/responsible-group/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"counterparties/responsible-group/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],239:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"counterparties/responsible/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"counterparties/responsible/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"counterparties/responsible/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"counterparties/responsible/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"counterparties/responsible/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e){return window.fetch(o+"counterparties/responsible/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:u,updateBulk:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],240:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e,t){return window.fetch(i.configureUrl(o+"strategies/"+e+"/group/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(o+"strategies/"+e+"/group/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(o+"strategies/"+e+"/group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t,i){return window.fetch(o+"strategies/"+e+"/group/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e,t){return window.fetch(o+"strategies/"+e+"/group/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],241:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e,t){return window.fetch(i.configureUrl(o+"strategies/"+e+"/strategy/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(o+"strategies/"+e+"/strategy/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(o+"strategies/"+e+"/strategy/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t,i){return window.fetch(o+"strategies/"+e+"/strategy/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e,t){return window.fetch(o+"strategies/"+e+"/strategy/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],242:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e,t){return window.fetch(i.configureUrl(o+"strategies/"+e+"/subgroup/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e,t){return window.fetch(o+"strategies/"+e+"/subgroup/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return window.fetch(o+"strategies/"+e+"/subgroup/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t,i){return window.fetch(o+"strategies/"+e+"/subgroup/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e,t){return window.fetch(o+"strategies/"+e+"/subgroup/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],243:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/metaContentTypesService"),a=e("../services/configureRepositoryUrlService"),o=e("../services/baseUrlService"),r=o.resolve(),s=function(e){return window.fetch(a.configureUrl(r+"tags/tag/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){var t=i.findContentTypeByEntity(e,"tag");return console.log("content type is",t),window.fetch(r+"tags/tag/?content_type="+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(e){return window.fetch(r+"tags/tag/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},d=function(e){return window.fetch(r+"tags/tag/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},u=function(e,t){return window.fetch(r+"tags/tag/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},m=function(e){return window.fetch(r+"tags/tag/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:s,getListByContentType:c,getByKey:l,create:d,update:u,deleteByKey:m}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261,"../services/metaContentTypesService":321}],244:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"transactions/transaction/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"transactions/transaction/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"transactions/transaction/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"transactions/transaction/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"transactions/transaction/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],245:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"transactions/transaction-type/",e),{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"transactions/transaction-type/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"transactions/transaction-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"transactions/transaction-type/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"transactions/transaction-type/"+e+"/",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})},u=function(e){return window.fetch(o+"transactions/transaction-type/"+e+"/book/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},m=function(e,t){return window.fetch(o+"transactions/transaction-type/"+e+"/book/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d,getBookTransaction:u,bookTransaction:m}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],246:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/configureRepositoryUrlService"),a=e("../../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"transactions/complex-transaction/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"transactions/complex-transaction/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"transactions/complex-transaction/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"transactions/complex-transaction/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"transactions/complex-transaction/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})},u=function(e,t){return window.fetch(o+"transactions/complex-transaction/"+e+"/book/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},m=function(e,t){return window.fetch(o+"transactions/complex-transaction/"+e+"/book/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d,getBookComplexTransaction:u,bookComplexTransaction:m}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],247:[function(e,t,n){!function(){"use strict";var e=[{value:"1",name:"Buy"},{value:"2",name:"Sell"},{value:"3",name:"FX Trade"},{value:"4",name:"Instrument PL"},{value:"5",name:"Transaction PL"},{value:"6",name:"Transfer"},{value:"7",name:"FX Transfer"},{value:"8",name:"Cash-Inflow"},{value:"9",name:"Cash-Outflow"}],n=function(){return new Promise(function(t,n){t(e)})},i=function(){return e};t.exports={getList:n,getListSync:i}}()},{}],248:[function(e,t,n){!function(){"use strict";var n=e("../../../../../core/services/cookieService"),i=e("../../services/configureRepositoryUrlService"),a=e("../../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"transactions/transaction-type-group/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"transactions/transaction-type-group/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"transactions/transaction-type-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"transactions/transaction-type-group/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"transactions/transaction-type-group/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":258,"../../services/configureRepositoryUrlService":261}],249:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/metaContentTypesService"),a=e("./metaRestrictionsRepository"),o=e("../services/baseUrlService"),r=o.resolve(),s=function(e){var t=i.findContentTypeByEntity(e,"ui");return window.fetch(r+"ui/edit-layout/?content_type="+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e,t){return t.content_type=i.findContentTypeByEntity(e,"ui"),window.fetch(r+"ui/edit-layout/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},l=function(e,t){return window.fetch(r+"ui/edit-layout/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},d=function(e){if("all"==e)return window.fetch(r+"ui/list-layout/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()});var t=i.findContentTypeByEntity(e,"ui");return window.fetch(r+"ui/list-layout/?content_type="+t,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},u=function(e){return window.fetch(r+"ui/list-layout/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},m=function(e){var t=i.findContentTypeByEntity(e,"ui");return window.fetch(r+"ui/list-layout/?is_default=2&content_type="+t,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return console.log("ui repository data",e),e.json()})},p=function(e,t){return t.content_type=i.findContentTypeByEntity(e,"ui"),window.fetch(r+"ui/list-layout/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},g=function(e,t){return window.fetch(r+"ui/list-layout/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},y=function(e){return new Promise(function(t,i){window.fetch(r+"ui/list-layout/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){t(void 0)})})},v=function(e){var t;return t=a.getEntitiesWithoutBaseAttrsList().indexOf(e)!==-1?[]:[{row:1,colspan:"1",column:1,editMode:!1,id:null,name:"Name",disabled:!1,options:{notNull:!0},attribute:{value_type:10,name:"Name",key:"name",disabled:!0},type:"field",key:null}],[{data:[{name:"General",id:1,layout:{fields:t,rows:1,columns:1}}]}]},f=function(){return[{name:"default",data:{tableAdditions:{foreignEntityId:null,table:{sorting:{column:{sort:null,key:null}},columns:[],filters:[]},additionsType:"",entityType:null},table:{folding:!1,sorting:{group:{id:null,sort:"DESC",key:null},column:{id:null,sort:"ASC",key:null}},grouping:[],columns:[{value_type:10,name:"Name",key:"name"}],filters:[],columnsWidth:[238]},additionsType:""}}]},h=function(e,t){if("complex-transaction"==e)return window.fetch(r+"transactions/transaction-type/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},b=function(e,t,i){if("complex-transaction"==e)return window.fetch(r+"transactions/transaction-type/"+t+"/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(e){return e.json()})};t.exports={getDefaultEditLayout:v,getDefaultListLayout:f,getEditLayout:s,createEditLayout:c,updateEditLayout:l,getListLayout:d,getListLayoutByKey:u,createListLayout:p,updateListLayout:g,deleteListLayoutByKey:y,getEditLayoutByInstanceId:h,updateEditLayoutByInstanceId:b,getActiveListLayout:m}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/metaContentTypesService":321,"./metaRestrictionsRepository":231}],250:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/configureRepositoryUrlService"),a=e("../services/baseUrlService"),o=a.resolve(),r=function(e){return window.fetch(i.configureUrl(o+"users/group/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},s=function(e){return window.fetch(o+"users/group/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},c=function(e){return window.fetch(o+"users/group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},l=function(e,t){return window.fetch(o+"users/group/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},d=function(e){return window.fetch(o+"users/group/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(e){return new Promise(function(e,t){e({status:"deleted"})})})};t.exports={getList:r,getByKey:s,create:c,update:l,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258,"../services/configureRepositoryUrlService":261}],251:[function(e,t,n){!function(){"use strict";var n=e("../../../../core/services/cookieService"),i=e("../services/baseUrlService"),a=i.resolve(),o=function(e){console.log("Method: "+e+". Cannot get data from server")},r=function(e,t){return window.fetch(a+"users/login/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({username:e,password:t})}).then(function(e){return e.json()})["catch"](function(){return o("login"),[]})},s=function(){return window.fetch(a+"users/logout/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({})}).then(function(e){return e.json()})},c=function(){return window.fetch(a+"users/ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},l=function(){return window.fetch(a+"users/protected-ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},d=function(){return window.fetch(a+"users/user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},u=function(e){return window.fetch(a+"users/user/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},m=function(){return window.fetch(a+"users/user/0/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},p=function(e,t){return window.fetch(a+"users/user/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return new Promise(function(t,n){e.json().then(function(n){t({response:n,status:e.status})})})})},g=function(e,t){return window.fetch(a+"users/user/"+e+"/",{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},y=function(e){return window.fetch(a+"users/user/"+e+"/",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},v=function(){return window.fetch(a+"users/master-user/",{
method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},f=function(e){return window.fetch(a+"users/master-user/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},h=function(e,t){return window.fetch(a+"users/master-user/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},b=function(e,t){return window.fetch(a+"users/master-user/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},_=function(e){return window.fetch(a+"users/master-user/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},w=function(){return window.fetch(a+"users/member/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},k=function(e){return window.fetch(a+"users/member/"+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},S=function(e,t){return window.fetch(a+"users/member/"+e,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},x=function(e,t){return window.fetch(a+"users/member/"+e,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()})},C=function(e){return window.fetch(a+"users/member/"+e,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})},T=function(){return window.fetch(a+"users/group/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(e){return e.json()})};t.exports={login:r,logout:s,ping:c,protectedPing:l,getList:d,getByKey:u,getMe:m,update:p,patch:g,deleteByKey:y,getMasterList:v,getMasterByKey:f,updateMaster:h,patchMaster:b,deleteMasterByKey:_,getMemberList:w,getMemberByKey:k,updateMember:S,patchMember:x,deleteMemberByKey:C,getGroupList:T}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":258}],252:[function(e,t,n){!function(){t.exports=function(e,t){e.state("app",{url:"",templateUrl:"views/shell-view.html",controller:"ShellController as vm"}).state("app.attributesManager",{url:"/attributes/:entityType",templateUrl:"views/attributes-manager-view.html",controller:"AttributesManagerController as vm",params:{prevState:""}}),e.state("app.dashboard",{url:"/",templateUrl:"views/dashboard-view.html",controller:"DashboardController as vm"}),e.state("app.actions",{url:"/actions",templateUrl:"views/actions-view.html",controller:"ActionsController as vm"}),e.state("app.data-constructor",{url:"/layout/:entityType/:instanceId",params:{instanceId:null},templateUrl:"views/entity-data-constructor-view.html",controller:"EntityDataConstructorController as vm"}),t.otherwise("/"),e.state("app.data",{url:"/data","abstract":!0,template:"<div data-ui-view></div>"}).state("app.data.portfolio",{url:"/portfolios",templateUrl:"views/data/data-portfolio-view.html",controller:"DataPortfolioController as vm",params:{listLayout:null}}).state("app.data.tag",{url:"/tags",templateUrl:"views/data/data-tag-view.html",controller:"DataTagController as vm",params:{listLayout:null}}).state("app.data.account",{url:"/accounts",templateUrl:"views/data/data-account-view.html",controller:"DataAccountController as vm",params:{listLayout:null}}).state("app.data.account-type",{url:"/account-types",templateUrl:"views/data/data-account-type-view.html",controller:"DataAccountTypeController as vm",params:{listLayout:null}}).state("app.data.counterparty-group",{url:"/counterparty-group",templateUrl:"views/data/data-counterparty-group-view.html",controller:"DataCounterpartyGroupController as vm",params:{listLayout:null}}).state("app.data.counterparty",{url:"/counterparties",templateUrl:"views/data/data-counterparty-view.html",controller:"DataCounterpartyController as vm",params:{listLayout:null}}).state("app.data.responsible-group",{url:"/responsible-group",templateUrl:"views/data/data-responsible-group-view.html",controller:"DataResponsibleGroupController as vm",params:{listLayout:null}}).state("app.data.responsible",{url:"/responsibles",templateUrl:"views/data/data-responsible-view.html",controller:"DataResponsibleController as vm",params:{listLayout:null}}).state("app.data.instrument",{url:"/instruments",templateUrl:"views/data/data-instrument-view.html",controller:"DataInstrumentController as vm",params:{listLayout:null}}).state("app.data.instrument-type",{url:"/instrument-types",templateUrl:"views/data/data-instrument-type-view.html",controller:"DataInstrumentTypeController as vm",params:{listLayout:null}}).state("app.data.pricing-policy",{url:"/pricing-policy",templateUrl:"views/data/data-pricing-policy-view.html",controller:"DataPricingPolicyController as vm",params:{listLayout:null}}).state("app.data.complex-transaction",{url:"/complex-transactions",templateUrl:"views/data/data-complex-transaction-view.html",controller:"DataComplexTransactionController as vm",params:{listLayout:null}}).state("app.data.transaction",{url:"/transactions",templateUrl:"views/data/data-transaction-view.html",controller:"DataTransactionController as vm",params:{listLayout:null}}).state("app.data.transaction-type",{url:"/transaction-types",templateUrl:"views/data/data-transaction-type-view.html",controller:"DataTransactionTypeController as vm",params:{listLayout:null}}).state("app.data.transaction-type-group",{url:"/transaction-type-group",templateUrl:"views/data/data-transaction-type-group-view.html",controller:"DataTransactionTypeGroupController as vm",params:{listLayout:null}}).state("app.data.currency-history",{url:"/currencies",templateUrl:"views/data/data-currency-history-view.html",controller:"DataCurrencyHistoryController as vm"}).state("app.data.price-history",{url:"/pricing",templateUrl:"views/data/data-price-history-view.html",controller:"DataPriceHistoryController as vm",params:{listLayout:null}}).state("app.data.currency",{url:"/currency",templateUrl:"views/data/data-currency-view.html",controller:"DataCurrencyController as vm",params:{listLayout:null}}).state("app.data.strategy-group",{url:"/strategy/:strategyNumber/group",templateUrl:"views/data/data-strategy-group-view.html",controller:"DataStrategyGroupController as vm",params:{listLayout:null}}).state("app.data.strategy-subgroup",{url:"/strategy/:strategyNumber/subgroup",templateUrl:"views/data/data-strategy-subgroup-view.html",controller:"DataStrategySubgroupController as vm",params:{listLayout:null}}).state("app.data.strategy",{url:"/strategy/:strategyNumber",templateUrl:"views/data/data-strategy-view.html",controller:"DataStrategyController as vm",params:{listLayout:null}}).state("app.reports",{url:"/reports","abstract":!0,template:"<div data-ui-view></div>"}).state("app.reports.balance-report",{url:"/balance",templateUrl:"views/reports/reports-balance-view.html",controller:"BalanceReportController as vm",params:{listLayout:null}}).state("app.reports.customAttributesManager",{url:"/:entityType/customAttributes",templateUrl:"views/reports/reports-custom-attr-view.html",controller:"ReportCustomAttrController as vm",params:{prevState:""}}).state("app.reports.pnl-report",{url:"/profit-and-lost",templateUrl:"views/reports/reports-profit-and-lost-view.html",controller:"ProfitAndLostReportController as vm",params:{listLayout:null}}).state("app.reports.transaction-report",{url:"/transaction",templateUrl:"views/reports/reports-transaction-view.html",controller:"TransactionReportController as vm",params:{listLayout:null}}).state("app.reports.cash-flow-projection-report",{url:"/cash-flow-projection",templateUrl:"views/reports/reports-cash-flow-projection-view.html",controller:"CashFlowProjectionReportController as vm",params:{listLayout:null}}).state("app.reports.performance-report",{url:"/performance",templateUrl:"views/reports/reports-performance-view.html",controller:"PerformanceReportController as vm",params:{listLayout:null}}).state("app.settings",{"abstract":!0,url:"/settings",template:"<div data-ui-view></div>"}).state("app.settings.general",{"abstract":!0,url:"/general",templateUrl:"views/settings/general-view.html",controller:"SettingsGeneralController as vm"}).state("app.settings.general.profile",{url:"/profile",views:{profile:{templateUrl:"views/settings/profile-settings-view.html",controller:"SettingsGeneralProfileController as vm"}}}).state("app.settings.general.data-providers",{url:"/data-providers",views:{"data-providers":{templateUrl:"views/settings/data-providers-settings-view.html",controller:"SettingsGeneralDataProvidersController as vm"}}}).state("app.settings.general.data-providers-config",{url:"/data-providers/:dataProviderId",views:{"data-providers":{templateUrl:"views/settings/data-providers-config-settings-view.html",controller:"SettingsGeneralDataProvidersConfigController as vm"}}}).state("app.settings.general.instrument-import",{url:"/instrument-import",views:{"instrument-import":{templateUrl:"views/settings/instrument-import-settings-view.html",controller:"SettingsGeneralInstrumentImportController as vm"}}}).state("app.settings.general.transaction-import",{url:"/transaction-import",views:{"transaction-import":{templateUrl:"views/settings/transaction-import-settings-view.html",controller:"SettingsGeneralTransactionImportController as vm"}}}).state("app.settings.form-design",{url:"/form",templateUrl:"views/settings/form-design-view.html",controller:"SettingsFormDesignController as vm"}).state("app.settings.users-groups",{url:"/users-and-groups",templateUrl:"views/settings/users-and-groups-view.html",controller:"SettingsMembersAndGroupsController as vm"}).state("app.system",{"abstract":!0,url:"/system",template:"<div data-ui-view></div>"}).state("app.system.notifications",{url:"/notifications",templateUrl:"views/system/notifications-view.html",controller:"NotificationsController as vm",params:{notificationsListType:"all"}}).state("app.system.transactions",{url:"/audit/transactions",templateUrl:"views/system/audit-transactions-view.html",controller:"TransactionsAuditController as vm"}).state("app.system.instruments",{url:"/audit/instruments",templateUrl:"views/system/audit-instruments-view.html",controller:"InstrumentsAuditController as vm"}).state("app.system.audit",{url:"/audit",templateUrl:"views/system/audit-view.html",controller:"AuditController as vm"})}}()},{}],253:[function(e,t,n){!function(){var n=e("../repositories/accountRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)},c=function(e){return n.updateBulk(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/accountRepository":176}],254:[function(e,t,n){!function(){var n=e("../repositories/accountTypeRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)},c=function(e){return n.updateBulk(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/accountTypeRepository":177}],255:[function(e,t,n){!function(){"use strict";var n=e("../repositories/accrualCalculationModelRepository"),i=function(){return n.getList()};t.exports={getList:i}}()},{"../repositories/accrualCalculationModelRepository":178}],256:[function(e,t,n){!function(){"use strict";var n=e("../repositories/attributeTypeRepository"),i=function(e){return n.getList(e)},a=function(e,t){return n.getByKey(e,t)},o=function(e,t){return n.create(e,t)},r=function(e,t,i){return n.update(e,t,i)},s=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/attributeTypeRepository":179}],257:[function(e,t,n){!function(){var n=e("../repositories/auditRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/auditRepository":180}],258:[function(e,t,n){!function(){"use strict";var e=function(){var e="";return"localhost"==window.location.hostname&&(e="http://"+window.location.host),"dev.finmars.com"==window.location.hostname&&(e="https://api.dev.finmars.com"),"finmars.com"==window.location.hostname&&(e="https://api.finmars.com"),e+="/api/v1/"};t.exports={resolve:e}}()},{}],259:[function(e,t,n){!function(){"use strict";var n=e("../repositories/instrumentRepository"),i=e("../repositories/pricingPolicyRepository"),a=e("../repositories/currencyRepository"),o=e("../repositories/accountRepository"),r=e("../repositories/accountTypeRepository"),s=e("../repositories/portfolioRepository"),c=e("../repositories/counterpartyRepository"),l=e("../repositories/counterpartyGroupRepository"),d=e("../repositories/responsibleRepository"),u=e("../repositories/responsibleGroupRepository"),m=e("../repositories/instrumentTypeRepository"),p=e("../repositories/strategyRepository"),g=e("../repositories/instrument/instrumentDailyPricingModelRepository"),y=e("../repositories/instrument/instrumentPaymentSizeDetailRepository"),v=e("../repositories/transactionTypeRepository"),f=e("../repositories/import/importPriceDownloadSchemeRepository"),h=e("./strategyService"),b=e("./strategyGroupService"),_=e("./strategySubgroupService"),w={},k={},S=function(e,t){return new Promise(function(c){if(!w[e]){if(t.entityType.indexOf("strategy")!==-1){var d=t.entityType.split("-"),y=d[1];return"group"===e?b.getList(y).then(function(t){w[e]=t.results,c({key:e,data:w[e]})}):"subgroup"===e?_.getList(y).then(function(t){w[e]=t.results,c({key:e,data:w[e]})}):h.getList(y).then(function(t){w[e]=t.results,c({key:e,data:w[e]})})}if(t.entityType.indexOf("responsible")!==-1){if("group"===e)return u.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})})}else if(t.entityType.indexOf("counterparty")!==-1){if("group"===e)return l.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})})}else switch(e){case"instrument":return n.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"portfolio":return s.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"account":return o.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"pricing_policy":return i.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"currency":return a.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"pricing_currency":return a.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"accrued_currency":return a.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"instrument_type":return m.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"daily_pricing_model":return g.getList().then(function(t){w[e]=t,c({key:e,data:w[e]})});case"price_download_scheme":return f.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"transaction_types":return v.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"type":return r.getList().then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"strategy-1":return p.getList(1).then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"strategy-2":return p.getList(2).then(function(t){w[e]=t.results,c({key:e,data:w[e]})});case"strategy-3":return p.getList(3).then(function(t){w[e]=t.results,c({key:e,data:w[e]})})}}c({key:e,data:w[e]})})},x=function(e,t,p){return new Promise(function(b){if(!k[e]){if(console.log("ENTITY",e),p&&p.hasOwnProperty("entityType")){if("responsible"==p.entityType)return u.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});if("counterparty"==p.entityType)return l.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})})}switch(e){case"instrument":return n.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"portfolio":return s.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"counterparty":return c.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"responsible":return d.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"account_cash":return o.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"account_position":return o.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"account_interim":return o.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"strategy1_position":return h.getByKey(1,t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"strategy1_cash":return h.getByKey(1,t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"strategy2_position":return h.getByKey(2,t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"strategy2_cash":return h.getByKey(2,t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"strategy3_position":return h.getByKey(3,t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"strategy3_cash":return h.getByKey(3,t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"pricing_policy":return i.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"currency":return a.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"transaction_currency":return a.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"settlement_currency":return a.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"pricing_currency":return a.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"accrued_currency":return a.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"instrument_type":return m.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"transaction_types":return v.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"daily_pricing_model":return g.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"payment_size_detail":return y.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"type":return r.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})});case"price_download_scheme":return f.getByKey(t).then(function(t){k[e]=t,b({key:e,data:k[e]})})}}b({key:e,data:k[e]})})};t.exports={findEntities:S,getByKey:x}}()},{"../repositories/accountRepository":176,"../repositories/accountTypeRepository":177,"../repositories/counterpartyGroupRepository":182,"../repositories/counterpartyRepository":183,"../repositories/currencyRepository":185,"../repositories/import/importPriceDownloadSchemeRepository":198,"../repositories/instrument/instrumentDailyPricingModelRepository":221,"../repositories/instrument/instrumentPaymentSizeDetailRepository":223,"../repositories/instrumentRepository":217,"../repositories/instrumentTypeRepository":218,"../repositories/portfolioRepository":233,"../repositories/pricingPolicyRepository":235,"../repositories/responsibleGroupRepository":238,"../repositories/responsibleRepository":239,"../repositories/strategyRepository":241,"../repositories/transactionTypeRepository":245,"./strategyGroupService":337,"./strategyService":338,"./strategySubgroupService":339}],260:[function(e,t,n){!function(){var n=e("../repositories/bookmarkRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/bookmarkRepository":181}],261:[function(e,t,n){!function(){"use strict";function e(e){switch(e){case"instruments":return"instrument";case"accounts":return"account";case"portfolios":return"portfolio";case"responsibles":return"responsible";case"counterparties":return"counterparty";case"tags":return"tag";default:return e}}function n(t,n){if(n){t=t+"?page_size="+n.pageSize;var i=[];n.hasOwnProperty("filters")&&(i=Object.keys(n.filters),i.forEach(function(i){if(n.filters[i]){var a=n.filters[i];"string"==typeof a?t=t+"&"+e(i)+"="+a:a.map(function(n,a){t=t+"&"+e(i)+"="+n})}})),n.hasOwnProperty("sort")&&(t="ASC"===n.sort.direction?t+"&ordering="+n.sort.key:t+"&ordering=-"+n.sort.key),n.hasOwnProperty("page")&&(t=t+"&page="+n.page)}return t}t.exports={configureUrl:n}}()},{}],262:[function(e,t,n){!function(){var n=e("../repositories/counterpartyGroupRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/counterpartyGroupRepository":182}],263:[function(e,t,n){!function(){var n=e("../repositories/counterpartyRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)},c=function(e){return n.updateBulk(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/counterpartyRepository":183}],264:[function(e,t,n){!function(){var n=e("../repositories/currencyHistoryRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/currencyHistoryRepository":184}],265:[function(e,t,n){!function(){var n=e("../repositories/currencyRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/currencyRepository":185}],266:[function(e,t,n){!function(){"use strict";var n=e("../repositories/entityClassifierRepository"),i=function(e){return n.getList(e)},a=function(e,t){return n.getByKey(e,t)},o=function(e,t){return n.create(e,t)},r=function(e,t,i){return n.update(e,t,i)},s=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/entityClassifierRepository":186}],267:[function(e,t,n){!function(){"use strict";var n=e("./entityClassifierService"),i={},a=function(e){return n.getList(e)},o=function(e,t){return new Promise(function(a){i[e+"_"+t]?a({key:e+"_"+t,data:i[e+"_"+t]}):(i[e+"_"+t]={},n.getByKey(e,t).then(function(n){i[e+"_"+t]=n,a({key:e+"_"+t,data:i[e+"_"+t]})}))})},r=function(e,t){return n.create(e,t)},s=function(e,t,i){return n.update(e,t,i)},c=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"./entityClassifierService":266}],268:[function(e,t,n){!function(){"use strict";var n=e("./portfolioService"),i=e("./accountService"),a=e("./accountTypeService"),o=e("./responsibleService"),r=e("./responsibleGroupService"),s=e("./counterpartyService"),c=e("./counterpartyGroupService"),l=e("./instrumentService"),d=e("./currencyService"),u=e("./priceHistoryService"),m=e("./currencyHistoryService"),p=e("./transactionService"),g=e("./transactionTypeService"),y=(e("./transaction/transactionClassService"),e("./transaction/transactionTypeGroupService")),v=e("./transaction/complexTransactionService"),f=e("./pricingPolicyService"),h=e("./instrumentTypeService"),b=e("./accrualCalculationModelService"),_=e("./instrumentPeriodicityService"),w=e("./tagService"),k=e("./strategyService"),S=e("./strategyGroupService"),x=e("./strategySubgroupService"),C=e("./instrument/instrumentDailyPricingModelService"),T=e("./instrument/instrumentPaymentSizeDetailService"),A=e("./import/priceDownloadSchemeService"),j=function(e){switch(e){case"portfolio":return n.getList();case"account":return i.getList();case"responsible":return o.getList();case"counterparty":return s.getList();case"currency":return d.getList();case"instrument":return l.getList();case"instrument-type":return h.getList();case"periodicity":return _.getList();case"accrual-calculation-model":return b.getList();case"daily-pricing-model":return C.getList();case"payment-size-detail":return T.getList();case"price-download-scheme":return A.getList();case"strategy-1":return k.getList(1);case"strategy-2":return k.getList(2);case"strategy-3":return k.getList(3)}},E=function(e,t){switch(e){case"portfolio":return n.getByKey(t);case"account":return i.getByKey(t);case"account-type":return a.getByKey(t);case"responsible":return o.getByKey(t);case"responsible-group":return r.getByKey(t);case"counterparty":return s.getByKey(t);case"counterparty-group":return c.getByKey(t);case"instrument":return l.getByKey(t);case"instrument-type":return h.getByKey(t);case"currency":return d.getByKey(t);case"complex-transaction":return v.getBookComplexTransaction(t);case"pricing-policy":return f.getByKey(t);case"transaction":return p.getByKey(t);case"transaction-type":return g.getByKey(t);case"transaction-type-book":return g.getBookTransaction(t);case"transaction-type-group":return y.getByKey(t);case"price-history":return u.getByKey(t);case"currency-history":return m.getByKey(t);case"strategy-1":return k.getByKey(1,t);case"strategy-2":return k.getByKey(2,t);case"strategy-3":return k.getByKey(3,t);case"strategy-1-group":return S.getByKey(1,t);case"strategy-2-group":return S.getByKey(2,t);case"strategy-3-group":return S.getByKey(3,t);case"strategy-1-subgroup":return x.getByKey(1,t);case"strategy-2-subgroup":return x.getByKey(2,t);case"strategy-3-subgroup":return x.getByKey(3,t);case"tag":return w.getByKey(t)}},I=function(e,t){switch(e){case"portfolio":return t.counterparties=t.counterparties||[],t.accounts=t.accounts||[],t.responsibles=t.responsibles||[],t.transaction_types=t.transaction_types||[],n.create(t);case"account":return t.portfolios=t.portfolios||[],i.create(t);case"account-type":return a.create(t);case"responsible":return o.create(t);case"responsible-group":return r.create(t);case"counterparty":return s.create(t);case"counterparty-group":return c.create(t);case"instrument":return l.create(t);case"instrument-type":return h.create(t);case"currency":return d.create(t);case"pricing-policy":return f.create(t);case"transaction":return p.create(t);case"transaction-type":return g.create(t);case"transaction-type-group":return y.create(t);case"price-history":return u.create(t);case"currency-history":return m.create(t);case"strategy-1":return k.create(1,t);case"strategy-2":return k.create(2,t);case"strategy-3":return k.create(3,t);case"strategy-1-group":return S.create(1,t);case"strategy-2-group":return S.create(2,t);case"strategy-3-group":return S.create(3,t);case"strategy-1-subgroup":return x.create(1,t);case"strategy-2-subgroup":return x.create(2,t);case"strategy-3-subgroup":return x.create(3,t);case"complex-transaction":return g.bookTransaction(t.transaction_type,t);case"tag":return w.create(t)}},R=function(e,t,b){switch(e){case"portfolio":return n.update(t,b);case"currency":return d.update(t,b);case"account":return i.update(t,b);case"account-type":return a.update(t,b);case"responsible":return o.update(t,b);case"responsible-group":return r.update(t,b);case"counterparty":return s.update(t,b);case"counterparty-group":return c.update(t,b);case"instrument":return l.update(t,b);case"instrument-type":return h.update(t,b);case"transaction":return p.update(t,b);case"complex-transaction-default":return v.update(b.id,b);case"complex-transaction":return v.bookComplexTransaction(b.id,b);case"transaction-type":return g.update(t,b);case"transaction-type-group":return y.update(t,b);case"price-history":return u.update(t,b);case"pricing-policy":return f.update(t,b);case"currency-history":return m.update(t,b);case"strategy-1":return k.update(1,t,b);case"strategy-2":return k.update(2,t,b);case"strategy-3":return k.update(3,t,b);case"strategy-1-group":return S.update(1,t,b);case"strategy-2-group":return S.update(2,t,b);case"strategy-3-group":return S.update(3,t,b);case"strategy-1-subgroup":return x.update(1,t,b);case"strategy-2-subgroup":return x.update(2,t,b);case"strategy-3-subgroup":return x.update(3,t,b);case"tag":return w.update(t,b)}},P=function(e,t){switch(e){case"portfolio":return n.updateBulk(t);case"currency":break;case"account":return i.updateBulk(t);case"account-type":return a.updateBulk(t);case"responsible":return o.updateBulk(t);case"responsible-group":break;case"counterparty":return s.updateBulk(t);case"counterparty-group":break;case"instrument":return l.updateBulk(t);case"instrument-type":break;case"transaction":break;case"complex-transaction":break;case"transaction-type":break;case"transaction-type-group":break;case"price-history":break;case"pricing-policy":break;case"currency-history":break;case"strategy-1":break;case"strategy-2":break;case"strategy-3":break;case"strategy-1-group":break;case"strategy-2-group":break;case"strategy-3-group":break;case"strategy-1-subgroup":break;case"strategy-2-subgroup":break;case"strategy-3-subgroup":break;case"tag":}},L=function(e,t){switch(e){case"portfolio":return n.deleteByKey(t);case"account":return i.deleteByKey(t);case"account-type":return a.deleteByKey(t);case"responsible":return o.deleteByKey(t);case"responsible-group":return r.deleteByKey(t);case"counterparty":return s.deleteByKey(t);case"counterparty-group":return c.deleteByKey(t);case"instrument":return l.deleteByKey(t);case"instrument-type":return h.deleteByKey(t);case"complex-transaction":return v.deleteByKey(t);case"transaction":return p.deleteByKey(t);case"transaction-type":return g.deleteByKey(t);case"transaction-type-group":return y.deleteByKey(t);case"price-history":return u.deleteByKey(t);case"pricing-policy":return f.deleteByKey(t);case"currency-history":return m.deleteByKey(t);case"strategy-1":return k.deleteByKey(1,t);case"strategy-2":return k.deleteByKey(2,t);case"strategy-3":return k.deleteByKey(3,t);case"strategy-1-group":return S.deleteByKey(1,t);case"strategy-2-group":return S.deleteByKey(2,t);case"strategy-3-group":return S.deleteByKey(3,t);case"strategy-1-subgroup":return x.deleteByKey(1,t);case"strategy-2-subgroup":return x.deleteByKey(2,t);case"strategy-3-subgroup":return x.deleteByKey(3,t);case"tag":return w.deleteByKey(t)}};t.exports={getList:j,getByKey:E,create:I,update:R,deleteByKey:L,updateBulk:P}}()},{"./accountService":253,"./accountTypeService":254,"./accrualCalculationModelService":255,"./counterpartyGroupService":262,"./counterpartyService":263,"./currencyHistoryService":264,"./currencyService":265,"./import/priceDownloadSchemeService":303,"./instrument/instrumentDailyPricingModelService":315,"./instrument/instrumentPaymentSizeDetailService":317,"./instrumentPeriodicityService":311,"./instrumentService":312,"./instrumentTypeService":313,"./portfolioService":328,"./priceHistoryService":329,"./pricingPolicyService":330,"./responsibleGroupService":334,"./responsibleService":335,"./strategyGroupService":337,"./strategyService":338,"./strategySubgroupService":339,"./tagService":340,"./transaction/complexTransactionService":344,"./transaction/transactionClassService":345,"./transaction/transactionTypeGroupService":346,"./transactionService":342,"./transactionTypeService":343}],269:[function(e,t,n){!function(){"use strict";var n=e("./import/currencyMappingService"),i=e("./import/instrumentTypeMappingService"),a=e("./import/accrualCalculationModelMappingService"),o=e("./import/instrumentPeriodicityMappingService"),r=e("./import/instrumentAttributeTypeMappingService"),s=e("./import/accountMappingService"),c=e("./import/instrumentMappingService"),l=e("./import/counterpartyMappingService"),d=e("./import/responsibleMappingService"),u=e("./import/portfolioMappingService"),m=e("./import/strategy1MappingService"),p=e("./import/strategy2MappingService"),g=e("./import/strategy3MappingService"),y=e("./import/dailyPricingModelMappingService"),v=e("./import/paymentSizeDetailMappingService"),f=e("./import/priceDownloadSchemeMappingService"),h=function(e){
switch(console.log("getList entityType",e),e){case"currency":return n.getList();case"instrument_type":return i.getList();case"accrual_calculation_model":return a.getList();case"periodicity":return o.getList();case"classifier":return r.getList();case"account":return s.getList();case"instrument":return c.getList();case"counterparty":return l.getList();case"responsible":return d.getList();case"portfolio":return u.getList();case"strategy_1":return m.getList();case"strategy_2":return p.getList();case"strategy_3":return g.getList();case"daily_pricing_model":return y.getList();case"payment_size_detail":return v.getList();case"price_download_scheme":return f.getList()}},b=function(e,t){switch(e){case"currency":return n.getByKey(t);case"instrument_type":return i.getByKey(t);case"accrual_calculation_model":return a.getByKey(t);case"periodicity":return o.getByKey(t);case"classifier":return r.getByKey(t);case"account":return s.getByKey(t);case"instrument":return c.getByKey(t);case"counterparty":return l.getByKey(t);case"responsible":return d.getByKey(t);case"portfolio":return u.getByKey(t);case"strategy_1":return m.getByKey(t);case"strategy_2":return p.getByKey(t);case"strategy_3":return g.getByKey(t);case"daily_pricing_model":return y.getByKey(t);case"payment_size_detail":return v.getByKey(t);case"price_download_scheme":return f.getByKey(t)}},_=function(e,t){switch(e){case"currency":return n.create(t);case"instrument_type":return i.create(t);case"accrual_calculation_model":return a.create(t);case"periodicity":return o.create(t);case"classifier":return r.create(t);case"account":return s.create(t);case"instrument":return c.create(t);case"counterparty":return l.create(t);case"responsible":return d.create(t);case"portfolio":return u.create(t);case"strategy_1":return m.create(t);case"strategy_2":return p.create(t);case"strategy_3":return g.create(t);case"daily_pricing_model":return y.create(t);case"payment_size_detail":return v.create(t);case"price_download_scheme":return f.create(t)}},w=function(e,t,h){switch(e){case"currency":return n.update(t,h);case"instrument_type":return i.update(t,h);case"accrual_calculation_model":return a.update(t,h);case"periodicity":return o.update(t,h);case"classifier":return r.update(t,h);case"account":return s.update(t,h);case"instrument":return c.update(t,h);case"counterparty":return l.update(t,h);case"responsible":return d.update(t,h);case"portfolio":return u.update(t,h);case"strategy_1":return m.update(t,h);case"strategy_2":return p.update(t,h);case"strategy_3":return g.update(t,h);case"daily_pricing_model":return y.update(t,h);case"payment_size_detail":return v.update(t,h);case"price_download_scheme":return f.update(t,h)}},k=function(e,t){switch(e){case"currency":return n.deleteByKey(t);case"instrument_type":return i.deleteByKey(t);case"accrual_calculation_model":return a.deleteByKey(t);case"periodicity":return o.deleteByKey(t);case"classifier":return r.deleteByKey(t);case"account":return s.deleteByKey(t);case"instrument":return c.deleteByKey(t);case"counterparty":return l.deleteByKey(t);case"responsible":return d.deleteByKey(t);case"portfolio":return u.deleteByKey(t);case"strategy_1":return m.deleteByKey(t);case"strategy_2":return p.deleteByKey(t);case"strategy_3":return g.deleteByKey(t);case"daily_pricing_model":return y.deleteByKey(t);case"payment_size_detail":return v.deleteByKey(t);case"price_download_scheme":return f.deleteByKey(t)}};t.exports={getList:h,getByKey:b,create:_,update:w,deleteByKey:k}}()},{"./import/accountMappingService":286,"./import/accrualCalculationModelMappingService":287,"./import/counterpartyMappingService":288,"./import/currencyMappingService":289,"./import/dailyPricingModelMappingService":290,"./import/instrumentAttributeTypeMappingService":295,"./import/instrumentMappingService":296,"./import/instrumentPeriodicityMappingService":297,"./import/instrumentTypeMappingService":299,"./import/paymentSizeDetailMappingService":300,"./import/portfolioMappingService":301,"./import/priceDownloadSchemeMappingService":302,"./import/responsibleMappingService":305,"./import/strategy1MappingService":307,"./import/strategy2MappingService":308,"./import/strategy3MappingService":309}],270:[function(e,t,n){!function(){var n=e("./portfolioService"),i=e("./accountService"),a=e("./accountTypeService"),o=e("./responsibleService"),r=e("./responsibleGroupService"),s=e("./counterpartyService"),c=e("./counterpartyGroupService"),l=e("./instrumentService"),d=e("./currencyService"),u=e("./priceHistoryService"),m=e("./currencyHistoryService"),p=e("./transactionService"),g=e("./transactionTypeService"),y=(e("./transaction/transactionClassService"),e("./transaction/transactionTypeGroupService")),v=e("./transaction/complexTransactionService"),f=e("./pricingPolicyService"),h=e("./instrumentTypeService"),b=(e("./accrualCalculationModelService"),e("./instrumentPeriodicityService"),e("./tagService")),_=e("./strategyService"),w=e("./strategyGroupService"),k=e("./strategySubgroupService"),S=e("./auditService"),x=e("./reportService"),C=function(e,t){switch(e){case"account":return i.getList(t);case"account-type":return a.getList(t);case"counterparty":return s.getList(t);case"counterparty-group":return c.getList(t);case"currency":return d.getList(t);case"currency-history":return m.getList(t);case"instrument":return l.getList(t);case"instrument-type":return h.getList(t);case"portfolio":return n.getList(t);case"price-history":return u.getList(t);case"pricing-policy":return f.getList(t);case"responsible":return o.getList(t);case"responsible-group":return r.getList(t);case"strategy-1":return _.getList(1,t);case"strategy-2":return _.getList(2,t);case"strategy-3":return _.getList(3,t);case"strategy-1-group":return w.getList(1,t);case"strategy-2-group":return w.getList(2,t);case"strategy-3-group":return w.getList(3,t);case"strategy-1-subgroup":return k.getList(1,t);case"strategy-2-subgroup":return k.getList(2,t);case"strategy-3-subgroup":return k.getList(3,t);case"tag":return b.getList(t);case"audit-transaction":return S.getList(t);case"audit-instrument":return S.getList(t);case"transaction":return p.getList(t);case"complex-transaction":return v.getList(t);case"transaction-type":return g.getList(t);case"transaction-type-group":return y.getList(t);case"balance-report":return x.getList(t);case"pnl-report":return x.getList(t);case"transaction-report":return x.getTransactionReport(t);case"cash-flow-projection-report":return x.getCashFlowProjectionReport(t);case"performance-report":return x.getPerformanceReport(t)}};t.exports={getList:C}}()},{"./accountService":253,"./accountTypeService":254,"./accrualCalculationModelService":255,"./auditService":257,"./counterpartyGroupService":262,"./counterpartyService":263,"./currencyHistoryService":264,"./currencyService":265,"./instrumentPeriodicityService":311,"./instrumentService":312,"./instrumentTypeService":313,"./portfolioService":328,"./priceHistoryService":329,"./pricingPolicyService":330,"./reportService":331,"./responsibleGroupService":334,"./responsibleService":335,"./strategyGroupService":337,"./strategyService":338,"./strategySubgroupService":339,"./tagService":340,"./transaction/complexTransactionService":344,"./transaction/transactionClassService":345,"./transaction/transactionTypeGroupService":346,"./transactionService":342,"./transactionTypeService":343}],271:[function(e,t,n){!function(){"use strict";var e=function(e,t){return new Promise(function(n,i){var a,o,r=[];e&&e.length&&(r=e.map(function(e){for(a=0;a<t.length;a+=1)for(o=0;o<e.attributes.length;o+=1)e.attributes[o].attribute_type===t[a].id&&(e.attributes[o].attribute_name=t[a].name,30==e.attributes[o].attribute_type_object.value_type?e[t[a].name]=e.attributes[o].classifier:40==e.attributes[o].attribute_type_object.value_type?e[t[a].name]=e.attributes[o].value_date:20==e.attributes[o].attribute_type_object.value_type?e[t[a].name]=e.attributes[o].value_float:e[t[a].name]=e.attributes[o].value_string);return e})),n(r)})};t.exports={transformItems:e}}()},{}],272:[function(e,t,n){!function(){var n=e("../repositories/eventsRepository"),i=function(){return n.getList()},a=function(e){return n.getEventAction(e)},o=function(e,t){return n.putEventAction(e,t)};t.exports={getList:i,getEventAction:a,putEventAction:o}}()},{"../repositories/eventsRepository":188}],273:[function(e,t,n){!function(){"use strict";var n=e("../repositories/entityFieldsRepository"),i=e("../repositories/accountRepository"),a=e("../repositories/accountTypeRepository"),o=e("../repositories/instrumentRepository"),r=e("../repositories/instrumentTypeRepository"),s=e("../repositories/import/importPriceDownloadSchemeRepository"),c=e("../repositories/instrument/instrumentClassRepository"),l=e("../repositories/pricingPolicyRepository"),d=e("../repositories/currencyRepository"),u=e("../repositories/portfolioRepository"),m=e("../repositories/counterpartyRepository"),p=e("../repositories/counterpartyGroupRepository"),g=e("../repositories/responsibleRepository"),y=e("../repositories/responsibleGroupRepository"),v=e("../repositories/transactionTypeRepository"),f=e("../repositories/transaction/transactionTypeGroupRepository"),h=e("../repositories/tagRepository"),b=e("../repositories/metaContentTypesRepository"),_=e("../repositories/strategyRepository"),w=e("../repositories/strategyGroupRepository"),k=e("../repositories/strategySubgroupRepository"),S=function(e,t){return new Promise(function(S,x){if(console.log("options",t),console.log("fieldKey",e),t&&t.hasOwnProperty("entityType")){var C=t.entityType.split("-"),T=C[0];if("transaction"===T&&"group"===t.key&&f.getList().then(function(e){S({type:"id",key:"group",data:e.results})}),"strategy"===T){var A=C[1];console.log("strategyNumber",A),"group"===t.key&&w.getList(A).then(function(e){S({type:"id",key:"group",data:e.results})}),"subgroup"===t.key&&k.getList(A).then(function(e){S({type:"id",key:"subgroup",data:e.results})})}"counterparty"===T&&"group"===t.key&&p.getList().then(function(e){S({type:"id",key:"group",data:e.results})}),"responsible"===T&&"group"===t.key&&y.getList().then(function(e){S({type:"id",key:"group",data:e.results})}),"tags"==e&&h.getListByContentType(t.entityType).then(function(e){S({type:"multiple-ids",key:"tags",data:e.results})})}switch(e){case"daily_pricing_model":n.getDailyPricingModelChoices().then(function(e){S({type:"id",key:"daily_pricing_model",data:e})});break;case"payment_size_detail":n.getPaymentSizeDetailChoices().then(function(e){S({type:"id",key:"payment_size_detail",data:e})});break;case"transaction_class":n.getTransactionClassList().then(function(e){S({type:"key-value",key:"transaction_class",data:e})});break;case"instrument":o.getList().then(function(e){S({type:"id",key:"instrument",data:e.results})});break;case"pricing_policy":l.getList().then(function(e){S({type:"id",key:"pricing_policy",data:e.results})});break;case"price_download_scheme":s.getList().then(function(e){S({type:"id",key:"price_download_scheme",data:e.results})});break;case"instrument_type":r.getList().then(function(e){S({type:"id",key:"instrument_type",data:e.results})});break;case"instrument_class":c.getList().then(function(e){S({type:"id",key:"instrument_class",data:e})});break;case"accrued_currency":d.getList().then(function(e){S({type:"id",key:"accrued_currency",data:e.results})});break;case"pricing_currency":d.getList().then(function(e){S({type:"id",key:"pricing_currency",data:e.results})});break;case"transaction_currency":d.getList().then(function(e){S({type:"id",key:"transaction_currency",data:e.results})});break;case"settlement_currency":d.getList().then(function(e){S({type:"id",key:"settlement_currency",data:e.results})});break;case"currency":d.getList().then(function(e){S({type:"id",key:"currency",data:e.results})});break;case"portfolio":u.getList().then(function(e){S({type:"id",key:"portfolio",data:e.results})});break;case"account":i.getList().then(function(e){S({type:"id",key:"account",data:e.results})});break;case"counterparty":m.getList().then(function(e){S({type:"id",key:"counterparty",data:e.results})});break;case"responsible":g.getList().then(function(e){S({type:"id",key:"responsible",data:e.results})});break;case"type":a.getList().then(function(e){S({type:"id",key:"type",data:e.results})});break;case"account_cash":i.getList().then(function(e){S({type:"id",key:"account_cash",data:e.results})});break;case"account_position":i.getList().then(function(e){S({type:"id",key:"account_position",data:e.results})});break;case"account_interim":i.getList().then(function(e){S({type:"id",key:"account_interim",data:e.results})});break;case"strategy1_position":_.getList(1).then(function(e){S({type:"id",key:"strategy1_position",data:e.results})});break;case"strategy1_cash":_.getList(1).then(function(e){S({type:"id",key:"strategy1_cash",data:e.results})});break;case"strategy2_position":_.getList(2).then(function(e){S({type:"id",key:"strategy2_position",data:e.results})});break;case"strategy2_cash":_.getList(2).then(function(e){S({type:"id",key:"strategy2_cash",data:e.results})});break;case"strategy3_position":_.getList(3).then(function(e){S({type:"id",key:"strategy3_position",data:e.results})});break;case"strategy3_cash":_.getList(3).then(function(e){S({type:"id",key:"strategy3_cash",data:e.results})});break;case"portfolios":u.getList().then(function(e){S({type:"multiple-ids",key:"portfolios",data:e.results})});break;case"account_types":a.getList().then(function(e){S({type:"multiple-ids",key:"account_types",data:e.results})});break;case"transaction_types":v.getList().then(function(e){S({type:"multiple-ids",key:"transaction_types",data:e.results})});break;case"one_off_event":v.getList().then(function(e){S({type:"multiple-ids",key:"transaction_types",data:e.results})});break;case"regular_event":v.getList().then(function(e){S({type:"multiple-ids",key:"transaction_types",data:e.results})});break;case"factor_same":v.getList().then(function(e){S({type:"multiple-ids",key:"transaction_types",data:e.results})});break;case"factor_down":v.getList().then(function(e){S({type:"multiple-ids",key:"transaction_types",data:e.results})});break;case"factor_up":v.getList().then(function(e){S({type:"multiple-ids",key:"transaction_types",data:e.results})});break;case"instrument_types":r.getList().then(function(e){S({type:"multiple-ids",key:"instrument_types",data:e.results})});break;case"counterparties":m.getList().then(function(e){S({type:"multiple-ids",key:"counterparties",data:e.results})});break;case"accounts":i.getList().then(function(e){S({type:"multiple-ids",key:"accounts",data:e.results})});break;case"content_types":S({type:"multiple-ids",key:"content_types",data:b.getListForTags()});break;case"responsibles":g.getList().then(function(e){S({type:"multiple-ids",key:"responsibles",data:e.results})})}})},x=function(e,t){return new Promise(function(t,a){switch(e){case"instruments.dailypricingmodel":n.getDailyPricingModelChoices().then(function(e){t({type:"id",key:"instruments.dailypricingmodel",data:e})});break;case"instruments.paymentsizedetail":n.getPaymentSizeDetailChoices().then(function(e){t({type:"id",key:"instruments.paymentsizedetail",data:e})});break;case"instruments.instrument":o.getList().then(function(e){t({type:"id",key:"instruments.instrument",data:e.results})});break;case"integrations.pricedownloadscheme":s.getList().then(function(e){t({type:"id",key:"integrations.pricedownloadscheme",data:e.results})});break;case"instruments.instrumenttype":r.getList().then(function(e){t({type:"id",key:"instruments.instrumenttype",data:e})});break;case"currencies.currency":d.getList().then(function(e){t({type:"id",key:"currencies.currency",data:e.results})});break;case"portfolios.portfolio":u.getList().then(function(e){t({type:"id",key:"portfolios.portfolio",data:e.results})});break;case"counterparties.counterparty":m.getList().then(function(e){t({type:"id",key:"counterparties.counterparty",data:e.results})});break;case"counterparties.responsible":g.getList().then(function(e){t({type:"id",key:"counterparties.responsible",data:e.results})});break;case"accounts.account":i.getList().then(function(e){t({type:"id",key:"accounts.account",data:e.results})});break;case"strategies.strategy1":_.getList(1).then(function(e){t({type:"id",key:"strategies.strategy1",data:e.results})});break;case"strategies.strategy2":_.getList(2).then(function(e){t({type:"id",key:"strategies.strategy2",data:e.results})});break;case"strategies.strategy3":_.getList(3).then(function(e){t({type:"id",key:"strategies.strategy3",data:e.results})})}})};t.exports={getFields:S,getFieldsByContentType:x}}()},{"../repositories/accountRepository":176,"../repositories/accountTypeRepository":177,"../repositories/counterpartyGroupRepository":182,"../repositories/counterpartyRepository":183,"../repositories/currencyRepository":185,"../repositories/entityFieldsRepository":187,"../repositories/import/importPriceDownloadSchemeRepository":198,"../repositories/instrument/instrumentClassRepository":220,"../repositories/instrumentRepository":217,"../repositories/instrumentTypeRepository":218,"../repositories/metaContentTypesRepository":226,"../repositories/portfolioRepository":233,"../repositories/pricingPolicyRepository":235,"../repositories/responsibleGroupRepository":238,"../repositories/responsibleRepository":239,"../repositories/strategyGroupRepository":240,"../repositories/strategyRepository":241,"../repositories/strategySubgroupRepository":242,"../repositories/tagRepository":243,"../repositories/transaction/transactionTypeGroupRepository":248,"../repositories/transactionTypeRepository":245}],274:[function(e,t,n){!function(){"use strict";var e=function(e){var t,n=[];for(t=1;t<=e;t+=1)n.push(t);return n};t.exports={range:e}}()},{}],275:[function(e,t,n){!function(){"use strict";var e=function(e,t){return e};t.exports={setColumns:e}}()},{}],276:[function(e,t,n){!function(){"use strict";var n=e("../attributeTypeService"),i=function(e,t){console.log();var i=[],a={};return i.push(n.getList("portfolio")),i.push(n.getList("account")),i.push(n.getList("instrument")),i.push(n.getList("currency")),Promise.all(i).then(function(e){return console.log("attributes in report",e),a.portfolio=e[0].results.map(function(e){return e.source_name=e.name,e.attribute_entity="portfolio",e.name="Portfolio."+e.name,e}),a.account=e[1].results.map(function(e){return e.source_name=e.name,e.attribute_entity="account",e.name="Account."+e.name,e}),a.instrument=e[2].results.map(function(e){return e.source_name=e.name,e.attribute_entity="instrument",e.name="Instrument."+e.name,e}),a})};t.exports={getDynamicAttributes:i}}()},{"../attributeTypeService":256}],277:[function(e,t,n){!function(){"use strict";var e=function(e,t){if(t.length){var n,i,a,o,r=[],s=!0;for(n=0;n<e.length;n+=1){for(a=e[n],s=!0,i=0;i<t.length;i+=1)o=t[i],o.options||(o.options={enabled:!0,query:""}),o.options.enabled&&o.options.query&&(o.key?a[o.key].toLocaleLowerCase().indexOf(o.options.query.toLocaleLowerCase())==-1&&(s=!1):a[o.name].toLocaleLowerCase().indexOf(o.options.query.toLocaleLowerCase())==-1&&(s=!1));s&&r.push(a)}return r}return e};t.exports={setFilters:e}}()},{}],278:[function(e,t,n){!function(){"use strict";var e=function(e,t){var n;for(n=0;n<e.length;n+=1)e[n].isFolded=t;return e};t.exports={setFolds:e}}()},{}],279:[function(e,t,n){!function(){"use strict";function e(e){this.type=e.type||"normal",this.cellsCaptions=e.cellsCaptions||[],this.value=e.value,this.subTotal=e.subTotal||{},this.isRootBootGroup=e.isRootBootGroup||!1,this.value_options=e.value_options||{}}function n(e){function t(e){n.push({groups:e.groups,items:e.items,level:e.level}),e.hasOwnProperty("_ancestor")&&t(e._ancestor)}var n=[];return e.hasOwnProperty("_ancestor")&&t(e._ancestor),n}function i(e,t,i,a){var o,r,s=i||"normal",c=[],l=[];if("subtotal"==s)if("area"==a.reportSettingsType){if(l=n(e),e.groups.length){var d="area";for(e.groups.length&&e.groups[0].report_settings.subtotal_type&&(d=e.groups[0].report_settings.subtotal_type),o=0;o<t;o+=1){if(o==t-1)r=JSON.parse(JSON.stringify(e.groups[0])),r.comparePattern=e.groups[0].comparePattern,r.type=d,r.level=t,r.value="<b>Subtotal</b>";else for(u=0;u<l.length;u+=1)l[u].level==o&&(r={},l[u].items[0]._lid==e.items[0]._lid&&(r=JSON.parse(JSON.stringify(l[u].groups[0]))),r.comparePattern=l[u].groups[0].comparePattern,r.type=d,r.level=o+1,r.value="");c.push(r)}}}else if("line"==a.reportSettingsType&&(t-=1,t>0))for(o=0;o<=t;o+=1)r={value:"",comparePattern:e.groups[0].comparePattern,type:e.groups[0].report_settings.subtotal_type},o==t&&(r.level=t+1),c.push(r);if("breadcrumb"==s){l=n(e);var u;for(o=0;o<t;o+=1){if(o==t-1)r=e.groups[0],r.comparePattern=e.groups[0].comparePattern,r.type="area",e.groups[0].report_settings&&(r.type=e.groups[0].report_settings.subtotal_type),r.level=t;else if(l.length)for(u=0;u<l.length;u+=1)l[u].level==o&&(r=l[u].groups[0],r.comparePattern=l[u].groups[0].comparePattern,r.type=l[u].groups[0].report_settings.subtotal_type,r.level=o+1);c.push(r)}}if("normal"==s)if(e.hasOwnProperty("breadcrumbs_level_0")&&e.breadcrumbs_level_0.length&&e.breadcrumbs_level_0[0].hasOwnProperty("groups"))for(o=1;o<=t;o+=1){var i="area";e.groups[0].report_settings&&(i=e.groups[0].report_settings.subtotal_type),r={value:"",comparePattern:e.groups[0].comparePattern,subTotal:e.subTotal,type:i,level:o},o==t&&(r.level=t),c.push(r)}else if(l=n(e),e.groups.length){var d="area";for(e.groups.length&&e.groups[0].report_settings&&e.groups[0].report_settings.subtotal_type&&(d=e.groups[0].report_settings.subtotal_type),o=0;o<t;o+=1){if(o==t-1)r=JSON.parse(JSON.stringify(e.groups[0])),r.comparePattern=e.groups[0].comparePattern,r.type=d,r.subTotal=e.groups[0].subTotal,r.level=t,0!=a.itemIndex&&(r.value="");else for(u=0;u<l.length;u+=1)l[u].level==o&&(r={},l[u].items[0]._lid==e.items[0]._lid&&(r=JSON.parse(JSON.stringify(l[u].groups[0]))),r.comparePattern=l[u].groups[0].comparePattern,r.type=d,r.subTotal=l[u].groups[0].subTotal,r.level=o+1,0!=a.itemIndex&&(r.value=""));c.push(r)}}return c}function a(t,n,o){t.forEach(function(t){var r,s;t.hasOwnProperty("boot_level_"+n)||0==n&&(n+=1),t.hasOwnProperty("groups")&&t.groups.length&&t.groups[0].report_settings&&"line"==t.groups[0].report_settings.subtotal_type&&0!==n&&(r=i(t,n,"subtotal",{reportSettingsType:"line"}),s={cellsCaptions:r,value:t.subTotal,type:"subtotal-line",value_options:{type:t.groups[0].report_settings.subtotal_type,level:n}},o.push(new e(s))),0==n&&(r=i(t,n),s={cellsCaptions:r,value:t.groups,type:"preinit",value_options:{level:n}},o.push(new e(s))),t.hasOwnProperty("boot_level_"+n)?a(t["boot_level_"+n],n+1,o):t.hasOwnProperty("breadcrumbs_level_0")&&t.breadcrumbs_level_0[0].items?t.breadcrumbs_level_0.forEach(function(a,r){var s=i(t,n,"breadcrumb",{inGroupIndex:r}),c={cellsCaptions:s,value:a.groups,type:"breadcrumbs",value_options:{level:n}};o.push(new e(c)),a.items.forEach(function(a){var r=i(t,n,"normal"),s={cellsCaptions:r,value:a,subTotal:t.subTotal,value_options:{level:n}};o.push(new e(s))})}):t.hasOwnProperty("items")&&t.items.length&&t.items.forEach(function(a,r){var s=i(t,n,"normal",{itemIndex:r}),c={cellsCaptions:s,value:a,subTotal:t.subTotal,value_options:{level:n}};o.push(new e(c))}),t.hasOwnProperty("groups")&&t.groups.length&&t.groups[0].report_settings&&"area"==t.groups[0].report_settings.subtotal_type&&0!==n&&(r=i(t,n,"subtotal",{reportSettingsType:"area"}),s={cellsCaptions:r,value:t.subTotal,type:"subtotal",value_options:{type:t.groups[0].report_settings.subtotal_type,level:n}},o.push(new e(s)))})}var o=function(e){var t=0,n=[];return a(e,t,n),n};t.exports={transformItems:o}}()},{}],280:[function(e,t,n){!function(){"use strict";function n(){var e=this;this.setItems=function(e){this.items=e},this.extractDynamicAttributes=i.extractDynamicAttributes,this.columns={setColumns:function(t){e.items=r.setColumns(e.items,t)}},this.grouping={setGroups:function(t,n){console.log("this",e),e.items=i.setGroups(e.items,t,n)},setGroupsWithColumns:function(t,n,a){e.items=i.setGroupsWithColumns(e.items,t,n,a)}},this.filtering={setFilters:function(t){e.items=a.setFilters(e.items,t)}},this.folding={setFolds:function(t){e.items=s.setFolds(e.items,t)}},this.sorting={group:{sort:function(t){e.items=o.group.sort(e.items,t)}},column:{sort:function(t){e.items=o.column.sort(e.items,t)}}},this.projection=function(){return this.items}}var i=e("./groupingService"),a=e("./filteringService"),o=e("./sortingService"),r=e("./columnsService"),s=e("./foldingService"),c=function(e){return new n};t.exports={getInstance:c}}()},{"./columnsService":275,"./filteringService":277,"./foldingService":278,"./groupingService":281,"./sortingService":282}],281:[function(e,t,n){!function(){function n(e){return 30==e.attribute_type_object.value_type?e.classifier:40==e.attribute_type_object.value_type?e.value_date:20==e.attribute_type_object.value_type?e.value_float:10==e.attribute_type_object.value_type&&""!==e.value_string?e.value_string:null}function i(e,t,n,i){"boot"==n&&e["boot_level_"+t].forEach(function(n){var i=JSON.parse(JSON.stringify(e));t>0?i.level=t-1:i.level=t,delete i["boot_level_"+t],n._ancestor=i}),"breadcrumb"==n&&e["breadcrumbs_level_"+t].forEach(function(n){var a=JSON.parse(JSON.stringify(e));delete a["breadcrumbs_level_"+t],a.level=i.bootLevel,n._ancestor=a})}function a(e){return 30==e.attribute_type_object.value_type?"classifier":40==e.attribute_type_object.value_type?"value_date":20==e.attribute_type_object.value_type?"value_float":10==e.attribute_type_object.value_type?"value_string":null}function o(e,t,n,a){function o(e,t,n,a,r){var c={columns:r.columns};if(1==r.boot)if(t.bootsGroup[a])if(s.length)e.forEach(function(e){e["boot_level_"+a]=m(e.items,[t.bootsGroup[a]],n,c),i(e,a,"boot"),t.bootsGroup[a+1]&&o(e["boot_level_"+a],t,n,a+1,r)}),t.bootsGroup[a+1]||1==r.breadcrumbs&&t.linesGroup.length&&e.forEach(function(e){e["boot_level_"+a].forEach(function(e){e.breadcrumbs_level_0=m(e.items,t.linesGroup,n,c),i(e,0,"breadcrumb",{bootLevel:a})})});else{var l=m(e,[t.bootsGroup[a]],n,c);l.forEach(function(e){s.push(e)}),o(s,t,n,a+1,r)}else 1==r.breadcrumbs&&t.linesGroup.length&&e.forEach(function(e){e.breadcrumbs_level_0=m(e.items,t.linesGroup,n,c)})}var r=0,s=[];return o(e,t,n,r,a),s}function r(e,t,n){var i=!1;return t.forEach(function(t){t[n]==e[n]&&(i=!0)}),i}function s(e){return"id"in e.attribute_type_object&&"number"==typeof e.attribute_type_object.id&&!isNaN(e.attribute_type_object.id)}function c(e){var t=[],n={instrument:[],account:[],currency:[],portfolio:[]},i=[];return i=e.map(function(e){return e.hasOwnProperty("instrument_object")&&null!==e.instrument_object&&(n.instrument=n.instrument.concat(JSON.parse(JSON.stringify(e.instrument_object.attributes))).filter(s),e.instrument_object.attributes.forEach(function(n){var i="instrument_attribute_"+n.attribute_type_object.name;t.indexOf(i)==-1&&t.push(i),10==n.attribute_type_object.value_type&&(e[i]=n.value_string),20==n.attribute_type_object.value_type&&(e[i]=n.value_float),30==n.attribute_type_object.value_type&&(e[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(e[i]=n.value_date)})),e.hasOwnProperty("account_object")&&null!==e.account_object&&(n.account=n.account.concat(JSON.parse(JSON.stringify(e.account_object.attributes))).filter(s),e.account_object.attributes.forEach(function(n){var i="account_attribute_"+n.attribute_type_object.name;t.indexOf(i)==-1&&t.push(i),10==n.attribute_type_object.value_type&&(e[i]=n.value_string),20==n.attribute_type_object.value_type&&(e[i]=n.value_float),30==n.attribute_type_object.value_type&&(e[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(e[i]=n.value_date)})),e.hasOwnProperty("portfolio_object")&&null!==e.portfolio_object&&(n.portfolio=n.portfolio.concat(JSON.parse(JSON.stringify(e.portfolio_object.attributes))).filter(s),e.portfolio_object.attributes.forEach(function(n){var i="portfolio_attribute_"+n.attribute_type_object.name;t.indexOf(i)==-1&&t.push(i),10==n.attribute_type_object.value_type&&(e[i]=n.value_string),20==n.attribute_type_object.value_type&&(e[i]=n.value_float),30==n.attribute_type_object.value_type&&(e[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(e[i]=n.value_date)})),e.hasOwnProperty("currency_object")&&null!==e.currency_object&&(n.currency=n.currency.concat(JSON.parse(JSON.stringify(e.currency_object.attributes))).filter(s),e.currency_object.attributes.forEach(function(n){var i="currency_attribute_"+n.attribute_type_object.name;t.indexOf(i)==-1&&t.push(i),10==n.attribute_type_object.value_type&&(e[i]=n.value_string),20==n.attribute_type_object.value_type&&(e[i]=n.value_float),30==n.attribute_type_object.value_type&&(e[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(e[i]=n.value_date)})),e}),Object.keys(n).forEach(function(e){n[e].forEach(function(e){e.value_string="Ungrouped"})}),i.map(function(e){return t.forEach(function(t){e.hasOwnProperty(t)||(e[t]="")}),e.hasOwnProperty("instrument_object")&&null==e.instrument_object&&(e.instrument_object={attributes:n.instrument}),e.hasOwnProperty("portfolio_object")&&null==e.portfolio_object&&(e.portfolio_object={attributes:n.portfolio}),e.hasOwnProperty("account_object")&&null==e.account_object&&(e.account_object={attributes:n.account}),e.hasOwnProperty("currency_object")&&null==e.currency_object&&(e.currency_object={attributes:n.currency}),e})}var l=e("../metaService"),d=e("../reportSubtotalService"),u=function(e){var t,n=[],i=Object.keys(e);for(t=0;t<i.length;t+=1)n.push(e[i[t]]);return n},m=function(e,t,i,o){function r(e){return""==e?null:e}function s(e,t,i){var o;if(e.hasOwnProperty("id")){if(e.hasOwnProperty("r_entityType")){if(e.id==i.attribute_type_object.id&&null!==n(i)){var s=e.r_entityType+"_attribute_"+e.source_name;o={comparePattern:"&["+r(s)+"}-{"+r(t[s])+"]",key:s,value:n(i),value_type:a(i)},e.hasOwnProperty("report_settings")&&(o.report_settings=e.report_settings),k.push(o)}}else if(e.id===i.attribute_type){for(c=0;c<k.length;c+=1)k[c].comparePattern.indexOf("&["+i.attribute_type+"}-{"+n(i)+"]")!==-1&&(l=!0);l||null!==n(i)&&(o={comparePattern:"&["+i.attribute_type+"}-{"+n(i)+"]",key:"",value:n(i),value_type:a(i)},e.hasOwnProperty("report_settings")&&(o.report_settings=e.report_settings),k.push(o))}}else for(g=0;g<b.length;g+=1){var c,l=!1;if(e.key===b[g].key){for(c=0;c<k.length;c+=1)k[c].comparePattern.indexOf("&["+b[g].key+"}-{"+r(t[b[g].key])+"]")!==-1&&(l=!0);l||(o={comparePattern:"&["+b[g].key+"}-{"+r(t[b[g].key])+"]",key:b[g].key.replace(" ","_"),value:r(t[b[g].key]),value_type:b[g].value_type},e.hasOwnProperty("report_settings")&&(o.report_settings=e.report_settings),k.push(o))}}}var c,m,p,g,y=[],v=[],f=[],h={};l&&i.forEach(function(e){l.getEntitiesWithoutBaseAttrsList().indexOf(e)===-1&&(f=l.getBaseAttrs()),h[e]=l.getEntityAttrs(e).map(function(t){if(void 0!=o&&"balance-report"!==e){if(0==e.indexOf("strategy")){var n=e.split("-");e=n[0]+n[1],n.length>2&&(e=e+"_"+n[2])}else e=e.split("-").join("_");t.key=e+"_object_"+t.key,"instrument-type"==e?t.name="Instrument.Instrument Type"+t.name:"account-type"==e?t.name="Account.Account Type"+t.name:t.name="Strategy1.Subgroup."+t.name}return t})});var b=[];b=b.concat(f);var _=Object.keys(h);_.forEach(function(e){b=b.concat(h[e])});var w="",k=[];if(t.length){var S,x;for(c=0;c<e.length;c+=1){for(x=e[c],k=[],w="",m=0;m<t.length;m+=1)if(S=t[m],S.hasOwnProperty("key")){s(S,x);var C=Object.keys(e[c]);for(p=0;p<C.length;p+=1)w.indexOf("&["+r(S.key)+"}-{"+r(x[S.key])+"]")===-1&&(w=w+"&["+r(S.key)+"}-{"+r(x[S.key])+"]")}else if(S.hasOwnProperty("r_entityType")){if(x.hasOwnProperty("account_object")&&null!==x.account_object)for(p=0;p<x.account_object.attributes.length;p+=1){s(S,x,x.account_object.attributes[p]);var C=Object.keys(e[c]),T=S.r_entityType+"_attribute_"+S.source_name;for(p=0;p<C.length;p+=1)w.indexOf("&["+r(T)+"}-{"+r(x[T])+"]")===-1&&(w=w+"&["+r(T)+"}-{"+r(x[T])+"]")}if(x.hasOwnProperty("instrument_object")&&null!==x.instrument_object)for(p=0;p<x.instrument_object.attributes.length;p+=1){
s(S,x,x.instrument_object.attributes[p]);var C=Object.keys(e[c]),T=S.r_entityType+"_attribute_"+S.source_name;for(p=0;p<C.length;p+=1)w.indexOf("&["+r(T)+"}-{"+r(x[T])+"]")===-1&&(w=w+"&["+r(T)+"}-{"+r(x[T])+"]")}if(x.hasOwnProperty("portfolio_object")&&null!==x.portfolio_object)for(p=0;p<x.portfolio_object.attributes.length;p+=1){s(S,x,x.portfolio_object.attributes[p]);var C=Object.keys(e[c]),T=S.r_entityType+"_attribute_"+S.source_name;for(p=0;p<C.length;p+=1)w.indexOf("&["+r(T)+"}-{"+r(x[T])+"]")===-1&&(w=w+"&["+r(T)+"}-{"+r(x[T])+"]")}if(x.hasOwnProperty("currency_object")&&null!==x.currency_object)for(p=0;p<x.currency_object.attributes.length;p+=1){s(S,x,x.currency_object.attributes[p]);var C=Object.keys(e[c]),T=S.r_entityType+"_attribute_"+S.source_name;for(p=0;p<C.length;p+=1)w.indexOf("&["+r(T)+"}-{"+r(x[T])+"]")===-1&&(w=w+"&["+r(T)+"}-{"+r(x[T])+"]")}}else if(x.hasOwnProperty("attributes"))for(p=0;p<x.attributes.length;p+=1)if(s(S,x,x.attributes[p]),S.hasOwnProperty("r_entityType")){if(null!==x[S.r_entityType+"_attribute_"+S.source_name]){var A=S.r_entityType+"_attribute_"+S.source_name;w.indexOf("&["+r(S.source_name)+"}-{"+r(x[A])+"]")===-1&&(w=w+"&["+r(S.source_name)+"}-{"+r(x[A])+"]")}}else null!==x[S.name]&&w.indexOf("&["+r(S.name)+"}-{"+r(x[S.name])+"]")===-1&&(w=w+"&["+r(S.name)+"}-{"+r(x[S.name])+"]");else if(S.hasOwnProperty("attribute_entity")&&x[S.attribute_entity+"_object_attributes"])for(p=0;p<x[S.attribute_entity+"_object_attributes"].length;p+=1)s(S,x,x[S.attribute_entity+"_object_attributes"][p]),null!==x[S.name]&&w.indexOf("&["+r(S.name)+"}-{"+r(x[S.name])+"]")===-1&&(w=w+"&["+r(S.name)+"}-{"+r(x[S.name])+"]");y[w]||(y[w]={groups:k,items:[]}),y[w].items.push(x),v=u(y)}return o&&v.forEach(function(e){e.groups.length&&(e.subTotal=d.calcColumnSubTotal(e,o.columns),e.groups[0].subTotal=e.subTotal)}),v}return e},p=function(e,t,n,i){function a(){t.forEach(function(e,t){n.forEach(function(n,i){e.hasOwnProperty("id")&&n.hasOwnProperty("id")?e.id==n.id&&(null==g?(g={groupIndex:t,columnIndex:i},d.push(e)):t-g.groupIndex==i-g.columnIndex&&d.push(e)):e.hasOwnProperty("key")&&n.hasOwnProperty("key")&&e.key==n.key&&(null==g?(g={groupIndex:t,columnIndex:i},d.push(e)):t-g.groupIndex==i-g.columnIndex&&d.push(e))})})}function s(){t.forEach(function(e,t){n.forEach(function(n,i){t==i&&g&&t<g.groupIndex&&(e.hasOwnProperty("id")&&n.hasOwnProperty("id")?e.id!==n.id&&l.push(e):e.hasOwnProperty("key")&&n.hasOwnProperty("key")?e.key!==n.key&&l.push(e):l.push(e))})})}function c(){t.forEach(function(e,t){n.forEach(function(n,i){g&&null!==g.groupIndex&&t>g.groupIndex+d.length-1&&(e.hasOwnProperty("id")?r(e,u,"id")||u.push(e):r(e,u,"key")||u.push(e))})})}var l=[],d=[],u=[],p=[],g=null;if(t.length){e.forEach(function(e,t){e._lid=t}),a(),s(),c();var t={};if(l.length){var y={columns:n};p=m(e,l,i,y),p.forEach(function(e){t={preInitGroups:l,bootsGroup:d,linesGroup:u},e.boot_level_0=o(e.items,t,i,{boot:!0,breadcrumbs:!0,columns:n})})}else t={preInitGroups:l,bootsGroup:d,linesGroup:u},p=o(e,t,i,{boot:!0,breadcrumbs:!0,columns:n});return p}return e};t.exports={setGroups:m,setGroupsWithColumns:p,extractDynamicAttributes:c}}()},{"../metaService":326,"../reportSubtotalService":332}],282:[function(e,t,n){!function(){"use strict";function e(e,t){return e.sort(function(e,n){var i=e[t.name].toLowerCase(),a=n[t.name].toLowerCase();return"DESC"===t.sort?i<a?-1:i>a?1:0:"ASC"===t.sort?i>a?-1:i<a?1:0:void 0})}function n(e,t){return e.sort(function(e,n){var i,a;return"number"==typeof e[t.key]&&(i=e[t.key],a=n[t.key]),"string"==typeof e[t.key]&&(i=e[t.key],a=n[t.key]),"DESC"===t.sort?i<a?-1:i>a?1:0:"ASC"===t.sort?i>a?-1:i<a?1:0:void 0})}var i=function(e,t){var n,i,a,o;return e.length&&e[0].groups&&(e=e.sort(function(e,r){for(n=0;n<r.groups.length;n+=1)for(i=0;i<e.groups.length;i+=1)if((r.groups[n].key===t.key||r.groups[n].key===t.name&&e.groups[i].key===t.key||e.groups[i].key===t.name)&&null!==r.groups[n].value&&null!==!r.groups[n].value){if(a=e.groups[i].value+"",a=a.toLowerCase(),o=r.groups[n].value+"",o=o.toLowerCase(),"DESC"===t.sort)return a<o?-1:a>o?1:0;if("ASC"===t.sort)return a>o?-1:a<o?1:0}})),e},a=function(t,i){return i.id&&(t=e(t,i)),i.key&&(t=n(t,i)),t},o=function(t,i){var a;if(t.length&&t[0].groups){if(i.id)for(a=0;a<t.length;a+=1)t[a].items=e(t[a].items,i);if(i.key)for(a=0;a<t.length;a+=1)t[a].items=n(t[a].items,i)}else i.id&&(t=e(t,i)),i.key&&(t=n(t,i));return console.log("columnSort items",t),console.log("sort",i),t};t.exports={group:{sort:i},column:{additions:{sort:a},sort:o}}}()},{}],283:[function(e,t,n){!function(){"use strict";var e={addEntityBtn:!0},n=function(t){return["transaction"].indexOf(t)!==-1||t.indexOf("audit")!==-1?e.addEntityBtn=!1:e.addEntityBtn=!0,e};t.exports={setTablePartsSettings:n}}()},{}],284:[function(e,t,n){!function(){"use strict";var n=e("../repositories/helpRepository"),i=function(){return n.getFunctionsHelp()};t.exports={getFunctionsHelp:i}}()},{"../repositories/helpRepository":189}],285:[function(e,t,n){!function(){"use strict";var n=e("../repositories/importInstrumentRepository"),i=function(){return n.getInstrumentMappingList()};t.exports={getInstrumentMappingList:i}}()},{"../repositories/importInstrumentRepository":190}],286:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/accountMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/accountMappingRepository":191}],287:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/accrualCalculationModelMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/accrualCalculationModelMappingRepository":192}],288:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/counterpartyMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/counterpartyMappingRepository":193}],289:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/currencyMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/currencyMappingRepository":194}],290:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/dailyPricingModelMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/dailyPricingModelMappingRepository":195}],291:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/dataProvidersRepository"),i=function(){return n.getList()},a=function(e){return n.getConfig(e)},o=function(e,t){return n.setConfig(e,t)};t.exports={getList:i,getConfig:a,setConfig:o}}()},{"../../repositories/import/dataProvidersRepository":196}],292:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/importInstrumentRepository"),i=function(e){return n.startImport(e)};t.exports={startImport:i}}()},{"../../repositories/import/importInstrumentRepository":197}],293:[function(e,t,n){!function(){var n=e("../../repositories/import/importPriceDownloadSchemeRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/importPriceDownloadSchemeRepository":198}],294:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/importPricingRepository"),i=function(e){return n.create(e)};t.exports={create:i}}()},{"../../repositories/import/importPricingRepository":199}],295:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/instrumentAttributeTypeMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentAttributeTypeMappingRepository":200}],296:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/instrumentMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentMappingRepository":201}],297:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/instrumentPeriodicityMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentPeriodicityMappingRepository":202}],298:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/instrumentSchemeRepository"),i=function(e){return n.getList(e)},a=function(e){return n.create(e)},o=function(e){return n.getByKey(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,create:a,getByKey:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentSchemeRepository":203}],299:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/instrumentTypeMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentTypeMappingRepository":204}],300:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/paymentSizeDetailMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/paymentSizeDetailMappingRepository":205}],301:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/portfolioMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/portfolioMappingRepository":206}],302:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/priceDownloadSchemeMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/priceDownloadSchemeMappingRepository":207}],303:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/priceDownloadSchemeRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/priceDownloadSchemeRepository":208}],304:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/pricingAutomatedScheduleRepository"),i=function(e){return n.updateSchedule(e)},a=function(){return n.getSchedule()};t.exports={getSchedule:a,updateSchedule:i}}()},{"../../repositories/import/pricingAutomatedScheduleRepository":209}],305:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/responsibleMappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/responsibleMappingRepository":210}],306:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/scheduleRepository"),i=function(){return n.getAccrualScheduleDownloadMethodList()},a=function(){return n.getFactorScheduleDownloadMethodList()};t.exports={getAccrualScheduleDownloadMethodList:i,getFactorScheduleDownloadMethodList:a}}()},{"../../repositories/import/scheduleRepository":211}],307:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/strategy1MappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/strategy1MappingRepository":212}],308:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/strategy2MappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/strategy2MappingRepository":213}],309:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/strategy3MappingRepository"),i=function(){return n.getList()},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/strategy3MappingRepository":214}],310:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/import/transactionSchemeRepository"),i=function(){return n.getList()},a=function(e){return n.create(e)},o=function(e){return n.getByKey(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,create:a,getByKey:o,update:r,deleteByKey:s}}()},{"../../repositories/import/transactionSchemeRepository":215}],311:[function(e,t,n){!function(){"use strict";var n=e("../repositories/instrumentPeriodicityRepository"),i=function(){return n.getList()};t.exports={getList:i}}()},{"../repositories/instrumentPeriodicityRepository":216}],312:[function(e,t,n){!function(){var n=e("../repositories/instrumentRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)},c=function(e){return n.updateBulk(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/instrumentRepository":217}],313:[function(e,t,n){!function(){var n=e("../repositories/instrumentTypeRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/instrumentTypeRepository":218}],314:[function(e,t,n){!function(){var n=e("../../repositories/instrument/instrumentAttributeTypeRepository"),i={},a=function(e){return n.getList(e)},o=function(e){return n.getListByAttributeType(e)},r=function(e){return n.getByKey(e)},s=function(e){return i["id_"+e]?Promise(function(t,n){t(i["id_"+e])}):n.getByKey(e)},c=function(e){return n.create(e)},l=function(e,t){return n.update(e,t)},d=function(e){return n.deleteByKey(e)};t.exports={getList:a,getListByAttributeType:o,getByKey:r,create:c,update:l,deleteByKey:d,singleton:{getByKeyAttr:s}}}()},{"../../repositories/instrument/instrumentAttributeTypeRepository":219}],315:[function(e,t,n){!function(){var n=e("../../repositories/instrument/instrumentDailyPricingModelRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/instrument/instrumentDailyPricingModelRepository":221}],316:[function(e,t,n){!function(){var n=e("../../repositories/instrument/instrumentEventScheduleConfigRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/instrument/instrumentEventScheduleConfigRepository":222}],317:[function(e,t,n){!function(){var n=e("../../repositories/instrument/instrumentPaymentSizeDetailRepository"),i=function(e){return n.getList(e)};t.exports={getList:i}}()},{"../../repositories/instrument/instrumentPaymentSizeDetailRepository":223}],318:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/instrument/instrumentRecalculateAccruedPriceRepository"),i=function(e,t){return n.recalculate(e,t)};t.exports={recalculate:i}}()},{"../../repositories/instrument/instrumentRecalculateAccruedPriceRepository":224}],319:[function(e,t,n){!function(){"use strict";var e=function(){return[{key:"layoutLine",name:"Line",value_type:"decoration"},{key:"layoutLineWithLabel",name:"Labeled Line",value_type:"decoration"}]};t.exports={getLayoutAttrs:e}}()},{}],320:[function(e,t,n){!function(){"use strict";var n=e("../repositories/membersAndGroupsRepository"),i=function(e){return n.getList(e)},a=function(e,t){return n.getMemberOrGroupByKey(e,t)},o=function(e,t){return n.create(e,t)},r=function(e,t,i){return n.update(e,t,i)},s=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:i,getMemberOrGroupByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/membersAndGroupsRepository":225}],321:[function(e,t,n){!function(){var n=e("../repositories/metaContentTypesRepository"),i=function(e){return n.getListForTags(e)},a=function(){return n.getListForUi()},o=function(e,t){var n;"tag"==t?n=i():"ui"==t&&(n=a());var o=null;return n.forEach(function(t){t.entity==e&&(o=t.key)}),o},r=function(e,t){var n;"tag"==t?n=i():"ui"==t&&(n=a());var o=null;return n.forEach(function(t){t.key==e&&(o=t.entity)}),o},s=function(){return n.getListForTransactionTypeInputs()},c=function(e){var t="";return console.log("state",e),e.indexOf("app.data")===-1&&e.indexOf("app.reports")===-1||(t=e.split(".")[2]),"app.dashboard"==e&&(t=e.split(".")[1]),console.log("result 3232",t),t};t.exports={getListForTags:i,getListForUi:a,findContentTypeByEntity:o,findEntityByContentType:r,getListForTransactionTypeInputs:s,getContentTypeUIByState:c}}()},{"../repositories/metaContentTypesRepository":226}],322:[function(e,t,n){!function(){"use strict";var n=e("../repositories/metaEventClassRepository"),i=function(){return n.getList()};t.exports={getList:i}}()},{"../repositories/metaEventClassRepository":227}],323:[function(e,t,n){!function(){"use strict";var n=e("../repositories/metaNotificationClassRepository"),i=function(){return n.getList()};t.exports={getList:i}}()},{"../repositories/metaNotificationClassRepository":228}],324:[function(e,t,n){!function(){"use strict";var n=e("../repositories/metaPermissionsRepository"),i=function(){return n.getEntitiesWithDisabledPermissions()};t.exports={getEntitiesWithDisabledPermissions:i}}()},{"../repositories/metaPermissionsRepository":229}],325:[function(e,t,n){!function(){"use strict";var n=e("../repositories/metaRestrictionsRepository"),i=function(){return n.getEntitiesWithoutDynamicAttrsList()},a=function(){return n.getEntitiesWithoutBaseAttrsList()},o=function(){return n.getEntitiesWithoutBaseAttrsList()};t.exports={getEntitiesWithoutDynamicAttrsList:i,getEntitiesWithoutBaseAttrsList:a,getRestrictedEntitiesWithTypeField:o}}()},{"../repositories/metaRestrictionsRepository":231}],326:[function(e,t,n){!function(){var n=e("../repositories/metaRepository"),i=function(){return n.getMenu()},a=function(){return n.getBaseAttrs()},o=function(e){return n.getEntityAttrs(e)},r=function(){return n.getValueTypes()},s=function(){return n.getEntitiesWithoutBaseAttrsList()},c=function(){return n.getEntitiesWithoutDynAttrsList()},l=function(){return n.getRestrictedEntitiesWithTypeField()},d=function(){var e=r(),t=e.map(function(e){switch(e.display_name){case"Number":e.caption_name="Whole number";break;case"Float":e.caption_name="Number with decimals";break;case"Classifier":e.caption_name="Classification";break;case"Field":e.caption_name="Reference";break;case"String":e.caption_name="Text";break;case"Boolean":e.caption_name="True/False";break;case"Decoration":e.caption_name="Decoration";break;default:e.caption_name=e.display_name}return e});return t},u={groupOne:"400px",groupTwo:"600px",groupThree:"300px",groupFour:"450px",groupFive:"200px",newColumnAdded:!1},m=function(){return n.getDynamicAttrsValueTypes()},p=function(){var e=m(),t=e.map(function(e){switch(e.display_name){case"Number":e.caption_name="Number with decimals";break;case"Classifier":e.caption_name="Classification";break;case"Date":e.caption_name="Date";break;case"String":e.caption_name="Text"}return e});return t},g=function(e){return"boolean"!=typeof e?u:void(u.newColumnAdded=e)},y=function(e){switch(e){case"portfolio":case"account":case"counterparty":case"responsible":case"instrument":case"transaction":case"complex-transaction":case"strategies":return!0;default:return!1}},v=function(e){return n.getEntityTabs(e)},f=function(){return n.getEntitiesWithSimpleFields()},h=function(){return n.getFieldsWithTagGrouping()};t.exports={getMenu:i,getBaseAttrs:a,getEntityAttrs:o,getValueTypes:r,getDynamicAttrsValueTypes:m,getDynamicAttrsValueTypesCaptions:p,getEntitiesWithoutBaseAttrsList:s,getEntitiesWithoutDynAttrsList:c,getRestrictedEntitiesWithTypeField:l,getTypeCaptions:d,columnsWidthGroups:g,getEntityTabs:v,getEntitiesWithSimpleFields:f,checkRestrictedEntityTypesForAM:y,getFieldsWithTagGrouping:h}}()},{"../repositories/metaRepository":230}],327:[function(e,t,n){!function(){"use strict";var n=e("../repositories/notificationsRepository"),i=function(e,t){return n.getList(e,t)},a=function(e,t){return n.markAsReaded(e,t)},o=function(){return n.markAllAsReaded()};t.exports={getList:i,markAsReaded:a,markAllAsReaded:o}}()},{"../repositories/notificationsRepository":232}],328:[function(e,t,n){!function(){var n=e("../repositories/portfolioRepository"),i=function(){return n.getClassifierNodeList()},a=function(e){return n.getClassifierNodeByKey(e)},o=function(){return n.getClassifierList()},r=function(e){return n.getClassifierByKey(e)},s=function(e){return n.getList(e)},c=function(e){return n.getByKey(e)},l=function(e){return n.create(e)},d=function(e,t){return n.update(e,t)},u=function(e){return n.deleteByKey(e)},m=function(e){return n.updateBulk(e)};t.exports={getClassifierNodeList:i,getClassifierNodeByKey:a,getClassifierList:o,getClassifierByKey:r,getList:s,getByKey:c,create:l,update:d,deleteByKey:u,updateBulk:m}}()},{"../repositories/portfolioRepository":233}],329:[function(e,t,n){!function(){var n=e("../repositories/priceHistoryRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/priceHistoryRepository":234}],330:[function(e,t,n){!function(){"use strict";var n=e("../repositories/pricingPolicyRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/pricingPolicyRepository":235}],331:[function(e,t,n){!function(){"use strict";var n=e("../repositories/reportRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getCashFlowProjectionReport(e)},o=function(e){return n.getTransactionReport(e)},r=function(e){return n.getPerformanceReport(e)};t.exports={getList:i,getCashFlowProjectionReport:a,getTransactionReport:o,getPerformanceReport:r}}()},{"../repositories/reportRepository":236}],332:[function(e,t,n){!function(){"use strict";function e(e,t,n){e[t.key]||(e[t.key]=0),n.items.forEach(function(n){e[t.key]=e[t.key]+parseFloat(n[t.key])})}function n(e,t,n){e[t.key]||(e[t.key]=0),n.items.forEach(function(n){n.market_value&&(e[t.key]=e[t.key]+parseFloat(n[t.key]*n.market_value))})}function i(e,t,n){e[t.key]||(e[t.key]=0),n.items.forEach(function(n){n.market_value_percent&&(e[t.key]=e[t.key]+parseFloat(n[t.key]*n.market_value_percent))})}function a(e,t,n){e[t.key]||(e[t.key]=0),n.items.forEach(function(n){n.exposure&&(e[t.key]=e[t.key]+parseFloat(n[t.key]*n.exposure))})}function o(e,t,n){e[t.key]||(e[t.key]=0),n.items.forEach(function(n){n.exposure_percent&&(e[t.key]=e[t.key]+parseFloat(n[t.key]*n.exposure_percent))})}function r(e,t,n){e[t.key]||(e[t.key]=0);var i=0;n.items.forEach(function(e){e.market_value&&(i+=e.market_value)}),n.items.forEach(function(n){if(n.market_value){var a=n.market_value/i;e[t.key]=e[t.key]+parseFloat(n[t.key]*a)}})}function s(e,t,n){e[t.key]||(e[t.key]=0);var i=0;n.items.forEach(function(e){e.market_value_percent&&(i+=e.market_value_percent)}),n.items.forEach(function(n){if(n.market_value_percent){var a=n.market_value_percent/i;e[t.key]=e[t.key]+parseFloat(n[t.key]*a)}})}function c(e,t,n){e[t.key]||(e[t.key]=0);var i=0;n.items.forEach(function(e){e.exposure&&(i+=e.exposure)}),n.items.forEach(function(n){if(n.exposure){var a=n.exposure/i;e[t.key]=e[t.key]+parseFloat(n[t.key]*a)}})}function l(e,t,n){e[t.key]||(e[t.key]=0);var i=0;n.items.forEach(function(e){e.exposure_percent&&(i+=e.exposure_percent)}),n.items.forEach(function(n){if(n.exposure_percent){var a=n.exposure_percent/i;e[t.key]=e[t.key]+parseFloat(n[t.key]*a)}})}function d(t,d,u){if(d.report_settings&&d.report_settings.subtotal_formula_id)switch(d.report_settings.subtotal_formula_id){case 1:e(t,d,u);break;case 2:n(t,d,u);break;case 3:i(t,d,u);break;case 4:a(t,d,u);break;case 5:o(t,d,u);break;case 6:r(t,d,u);break;case 7:s(t,d,u);break;case 8:c(t,d,u);break;case 9:l(t,d,u)}}var u=function(e,t){var n={};return t.forEach(function(t){"float"==t.value_type&&d(n,t,e)}),n},m=function(e,t){var n=[];return t.calculationGroup?e.forEach(function(e){if(n.length){var i=!1;n.forEach(function(n){n.name==t.calculationGroup+"_"+e[t.calculationGroup+"_object"].id&&(n.items.push(e),i=!0)}),i||n.push({name:t.calculationGroup+"_"+e[t.calculationGroup+"_object"].id,items:[e]})}else n.push({name:t.calculationGroup+"_"+e[t.calculationGroup+"_object"].id,items:[e]})}):n.push({name:"",items:e}),n.forEach(function(e){var t=0,n=0;e.items.forEach(function(e){t+=e.market_value,n+=e.exposure}),e.items.forEach(function(e){t>0?e.market_value_percent=e.market_value/t*100:e.market_value_percent=0,n>0?e.exposure_percent=e.exposure/n*100:e.exposure_percent=0})}),e};t.exports={calcColumnSubTotal:u,groupByAndCalc:m}}()},{}],333:[function(e,t,n){!function(){var n=e("../../repositories/reports/balanceReportCustomAttrRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/reports/balanceReportCustomAttrRepository":237}],334:[function(e,t,n){!function(){var n=e("../repositories/responsibleGroupRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/responsibleGroupRepository":238}],335:[function(e,t,n){!function(){var n=e("../repositories/responsibleRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)},c=function(e){return n.updateBulk(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/responsibleRepository":239}],336:[function(e,t,n){!function(){"use strict";var e=function(e,t){var n="",i={};if(t.indexOf("strategy")!==-1){var a=t.split("-");n=e+a[0]+"-"+a[2],i={strategyNumber:a[1]}}else n=e+t;return{state:n,options:i}};t.exports={findExistingState:e}}()},{}],337:[function(e,t,n){!function(){"use strict";var n=e("../repositories/strategyGroupRepository"),i=function(e,t){return n.getList(e,t)},a=function(e,t){return n.getByKey(e,t)},o=function(e,t){return n.create(e,t)},r=function(e,t,i){return n.update(e,t,i)},s=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/strategyGroupRepository":240}],338:[function(e,t,n){!function(){"use strict";var n=e("../repositories/strategyRepository"),i=function(e,t){return n.getList(e,t)},a=function(e,t){return n.getByKey(e,t)},o=function(e,t){return n.create(e,t)},r=function(e,t,i){return n.update(e,t,i)},s=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/strategyRepository":241}],339:[function(e,t,n){!function(){"use strict";var n=e("../repositories/strategySubgroupRepository"),i=function(e,t){return n.getList(e,t)},a=function(e,t){return n.getByKey(e,t)},o=function(e,t){return n.create(e,t)},r=function(e,t,i){return n.update(e,t,i)},s=function(e,t){return n.deleteByKey(e,t)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/strategySubgroupRepository":242}],340:[function(e,t,n){!function(){var n=e("../repositories/tagRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getListByContentType(e)},o=function(e){return n.getByKey(e)},r=function(e){return n.create(e)},s=function(e,t){return n.update(e,t)},c=function(e){return n.deleteByKey(e)};t.exports={getList:i,getListByContentType:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../repositories/tagRepository":243}],341:[function(e,t,n){!function(){"use strict";var e=function(){return[{id:"1",cca2:"AD",name:"Europe/Andorra"},{id:"2",cca2:"AE",name:"Asia/Dubai"},{id:"3",cca2:"AF",name:"Asia/Kabul"},{id:"4",cca2:"AG",name:"America/Antigua"},{id:"5",cca2:"AI",name:"America/Anguilla"},{id:"6",cca2:"AL",name:"Europe/Tirane"},{id:"7",cca2:"AM",name:"Asia/Yerevan"},{id:"8",cca2:"AO",name:"Africa/Luanda"},{id:"9",cca2:"AQ",name:"Antarctica/McMurdo"},{id:"10",cca2:"AQ",name:"Antarctica/Rothera"},{id:"11",cca2:"AQ",name:"Antarctica/Palmer"
},{id:"12",cca2:"AQ",name:"Antarctica/Mawson"},{id:"13",cca2:"AQ",name:"Antarctica/Davis"},{id:"14",cca2:"AQ",name:"Antarctica/Casey"},{id:"15",cca2:"AQ",name:"Antarctica/Vostok"},{id:"16",cca2:"AQ",name:"Antarctica/DumontDUrville"},{id:"17",cca2:"AQ",name:"Antarctica/Syowa"},{id:"18",cca2:"AQ",name:"Antarctica/Troll"},{id:"19",cca2:"AR",name:"America/Argentina/Buenos_Aires"},{id:"20",cca2:"AR",name:"America/Argentina/Cordoba"},{id:"21",cca2:"AR",name:"America/Argentina/Salta"},{id:"22",cca2:"AR",name:"America/Argentina/Jujuy"},{id:"23",cca2:"AR",name:"America/Argentina/Tucuman"},{id:"24",cca2:"AR",name:"America/Argentina/Catamarca"},{id:"25",cca2:"AR",name:"America/Argentina/La_Rioja"},{id:"26",cca2:"AR",name:"America/Argentina/San_Juan"},{id:"27",cca2:"AR",name:"America/Argentina/Mendoza"},{id:"28",cca2:"AR",name:"America/Argentina/San_Luis"},{id:"29",cca2:"AR",name:"America/Argentina/Rio_Gallegos"},{id:"30",cca2:"AR",name:"America/Argentina/Ushuaia"},{id:"31",cca2:"AS",name:"Pacific/Pago_Pago"},{id:"32",cca2:"AT",name:"Europe/Vienna"},{id:"33",cca2:"AU",name:"Australia/Lord_Howe"},{id:"34",cca2:"AU",name:"Antarctica/Macquarie"},{id:"35",cca2:"AU",name:"Australia/Hobart"},{id:"36",cca2:"AU",name:"Australia/Currie"},{id:"37",cca2:"AU",name:"Australia/Melbourne"},{id:"38",cca2:"AU",name:"Australia/Sydney"},{id:"39",cca2:"AU",name:"Australia/Broken_Hill"},{id:"40",cca2:"AU",name:"Australia/Brisbane"},{id:"41",cca2:"AU",name:"Australia/Lindeman"},{id:"42",cca2:"AU",name:"Australia/Adelaide"},{id:"43",cca2:"AU",name:"Australia/Darwin"},{id:"44",cca2:"AU",name:"Australia/Perth"},{id:"45",cca2:"AU",name:"Australia/Eucla"},{id:"46",cca2:"AW",name:"America/Aruba"},{id:"47",cca2:"AX",name:"Europe/Mariehamn"},{id:"48",cca2:"AZ",name:"Asia/Baku"},{id:"49",cca2:"BA",name:"Europe/Sarajevo"},{id:"50",cca2:"BB",name:"America/Barbados"},{id:"51",cca2:"BD",name:"Asia/Dhaka"},{id:"52",cca2:"BE",name:"Europe/Brussels"},{id:"53",cca2:"BF",name:"Africa/Ouagadougou"},{id:"54",cca2:"BG",name:"Europe/Sofia"},{id:"55",cca2:"BH",name:"Asia/Bahrain"},{id:"56",cca2:"BI",name:"Africa/Bujumbura"},{id:"57",cca2:"BJ",name:"Africa/Porto-Novo"},{id:"58",cca2:"BL",name:"America/St_Barthelemy"},{id:"59",cca2:"BM",name:"Atlantic/Bermuda"},{id:"60",cca2:"BN",name:"Asia/Brunei"},{id:"61",cca2:"BO",name:"America/La_Paz"},{id:"62",cca2:"BQ",name:"America/Kralendijk"},{id:"63",cca2:"BR",name:"America/Noronha"},{id:"64",cca2:"BR",name:"America/Belem"},{id:"65",cca2:"BR",name:"America/Fortaleza"},{id:"66",cca2:"BR",name:"America/Recife"},{id:"67",cca2:"BR",name:"America/Araguaina"},{id:"68",cca2:"BR",name:"America/Maceio"},{id:"69",cca2:"BR",name:"America/Bahia"},{id:"70",cca2:"BR",name:"America/Sao_Paulo"},{id:"71",cca2:"BR",name:"America/Campo_Grande"},{id:"72",cca2:"BR",name:"America/Cuiaba"},{id:"73",cca2:"BR",name:"America/Santarem"},{id:"74",cca2:"BR",name:"America/Porto_Velho"},{id:"75",cca2:"BR",name:"America/Boa_Vista"},{id:"76",cca2:"BR",name:"America/Manaus"},{id:"77",cca2:"BR",name:"America/Eirunepe"},{id:"78",cca2:"BR",name:"America/Rio_Branco"},{id:"79",cca2:"BS",name:"America/Nassau"},{id:"80",cca2:"BT",name:"Asia/Thimphu"},{id:"81",cca2:"BW",name:"Africa/Gaborone"},{id:"82",cca2:"BY",name:"Europe/Minsk"},{id:"83",cca2:"BZ",name:"America/Belize"},{id:"84",cca2:"CA",name:"America/St_Johns"},{id:"85",cca2:"CA",name:"America/Halifax"},{id:"86",cca2:"CA",name:"America/Glace_Bay"},{id:"87",cca2:"CA",name:"America/Moncton"},{id:"88",cca2:"CA",name:"America/Goose_Bay"},{id:"89",cca2:"CA",name:"America/Blanc-Sablon"},{id:"90",cca2:"CA",name:"America/Toronto"},{id:"91",cca2:"CA",name:"America/Nipigon"},{id:"92",cca2:"CA",name:"America/Thunder_Bay"},{id:"93",cca2:"CA",name:"America/Iqaluit"},{id:"94",cca2:"CA",name:"America/Pangnirtung"},{id:"95",cca2:"CA",name:"America/Resolute"},{id:"96",cca2:"CA",name:"America/Atikokan"},{id:"97",cca2:"CA",name:"America/Rankin_Inlet"},{id:"98",cca2:"CA",name:"America/Winnipeg"},{id:"99",cca2:"CA",name:"America/Rainy_River"},{id:"100",cca2:"CA",name:"America/Regina"},{id:"101",cca2:"CA",name:"America/Swift_Current"},{id:"102",cca2:"CA",name:"America/Edmonton"},{id:"103",cca2:"CA",name:"America/Cambridge_Bay"},{id:"104",cca2:"CA",name:"America/Yellowknife"},{id:"105",cca2:"CA",name:"America/Inuvik"},{id:"106",cca2:"CA",name:"America/Creston"},{id:"107",cca2:"CA",name:"America/Dawson_Creek"},{id:"108",cca2:"CA",name:"America/Vancouver"},{id:"109",cca2:"CA",name:"America/Whitehorse"},{id:"110",cca2:"CA",name:"America/Dawson"},{id:"111",cca2:"CC",name:"Indian/Cocos"},{id:"112",cca2:"CD",name:"Africa/Kinshasa"},{id:"113",cca2:"CD",name:"Africa/Lubumbashi"},{id:"114",cca2:"CF",name:"Africa/Bangui"},{id:"115",cca2:"CG",name:"Africa/Brazzaville"},{id:"116",cca2:"CH",name:"Europe/Zurich"},{id:"117",cca2:"CI",name:"Africa/Abidjan"},{id:"118",cca2:"CK",name:"Pacific/Rarotonga"},{id:"119",cca2:"CL",name:"America/Santiago"},{id:"120",cca2:"CL",name:"Pacific/Easter"},{id:"121",cca2:"CM",name:"Africa/Douala"},{id:"122",cca2:"CN",name:"Asia/Shanghai"},{id:"123",cca2:"CN",name:"Asia/Harbin"},{id:"124",cca2:"CN",name:"Asia/Chongqing"},{id:"125",cca2:"CN",name:"Asia/Urumqi"},{id:"126",cca2:"CN",name:"Asia/Kashgar"},{id:"127",cca2:"CO",name:"America/Bogota"},{id:"128",cca2:"CR",name:"America/Costa_Rica"},{id:"129",cca2:"CU",name:"America/Havana"},{id:"130",cca2:"CV",name:"Atlantic/Cape_Verde"},{id:"131",cca2:"CW",name:"America/Curacao"},{id:"132",cca2:"CX",name:"Indian/Christmas"},{id:"133",cca2:"CY",name:"Asia/Nicosia"},{id:"134",cca2:"CZ",name:"Europe/Prague"},{id:"135",cca2:"DE",name:"Europe/Berlin"},{id:"136",cca2:"DE",name:"Europe/Busingen"},{id:"137",cca2:"DJ",name:"Africa/Djibouti"},{id:"138",cca2:"DK",name:"Europe/Copenhagen"},{id:"139",cca2:"DM",name:"America/Dominica"},{id:"140",cca2:"DO",name:"America/Santo_Domingo"},{id:"141",cca2:"DZ",name:"Africa/Algiers"},{id:"142",cca2:"EC",name:"America/Guayaquil"},{id:"143",cca2:"EC",name:"Pacific/Galapagos"},{id:"144",cca2:"EE",name:"Europe/Tallinn"},{id:"145",cca2:"EG",name:"Africa/Cairo"},{id:"146",cca2:"EH",name:"Africa/El_Aaiun"},{id:"147",cca2:"ER",name:"Africa/Asmara"},{id:"148",cca2:"ES",name:"Europe/Madrid"},{id:"149",cca2:"ES",name:"Africa/Ceuta"},{id:"150",cca2:"ES",name:"Atlantic/Canary"},{id:"151",cca2:"ET",name:"Africa/Addis_Ababa"},{id:"152",cca2:"FI",name:"Europe/Helsinki"},{id:"153",cca2:"FJ",name:"Pacific/Fiji"},{id:"154",cca2:"FK",name:"Atlantic/Stanley"},{id:"155",cca2:"FM",name:"Pacific/Chuuk"},{id:"156",cca2:"FM",name:"Pacific/Pohnpei"},{id:"157",cca2:"FM",name:"Pacific/Kosrae"},{id:"158",cca2:"FO",name:"Atlantic/Faroe"},{id:"159",cca2:"FR",name:"Europe/Paris"},{id:"160",cca2:"GA",name:"Africa/Libreville"},{id:"161",cca2:"GB",name:"Europe/London"},{id:"162",cca2:"GD",name:"America/Grenada"},{id:"163",cca2:"GE",name:"Asia/Tbilisi"},{id:"164",cca2:"GF",name:"America/Cayenne"},{id:"165",cca2:"GG",name:"Europe/Guernsey"},{id:"166",cca2:"GH",name:"Africa/Accra"},{id:"167",cca2:"GI",name:"Europe/Gibraltar"},{id:"168",cca2:"GL",name:"America/Godthab"},{id:"169",cca2:"GL",name:"America/Danmarkshavn"},{id:"170",cca2:"GL",name:"America/Scoresbysund"},{id:"171",cca2:"GL",name:"America/Thule"},{id:"172",cca2:"GM",name:"Africa/Banjul"},{id:"173",cca2:"GN",name:"Africa/Conakry"},{id:"174",cca2:"GP",name:"America/Guadeloupe"},{id:"175",cca2:"GQ",name:"Africa/Malabo"},{id:"176",cca2:"GR",name:"Europe/Athens"},{id:"177",cca2:"GS",name:"Atlantic/South_Georgia"},{id:"178",cca2:"GT",name:"America/Guatemala"},{id:"179",cca2:"GU",name:"Pacific/Guam"},{id:"180",cca2:"GW",name:"Africa/Bissau"},{id:"181",cca2:"GY",name:"America/Guyana"},{id:"182",cca2:"HK",name:"Asia/Hong_Kong"},{id:"183",cca2:"HN",name:"America/Tegucigalpa"},{id:"184",cca2:"HR",name:"Europe/Zagreb"},{id:"185",cca2:"HT",name:"America/Port-au-Prince"},{id:"186",cca2:"HU",name:"Europe/Budapest"},{id:"187",cca2:"ID",name:"Asia/Jakarta"},{id:"188",cca2:"ID",name:"Asia/Pontianak"},{id:"189",cca2:"ID",name:"Asia/Makassar"},{id:"190",cca2:"ID",name:"Asia/Jayapura"},{id:"191",cca2:"IE",name:"Europe/Dublin"},{id:"192",cca2:"IL",name:"Asia/Jerusalem"},{id:"193",cca2:"IM",name:"Europe/Isle_of_Man"},{id:"194",cca2:"IN",name:"Asia/Kolkata"},{id:"195",cca2:"IO",name:"Indian/Chagos"},{id:"196",cca2:"IQ",name:"Asia/Baghdad"},{id:"197",cca2:"IR",name:"Asia/Tehran"},{id:"198",cca2:"IS",name:"Atlantic/Reykjavik"},{id:"199",cca2:"IT",name:"Europe/Rome"},{id:"200",cca2:"JE",name:"Europe/Jersey"},{id:"201",cca2:"JM",name:"America/Jamaica"},{id:"202",cca2:"JO",name:"Asia/Amman"},{id:"203",cca2:"JP",name:"Asia/Tokyo"},{id:"204",cca2:"KE",name:"Africa/Nairobi"},{id:"205",cca2:"KG",name:"Asia/Bishkek"},{id:"206",cca2:"KH",name:"Asia/Phnom_Penh"},{id:"207",cca2:"KI",name:"Pacific/Tarawa"},{id:"208",cca2:"KI",name:"Pacific/Enderbury"},{id:"209",cca2:"KI",name:"Pacific/Kiritimati"},{id:"210",cca2:"KM",name:"Indian/Comoro"},{id:"211",cca2:"KN",name:"America/St_Kitts"},{id:"212",cca2:"KP",name:"Asia/Pyongyang"},{id:"213",cca2:"KR",name:"Asia/Seoul"},{id:"214",cca2:"KW",name:"Asia/Kuwait"},{id:"215",cca2:"KY",name:"America/Cayman"},{id:"216",cca2:"KZ",name:"Asia/Almaty"},{id:"217",cca2:"KZ",name:"Asia/Qyzylorda"},{id:"218",cca2:"KZ",name:"Asia/Aqtobe"},{id:"219",cca2:"KZ",name:"Asia/Aqtau"},{id:"220",cca2:"KZ",name:"Asia/Oral"},{id:"221",cca2:"LA",name:"Asia/Vientiane"},{id:"222",cca2:"LB",name:"Asia/Beirut"},{id:"223",cca2:"LC",name:"America/St_Lucia"},{id:"224",cca2:"LI",name:"Europe/Vaduz"},{id:"225",cca2:"LK",name:"Asia/Colombo"},{id:"226",cca2:"LR",name:"Africa/Monrovia"},{id:"227",cca2:"LS",name:"Africa/Maseru"},{id:"228",cca2:"LT",name:"Europe/Vilnius"},{id:"229",cca2:"LU",name:"Europe/Luxembourg"},{id:"230",cca2:"LV",name:"Europe/Riga"},{id:"231",cca2:"LY",name:"Africa/Tripoli"},{id:"232",cca2:"MA",name:"Africa/Casablanca"},{id:"233",cca2:"MC",name:"Europe/Monaco"},{id:"234",cca2:"MD",name:"Europe/Chisinau"},{id:"235",cca2:"ME",name:"Europe/Podgorica"},{id:"236",cca2:"MF",name:"America/Marigot"},{id:"237",cca2:"MG",name:"Indian/Antananarivo"},{id:"238",cca2:"MH",name:"Pacific/Majuro"},{id:"239",cca2:"MH",name:"Pacific/Kwajalein"},{id:"240",cca2:"MK",name:"Europe/Skopje"},{id:"241",cca2:"ML",name:"Africa/Bamako"},{id:"242",cca2:"MM",name:"Asia/Rangoon"},{id:"243",cca2:"MN",name:"Asia/Ulaanbaatar"},{id:"244",cca2:"MN",name:"Asia/Hovd"},{id:"245",cca2:"MN",name:"Asia/Choibalsan"},{id:"246",cca2:"MO",name:"Asia/Macau"},{id:"247",cca2:"MP",name:"Pacific/Saipan"},{id:"248",cca2:"MQ",name:"America/Martinique"},{id:"249",cca2:"MR",name:"Africa/Nouakchott"},{id:"250",cca2:"MS",name:"America/Montserrat"},{id:"251",cca2:"MT",name:"Europe/Malta"},{id:"252",cca2:"MU",name:"Indian/Mauritius"},{id:"253",cca2:"MV",name:"Indian/Maldives"},{id:"254",cca2:"MW",name:"Africa/Blantyre"},{id:"255",cca2:"MX",name:"America/Mexico_City"},{id:"256",cca2:"MX",name:"America/Cancun"},{id:"257",cca2:"MX",name:"America/Merida"},{id:"258",cca2:"MX",name:"America/Monterrey"},{id:"259",cca2:"MX",name:"America/Matamoros"},{id:"260",cca2:"MX",name:"America/Mazatlan"},{id:"261",cca2:"MX",name:"America/Chihuahua"},{id:"262",cca2:"MX",name:"America/Ojinaga"},{id:"263",cca2:"MX",name:"America/Hermosillo"},{id:"264",cca2:"MX",name:"America/Tijuana"},{id:"265",cca2:"MX",name:"America/Santa_Isabel"},{id:"266",cca2:"MX",name:"America/Bahia_Banderas"},{id:"267",cca2:"MY",name:"Asia/Kuala_Lumpur"},{id:"268",cca2:"MY",name:"Asia/Kuching"},{id:"269",cca2:"MZ",name:"Africa/Maputo"},{id:"270",cca2:"NA",name:"Africa/Windhoek"},{id:"271",cca2:"NC",name:"Pacific/Noumea"},{id:"272",cca2:"NE",name:"Africa/Niamey"},{id:"273",cca2:"NF",name:"Pacific/Norfolk"},{id:"274",cca2:"NG",name:"Africa/Lagos"},{id:"275",cca2:"NI",name:"America/Managua"},{id:"276",cca2:"NL",name:"Europe/Amsterdam"},{id:"277",cca2:"NO",name:"Europe/Oslo"},{id:"278",cca2:"NP",name:"Asia/Kathmandu"},{id:"279",cca2:"NR",name:"Pacific/Nauru"},{id:"280",cca2:"NU",name:"Pacific/Niue"},{id:"281",cca2:"NZ",name:"Pacific/Auckland"},{id:"282",cca2:"NZ",name:"Pacific/Chatham"},{id:"283",cca2:"OM",name:"Asia/Muscat"},{id:"284",cca2:"PA",name:"America/Panama"},{id:"285",cca2:"PE",name:"America/Lima"},{id:"286",cca2:"PF",name:"Pacific/Tahiti"},{id:"287",cca2:"PF",name:"Pacific/Marquesas"},{id:"288",cca2:"PF",name:"Pacific/Gambier"},{id:"289",cca2:"PG",name:"Pacific/Port_Moresby"},{id:"290",cca2:"PH",name:"Asia/Manila"},{id:"291",cca2:"PK",name:"Asia/Karachi"},{id:"292",cca2:"PL",name:"Europe/Warsaw"},{id:"293",cca2:"PM",name:"America/Miquelon"},{id:"294",cca2:"PN",name:"Pacific/Pitcairn"},{id:"295",cca2:"PR",name:"America/Puerto_Rico"},{id:"296",cca2:"PS",name:"Asia/Gaza"},{id:"297",cca2:"PS",name:"Asia/Hebron"},{id:"298",cca2:"PT",name:"Europe/Lisbon"},{id:"299",cca2:"PT",name:"Atlantic/Madeira"},{id:"300",cca2:"PT",name:"Atlantic/Azores"},{id:"301",cca2:"PW",name:"Pacific/Palau"},{id:"302",cca2:"PY",name:"America/Asuncion"},{id:"303",cca2:"QA",name:"Asia/Qatar"},{id:"304",cca2:"RE",name:"Indian/Reunion"},{id:"305",cca2:"RO",name:"Europe/Bucharest"},{id:"306",cca2:"RS",name:"Europe/Belgrade"},{id:"307",cca2:"RU",name:"Europe/Kaliningrad"},{id:"308",cca2:"RU",name:"Europe/Moscow"},{id:"309",cca2:"RU",name:"Europe/Volgograd"},{id:"310",cca2:"RU",name:"Europe/Samara"},{id:"311",cca2:"RU",name:"Europe/Simferopol"},{id:"312",cca2:"RU",name:"Asia/Yekaterinburg"},{id:"313",cca2:"RU",name:"Asia/Omsk"},{id:"314",cca2:"RU",name:"Asia/Novosibirsk"},{id:"315",cca2:"RU",name:"Asia/Novokuznetsk"},{id:"316",cca2:"RU",name:"Asia/Krasnoyarsk"},{id:"317",cca2:"RU",name:"Asia/Irkutsk"},{id:"318",cca2:"RU",name:"Asia/Yakutsk"},{id:"319",cca2:"RU",name:"Asia/Khandyga"},{id:"320",cca2:"RU",name:"Asia/Vladivostok"},{id:"321",cca2:"RU",name:"Asia/Sakhalin"},{id:"322",cca2:"RU",name:"Asia/Ust-Nera"},{id:"323",cca2:"RU",name:"Asia/Magadan"},{id:"324",cca2:"RU",name:"Asia/Kamchatka"},{id:"325",cca2:"RU",name:"Asia/Anadyr"},{id:"326",cca2:"RW",name:"Africa/Kigali"},{id:"327",cca2:"SA",name:"Asia/Riyadh"},{id:"328",cca2:"SB",name:"Pacific/Guadalcanal"},{id:"329",cca2:"SC",name:"Indian/Mahe"},{id:"330",cca2:"SD",name:"Africa/Khartoum"},{id:"331",cca2:"SE",name:"Europe/Stockholm"},{id:"332",cca2:"SG",name:"Asia/Singapore"},{id:"333",cca2:"SH",name:"Atlantic/St_Helena"},{id:"334",cca2:"SI",name:"Europe/Ljubljana"},{id:"335",cca2:"SJ",name:"Arctic/Longyearbyen"},{id:"336",cca2:"SK",name:"Europe/Bratislava"},{id:"337",cca2:"SL",name:"Africa/Freetown"},{id:"338",cca2:"SM",name:"Europe/San_Marino"},{id:"339",cca2:"SN",name:"Africa/Dakar"},{id:"340",cca2:"SO",name:"Africa/Mogadishu"},{id:"341",cca2:"SR",name:"America/Paramaribo"},{id:"342",cca2:"SS",name:"Africa/Juba"},{id:"343",cca2:"ST",name:"Africa/Sao_Tome"},{id:"344",cca2:"SV",name:"America/El_Salvador"},{id:"345",cca2:"SX",name:"America/Lower_Princes"},{id:"346",cca2:"SY",name:"Asia/Damascus"},{id:"347",cca2:"SZ",name:"Africa/Mbabane"},{id:"348",cca2:"TC",name:"America/Grand_Turk"},{id:"349",cca2:"TD",name:"Africa/Ndjamena"},{id:"350",cca2:"TF",name:"Indian/Kerguelen"},{id:"351",cca2:"TG",name:"Africa/Lome"},{id:"352",cca2:"TH",name:"Asia/Bangkok"},{id:"353",cca2:"TJ",name:"Asia/Dushanbe"},{id:"354",cca2:"TK",name:"Pacific/Fakaofo"},{id:"355",cca2:"TL",name:"Asia/Dili"},{id:"356",cca2:"TM",name:"Asia/Ashgabat"},{id:"357",cca2:"TN",name:"Africa/Tunis"},{id:"358",cca2:"TO",name:"Pacific/Tongatapu"},{id:"359",cca2:"TR",name:"Europe/Istanbul"},{id:"360",cca2:"TT",name:"America/Port_of_Spain"},{id:"361",cca2:"TV",name:"Pacific/Funafuti"},{id:"362",cca2:"TW",name:"Asia/Taipei"},{id:"363",cca2:"TZ",name:"Africa/Dar_es_Salaam"},{id:"364",cca2:"UA",name:"Europe/Kiev"},{id:"365",cca2:"UA",name:"Europe/Uzhgorod"},{id:"366",cca2:"UA",name:"Europe/Zaporozhye"},{id:"367",cca2:"UG",name:"Africa/Kampala"},{id:"368",cca2:"UM",name:"Pacific/Johnston"},{id:"369",cca2:"UM",name:"Pacific/Midway"},{id:"370",cca2:"UM",name:"Pacific/Wake"},{id:"371",cca2:"US",name:"America/New_York"},{id:"372",cca2:"US",name:"America/Detroit"},{id:"373",cca2:"US",name:"America/Kentucky/Louisville"},{id:"374",cca2:"US",name:"America/Kentucky/Monticello"},{id:"375",cca2:"US",name:"America/Indiana/Indianapolis"},{id:"376",cca2:"US",name:"America/Indiana/Vincennes"},{id:"377",cca2:"US",name:"America/Indiana/Winamac"},{id:"378",cca2:"US",name:"America/Indiana/Marengo"},{id:"379",cca2:"US",name:"America/Indiana/Petersburg"},{id:"380",cca2:"US",name:"America/Indiana/Vevay"},{id:"381",cca2:"US",name:"America/Chicago"},{id:"382",cca2:"US",name:"America/Indiana/Tell_City"},{id:"383",cca2:"US",name:"America/Indiana/Knox"},{id:"384",cca2:"US",name:"America/Menominee"},{id:"385",cca2:"US",name:"America/North_Dakota/Center"},{id:"386",cca2:"US",name:"America/North_Dakota/New_Salem"},{id:"387",cca2:"US",name:"America/North_Dakota/Beulah"},{id:"388",cca2:"US",name:"America/Denver"},{id:"389",cca2:"US",name:"America/Boise"},{id:"390",cca2:"US",name:"America/Phoenix"},{id:"391",cca2:"US",name:"America/Los_Angeles"},{id:"392",cca2:"US",name:"America/Anchorage"},{id:"393",cca2:"US",name:"America/Juneau"},{id:"394",cca2:"US",name:"America/Sitka"},{id:"395",cca2:"US",name:"America/Yakutat"},{id:"396",cca2:"US",name:"America/Nome"},{id:"397",cca2:"US",name:"America/Adak"},{id:"398",cca2:"US",name:"America/Metlakatla"},{id:"399",cca2:"US",name:"Pacific/Honolulu"},{id:"400",cca2:"UY",name:"America/Montevideo"},{id:"401",cca2:"UZ",name:"Asia/Samarkand"},{id:"402",cca2:"UZ",name:"Asia/Tashkent"},{id:"403",cca2:"VA",name:"Europe/Vatican"},{id:"404",cca2:"VC",name:"America/St_Vincent"},{id:"405",cca2:"VE",name:"America/Caracas"},{id:"406",cca2:"VG",name:"America/Tortola"},{id:"407",cca2:"VI",name:"America/St_Thomas"},{id:"408",cca2:"VN",name:"Asia/Ho_Chi_Minh"},{id:"409",cca2:"VU",name:"Pacific/Efate"},{id:"410",cca2:"WF",name:"Pacific/Wallis"},{id:"411",cca2:"WS",name:"Pacific/Apia"},{id:"412",cca2:"YE",name:"Asia/Aden"},{id:"413",cca2:"YT",name:"Indian/Mayotte"},{id:"414",cca2:"ZA",name:"Africa/Johannesburg"},{id:"415",cca2:"ZM",name:"Africa/Lusaka"},{id:"416",cca2:"ZW",name:"Africa/Harare"},{id:"417",cca2:"CA",name:"America/Montreal"}]};t.exports={getList:e}}()},{}],342:[function(e,t,n){!function(){var n=e("../repositories/transactionRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/transactionRepository":244}],343:[function(e,t,n){!function(){var n=e("../repositories/transactionTypeRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)},c=function(e){return n.getBookTransaction(e)},l=function(e,t){return n.bookTransaction(e,t)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,getBookTransaction:c,bookTransaction:l}}()},{"../repositories/transactionTypeRepository":245}],344:[function(e,t,n){!function(){var n=e("../../repositories/transaction/complexTransactionRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)},c=function(e){return n.getBookComplexTransaction(e)},l=function(e,t){return n.bookComplexTransaction(e,t)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,getBookComplexTransaction:c,bookComplexTransaction:l}}()},{"../../repositories/transaction/complexTransactionRepository":246}],345:[function(e,t,n){!function(){"use strict";var n=e("../../repositories/transaction/transactionClassRepository"),i=function(){return n.getList()},a=function(){return n.getListSync()};t.exports={getList:i,getListSync:a}}()},{"../../repositories/transaction/transactionClassRepository":247}],346:[function(e,t,n){!function(){var n=e("../../repositories/transaction/transactionTypeGroupRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/transaction/transactionTypeGroupRepository":248}],347:[function(e,t,n){!function(){"use strict";var n=e("../repositories/uiRepository"),i=function(e){return n.getEditLayout(e)},a=function(e,t){return n.createEditLayout(e,t)},o=function(e,t){return n.updateEditLayout(e,t)},r=function(e){return n.getListLayout(e)},s=function(e){return n.getListLayoutByKey(e)},c=function(e){return n.getActiveListLayout(e)},l=function(e,t){return n.createListLayout(e,t)},d=function(e,t){return n.updateListLayout(e,t)},u=function(e){return n.deleteListLayoutByKey(e)},m=function(){return n.getDefaultListLayout()},p=function(e){return n.getDefaultEditLayout(e)},g=function(e,t){return n.getEditLayoutByInstanceId(e,t).then(function(t){if("complex-transaction"==e)return t.book_transaction_layout})},y=function(e,t,i){if("complex-transaction"==e)return n.updateEditLayoutByInstanceId(e,t,{book_transaction_layout:i})};t.exports={getDefaultListLayout:m,getDefaultEditLayout:p,getEditLayout:i,createEditLayout:a,updateEditLayout:o,getListLayout:r,getListLayoutByKey:s,createListLayout:l,updateListLayout:d,getEditLayoutByInstanceId:g,updateEditLayoutByInstanceId:y,getActiveListLayout:c,deleteListLayoutByKey:u}}()},{"../repositories/uiRepository":249}],348:[function(e,t,n){!function(){var n=e("../repositories/usersGroupRepository"),i=function(e){return n.getList(e)},a=function(e){return n.getByKey(e)},o=function(e){return n.create(e)},r=function(e,t){return n.update(e,t)},s=function(e){return n.deleteByKey(e)};t.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/usersGroupRepository":250}],349:[function(e,t,n){!function(){"use strict";var n=e("../repositories/usersRepository"),i=function(e,t){return n.login(e,t)},a=function(){return n.logout()},o=function(){return n.ping()},r=function(){return n.protectedPing()},s=function(){return n.getList()},c=function(e){return n.getByKey(e)},l=function(){return n.getMe()},d=function(e,t){return n.update(e,t)},u=function(e,t){return n.patch(e,t)},m=function(e){return n.deleteByKey(e)},p=function(){return n.getMasterList()},g=function(e){return n.getMasterByKey(e)},y=function(e,t){return n.updateMaster(e,t)},v=function(e,t){return n.patchMaster(e,t)},f=function(e){return n.deleteMasterByKey(e)},h=function(){return n.getMemberList()},b=function(e){return n.getMemberByKey(e)},_=function(e,t){return n.updateMember(e,t)},w=function(e,t){return n.patchMember(e,t)},k=function(e){return n.deleteMemberByKey(e)},S=function(){return n.getGroupList()};t.exports={login:i,logout:a,ping:o,protectedPing:r,getList:s,getByKey:c,getMe:l,update:d,patch:u,deleteByKey:m,getMasterList:p,getMasterByKey:g,updateMaster:y,patchMaster:v,deleteMasterByKey:f,getMemberList:h,getMemberByKey:b,updateMember:_,patchMember:w,deleteMemberByKey:k,getGroupList:S}}()},{"../repositories/usersRepository":251}],350:[function(e,t,n){"use strict";e("../../forum/scripts/main.js");var i=angular.module("portal",["ngAria","ngMaterial","ngMessages","ngMdIcons","ngResource","ngSanitize","ui.router","vAccordion","mdPickers","bw.paging","ui.select","io.dennis.contextmenu",angularDragula(angular),"forum"]);i.config(["$stateProvider","$urlRouterProvider",e("./app/router.js")]),i.config(["$mdDateLocaleProvider",function(e){e.formatDate=function(e){return moment(e).format("YYYY-MM-DD")}}]),i.run(["$rootScope",function(e){console.log("App initialized"),localStorage.setItem("entityIsChanged",!1),e.$on("$stateChangeStart",function(){setTimeout(function(){$(window).trigger("resize")},300)})}]),i.controller("ShellController",["$scope","$state","$rootScope","$mdDialog",e("./app/controllers/shellController")]),i.controller("SideNavController",["$scope",e("./app/controllers/sideNavController")]),i.controller("DashboardController",["$scope","$mdDialog",e("./app/controllers/dashboardController")]),i.controller("ActionsController",["$scope","$mdDialog",e("./app/controllers/actionsController")]),i.controller("ImportInstrumentDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/importInstrumentDialogController")]),i.controller("ImportTransactionDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/importTransactionDialogController")]),i.controller("AutomatedUploadsHistoryDialogController",["$scope","$mdDialog","$mdpTimePicker",e("./app/controllers/dialogs/automatedUploadsHistoryDialogController")]),i.controller("FillPriceHistoryDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/fillPriceHistoryDialogController")]),i.controller("EventScheduleConfigDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/eventScheduleConfigDialogController")]),i.controller("FillPriceManuallyInstrumentDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/fillPriceManuallyInstrumentDialogController")]),i.controller("PriceDownloadSchemeAddDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/priceDownloadSchemeAddDialogController")]),i.controller("EventDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/eventDialogController")]),i.controller("AttributesManagerController",["$scope","$state","$stateParams","$mdDialog",e("./app/controllers/attributesManagerController")]),i.controller("AttributesManagerEditDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/attributesManagerEditDialogController")]),i.controller("AttributesManagerAddDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/attributesManagerAddDialogController")]),i.controller("ClassificationEditorDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/classificationEditorDialogController")]),i.controller("CustomFieldsConfigDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/customFieldsConfigDialogController")]),i.controller("InstrumentMappingAddDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/instrumentMappingAddDialogController")]),i.controller("InstrumentMappingEditDialogController",["$scope","$mdDialog","schemeId",e("./app/controllers/dialogs/instrumentMappingEditDialogController")]),i.controller("EntityTypeMappingDialogController",["$scope","$mdDialog","mapItem",e("./app/controllers/dialogs/entityTypeMappingDialogController")]),i.controller("TransactionMappingAddDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/transactionMappingAddDialogController")]),i.controller("TransactionMappingEditDialogController",["$scope","$mdDialog","schemeId",e("./app/controllers/dialogs/transactionMappingEditDialogController")]),i.controller("TransactionMappingInputMappingDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/transactionMappingInputMappingDialogController")]),i.controller("EntityViewerController",["$scope","$mdDialog",e("./app/controllers/entityViewer/entityViewerController")]),i.controller("EntityViewerAddDialogController",["$scope","$mdDialog","parentScope","$state",e("./app/controllers/entityViewer/entityViewerAddDialogController")]),i.controller("EntityViewerEditDialogController",["$scope","$mdDialog","parentScope","entityId","$state",e("./app/controllers/entityViewer/entityViewerEditDialogController")]),i.controller("EntityViewerDeleteDialogController",["$scope","$mdDialog","entity","entityType",e("./app/controllers/entityViewer/entityViewerDeleteDialogController")]),i.controller("ReportWizardController",["$scope",e("./app/controllers/entityViewer/onBeforeLoadActions/reportWizardController")]),i.controller("EntityEditorController",["$scope","$state",e("./app/controllers/entityEditorController")]),i.controller("EntityViewerPermissionEditorController",["$scope",e("./app/controllers/entityViewer/entityViewerPermissionEditorController")]),i.controller("ComplexTransactionSpecialRulesController",["$scope",e("./app/controllers/special-rules/complexTransactionSpecialRulesController")]),i.controller("BookTransactionActionsTabController",["$scope",e("./app/controllers/tabs/complex-transaction/bookTransactionActionsTabController")]),i.controller("BookTransactionTransactionsTabController",["$scope","$mdDialog",e("./app/controllers/tabs/complex-transaction/bookTransactionTransactionsTabController")]),i.controller("ComplexTransactionsTransactionEditDialogController",["$scope","$mdDialog","entityId",e("./app/controllers/entityViewer/complexTransactionsTransactionEditDialogController")]),i.controller("TransactionTypeActionsTabController",["$scope","$mdDialog",e("./app/controllers/tabs/transaction-type/transactionTypeActionsTabController")]),i.controller("TransactionTypeGeneralTabController",["$scope","$mdDialog",e("./app/controllers/tabs/transaction-type/transactionTypeGeneralTabController")]),i.controller("TransactionTypeInputsTabController",["$scope",e("./app/controllers/tabs/transaction-type/transactionTypeInputsTabController")]),i.controller("AccrualCalculationSchedulesTabController",["$scope",e("./app/controllers/tabs/instrument/accrualCalculationSchedulesController")]),i.controller("EventSchedulesTabController",["$scope",e("./app/controllers/tabs/instrument/eventSchedulesController")]),i.controller("FactorScheduleTabController",["$scope",e("./app/controllers/tabs/instrument/factorScheduleTabController")]),i.controller("ManualPricingFormulasTabController",["$scope",e("./app/controllers/tabs/instrument/manualPricingFormulasTabController")]),i.controller("InstrumentEventActionsDialogController",["$scope","$mdDialog","eventActions",e("./app/controllers/dialogs/instrumentEventActionsDialogController")]),i.controller("DataPortfolioController",["$scope","$stateParams",e("./app/controllers/data/dataPortfolioController")]),i.controller("DataTagController",["$scope","$stateParams",e("./app/controllers/data/dataTagController")]),i.controller("DataAccountController",["$scope","$stateParams",e("./app/controllers/data/dataAccountController")]),i.controller("DataAccountTypeController",["$scope","$stateParams",e("./app/controllers/data/dataAccountTypeController")]),i.controller("DataCounterpartyController",["$scope","$stateParams",e("./app/controllers/data/dataCounterpartyController")]),i.controller("DataCounterpartyGroupController",["$scope","$stateParams",e("./app/controllers/data/dataCounterpartyGroupController")]),i.controller("DataResponsibleController",["$scope","$stateParams",e("./app/controllers/data/dataResponsibleController")]),i.controller("DataResponsibleGroupController",["$scope","$stateParams",e("./app/controllers/data/dataResponsibleGroupController")]),i.controller("DataInstrumentController",["$scope","$stateParams",e("./app/controllers/data/dataInstrumentController")]),i.controller("DataInstrumentTypeController",["$scope","$stateParams",e("./app/controllers/data/dataInstrumentTypeController")]),i.controller("DataPricingPolicyController",["$scope","$stateParams",e("./app/controllers/data/dataPricingPolicyController")]),i.controller("DataTransactionController",["$scope","$stateParams",e("./app/controllers/data/dataTransactionController")]),i.controller("DataComplexTransactionController",["$scope","$stateParams",e("./app/controllers/data/dataComplexTransactionController")]),i.controller("DataTransactionTypeController",["$scope","$stateParams",e("./app/controllers/data/dataTransactionTypeController")]),i.controller("DataTransactionTypeGroupController",["$scope","$stateParams",e("./app/controllers/data/dataTransactionTypeGroupController")]),i.controller("DataPriceHistoryController",["$scope","$stateParams",e("./app/controllers/data/dataPriceHistoryController")]),i.controller("DataCurrencyHistoryController",["$scope","$stateParams",e("./app/controllers/data/dataCurrencyHistoryController")]),i.controller("DataCurrencyController",["$scope","$stateParams",e("./app/controllers/data/dataCurrencyController")]),i.controller("DataStrategyController",["$scope","$stateParams",e("./app/controllers/data/dataStrategyController")]),
i.controller("DataStrategyGroupController",["$scope","$stateParams",e("./app/controllers/data/dataStrategyGroupController")]),i.controller("DataStrategySubgroupController",["$scope","$stateParams",e("./app/controllers/data/dataStrategySubgroupController")]),i.controller("TransactionsAuditController",["$scope","$stateParams",e("./app/controllers/system/auditTransactionsController")]),i.controller("InstrumentsAuditController",["$scope","$stateParams",e("./app/controllers/system/auditInstrumentsController")]),i.controller("BalanceReportController",["$scope","$stateParams",e("./app/controllers/reports/balanceReportController")]),i.controller("ReportCustomAttrController",["$scope","$stateParams","$mdDialog",e("./app/controllers/reports/reportCustomAttrController")]),i.controller("BalanceReportDialogCustomAttrController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/balanceReportAddDialogCustomAttrController")]),i.controller("ProfitAndLostReportController",["$scope","$stateParams",e("./app/controllers/reports/profitAndLostReportController")]),i.controller("TransactionReportController",["$scope","$stateParams",e("./app/controllers/reports/transactionReportController")]),i.controller("CashFlowProjectionReportController",["$scope","$stateParams",e("./app/controllers/reports/cashFlowProjectionReportController")]),i.controller("PerformanceReportController",["$scope","$stateParams",e("./app/controllers/reports/performanceReportController")]),i.controller("EntityDataConstructorController",["$scope","$stateParams","$state","$mdDialog",e("./app/controllers/entityDataConstructorController")]),i.controller("AdditionsEditorEntityEditController",["$scope","$state","$mdDialog",e("./app/controllers/additionsEditorEntityEditController")]),i.controller("WarningDialogController",["$scope","$mdDialog","warning",e("./app/controllers/dialogs/warningDialogController")]),i.controller("HelpDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/helpDialogController")]),i.controller("SuccessDialogController",["$scope","$mdDialog","success",e("./app/controllers/dialogs/successDialogController")]),i.controller("ValidationDialogController",["$scope","$mdDialog","validationData",e("./app/controllers/dialogs/validationDialogController")]),i.controller("ExpressionEditorDialogController",["$scope","$mdDialog","item",e("./app/controllers/dialogs/expressionEditorDialogController")]),i.controller("InfoDialogController",["$scope","$mdDialog","info",e("./app/controllers/dialogs/infoDialogController")]),i.controller("InstrumentSelectDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/instrumentSelectDialogController")]),i.controller("ClassifierSelectDialogController",["$scope","$mdDialog","data",e("./app/controllers/dialogs/classifierSelectDialogController")]),i.controller("SaveLayoutDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/saveLayoutDialogController")]),i.controller("AuditController",["$scope",e("./app/controllers/system/auditController")]),i.controller("NotificationsController",["$scope","$state","$stateParams",e("./app/controllers/system/notificationsController")]),i.controller("HeaderNotificationsDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/HeaderNotificationsDialogController")]),i.controller("SettingsGeneralController",["$scope","$state",e("./app/controllers/settings/settingsGeneralController")]),i.controller("SettingsGeneralProfileController",["$scope",e("./app/controllers/settings/general/settingsGeneralProfileController")]),i.controller("SettingsGeneralDataProvidersController",["$scope",e("./app/controllers/settings/general/settingsGeneralDataProvidersController")]),i.controller("SettingsGeneralDataProvidersConfigController",["$scope","$stateParams","$mdDialog","$state",e("./app/controllers/settings/general/settingsGeneralDataProvidersConfigController")]),i.controller("SettingsGeneralInstrumentImportController",["$scope","$mdDialog",e("./app/controllers/settings/general/settingsGeneralInstrumentImportController")]),i.controller("SettingsGeneralTransactionImportController",["$scope","$mdDialog",e("./app/controllers/settings/general/settingsGeneralTransactionImportController")]),i.controller("SettingsFormDesignController",["$scope","$state",e("./app/controllers/settings/settingsFormDesignController")]),i.controller("SettingBloombergImportInstrumentController",["$scope","$state",e("./app/controllers/settings/settingBloombergImportInstrumentController")]),i.controller("SettingsMembersAndGroupsController",["$scope","$mdDialog",e("./app/controllers/settings/settingsMembersAndGroupsController")]),i.controller("CreateMemberDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/createMemberDialogController")]),i.controller("ManageMemberDialogController",["$scope","$mdDialog","memberId",e("./app/controllers/dialogs/manageMemberDialogController")]),i.controller("ManageGroupDialogController",["$scope","$mdDialog","groupId",e("./app/controllers/dialogs/manageGroupDialogController")]),i.controller("CreateGroupDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/createGroupDialogController")]),i.controller("UiLayoutListDialogController",["$scope","$mdDialog","options",e("./app/controllers/dialogs/ui/uiLayoutListDialogController")]),i.controller("UiLayoutSaveAsDialogController",["$scope","$mdDialog","options",e("./app/controllers/dialogs/ui/uiLayoutSaveAsDialogController")]),i.controller("BookmarksWizardDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/bookmarksWizardDialogController")]),i.controller("BookmarksLayoutSelectDialogController",["$scope","$mdDialog",e("./app/controllers/dialogs/bookmarksLayoutSelectDialogController")]),i.controller("FloatCustomFieldConstructorController",["$scope",e("./app/controllers/floatCustomFieldConstructorController")]),i.controller("DateCustomFieldConstructorController",["$scope",e("./app/controllers/dateCustomFieldConstructorController")]),i.component("floatRangeCustomFieldControl",e("./app/components/floatRangeCustomFieldControlComponent")),i.component("dateRangeCustomFieldControl",e("./app/components/dateRangeCustomFieldControlComponent")),i.component("dashboardEntityViewer",e("./app/components/dashboardEntityViewerComponent")),i.directive("menuToggle",[e("./app/directives/menuToggleDirective")]),i.directive("menuLink",[e("./app/directives/menuLinkDirective")]),i.directive("bindFieldControl",[e("./app/directives/bindFieldControlDirective")]),i.directive("layoutConstructorField",[e("./app/directives/layoutConstructorFieldDirective")]),i.directive("addTabEc",["$compile",e("./app/directives/addTabEcDirective")]),i.directive("fileRead",[e("./app/directives/fileReadDirective")]),i.directive("groupTable",[e("./app/directives/groupTable/gTableComponent")]),i.directive("groupTableBody",["$mdDialog",e("./app/directives/groupTable/gTableBodyComponent")]),i.directive("groupSidebarFilter",["$mdDialog",e("./app/directives/groupTable/gSidebarFilterComponent")]),i.directive("groupReportSettings",[e("./app/directives/groupTable/gReportSettingsComponent")]),i.directive("groupGrouping",["$mdDialog",e("./app/directives/groupTable/gGroupingComponent")]),i.directive("groupColumns",[e("./app/directives/groupTable/gColumnsComponent")]),i.directive("groupClipboardHandler",[e("./app/directives/groupTable/gClipboardHandlerComponent")]),i.directive("groupColumnResizer",[e("./app/directives/groupTable/gColumnResizerComponent")]),i.directive("gDialogDraggable",[e("./app/directives/groupTable/gDialogDraggableComponent")]),i.directive("groupHeightAligner",[e("./app/directives/groupTable/gHeightAlignerComponent")]),i.directive("groupVerticalScroll",[e("./app/directives/groupTable/gVerticalScrollComponent")]),i.directive("groupHorizontalScroll",[e("./app/directives/groupTable/gHorizontalScrollComponent")]),i.directive("groupSecondVerticalScroll",[e("./app/directives/groupTable/gSecondVerticalScrollComponent")]),i.directive("groupEditorBinder",["$templateCache","$compile",e("./app/directives/groupTable/groupEditorBinderComponent")]),i.directive("groupColumnInitWidth",[e("./app/directives/groupTable/gColumnInitWidthComponent.js")]),i.directive("groupBindReportRow",[e("./app/directives/groupTable/gBindReportRowDirective.js")]),i.controller("GReportSettingsDialogController",["$scope","$mdDialog","reportOptions",e("./app/controllers/dialogs/gReportSettingsDialogController")]),i.controller("gModalController",["$scope","$mdDialog","parentScope","callback",e("./app/directives/groupTable/gModalComponent")]),i.controller("gModalReportController",["$scope","$mdDialog","parentScope","callback",e("./app/directives/groupTable/gModalReportComponent")]),i.controller("gModalReportTransactionController",["$scope","$mdDialog","parentScope","callback",e("./app/directives/groupTable/gModalReportTransactionComponent")]),i.directive("evFieldResolver",[e("./app/directives/entityViewerFieldResolverDirective")]),i.directive("ismFieldResolver",[e("./app/directives/instrumentSchemeManagerFieldResolverDirective")]),i.directive("floatNumbers",[e("./app/directives/floatNumbersDirective")]),i.directive("instrumentModalResolver",["$mdDialog",e("./app/directives/instrumentModalResolverDirective")]),i.directive("instrumentEventActionResolver",["$mdDialog",e("./app/directives/instrumentEventActionResolverDirective")]),i.directive("classifierModalResolver",["$mdDialog",e("./app/directives/classifierModalResolverDirective")]),i.directive("zhDatePicker",["$mdDialog",e("./app/directives/zhDatePickerDirective")]),i.directive("customScroll",[e("./app/directives/customScrollDirective")]),i.directive("dragDialog",[e("./app/directives/dragDialogDirective")]),i.directive("membersGroupsTable",[e("./app/directives/membersGroupsTableDirective")]),i.directive("twoFieldsOptions",[e("./app/directives/twoFieldsOptionsDirective")]),i.directive("inputFileDirective",[e("./app/directives/inputFileDirective")]),i.directive("bookmarks",["$mdDialog",e("./app/directives/bookmarksDirective")]),i.filter("trustAsHtml",["$sce",e("./app/filters/trustAsHtmlFilter")]),i.filter("strLimit",["$filter",e("./app/filters/strLimitFilter")]),i.filter("propsFilter",["$filter",e("./app/filters/propsFilter")]),i.directive("ngRightClick",["$parse",function(e){return function(t,n,i){var a=e(i.ngRightClick);n.bind("contextmenu",function(e){t.$apply(function(){e.preventDefault(),a(t,{$event:e})})})}}]),e("./templates.min.js"),String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)}},{"../../forum/scripts/main.js":20,"./app/components/dashboardEntityViewerComponent":22,"./app/components/dateRangeCustomFieldControlComponent":23,"./app/components/floatRangeCustomFieldControlComponent":24,"./app/controllers/actionsController":25,"./app/controllers/additionsEditorEntityEditController":26,"./app/controllers/attributesManagerController":27,"./app/controllers/dashboardController":28,"./app/controllers/data/dataAccountController":29,"./app/controllers/data/dataAccountTypeController":30,"./app/controllers/data/dataComplexTransactionController":31,"./app/controllers/data/dataCounterpartyController":32,"./app/controllers/data/dataCounterpartyGroupController":33,"./app/controllers/data/dataCurrencyController":34,"./app/controllers/data/dataCurrencyHistoryController":35,"./app/controllers/data/dataInstrumentController":36,"./app/controllers/data/dataInstrumentTypeController":37,"./app/controllers/data/dataPortfolioController":38,"./app/controllers/data/dataPriceHistoryController":39,"./app/controllers/data/dataPricingPolicyController":40,"./app/controllers/data/dataResponsibleController":41,"./app/controllers/data/dataResponsibleGroupController":42,"./app/controllers/data/dataStrategyController":43,"./app/controllers/data/dataStrategyGroupController":44,"./app/controllers/data/dataStrategySubgroupController":45,"./app/controllers/data/dataTagController":46,"./app/controllers/data/dataTransactionController":47,"./app/controllers/data/dataTransactionTypeController":48,"./app/controllers/data/dataTransactionTypeGroupController":49,"./app/controllers/dateCustomFieldConstructorController":50,"./app/controllers/dialogs/HeaderNotificationsDialogController":51,"./app/controllers/dialogs/attributesManagerAddDialogController":52,"./app/controllers/dialogs/attributesManagerEditDialogController":53,"./app/controllers/dialogs/automatedUploadsHistoryDialogController":54,"./app/controllers/dialogs/balanceReportAddDialogCustomAttrController":55,"./app/controllers/dialogs/bookmarksLayoutSelectDialogController":56,"./app/controllers/dialogs/bookmarksWizardDialogController":57,"./app/controllers/dialogs/classificationEditorDialogController":58,"./app/controllers/dialogs/classifierSelectDialogController":59,"./app/controllers/dialogs/createGroupDialogController":60,"./app/controllers/dialogs/createMemberDialogController":61,"./app/controllers/dialogs/customFieldsConfigDialogController":62,"./app/controllers/dialogs/entityTypeMappingDialogController":63,"./app/controllers/dialogs/eventDialogController":64,"./app/controllers/dialogs/eventScheduleConfigDialogController":65,"./app/controllers/dialogs/expressionEditorDialogController":66,"./app/controllers/dialogs/fillPriceHistoryDialogController":67,"./app/controllers/dialogs/fillPriceManuallyInstrumentDialogController":68,"./app/controllers/dialogs/gReportSettingsDialogController":69,"./app/controllers/dialogs/helpDialogController":70,"./app/controllers/dialogs/importInstrumentDialogController":71,"./app/controllers/dialogs/importTransactionDialogController":72,"./app/controllers/dialogs/infoDialogController":73,"./app/controllers/dialogs/instrumentEventActionsDialogController":74,"./app/controllers/dialogs/instrumentMappingAddDialogController":75,"./app/controllers/dialogs/instrumentMappingEditDialogController":76,"./app/controllers/dialogs/instrumentSelectDialogController":77,"./app/controllers/dialogs/manageGroupDialogController":78,"./app/controllers/dialogs/manageMemberDialogController":79,"./app/controllers/dialogs/priceDownloadSchemeAddDialogController":80,"./app/controllers/dialogs/saveLayoutDialogController":81,"./app/controllers/dialogs/successDialogController":82,"./app/controllers/dialogs/transactionMappingAddDialogController":83,"./app/controllers/dialogs/transactionMappingEditDialogController":84,"./app/controllers/dialogs/transactionMappingInputMappingDialogController":85,"./app/controllers/dialogs/ui/uiLayoutListDialogController":86,"./app/controllers/dialogs/ui/uiLayoutSaveAsDialogController":87,"./app/controllers/dialogs/validationDialogController":88,"./app/controllers/dialogs/warningDialogController":89,"./app/controllers/entityDataConstructorController":90,"./app/controllers/entityEditorController":91,"./app/controllers/entityViewer/complexTransactionsTransactionEditDialogController":92,"./app/controllers/entityViewer/entityViewerAddDialogController":93,"./app/controllers/entityViewer/entityViewerController":94,"./app/controllers/entityViewer/entityViewerDeleteDialogController":95,"./app/controllers/entityViewer/entityViewerEditDialogController":96,"./app/controllers/entityViewer/entityViewerPermissionEditorController":97,"./app/controllers/entityViewer/onBeforeLoadActions/reportWizardController":98,"./app/controllers/floatCustomFieldConstructorController":99,"./app/controllers/reports/balanceReportController":100,"./app/controllers/reports/cashFlowProjectionReportController":101,"./app/controllers/reports/performanceReportController":102,"./app/controllers/reports/profitAndLostReportController":103,"./app/controllers/reports/reportCustomAttrController":104,"./app/controllers/reports/transactionReportController":105,"./app/controllers/settings/general/settingsGeneralDataProvidersConfigController":106,"./app/controllers/settings/general/settingsGeneralDataProvidersController":107,"./app/controllers/settings/general/settingsGeneralInstrumentImportController":108,"./app/controllers/settings/general/settingsGeneralProfileController":109,"./app/controllers/settings/general/settingsGeneralTransactionImportController":110,"./app/controllers/settings/settingBloombergImportInstrumentController":111,"./app/controllers/settings/settingsFormDesignController":112,"./app/controllers/settings/settingsGeneralController":113,"./app/controllers/settings/settingsMembersAndGroupsController":114,"./app/controllers/shellController":115,"./app/controllers/sideNavController":116,"./app/controllers/special-rules/complexTransactionSpecialRulesController":117,"./app/controllers/system/auditController":118,"./app/controllers/system/auditInstrumentsController":119,"./app/controllers/system/auditTransactionsController":120,"./app/controllers/system/notificationsController":121,"./app/controllers/tabs/complex-transaction/bookTransactionActionsTabController":122,"./app/controllers/tabs/complex-transaction/bookTransactionTransactionsTabController":123,"./app/controllers/tabs/instrument/accrualCalculationSchedulesController":124,"./app/controllers/tabs/instrument/eventSchedulesController":125,"./app/controllers/tabs/instrument/factorScheduleTabController":126,"./app/controllers/tabs/instrument/manualPricingFormulasTabController":127,"./app/controllers/tabs/transaction-type/transactionTypeActionsTabController":128,"./app/controllers/tabs/transaction-type/transactionTypeGeneralTabController":129,"./app/controllers/tabs/transaction-type/transactionTypeInputsTabController":130,"./app/directives/addTabEcDirective":131,"./app/directives/bindFieldControlDirective":132,"./app/directives/bookmarksDirective":133,"./app/directives/classifierModalResolverDirective":134,"./app/directives/customScrollDirective":135,"./app/directives/dragDialogDirective":136,"./app/directives/entityViewerFieldResolverDirective":137,"./app/directives/fileReadDirective":138,"./app/directives/floatNumbersDirective":139,"./app/directives/groupTable/gBindReportRowDirective.js":140,"./app/directives/groupTable/gClipboardHandlerComponent":141,"./app/directives/groupTable/gColumnInitWidthComponent.js":142,"./app/directives/groupTable/gColumnResizerComponent":143,"./app/directives/groupTable/gColumnsComponent":144,"./app/directives/groupTable/gDialogDraggableComponent":145,"./app/directives/groupTable/gGroupingComponent":146,"./app/directives/groupTable/gHeightAlignerComponent":147,"./app/directives/groupTable/gHorizontalScrollComponent":148,"./app/directives/groupTable/gModalComponent":149,"./app/directives/groupTable/gModalReportComponent":150,"./app/directives/groupTable/gModalReportTransactionComponent":151,"./app/directives/groupTable/gReportSettingsComponent":152,"./app/directives/groupTable/gSecondVerticalScrollComponent":153,"./app/directives/groupTable/gSidebarFilterComponent":154,"./app/directives/groupTable/gTableBodyComponent":155,"./app/directives/groupTable/gTableComponent":156,"./app/directives/groupTable/gVerticalScrollComponent":157,"./app/directives/groupTable/groupEditorBinderComponent":158,"./app/directives/inputFileDirective":159,"./app/directives/instrumentEventActionResolverDirective":160,"./app/directives/instrumentModalResolverDirective":161,"./app/directives/instrumentSchemeManagerFieldResolverDirective":162,"./app/directives/layoutConstructorFieldDirective":163,"./app/directives/membersGroupsTableDirective":164,"./app/directives/menuLinkDirective":165,"./app/directives/menuToggleDirective":166,"./app/directives/twoFieldsOptionsDirective":167,"./app/directives/zhDatePickerDirective":168,"./app/filters/propsFilter":169,"./app/filters/strLimitFilter":170,"./app/filters/trustAsHtmlFilter":171,"./app/router.js":252,"./templates.min.js":351}],351:[function(e,t,n){!function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/actions-view.html",'<div><div><md-button data-ng-click="vm.importInstrument($event)" class="md-primary md-raised">Import instrument</md-button></div><div><md-button data-ng-click="vm.importTransaction($event)" class="md-primary md-raised">Import transaction</md-button></div><div><md-button data-ng-click="vm.fillPriceHistory($event)" class="md-primary md-raised">Fill price history</md-button></div><div><md-button data-ng-click="vm.automatedUploads($event)" class="md-primary md-raised">Automated uploads</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'periodicity\'})" class="md-primary md-raised">Periodicity mapping</md-button></div><div><md-button class="md-raised md-primary" data-ng-click="vm.addScheme($event)">Create instrument import scheme</md-button></div><div><md-button class="md-raised md-primary" data-ng-click="vm.addPriceDownloadScheme($event)">Create price download scheme</md-button></div><div><md-button class="md-raised md-primary" data-ng-click="vm.eventScheduleConfig()">Configure event schedule</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'currency\'})" class="md-primary md-raised">Currency mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'instrument_type\'})" class="md-primary md-raised">Instrument type mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'instrument\'})" class="md-primary md-raised">Instrument mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'account\'})" class="md-primary md-raised">Account mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'counterparty\'})" class="md-primary md-raised">Counterparty mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'responsible\'})" class="md-primary md-raised">Responsible mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'portfolio\'})" class="md-primary md-raised">Portfolio mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'strategy_1\'})" class="md-primary md-raised">Strategy 1 mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'strategy_2\'})" class="md-primary md-raised">Strategy 2 mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'strategy_3\'})" class="md-primary md-raised">Strategy 3 mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity: \'accrual_calculation_model\'})" class="md-primary md-raised">Accrual calculation model mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity: \'daily_pricing_model\'})" class="md-primary md-raised">Daily pricing model mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity: \'payment_size_detail\'})" class="md-primary md-raised">Payment size detail mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity: \'price_download_scheme\'})" class="md-primary md-raised">Price download scheme mapping</md-button></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/additions-editor-view.html",'<div data-ng-controller="AdditionsEditorEntityEditController as vm" class="min-height"><div data-custom-scroll class="custom-scrollbar"><div data-ng-if="vm.readyStatus.entityId" data-ng-include="\'views/entity-editor-view.html\'"></div><div layout="row" layout-align="space-between center"><div layout="row"><md-button ng-click="vm.editLayout()" class="md-raised md-primary" style="margin-left: 27px; height: 36px">Edit Form</md-button><md-button ng-click="vm.manageAttrs()" class="md-raised md-primary" style="height: 36px">Manage attributes</md-button><md-button data-ng-if="vm.evAction === \'update\'" class="md-raised" ng-click="vm.copy()" style="margin-right: 25px; height: 36px">Make a copy</md-button><md-button data-ng-if="vm.evAction === \'update\'" class="md-raised" ng-click="vm.cancel()" style="height: 36px">Cancel</md-button></div><div layout="row" style="height: 48px"><md-button class="md-raised" ng-click="vm.save()" style="margin-bottom: 80px; margin-right:20px"><span data-ng-if="vm.evAction === \'create\'">Add </span><span data-ng-if="vm.evAction === \'update\'">Save</span></md-button></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-manager-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view" style="width: 60%"><md-toolbar><div class="md-toolbar-tools"><h2>Attribute manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><div data-ng-if="vm.readyStatus.attribute" style="width: 100%"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab><md-tab-label>General</md-tab-label><md-tab-body><div class="a-m-tab-content"><md-input-container class="md-block" flex-gt-sm><label>Attribute name</label><input data-ng-model="vm.attribute.name"></md-input-container><div data-ng-if="vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']" disabled="disabled"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div><div data-ng-if="!vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div><md-input-container class="md-block" flex-gt-sm style="margin-top: 10px"><md-checkbox data-ng-model="vm.attribute.is_hidden" aria-label="checkbox"><label style="width: 100%; position: relative">Is hidden</label></md-checkbox></md-input-container></div></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.attribute" style="width: 100%"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attributes-manager-view.html",'<div class="attributes-manager-view" style="height: 100%"><md-content style="height: 100%"><!--<md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addAttribute($event)">--><!--<ng-md-icon icon="add"></ng-md-icon>--><!--</md-button>--><div><h2 class="am-header"><span data-ng-bind="vm.entityType"></span><ng-md-icon icon="keyboard_arrow_right"></ng-md-icon>MANAGE ATTRIBUTES<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></h2></div><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button class="md-raised" data-ng-click="vm.addAttribute($event)">ADD NEW</md-button></div><div layout="row" flex="50" layout-align="end center"><md-button class="md-raised" data-ng-click="vm.toggleHidden($event)"><span data-ng-show="!vm.showHidden">SHOW HIDDEN ATTRIBUTES </span><span data-ng-show="vm.showHidden">HIDE ATTRIBUTES</span></md-button><md-button class="md-raised md-primary" data-ui-sref="app.data.{{vm.entityType}}">RETURN TO VIEW</md-button><md-button class="md-raised md-primary" data-ui-sref="app.data-constructor({entityType: vm.entityType})">RETURN TO FORM EDITOR</md-button></div></div><div data-ng-if="vm.attrs.length"><md-card data-ng-repeat="item in vm.attrs" class="am-attr-card" data-ng-if="vm.checkIsHidden(item)"><div><b data-ng-bind="item.name"></b> (<span data-ng-bind="vm.bindType(item)"></span>)<div class="am-attr-misc"><md-button data-ng-if="item[\'value_type\'] === 30" class="am-attr-btn" data-ng-click="vm.editTreeAttr(item, $event)"><ng-md-icon icon="format_align_right"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.editAttr(item, $event)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.deleteAttr(item, $event)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!vm.attrs.length"><!-- <div layout="row" layout-sm="column" layout-align="space-around">\n                <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n            </div> --><div layout="row" class="add-more-tip" layout-sm="column" layout-align="center center"><h1>You could add new user attributes here</h1></div></div></md-content></div>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/classification-editor-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="classifier-editor-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Classifier editor</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><md-button data-ng-click="vm.createNode()">Insert item</md-button><md-button data-ng-click="vm.renameNode()">Rename item</md-button><md-button data-ng-click="vm.deleteNode()">Delete item</md-button></div><div layout="row"><div id="jstree_demo" style="width: 100%; overflow: hidden"></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/classifier-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="classifier-select-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Select classifier</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><div data-ng-show="vm.tree.length" class="js-tree-holder-dialog-select"><div id="js-tree-select-wrapper" class="js-tree-select" style="width: 100%; overflow: hidden"></div></div><div data-ng-if="!vm.tree.length" style="width: 100%"><p style="text-align: center; width: 100%">Press Edit to create Classification</p></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised md-primary" ng-click="vm.edit($event)">Edit</md-button><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dashboard-view.html",'<div><div class="row"><div layout="row"><md-button class="md-raised md-primary" data-ng-click="vm.checkForEvents($event)" style="margin-left: 16px; margin-top: 12px">CHECK FOR EVENTS</md-button></div><div class="dashboard-row-holder" data-ng-if="vm.readyStatus.uiLayouts && vm.readyStatus.entityListLayout"><div class="dashboard-row"><div class="dashboard-item-wrap"><div data-ng-if="vm.widget1._d_configured"><div class="dashboard-item"><div class="custom-scrollbar" data-custom-scroll data-scroll-sticky="true"><dashboard-entity-viewer options="vm.widget1"></dashboard-entity-viewer></div></div></div><div data-ng-if="!vm.widget1._d_configured" class="dashboard-widget-wizard"><div layout="row" layout-align="center center"><md-input-container><label for="">Select Layout</label><md-select data-ng-model="vm.widget1._d_layout" data-ng-change="vm.changeWidget(vm.widget1)"><md-option data-ng-repeat="item in vm.uiLayouts" data-ng-value="item">{{item.name}} (<span data-ng-bind="vm.resolveEntity(item)"></span>)</md-option></md-select></md-input-container></div></div><div class="close-entity-viewer-btn" data-ng-if="vm.widget1._d_configured" data-ng-click="vm.closeWidget(vm.widget1)"><ng-md-icon icon="close"></ng-md-icon><md-tooltip class="tooltip_1" md-direction="bottom">Change layout</md-tooltip></div></div><div class="dashboard-item-wrap"><div data-ng-if="vm.widget2._d_configured"><div class="dashboard-item"><div class="custom-scrollbar" data-custom-scroll data-scroll-sticky="true"><dashboard-entity-viewer options="vm.widget2"></dashboard-entity-viewer></div></div></div><div data-ng-if="!vm.widget2._d_configured" class="dashboard-widget-wizard"><div layout="row" layout-align="center center"><md-input-container><label for="">Select Layout</label><md-select data-ng-model="vm.widget2._d_layout" data-ng-change="vm.changeWidget(vm.widget2)"><md-option data-ng-repeat="item in vm.uiLayouts" data-ng-value="item">{{item.name}} (<span data-ng-bind="vm.resolveEntity(item)"></span>)</md-option></md-select></md-input-container></div></div><div class="close-entity-viewer-btn" data-ng-if="vm.widget2._d_configured" data-ng-click="vm.closeWidget(vm.widget2)"><ng-md-icon icon="close"></ng-md-icon><md-tooltip class="tooltip_1" md-direction="bottom">Change layout</md-tooltip></div></div></div><div class="dashboard-row"><div class="dashboard-item-wrap"><div data-ng-if="vm.widget3._d_configured"><div class="dashboard-item"><div class="custom-scrollbar" data-custom-scroll data-scroll-sticky="true"><dashboard-entity-viewer options="vm.widget3"></dashboard-entity-viewer></div></div></div><div data-ng-if="!vm.widget3._d_configured" class="dashboard-widget-wizard"><div layout="row" layout-align="center center"><md-input-container><label for="">Select Layout</label><md-select data-ng-model="vm.widget3._d_layout" data-ng-change="vm.changeWidget(vm.widget3)"><md-option data-ng-repeat="item in vm.uiLayouts" data-ng-value="item">{{item.name}} (<span data-ng-bind="vm.resolveEntity(item)"></span>)</md-option></md-select></md-input-container></div></div><div class="close-entity-viewer-btn" data-ng-if="vm.widget3._d_configured" data-ng-click="vm.closeWidget(vm.widget3)"><ng-md-icon icon="close"></ng-md-icon><md-tooltip class="tooltip_1" md-direction="bottom">Change layout</md-tooltip></div></div><div class="dashboard-item-wrap"><div data-ng-if="vm.widget4._d_configured"><div class="dashboard-item"><div class="custom-scrollbar" data-custom-scroll data-scroll-sticky="true"><dashboard-entity-viewer options="vm.widget4"></dashboard-entity-viewer></div></div></div><div data-ng-if="!vm.widget4._d_configured" class="dashboard-widget-wizard"><div layout="row" layout-align="center center"><md-input-container><label for="">Select Layout</label><md-select data-ng-model="vm.widget4._d_layout" data-ng-change="vm.changeWidget(vm.widget4)"><md-option data-ng-repeat="item in vm.uiLayouts" data-ng-value="item">{{item.name}} (<span data-ng-bind="vm.resolveEntity(item)"></span>)</md-option></md-select></md-input-container></div></div><div class="close-entity-viewer-btn" data-ng-if="vm.widget4._d_configured" data-ng-click="vm.closeWidget(vm.widget4)"><ng-md-icon icon="close"></ng-md-icon><md-tooltip class="tooltip_1" md-direction="bottom">Change layout</md-tooltip></div></div></div></div><div data-ng-if="!vm.readyStatus.uiLayouts && !vm.readyStatus.entityListLayout"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/date-custom-field-constructor-view.html",'<div data-ng-controller="DateCustomFieldConstructorController as vm" class="date-custom-field-constructor-view"><h4 class="text-center">Date range constructor</h4><date-range-custom-field-control items="vm.rangeItems" range="vm.dateRange"></date-range-custom-field-control></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-data-constructor-view.html",'<div class="entity-constructor"><div data-ng-if="vm.readyStatus.constructor" class="ec-tabs-holder" data-add-tab-ec data-tabs="vm.tabs"><h1 class="ec-breadcrumbs"><span class="ec-entity-type">{{vm.entityType}}<ng-md-icon icon="chevron_right" size="24" style="fill:#8B8B8B"></ng-md-icon></span>INPUT FORM EDITOR</h1><md-tabs md-border-bottom md-dynamic-height><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><div data-ng-if="!tab.editState"><span class="ec-tab-item-name">{{tab.name}}</span><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.deleteTab(tab)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div><div data-ng-if="tab.editState"><md-input-container class="ec-tab-item-edit"><label>Tab name</label><input ng-model="tab.captionName"></md-input-container><md-button class="ec-tab-btn" data-ng-click="vm.saveEditedTab(tab)"><ng-md-icon icon="save"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab, \'back\', $index)"><ng-md-icon icon="cancel"></ng-md-icon></md-button></div></md-tab-label><md-tab-body><div class="ec-md-content ec-layout-tab"><div class="ec-layout-box"><span class="select-layout-caption">Select layout</span><md-button class="{{tab.layout.columns === item ? \'active\' : \'\' }} ec-layout-btn" data-ng-click="vm.setLayoutColumns(tab, item, $event)" data-ng-repeat="item in vm.boxColumns"><ng-md-icon icon="stop" data-ng-repeat="icon in vm.range(item)"></ng-md-icon></md-button></div><div class="ec-layout"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div data-ng-repeat="column in vm.range(tab.layout.columns)" flex="{{vm.bindFlex(tab, row, column)}}" data-ng-if="vm.checkColspan(tab, row, column)"><layout-constructor-field tab="tab" row="row" column="column"></layout-constructor-field></div></div></div></div></md-tab-body></md-tab></md-tabs><div layout="row" layout-align="space-between center"><div><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary manage-attrs-btn" data-ui-sref="app.attributesManager({entityType: vm.entityType})">Manage attributes</md-button></div><div style="padding-right: 10px"><md-button ng-click="vm.cancel()" class="md-raised">Cancel</md-button><md-button ng-click="vm.saveLayout()" class="md-raised">Save & Return</md-button></div></div></div><div data-ng-if="!vm.readyStatus.constructor"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="120"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-editor-view.html",'<div data-ng-controller="EntityEditorController as vm"><div class="entity-editor-special-rules-holder" data-ng-if="vm.entitySpecialRules"><div data-ng-include="vm.resolveSpecialRules()"></div></div><div data-ng-if="vm.specialRulesReady"><div data-ng-if="vm.checkReadyStatus()"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><span>{{tab.name}}</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field {{field.attribute[\'value_type\'] === \'decoration\' ? \'decoration-label-line\' : \'\'}}" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab-body></md-tab><md-tab data-ng-repeat="tab in vm.entityTabs" data-ng-if="vm.checkViewState(tab)"><md-tab-lable><span class="grey-tab">{{tab.label}}</span></md-tab-lable><md-tab-body><md-content class="md-padding p-t-26"><div data-ng-include="tab.templateUrl"></div></md-content></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/float-custom-field-constructor-view.html",'<div data-ng-controller="FloatCustomFieldConstructorController as vm" class="float-custom-field-constructor-view"><h4 class="text-center">Number range constructor</h4><float-range-custom-field-control items="vm.rangeItems"></float-range-custom-field-control></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/info-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.info.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>{{vm.info.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><!--<md-button ng-click="vm.cancel()">--><!--Cancel--><!--</md-button>--><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/instrument-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-select-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Search instrument</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="column"><div><table class="bordered"><thead><tr><th><md-input-container class="md-block"><label>Name</label><input data-ng-model="vm.search[\'name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block"><label>Short name</label><input data-ng-model="vm.search[\'short_name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block"><label>User code</label><input data-ng-model="vm.search[\'user_code\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block bind-field-input"><label>User text 1</label><input data-ng-model="vm.search[\'user_text_1\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block bind-field-input"><label>User text 2</label><input data-ng-model="vm.search[\'user_text_2\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block bind-field-input"><label>User text 3</label><input data-ng-model="vm.search[\'user_text_3\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th></tr></thead><tbody><tr data-ng-click="vm.selectRow(item)" ng-dblclick="vm.selectAndSave(item)" data-ng-repeat="item in vm.instruments" class="{{item.active ? \'active\' : \'\'}}" style="height: 40px"><td data-ng-bind="item[\'name\']"></td><td data-ng-bind="item[\'short_name\']"></td><td data-ng-bind="item[\'user_code\']"></td><td data-ng-bind="item[\'user_text_1\']"></td><td data-ng-bind="item[\'user_text_2\']"></td><td data-ng-bind="item[\'user_text_3\']"></td></tr></tbody></table></div><div data-ng-if="!vm.instruments.length" style="text-align: center; margin-top: 20px">No result found</div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/save-layout-dialog-view.html",'<md-dialog aria-label=""><div layout="column" layout-align="center center"><h3>Page was saved.</h3><div><md-button class="md-raised" data-ng-click="vm.cancel()">Close</md-button></div></div></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/shell-view.html",'<div layout="row" class="min-height"><div layout="row" class="sidenav-wrapper" data-ng-controller="SideNavController as vm" data-ng-include="\'views/side-nav-view.html\'"></div><div layout="column" class="relative" layout-fill role="main"><md-toolbar ng-show="!showSearch" class="header" layout="columns"><div class="md-toolbar-tools" flex="70" layout="start center"><h2 data-ng-if="vm.currentLocation().length > 0" data-ng-bind="vm.currentLocation()"></h2><div data-ng-if="vm.currentLocationShowBtns" layout="row"><md-menu><md-button class="md-button header-cloud-layout-btn" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="cloud" size="36"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button data-ng-click="vm.openLayoutList($event)">Open layout</md-button></md-menu-item><md-menu-item><md-button class="save-layout-btn">Save</md-button></md-menu-item><md-menu-item><md-button class="save-layout-as-btn">Save as</md-button></md-menu-item></md-menu-content></md-menu><bookmarks></bookmarks></div></div><div class="md-toolbar-tools" flex="30" layout-align="end end"><div class="header-misc" layout="row"><!--<md-button data-ui-sref="app.system.notifications" aria-label="Notifications">--><!--<ng-md-icon icon="mail_outline"></ng-md-icon>--><!--</md-button>--><md-button data-ui-sref="app.system.notifications({notificationsListType: \'unreaded\'})" aria-label="Notifications"><ng-md-icon icon="flag"></ng-md-icon><span data-ng-show="vm.unreadedNotificationsAmount" data-ng-bind="vm.unreadedNotificationsAmount" class="unreaded-notifications-number"></span></md-button><div class="header-profile"><md-menu><md-button class="md-button header-account-btn" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="account_circle" size="48"></ng-md-icon><span class="header-profile-name" data-ng-bind="vm.user.username"></span></md-button><md-menu-content><md-menu-item><md-button data-ng-click="vm.logOutMethod()">Log Out</md-button></md-menu-item></md-menu-content></md-menu></div></div><!--<a href="#" data-ng-click="vm.logout()">Log out</a>--></div></md-toolbar><md-content flex data-custom-scroll class="app-md-content custom-scrollbar"><div data-ui-view class="shell-view"></div></md-content></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/side-nav-view.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z1" md-component-id="left" md-is-locked-open="true"><md-toolbar md-scroll-shrink><div class="md-toolbar-tools"><img src="portal/content/img/finmars_logo.png" alt="" height="40" class="sidenav-logo"><div class="side-nav-btn-resize-holder"><md-button data-ng-show="vm.sideNavStatus == \'expand\'" aria-label="resize" class="to-small-btn side-nav-btn fab md-raised" data-ng-click="vm.resizeSideNav(\'collapse\')"><ng-md-icon icon="chevron_left"></ng-md-icon></md-button><md-button data-ng-show="vm.sideNavStatus == \'collapse\'" aria-label="resize" class="to-small-btn side-nav-btn fab md-raised" data-ng-click="vm.resizeSideNav(\'expand\')"><ng-md-icon icon="chevron_right"></ng-md-icon></md-button></div></div></md-toolbar><md-content flex role="navigation"><div style="overflow: hidden; height: 100%; display: block"><div data-custom-scroll class="custom-scrollbar"><ul class="side-menu"><li data-ng-repeat="section in vm.sections" class="parent-list-item" data-ng-class="{\'parentActive\' : vm.isSectionSelected(section)}"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul></div></div></md-content></md-sidenav>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/warning-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.warning.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="warning-text"><p>{{vm.warning.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/date.html",'<div data-ng-if="item"><fieldset class="standard" style="padding-top: 15px"><legend>Add buttons</legend><md-checkbox data-ng-model="item.options.dateTodayMinus" aria-label="checkbox">T - 1</md-checkbox><md-checkbox data-ng-model="item.options.dateToday" aria-label="checkbox">T</md-checkbox><md-checkbox data-ng-model="item.options.dateTodayPlus" aria-label="checkbox">T + 1</md-checkbox></fieldset></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/field.html","<div data-ng-if=\"item\"><md-input-container class=\"md-block\" data-ng-if=\"item.attribute.key !== 'instrument'\"><label>Display fields in list</label><md-select ng-model=\"item.options.fieldsList\"><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container><md-input-container class=\"md-block\"><label>Display fields on form</label><md-select ng-model=\"item.options.fieldsForm\"><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container></div>")}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/labeled-line.html",'<div><md-input-container class="md-block"><label>Label text</label><input data-ng-model="item.options.labelText"></md-input-container></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/notes.html",'<div><md-input-container class="md-block"><label>Row count</label><input data-ng-model="item.options.rowCount" type="number"></md-input-container><!--<md-input-container class="md-block" flex-gt-sm>--><!--<label>Frame</label>--><!--<md-select ng-model="item.options.frame">--><!--<md-option value="0">--><!--No border--><!--</md-option>--><!--<md-option value="1">--><!--Border--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/number.html",'<div><md-checkbox data-ng-model="item.options.onlyPositive" aria-label="checkbox">Only positive</md-checkbox></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/attribute-options/string.html",'<div><md-input-container class="md-block"><label>Copy text from</label><md-select ng-model="item.options.copyFrom"><md-option data-ng-repeat="attr in findStringAttributes()" ng-value="copyFromValue(attr)">{{attr.name}}</md-option></md-select></md-input-container><md-checkbox data-ng-model="item.options.notNull" aria-label="checkbox">Not null</md-checkbox></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/components/date-range-custom-field-control-component.html",'<div><div layout="column"><div layout="row" class="drcf-before" layout-align="center center"><md-input-container flex="30"><label for="">Starting text</label><input type="text" data-ng-model="$ctrl.range.before.date"></md-input-container><md-input-container flex="30" style="height: 58px"><label for="">Earliest From Date format</label><md-select data-ng-model="$ctrl.range.before.format"><md-option data-ng-value="item" data-ng-repeat="item in $ctrl.dateFormats track by item.id">{{item.caption}}</md-option></md-select></md-input-container><md-input-container flex="30"><label for="">Ending text</label><input type="text" data-ng-model="$ctrl.range.before.name"></md-input-container></div><div class="drcf-item" data-ng-repeat="item in $ctrl.items" layout="row"><div class="column" flex="90"><div layout="row" class="drcf-item-top" layout-align="space-between center"><md-input-container><label for="">From date</label><input type="text" data-ng-model="item.begin"><!--<zh-date-picker ng-model="item.from"></zh-date-picker>--></md-input-container><md-input-container style="height: 58px"><label for="">Frequency</label><md-select data-ng-model="item.step"><md-option data-ng-value="item" data-ng-repeat="item in $ctrl.frequencies track by item.id">{{item.caption}}</md-option></md-select></md-input-container><md-input-container><label for="">To date</label><input type="text" data-ng-model="item.end"><!--<zh-date-picker ng-model="item.to"></zh-date-picker>--></md-input-container></div><div layout="column" class="drcf-item-bottom" layout-align="center center"><div flex="60" layout="row" layout-align="center center"><div flex="30"><md-input-container><label for="">Starting text</label><input type="text" data-ng-model="item.str1"></md-input-container></div><md-input-container flex="30" style="height: 58px"><label for="">From Date format</label><md-select data-ng-model="item.begin_date_fmt"><md-option data-ng-value="item" data-ng-repeat="item in $ctrl.dateFormats track by item.id">{{item.caption}}</md-option></md-select></md-input-container><md-input-container flex="30"><label for="">Ending text</label><input type="text" data-ng-model="item.str3"></md-input-container></div><div flex="60" layout="row" layout-align="center center"><div flex="30"><md-input-container><label for="">Starting text</label><input type="text" data-ng-model="item.str4"></md-input-container></div><md-input-container flex="30" style="height: 58px"><label for="">To Date Format</label><md-select data-ng-model="item.end_date_fmt"><md-option data-ng-value="item" data-ng-repeat="item in $ctrl.dateFormats track by item.id">{{item.caption}}</md-option></md-select></md-input-container><md-input-container flex="30"><label for="">Ending text</label><input type="text" data-ng-model="item.str6"></md-input-container></div></div></div><div class="row" flex="10"><div><md-button class="md-icon-button md-raised {{$ctrl.inputIsFocused ? \'disabled-btn\' : \'\'}}" data-ng-click="$ctrl.addRange(item, $index)"><ng-md-icon icon="add"></ng-md-icon></md-button></div><div data-ng-if="$index !== 0"><md-button class="md-icon-button md-raised" data-ng-click="$ctrl.removeRange($index)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></div></div><div layout="row" class="drcf-after" layout-align="center center"><md-input-container flex="30"><label for="">Starting text</label><input type="text" data-ng-model="$ctrl.range.after.date"></md-input-container><md-input-container flex="30" style="height: 58px"><label for="">Latest To Date format</label><md-select data-ng-model="$ctrl.range.after.format"><md-option data-ng-value="item" data-ng-repeat="item in $ctrl.dateFormats track by item.id">{{item.caption}}</md-option></md-select></md-input-container><md-input-container flex="30"><label for="">Ending text</label><input type="text" data-ng-model="$ctrl.range.after.name"></md-input-container></div></div></div>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/components/float-range-custom-field-control-component.html",'<div><div data-ng-repeat="item in $ctrl.items" layout="column"><div layout="column"><div layout="row" layout-align="space-between center"><div flex="30" layout-align="center center" layout="row" style="height: 58px"><span data-ng-bind="item.value_left"></span></div><div flex="15" layout-align="center center" layout="row" style="height: 58px">&#60; X &#60;=</div><div flex="30" style="height: 58px" layout="row" layout-align="center center"><div data-ng-if="item.is_active == true"><md-input-container><input type="text" data-ng-model="item.value_right" data-ng-blur="$ctrl.checkRange(item, $index)" data-ng-keyup="$ctrl.syncActiveItem(item, $index)"></md-input-container></div><span data-ng-if="!item.is_active" data-ng-bind="item.value_right"></span></div><div flex="15"><md-input-container><input type="text" data-ng-model="item.group_name"></md-input-container></div><div flex="10" layout-align="center start" layout="row" style="height: 58px"><div><md-button class="md-icon-button md-raised {{$ctrl.inputIsFocused ? \'disabled-btn\' : \'\'}}" data-ng-click="$ctrl.addRange(item, $index)"><ng-md-icon icon="add"></ng-md-icon></md-button></div><div data-ng-if="$index !== 0"><md-button class="md-icon-button md-raised" data-ng-click="$ctrl.removeRange($index)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-account-type-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-account-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-complex-transaction-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-counterparty-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-counterparty-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-currency-history-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-currency-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-instrument-type-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-instrument-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-portfolio-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-price-history-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-pricing-policy-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-responsible-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-responsible-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-strategy-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-strategy-subgroup-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-strategy-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-tag-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-transaction-type-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-transaction-type-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/data/data-transaction-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/automated-uploads-history-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="automated-uploads-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Automatic uploads manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.schedule" layout="column"><md-card><md-card-content><div><md-input-container><label for="">Upload periodicity</label><md-select data-ng-model="vm.cron.periodicity" data-ng-change="vm.resetCronExpr()"><md-option value="1">Daily</md-option><md-option value="2">Weekly</md-option><md-option value="3">Monthly</md-option></md-select></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div data-ng-show="vm.cron.periodicity == 2"><div style="padding-left: 14px"><p><b>Weekly</b></p><div><md-checkbox ng-model="vm.days[0].status" data-ng-click="vm.setDay(1)" aria-label="monday">Monday</md-checkbox><md-checkbox ng-model="vm.days[1].status" data-ng-click="vm.setDay(2)" aria-label="tuesday">Tuesday</md-checkbox><md-checkbox ng-model="vm.days[2].status" data-ng-click="vm.setDay(3)" aria-label="wednesday">Wednesday</md-checkbox><md-checkbox ng-model="vm.days[3].status" data-ng-click="vm.setDay(4)" aria-label="thursday">Thursday</md-checkbox><md-checkbox ng-model="vm.days[4].status" data-ng-click="vm.setDay(5)" aria-label="friday">Friday</md-checkbox><md-checkbox ng-model="vm.days[5].status" data-ng-click="vm.setDay(6)" aria-label="sat">Sat</md-checkbox><md-checkbox ng-model="vm.days[6].status" data-ng-click="vm.setDay(7)" aria-label="sun">Sun</md-checkbox></div></div></div><div data-ng-show="vm.cron.periodicity == 3"><div layout="row" style="padding-top: 14px"><md-input-container><label for="">Month</label><md-select data-ng-model="vm.cron.month" multiple="multiple"><md-option value="1">January</md-option><md-option value="2">February</md-option><md-option value="3">March</md-option><md-option value="4">April</md-option><md-option value="5">May</md-option><md-option value="6">June</md-option><md-option value="7">Jule</md-option><md-option value="8">August</md-option><md-option value="9">September</md-option><md-option value="10">November</md-option><md-option value="11">October</md-option><md-option value="12">December</md-option></md-select></md-input-container><md-input-container><label for="">Day</label><md-select data-ng-model="vm.cron.day" multiple="multiple"><md-option value="{{item + 1}}" data-ng-repeat="item in vm.getRange(31)">{{item + 1}}</md-option></md-select></md-input-container></div></div><div><md-input-container style="padding-left: 0; padding-top: 16px"><label for="">Time</label><mdp-time-picker class="custom-time-picker" data-ng-model="vm.cron.time"></mdp-time-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777; margin-left: 8px"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div><md-input-container><label for="">Days to load</label><input type="text" data-ng-model="vm.schedule.load_days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div><md-input-container><label for="">Portfolio balance days</label><input type="text" data-ng-model="vm.schedule.balance_day" placeholder="days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div style="margin-bottom: 18px"><md-checkbox style="margin-left: 12px" ng-model="vm.schedule.override_existed" aria-label="override">Override old prices</md-checkbox><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div><md-input-container><label for="">Roll prices for N days forward</label><input type="text" data-ng-model="vm.schedule.fill_days" placeholder="days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.schedule"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree($event)" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/balance-report-custom-attr-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view draggable-dialog" style="width: 60%" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Attribute manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><div data-ng-if="vm.readyStatus.attribute" style="width: 100%"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab><md-tab-label>General</md-tab-label><md-tab-body><div class="a-m-tab-content"><md-input-container class="md-block" flex-gt-sm><label>Attribute name</label><input data-ng-model="vm.attribute.name" placeholder="{{vm.attribute.name}}"></md-input-container><div data-ng-if="vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute expression</label><input data-ng-model="vm.attribute.expr" palceholder="{{vm.attribute.expr}}"></md-input-container></div><div data-ng-if="!vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute expression</label><input data-ng-model="vm.attribute.expr"></md-input-container></div><md-button class="md-raised md-primary" data-ng-click="vm.setupConfig($event)">Define range</md-button><!-- <md-input-container class="md-block" flex-gt-sm style="margin-top: 10px">\n                                    <md-checkbox data-ng-model="vm.attribute.is_hidden"\n                                                 aria-label="checkbox">\n                                        <label style="width: 100%; position: relative">Is hidden</label>\n                                    </md-checkbox>\n                                </md-input-container> --></div></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.attribute" style="width: 100%"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/bookmarks-layout-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="bookmarks-wizard-view" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>UI layouts</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div data-ng-if="vm.readyStatus.content" class="dialog-loader"><div style="padding: 24px"><div data-ng-repeat="item in vm.items" style="margin: 6px"><div data-ng-click="vm.selectLayout(item)"><b><span data-ng-bind="item.name"></span></b> (<span data-ng-bind="item.content_type"></span>)</div></div></div></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/bookmarks-wizard-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="bookmarks-wizard-view" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Boomarks manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><md-button data-ng-click="vm.createNode($event)">Insert</md-button><md-button data-ng-click="vm.renameNode()">Rename</md-button><md-button data-ng-click="vm.deleteNode()">Delete</md-button></div><div layout="row"><div id="jstree_demo" style="width: 100%; overflow: hidden"></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/complex-transactions-transaction-edit-dialog-view.html",'<md-dialog aria-label="entity edit" ng-cloak class="add-portfolio-dialog draggable-dialog" drag-dialog><md-dialog-content data-custom-scroll class="custom-scrollbar"><!-- <div data-ng-include="\'views/entity-editor-view.html\'"></div> --><div class="entity-editor-special-rules-holder" data-ng-if="vm.entitySpecialRules"><div data-ng-include="vm.resolveSpecialRules()"></div></div><div data-ng-if="vm.specialRulesReady"><div data-ng-if="vm.checkReadyStatus()"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><span>{{tab.name}}</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field {{field.attribute[\'value_type\'] === \'decoration\' ? \'decoration-label-line\' : \'\'}}" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab-body></md-tab><md-tab data-ng-repeat="tab in vm.entityTabs" data-ng-if="vm.checkViewState(tab)"><md-tab-lable><span class="grey-tab">{{tab.label}}</span></md-tab-lable><md-tab-body><md-content class="md-padding p-t-26"><div data-ng-include="tab.templateUrl"></div></md-content></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div><!--            ************************************8        --></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><div><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.save()" style="margin-right:20px">Save</md-button></div></md-dialog-actions></md-dialog>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/create-group-dialog-view.html",'<md-dialog class="create-member-group-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Add new group</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="create-member-dialog-content custom-scrollbar"><div layout="column"><md-input-container><label>Group name</label><textarea data-ng-model="vm.groupName"></textarea></md-input-container></div></md-dialog-content><md-dialog-actions layout="row" layout-align="start center"><div flex="70"><md-button class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></div><div flex="30"><md-button class="md-raised md-primary" data-ng-click="vm.agree()">Create</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/create-member-dialog-view.html",'<md-dialog class="create-member-group-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Add new member</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="create-member-dialog-content custom-scrollbar"><div layout="column"><md-input-container><label>Member name</label><textarea data-ng-model="vm.memberName"></textarea></md-input-container><md-input-container><label>Email</label><textarea data-ng-model="vm.memberEmail"></textarea></md-input-container></div></md-dialog-content><md-dialog-actions layout="row" layout-align="start center"><div flex="70"><md-button class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></div><div flex="30"><md-button class="md-raised md-primary" data-ng-click="vm.agree()">Create</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/custom-fields-config-dialog-view.html",'<md-dialog aria-label="" drag-dialog ng-cloak class="custom-field-config-dialog-view draggable-dialog" style="width: 60%"><md-toolbar><div class="md-toolbar-tools"><h2>Range configuration manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row" layout-align="space-between center"><md-input-container style="width: 100%"><!--<label for="">Select field</label>--><!--<md-select data-ng-model="vm.reportField">--><!--<md-option data-ng-value="item" data-ng-repeat="item in vm.reportFields">--><!--{{item.name}}--><!--</md-option>--><!--</md-select>--><label for="">Field</label><input type="text" data-ng-model="vm.exprField"></md-input-container><md-input-container style="width: 100%; height: 58px"><label for="">Constructor type</label><md-select data-ng-model="vm.exprType" data-ng-change="vm.resetRanges()"><md-option value="20">Number</md-option><md-option value="40">Date</md-option></md-select></md-input-container></div><div data-ng-if="vm.exprType == 20"><div data-ng-include="\'views/float-custom-field-constructor-view.html\'"></div></div><div data-ng-if="vm.exprType == 40"><div data-ng-include="\'views/date-custom-field-constructor-view.html\'"></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/entity-type-mapping-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="entity-type-mapping-dialog-view draggable-dialog" style="width: 50%" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Entity type mapping</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.content"><md-card><md-card-content style="padding-top: 16px; padding-bottom: 0"><div data-ng-if="vm.mapEntityType == \'classifier\'"><div layout="row" style="margin-bottom: 20px"><div flex="50" data-ng-click="vm.setSort(\'mapping.value\')"><b>Your value </b><span class="sortorder" data-ng-show="vm.sort === \'mapping.value\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="40" data-ng-click="vm.setSort(\'name\')"><b>Map on {{vm.fancyEntity()}} </b><span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="10"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></div></div><div layout="row" style="margin-bottom: 20px" data-ng-if="vm.queryStatus" class="filter-row-holder"><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mapping.value"></md-input-container></div><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></div></div><div data-ng-repeat="item in vm.entityItems | filter:vm.query | orderBy:vm.sort:vm.direction"><div layout="row"><div flex="50"><md-input-container><label for="">Value</label><input type="text" data-ng-model="item.mapping.value"></md-input-container></div><div flex="50"><p data-ng-bind="item.name"></p></div></div></div></div><div data-ng-if="vm.mapEntityType != \'classifier\'"><div layout="row" style="margin-bottom: 20px"><div flex="50" data-ng-click="vm.setSort(\'mapping.value\')"><b>Your value </b><span class="sortorder" data-ng-show="vm.sort === \'mapping.value\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="40" data-ng-click="vm.setSort(\'name\')"><b>Map on {{vm.fancyEntity()}} </b><span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="10"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></div></div><div layout="row" style="margin-bottom: 20px" data-ng-if="vm.queryStatus" class="filter-row-holder"><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mapping.value"></md-input-container></div><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></div></div><div data-ng-repeat="item in vm.entityItems | filter:vm.query | orderBy:vm.sort:vm.direction"><div layout="row" data-ng-repeat="mappingItem in item.mapping" data-ng-show="!mappingItem.isDeleted"><div flex="50" layout="row"><md-input-container><label for="">Value</label><input type="text" data-ng-model="mappingItem.value"></md-input-container><div layout="row"><md-button data-ng-click="vm.addMapping(item)" class="md-raised md-icon-button">+</md-button><md-button data-ng-click="vm.removeMapping(item, mappingItem, $index)" data-ng-show="item.mapping.length > 1" class="md-raised md-icon-button">-</md-button></div></div><div flex="50"><p data-ng-bind="vm.bindEntityName(item)"></p></div></div></div></div></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/event-dialog-view.html",'<md-dialog aria-label="event"><md-toolbar><div class="md-toolbar-tools"><h2>Event</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar md-padding"><div layout="row"><md-button aria-label="event button" data-ng-repeat="button in vm.actionsBtns" class="md-raised" data-ng-bind="button.display_text" data-ng-click="vm.eventAction(button.id)"></md-button></div></md-dialog-content><md-dialog-actions layout="row"><md-button aria-label="cancel" class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/event-schedule-config-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="event-schedule-dialog-view draggable-dialog" drag-dialog style="width: 50%"><md-toolbar><div class="md-toolbar-tools"><h2>Event schedule config</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.checkReadyStatus()" layout="column"><md-card><md-card-content><md-input-container class="md-block"><label for="">Name</label><input type="text" data-ng-model="vm.config.name"></md-input-container><md-input-container class="md-block"><label for="">Description</label><input type="text" data-ng-model="vm.config.description"></md-input-container><md-input-container class="md-block" style="margin-bottom: 20px"><label for="">Notification class</label><md-select data-ng-model="vm.config.notification_class"><md-option data-ng-repeat="item in vm.notificationClasses" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label for="">Notify in N days</label><input type="text" data-ng-model="vm.config.notify_in_n_days"></md-input-container><md-input-container class="md-block"><label for="">Action text</label><input type="text" data-ng-model="vm.config.action_text"></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.config.action_is_sent_to_pending" aria-label="">Action is sent to pending</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.config.action_is_book_automatic" aria-label="">Action is book automatic</md-checkbox></md-input-container></md-card-content></md-card></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" data-ng-click="vm.cancel()">Close</md-button><md-button class="md-raised" data-ng-click="vm.agree()">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/expression-editor-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="expression-editor-dialog draggable-dialog" drag-dialog style="width: 50%"><md-toolbar><div class="md-toolbar-tools"><h2>Expression editor</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-content><div><md-input-container class="md-block"><label for="">Expression</label><textarea name="" id="editorExpressionInput" cols="30" rows="10" data-ng-model="vm.item.expression"></textarea></md-input-container></div><!--<h2>Expression help</h2>--><!--<p>You could use this form to build an expression based on provided variables. You could use basic operators--><!--like +, -, *, /. Plus (+) could be used for strings concatenation. Based on scope of expression, you--><!--could use different set of expressions. For example inside "Instrument import schema" you could use data--><!--provider variables to build your own vlaues. For example, you build a custom Instrument name based on--><!--Bloomber downloaded parameters:--><!--</p>--><!--<p>ISSUER + \' \' +format_number(CPN)+\'% \' + format_date(parse_date(MATURITY, \'%m/%d/%Y\'),\'%d-%h-%Y\')--><!--</p>--><!--<p>Where ISSUER, CPN and MATURITY - are bloomberg parameters, and format_date, parse_date - two predifined--><!--functions. You could see predefined functions definition in a list below.--><!--</p>--><h2 style="text-align: center">Available functions</h2><div class="expression-editor-helper" layout="row"><div class="help-item-list" layout="column" flex="30"><md-input-container class="help-search-control"><input type="text" data-ng-model="vm.searchExpr" placeholder="Search"></md-input-container><div class="custom-scrollbar" data-custom-scroll style="height: 164px"><div class="{{item.isSelected ? \'selected\' : \'\'}} help-item-menu-item" data-ng-repeat="item in vm.expressions | filter: { name: vm.searchExpr }" data-ng-click="vm.selectHelpItem(item)">{{item.name}}</div></div></div><div class="help-item-description" layout="column" flex="70"><div data-custom-scroll class="help-item-description-content custom-scrollbar" data-ng-bind-html="vm.selectedHelpItem.description | trustAsHtml"></div><div layout="row" layout-align="end begin"><md-button class="md-raised" data-ng-click="vm.appendFunction(vm.selectedHelpItem)">Add</md-button></div></div></div></md-content></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between"><div><md-button ng-click="vm.openHelp($event)" class="md-raised md-primary">Help</md-button></div><div><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/fill-price-history-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="fill-price-history-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Price history manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div layout="column"><md-tabs md-dynamic-height md-border-bottom><md-tab label="Prices"><md-card><md-card-content><div><md-checkbox ng-model="vm.priceSettings.isRange" aria-label="override">Date range</md-checkbox></div><div data-ng-if="!vm.priceSettings.isRange"><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="vm.price.date_both"></zh-date-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div data-ng-if="vm.priceSettings.isRange"><md-input-container><label for="">Date from</label><zh-date-picker data-ng-model="vm.price.date_from"></zh-date-picker></md-input-container><md-input-container><label for="">Date to</label><zh-date-picker data-ng-model="vm.price.date_to"></zh-date-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div data-ng-if="vm.priceSettings.isRange"><md-input-container><label for="">Portfolio balance date</label><zh-date-picker data-ng-model="vm.price.balance_date"></zh-date-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div style="border: 1px solid #ccc; padding: 10px; padding-top: 26px"><div><md-input-container style="width: 60%"><label for="">Roll prices for N days forward</label><input type="text" data-ng-model="vm.price.fill_days" placeholder="days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div style="padding-left: 12px"><md-checkbox ng-model="vm.price.override_existed" aria-label="override">Override old prices<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></md-checkbox></div></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.uploadPrice()" style="margin-left: 0">Download</md-button><md-button class="md-raised" data-ng-click="vm.automatedUploads($event)">Automatic downloads</md-button><div style="padding-top: 10px"><md-progress-circular data-ng-if="vm.readyStatus.processing" md-mode="indeterminate" md-diameter="32"></md-progress-circular></div></div></md-card-content></md-card></md-tab><md-tab label="Accruals"><md-card><md-card-content style="padding-top: 20px"><div><md-input-container><label for="">Date from</label><zh-date-picker data-ng-model="vm.recalculate.date_from"></zh-date-picker></md-input-container><md-input-container><label for="">Date to</label><zh-date-picker data-ng-model="vm.recalculate.date_to"></zh-date-picker></md-input-container></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.startRecalculation()">Recalculate</md-button><div data-ng-if="vm.readyStatus.recalculationProcessing"><md-progress-circular md-mode="indeterminate" md-diameter="48"></md-progress-circular></div><span data-ng-if="vm.readyStatus.recalculationDone" style="padding-top: 12px;fill: green"><ng-md-icon icon="check_circle"></ng-md-icon></span><span data-ng-if="vm.readyStatus.recalculationError" style="padding-top: 12px;fill: red"><ng-md-icon icon="block"></ng-md-icon></span></div></md-card-content></md-card></md-tab></md-tabs></div><!--<div data-ng-if="!vm.readyStatus.mapping">--><!--<div layout="row" layout-sm="column" layout-align="space-around" class="m-large">--><!--<md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular>--><!--</div>--><!--</div>--></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Close</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/fill-price-manually-instrument-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Missed price history</h2><span flex></span></div></md-toolbar><md-dialog-content><div><md-tabs md-dynamic-height md-border-bottom><md-tab label="Instruments" data-ng-if="vm.instruments.length"><div data-ng-if="vm.checkReadyStatus()" style="padding: 20px"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'policy_name\')">Pricing policy<span class="sortorder" data-ng-show="vm.sort === \'policy_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'instrument_name\')">Instrument<span class="sortorder" data-ng-show="vm.sort === \'instrument_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'date\')">Date<span class="sortorder" data-ng-show="vm.sort === \'date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'accrued_price\')">Accrued price<span class="sortorder" data-ng-show="vm.sort === \'accrued_price\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'principal_price\')">Principal price<span class="sortorder" data-ng-show="vm.sort === \'principal_price\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.policy_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.instrument_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrued_price"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.principal_price"></md-input-container></th></tr></thead><tbody><tr data-ng-repeat="item in vm.instrumentsPrices | filter:vm.query"><td data-ng-bind="vm.bindPricingPolicy(item)"></td><td data-ng-bind="vm.bindInstrument(item)"></td><td data-ng-bind="item.date"></td><td><md-input-container><input type="text" data-ng-model="item.accrued_price"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="item.principal_price"></md-input-container></td><td></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-tab><md-tab label="Currencies" data-ng-if="vm.currencies.length"><div data-ng-if="vm.checkReadyStatus()" style="padding: 20px"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'policy_name\')">Pricing policy<span class="sortorder" data-ng-show="vm.sort === \'policy_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'currency_name\')">Currency<span class="sortorder" data-ng-show="vm.sort === \'currency_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'date\')">Date<span class="sortorder" data-ng-show="vm.sort === \'date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'fx_rate\')">FX rate<span class="sortorder" data-ng-show="vm.sort === \'fx_rate\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.policy_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.instrument_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrued_price"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.principal_price"></md-input-container></th></tr></thead><tbody><tr data-ng-repeat="item in vm.currenciesPrices | filter:vm.query"><td data-ng-bind="vm.bindPricingPolicy(item)"></td><td data-ng-bind="vm.bindCurrency(item)"></td><td data-ng-bind="item.date"></td><td><md-input-container><input type="text" data-ng-model="item.fx_rate"></md-input-container></td><td></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-tab></md-tabs></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.agree()" class="md-raised" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/g-report-settings-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="g-report-settings-dialog-view draggable-dialog" drag-dialog style="width: 75%"><md-toolbar><div class="md-toolbar-tools"><h2>Report settings</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><md-card style="margin-top: 10px"><md-card-content><div data-ng-if="vm.checkReadyStatus()"><h2>General Settings</h2><div layout="row"><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="vm.reportOptions.report_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">Pricing Policy</label><md-select data-ng-model="vm.reportOptions.pricing_policy"><md-option data-ng-repeat="item in vm.pricingPolicies" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><hr><div layout="row"><md-input-container><label for="">Currency</label><md-select data-ng-model="vm.reportOptions.report_currency"><md-option data-ng-repeat="item in vm.currencies" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Cost method</label><md-select data-ng-model="vm.reportOptions.cost_method"><md-option ng-value="1">AVCO</md-option><md-option ng-value="2">FIFO</md-option><!--<md-option ng-value="3">LIFO--><!--</md-option>--></md-select></md-input-container></div><hr><h2>Advanced Settings</h2><div layout="row"><div layout="column" class="m-r-16"><md-checkbox data-ng-model="vm.reportOptions.portfolio_mode">Portfolio mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.account_mode">Account mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.show_transaction_details">Detail by transaction details</md-checkbox></div><div layout="column"><md-checkbox data-ng-model="vm.reportOptions.strategy1_mode">Strategy 1 mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.strategy2_mode">Strategy 2 mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.strategy3_mode">Strategy 3 mode</md-checkbox></div></div><hr><h2>Filters</h2><div layout="row"><md-input-container><label for="">Portfolios</label><md-select multiple="multiple" data-ng-model="vm.reportOptions.portfolios" md-on-close="searchTerm = \'\'"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." ng-keydown="vm.onSearchChange($event)" class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="item in vm.portfolios | orderBy:\'-\'+item.name | filter:{name: searchTerm}" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Accounts</label><md-select multiple="multiple" data-ng-model="vm.reportOptions.accounts" md-on-close="searchTerm = \'\'"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." ng-keydown="vm.onSearchChange($event)" class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="item in vm.accounts | orderBy:\'-\'+item.name | filter:{name: searchTerm}" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row"><md-input-container><label for="">Strategies 1</label><md-select multiple="multiple" data-ng-model="vm.reportOptions.strategies1" md-on-close="searchTerm = \'\'"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." ng-keydown="vm.onSearchChange($event)" class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="item in vm.strategies1 | orderBy:\'-\'+item.name | filter:{name: searchTerm}" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Strategies 2</label><md-select multiple="multiple" data-ng-model="vm.reportOptions.strategies2" md-on-close="searchTerm = \'\'"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." ng-keydown="vm.onSearchChange($event)" class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="item in vm.strategies2 | orderBy:\'-\'+item.name | filter:{name: searchTerm}" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Strategies 3</label><md-select multiple="multiple" data-ng-model="vm.reportOptions.strategies3" md-on-close="searchTerm = \'\'"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." ng-keydown="vm.onSearchChange($event)" class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="item in vm.strategies3 | orderBy:\'-\'+item.name | filter:{name: searchTerm}" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><h2>Grouping</h2><div layout="row"><md-radio-group ng-model="vm.reportOptions.calculationGroup" layout="row"><md-radio-button value="portfolio" class="md-primary">Portfolio</md-radio-button><md-radio-button value="account">Account</md-radio-button><md-radio-button value="strategy1">Strategy 1</md-radio-button><md-radio-button value="strategy2">Strategy 2</md-radio-button><md-radio-button value="strategy3">Strategy 3</md-radio-button></md-radio-group></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-card-content></md-card></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Close</md-button><md-button class="md-raised" ng-click="vm.saveSettings()">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/header-notifications-dialog-view.html",'<md-dialog class="create-member-group-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Notifications</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="create-member-dialog-content custom-scrollbar"><div layout="column"><md-button class="md-raised">Unread notifications</md-button><md-button data-ui-sref="app.system.notifications" class="md-raised" data-ng-click="">All notifications</md-button></div></md-dialog-content><md-dialog-actions layout="row" layout-align="start center"><div flex="70"><md-button class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/help-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="help-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Help</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><iframe src="https://finmars.com/portal/help/index.html" frameborder="0"></iframe></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/import-instrument-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-import-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Instrument import manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.mapping" layout="column"><div layout="row"><md-card style="width: 100%"><md-card-content class="p-t-26"><div layout="row"><div layout="column"><md-input-container flex="40" style="margin-bottom: 0"><label for="">ISIN</label><input type="text" data-ng-model="vm.config.instrument_code"></md-input-container><div layout="row" layout-align="begin center"><md-button class="md-raised md-sm-btn" data-ng-click="vm.appendString(\'Equity\')">Equity</md-button><md-button class="md-raised md-sm-btn" data-ng-click="vm.appendString(\'Corp\')">Corp</md-button><md-button class="md-raised md-sm-btn" data-ng-click="vm.appendString(\'Index\')">Index</md-button></div><div layout="row" layout-align="begin center"><md-button class="md-raised md-sm-btn" data-ng-click="vm.appendString(\'Govt\')">Govt</md-button><md-button class="md-raised md-sm-btn" data-ng-click="vm.appendString(\'Curncy\')">Curncy</md-button><md-button class="md-raised md-sm-btn" data-ng-click="vm.appendString(\'Comdty\')">Comdty</md-button></div></div><div layout="row"><md-input-container><label for="">Import scheme</label><md-select style="width: 200px" data-ng-model="vm.config.instrument_download_scheme"><md-option data-ng-repeat="item in vm.instrumentSchemes" ng-value="item.id">{{item.scheme_name}}</md-option></md-select></md-input-container><md-button class="instrument-mapping-btn md-fab {{vm.loadIsAvailable() ? \'\' : \'disabled-btn\' }}" data-ng-click="vm.openEditMapping($event)"><ng-md-icon icon="functions" size="24" style="fill:rgb(63,81,181)"></ng-md-icon><md-tooltip class="tooltip_1" md-direction="top">Edit mapping</md-tooltip></md-button></div><div layout="row"><md-button class="md-raised colored-btn instrument-load-btn {{vm.loadIsAvailable() ? \'\' : \'disabled-btn\' }}" data-ng-click="vm.load($event)">Load</md-button><div data-ng-if="vm.readyStatus.processing"><md-progress-circular md-mode="indeterminate" md-diameter="48"></md-progress-circular></div></div></div></md-card-content></md-card></div><div layout="row" data-ng-if="vm.dataIsImported"><div flex="40"><h2 class="title-padding">Received data</h2><md-card class="{{vm.dataIsImported ? \'\' : \'card-opacity\'}}"><md-card-content><div data-ng-repeat="item in vm.mappedFields" layout="row"><div flex="50"><p data-ng-bind="item.key"></p></div><div flex="50"><md-input-container><label for="">Value</label><input type="text" data-ng-model="item.value"></md-input-container></div></div></md-card-content></md-card></div><div flex="60"><div layout="column"><h2 class="title-padding">Instrument data</h2><div layout="row"><md-button class="md-raised" data-ng-click="vm.recalculate()">Recalculate</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Add to database</md-button></div></div><md-card><md-card-content class="p-t-26"><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'name\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">Name</label><input type="text" data-ng-model="vm.config.instrument.name"><div data-ng-show="vm.findError(\'name\', \'entityAttr\', \'class\')">{{vm.findError(\'name\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'public_name\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">Public Name</label><input type="text" data-ng-model="vm.config.instrument.public_name"><div data-ng-show="vm.findError(\'name\', \'entityAttr\', \'class\')">{{vm.findError(\'public_name\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'user_code\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">User code</label><input type="text" data-ng-model="vm.config.instrument.user_code"><div class="md-input-error" data-ng-show="vm.findError(\'user_code\', \'entityAttr\', \'class\')">{{vm.findError(\'user_code\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'instrument_type\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" style="min-height: 64px"><label for="">Instrument type</label><md-select data-ng-model="vm.config.instrument.instrument_type"><md-option data-ng-repeat="item in vm.instrumentTypes" ng-value="item.id">{{item.name}}</md-option></md-select><div class="md-input-error" data-ng-show="vm.findError(\'instrument_type\', \'entityAttr\', \'class\')">{{vm.findError(\'instrument_type\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'short_name\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">Short name</label><input type="text" data-ng-model="vm.config.instrument.short_name"><div class="md-input-error" data-ng-show="vm.findError(\'short_name\', \'entityAttr\', \'class\')">{{vm.findError(\'short_name\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block"><label for="">Public name</label><input type="text" data-ng-model="vm.config.instrument.public_name"><div class="md-input-error" data-ng-show="vm.findError(\'public_name\', \'entityAttr\', \'class\')">{{vm.findError(\'public_name\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'maturity_date\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" data-ng-if="vm.config.instrument.maturity_date != \'\'"><!--<label for="">Maturity date</label>--><zh-date-picker ng-model="vm.config.instrument.maturity_date"></zh-date-picker><div class="md-input-error" data-ng-show="vm.findError(\'maturity_date\', \'entityAttr\', \'class\')">{{vm.findError(\'maturity_date\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'daily_pricing_model\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" style="min-height: 64px"><label for="">Pricing model</label><md-select data-ng-model="vm.config.instrument.daily_pricing_model"><md-option data-ng-repeat="item in vm.dailyModels" ng-value="item.id">{{item.name}}</md-option></md-select><div class="md-input-error" data-ng-show="vm.findError(\'daily_pricing_model\', \'entityAttr\', \'class\')">{{vm.findError(\'daily_pricing_model\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'price_download_scheme\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" style="min-height: 64px"><label for="">Price download scheme</label><md-select data-ng-model="vm.config.instrument.price_download_scheme"><md-option data-ng-repeat="item in vm.priceDownloadSchemes" ng-value="item.id">{{item.scheme_name}}</md-option></md-select><div class="md-input-error" data-ng-show="vm.findError(\'price_download_scheme\', \'entityAttr\', \'class\')">{{vm.findError(\'price_download_scheme\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'pricing_currency\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" style="min-height: 64px"><label for="">Pricing currency</label><md-select data-ng-model="vm.config.instrument.pricing_currency"><md-option data-ng-repeat="item in vm.currencies" ng-value="item.id">{{item.name}}</md-option></md-select><div class="md-input-error" data-ng-show="vm.findError(\'pricing_currency\', \'entityAttr\', \'class\')">{{vm.findError(\'pricing_currency\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'price_multiplier\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" data-ng-if="vm.config.instrument.price_multiplier != \'\'"><label for="">Price multiplier</label><input type="text" data-ng-model="vm.config.instrument.price_multiplier"><div class="md-input-error" data-ng-show="vm.findError(\'price_multiplier\', \'entityAttr\', \'class\')">{{vm.findError(\'price_multiplier\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'reference_for_pricing\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">Reference for pricing</label><input type="text" data-ng-model="vm.config.instrument.reference_for_pricing"><div class="md-input-error" data-ng-show="vm.findError(\'reference_for_pricing\', \'entityAttr\', \'class\')">{{vm.findError(\'reference_for_pricing\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'default_price\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">Default price</label><input type="text" data-ng-model="vm.config.instrument.default_price"><div class="md-input-error" data-ng-show="vm.findError(\'default_price\', \'entityAttr\', \'class\')">{{vm.findError(\'default_price\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'accrued_currency\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" style="min-height: 64px"><label for="">Accrued currency</label><md-select data-ng-model="vm.config.instrument.accrued_currency"><md-option data-ng-repeat="item in vm.currencies" ng-value="item.id">{{item.name}}</md-option></md-select><div class="md-input-error" data-ng-show="vm.findError(\'accrued_currency\', \'entityAttr\', \'class\')">{{vm.findError(\'accrued_currency\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'accrued_multiplier\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" data-ng-if="vm.config.instrument.accrued_multiplier != \'\'"><label for="">Accrued multiplier</label><input type="text" data-ng-model="vm.config.instrument.accrued_multiplier"><div class="md-input-error" data-ng-show="vm.findError(\'accrued_multiplier\', \'entityAttr\', \'class\')">{{vm.findError(\'accrued_multiplier\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'default_accrued\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">Default accrued</label><input type="text" data-ng-model="vm.config.instrument.default_accrued"><div class="md-input-error" data-ng-show="vm.findError(\'default_accrued\', \'entityAttr\', \'class\')">{{vm.findError(\'default_accrued\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field-bg"><md-input-container class="md-block {{vm.findError(\'payment_size_detail\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">Payment size default</label><md-select data-ng-model="vm.config.instrument.payment_size_detail"><md-option data-ng-repeat="item in vm.paymentSizeDefaults" ng-value="item.id">{{item.name}}</md-option></md-select><div class="md-input-error" data-ng-show="vm.findError(\'payment_size_detail\', \'entityAttr\', \'class\')">{{vm.findError(\'payment_size_detail\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'user_text_1\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" data-ng-if="vm.config.instrument.user_text_1 != \'\'"><label for="">User text 1</label><input type="text" data-ng-model="vm.config.instrument.user_text_1"><div class="md-input-error" data-ng-show="vm.findError(\'user_text_1\', \'entityAttr\', \'class\')">{{vm.findError(\'user_text_1\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'user_text_2\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" data-ng-if="vm.config.instrument.user_text_2 != \'\'"><label for="">User text 2</label><input type="text" data-ng-model="vm.config.instrument.user_text_2"><div class="md-input-error" data-ng-show="vm.findError(\'user_text_2\', \'entityAttr\', \'class\')">{{vm.findError(\'user_text_2\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'user_text_3\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" data-ng-if="vm.config.instrument.user_text_3 != \'\'"><label for="">User text 3</label><input type="text" data-ng-model="vm.config.instrument.user_text_3"><div class="md-input-error" data-ng-show="vm.findError(\'user_text_3\', \'entityAttr\', \'class\')">{{vm.findError(\'user_text_3\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div class="instrument-import-field"><md-input-container class="md-block {{vm.findError(\'notes\', \'entityAttr\', \'class\') ? \'error\' : \'\'}}" data-ng-if="vm.config.instrument.notes != \'\'"><label for="">Notes</label><input type="text" data-ng-model="vm.config.instrument.notes"><div class="md-input-error" data-ng-show="vm.findError(\'notes\', \'entityAttr\', \'class\')">{{vm.findError(\'notes\', \'entityAttr\', \'message\')}}</div></md-input-container></div><div data-ng-repeat="item in vm.config.instrument.attributes" style="padding: 10px"><div data-ng-if="item.attribute_type_object.value_type == 10"><md-input-container class="md-block {{vm.findError(item, \'dynAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">{{item.attribute_type_object.name}}</label><input type="text" data-ng-model="item.value_string"><div class="md-input-error" data-ng-show="vm.findError(item, \'dynAttr\', \'class\')">{{vm.findError(item, \'dynAttr\', \'message\')}}</div></md-input-container></div><div data-ng-if="item.attribute_type_object.value_type == 20"><md-input-container class="md-block {{vm.findError(item, \'dynAttr\', \'class\') ? \'error\' : \'\'}}"><label for="">{{item.attribute_type_object.name}}</label><input type="text" data-ng-model="item.value_float"><div class="md-input-error" data-ng-show="vm.findError(item, \'dynAttr\', \'class\')">{{vm.findError(item, \'dynAttr\', \'message\')}}</div></md-input-container></div><div data-ng-if="item.attribute_type_object.value_type == 30"><md-input-container class="md-block {{vm.findError(item, \'dynAttr\', \'class\') ? \'error\' : \'\'}}" style="margin-bottom: 20px"><label for="">{{item.attribute_type_object.name}}</label><md-select data-ng-model="item.classifier" data-classifier-modal-resolver data-classifier-attr="item.attribute_type_object" data-classifier-value="item.classifier" md-container-class="h-classifier-select" data-entity-type="\'instrument\'"><md-option ng-value="item.classifier" selected="selected">{{vm.resolveAttributeNode(item)}}</md-option></md-select><div class="md-input-error" data-ng-show="vm.findError(item, \'dynAttr\', \'class\')">{{vm.findError(item, \'dynAttr\', \'message\')}}</div></md-input-container></div><div data-ng-if="item.attribute_type_object.value_type == 40"><md-input-container class="md-block {{vm.findError(item, \'dynAttr\', \'class\') ? \'error\' : \'\'}}"><!--<label for="">{{item.attribute_type_object.name}}</label>--><zh-date-picker data-ng-model="item.value_date"></zh-date-picker><div class="md-input-error" data-ng-show="vm.findError(item, \'dynAttr\', \'class\')">{{vm.findError(item, \'dynAttr\', \'message\')}}</div></md-input-container></div></div></md-card-content></md-card></div></div></div><div data-ng-if="!vm.readyStatus.mapping"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button></md-dialog-actions></md-dialog>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/import-transaction-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="transaction-import-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Transaction import manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.mapping" layout="column"><div layout="row"><md-card style="width: 100%"><md-card-content class="p-t-26"><div layout="row"><div layout="column"><md-input-container flex="40" style="margin-bottom: 0"><label for="">File</label><input type="file" data-ng-model="vm.config.transaction_file"></md-input-container></div><div layout="row"><md-input-container><label for="">Import scheme</label><md-select style="width: 200px" data-ng-model="vm.config.scheme"><md-option data-ng-repeat="item in vm.transactionSchemes" ng-value="item.id">{{item.scheme_name}}</md-option></md-select></md-input-container><md-button class="instrument-mapping-btn md-fab {{vm.loadIsAvailable() ? \'\' : \'disabled-btn\' }}" data-ng-click="vm.openEditMapping($event)"><ng-md-icon icon="functions" size="24" style="fill:rgb(63,81,181)"></ng-md-icon><md-tooltip class="tooltip_1" md-direction="top">Edit mapping</md-tooltip></md-button></div><div layout="row"><md-button class="md-raised colored-btn instrument-load-btn {{vm.loadIsAvailable() ? \'\' : \'disabled-btn\' }}" data-ng-click="vm.load($event)">Load</md-button><div data-ng-if="vm.readyStatus.processing"><md-progress-circular md-mode="indeterminate" md-diameter="48"></md-progress-circular></div></div></div></md-card-content></md-card></div></div><div data-ng-if="!vm.readyStatus.mapping"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/instrument-event-actions-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-event-actions-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Actions</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><md-content style="background: #fff; padding: 20px"><div data-ng-if="vm.checkReadyStatus()"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'transaction_type_name\')">Transaction type<span class="sortorder" data-ng-show="vm.sort === \'transaction_type\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'text\')">Text<span class="sortorder" data-ng-show="vm.sort === \'text\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'is_sent_to_pending\')">Action is sent to pending<span class="sortorder" data-ng-show="vm.sort === \'action_is_sent_to_pending\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'is_book_automatic\')">Action is book automatic<span class="sortorder" data-ng-show="vm.sort === \'action_is_book_automatic\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'button_position\')">Button position<span class="sortorder" data-ng-show="vm.sort === \'button_position\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.transaction_type_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.text"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.is_sent_to_pending"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.is_book_automatic"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.button_position"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.eventActions | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindTransactionType(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.text"></td><td data-ng-if="!item.editStatus"><span class="bool-table-view" data-ng-if="item.is_sent_to_pending"><ng-md-icon icon="check_circle" size="16" style="fill:rgb(0,0,0)"></ng-md-icon></span></td><td data-ng-if="!item.editStatus"><span class="bool-table-view" data-ng-if="item.is_book_automatic"><ng-md-icon icon="check_circle" size="16" style="fill:rgb(0,0,0)"></ng-md-icon></span></td><td data-ng-if="!item.editStatus" data-ng-bind="item.button_position"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Transaction Type</label><md-select data-ng-model="item.transaction_type"><md-option data-ng-repeat="model in vm.transactionTypes" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Text</label><input type="text" data-ng-model="item.text"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><md-checkbox data-ng-model="item.is_sent_to_pending" aria-label="checkbox"><!--<label>Action is sent to pending</label>--></md-checkbox></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><md-checkbox data-ng-model="item.is_book_automatic" aria-label="checkbox"><!--<label>Action is book automatic</label>--></md-checkbox></md-input-container></td><td data-ng-if="item.editStatus"><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="item.button_position"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.transaction_type"><md-option data-ng-repeat="model in vm.transactionTypes" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.text"></md-input-container></td><td><md-input-container><md-checkbox data-ng-model="vm.newItem.is_sent_to_pending" aria-label="checkbox"><!--<label>Action is sent to pending</label>--></md-checkbox></md-input-container></td><td><md-input-container><md-checkbox data-ng-model="vm.newItem.is_book_automatic" aria-label="checkbox"><!--<label>Action is book automatic</label>--></md-checkbox></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.button_position"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/instrument-mapping-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-scheme-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Instrument scheme manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.scheme"><div layout="row" layout-align="center center"><md-card flex="50" class="inm-card-special"><md-card-content><md-input-container class="md-block"><label for="">Scheme name</label><input type="text" data-ng-model="vm.schemeName"></md-input-container></md-card-content></md-card><md-card flex="50" class="inm-card-special"><md-card-content><md-input-container class="md-block" flex-gt-sm><label>Provider</label><md-select data-ng-model="vm.schemeProvider" data-ng-if="vm.readyStatus.dataProviders"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><div data-ng-if="!vm.readyStatus.dataProviders"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-card-content></md-card></div><div layout="row"><div layout="column" flex="25"><div layout="row"><h4 style="padding-left: 10px">Fields to load</h4></div><div layout="column"><md-card><md-card-content><div data-ng-repeat="item in vm.providerFields track by $index" flex="100"><div class="fields-holder" layout="row"><div class="iscm-item"><md-input-container><label for="">Field</label><input type="text" data-ng-model="item.name"></md-input-container></div><div><md-button style="min-width: 40px" data-ng-click="vm.removeProviderField(item, $index)" class="md-raised">x</md-button></div></div></div></md-card-content></md-card></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.addProviderField()">Add field</md-button></div></div><div layout="column" flex="75"><div layout="row"><h4 style="padding-left: 10px">Map on instrument fields:</h4></div><div layout="column"><md-card flex="100"><md-card-content class="instrument-scheme-fields-holder"><div data-ng-repeat="item in vm.mapFields" layout="row" flex="100" class="{{item.hasBackground ? \'instrument-import-field-bg\' : \'instrument-import-field\'}}"><div layout="row" flex="100"><div class="field-name" flex="40">{{vm.beatufier(item[vm.getModelKey(item)])}}<!--{{item[vm.getModelKey(item)]}}--><!--<md-input-container>--><!--<md-select data-ng-model="item[vm.getModelKey(item)]"--><!--data-ng-focus="vm.checkAttrs()">--><!--<md-option data-ng-repeat="item in vm.baseAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.entityAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.attrs" ng-value="item.id"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--></div><div flex="50"><div data-ng-if="item.complexExpressionEntity == false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button></div></div><div data-ng-if="item.complexExpressionEntity != false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50" layout="row"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button><md-button class="md-raised md-primary complex-expr-btn" data-ng-click="vm.openMapping($event, item)">Edit mapping</md-button></div></div></div><div flex="10"><md-button class="custom-small-icon-btn md-raised" data-ng-click="vm.removeMappingField(item, $index)" data-ng-if="!item.required" class="md-raised">x</md-button></div></div></div><div><div data-ng-repeat="item in vm.mappedFieldsDefaults" class="{{item.hasBackground ? \'instrument-import-field-bg\' : \'instrument-import-field\'}}" layout="row" flex="100"><div layout="row" flex="100"><div class="field-name" flex="40">{{vm.beatufier(item[vm.getModelKey(item)])}}<!--{{item[vm.getModelKey(item)]}}--><!--<md-input-container>--><!--<md-select data-ng-model="item[vm.getModelKey(item)]"--><!--data-ng-focus="vm.checkAttrs()">--><!--<md-option data-ng-repeat="item in vm.baseAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.entityAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.attrs" ng-value="item.id"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--></div><div flex="50"><div layout="row"><div flex="50"><div data-ng-if="item.value_type == 10"><md-input-container><label for="">Default value</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div data-ng-if="item.value_type == \'field\'"><div data-ism-field-resolver data-item="item" data-options="options"></div></div></div></div></div><div flex="10"></div></div></div></div><div data-ng-repeat="item in vm.mappedFieldsSecond" class="{{item.hasBackground ? \'instrument-import-field-bg\' : \'instrument-import-field\'}}" layout="row" flex="100"><div layout="row" flex="100"><div class="field-name" flex="40">{{vm.beatufier(item[vm.getModelKey(item)])}}</div><div flex="50"><div data-ng-if="item.complexExpressionEntity == false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button></div></div><div data-ng-if="item.complexExpressionEntity != false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50" layout="row"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button><md-button class="md-raised md-primary complex-expr-btn" data-ng-click="vm.openMapping($event, item)">Edit mapping</md-button></div></div></div><div flex="10"><md-button class="custom-small-icon-btn md-raised" data-ng-click="vm.removeMappingField(item, $index)" data-ng-if="!item.required" class="md-raised">x</md-button></div></div></div><div data-ng-repeat="field in vm.mappedDynamic" class="{{item.hasBackground ? \'instrument-import-field-bg\' : \'instrument-import-field\'}}" layout="row" flex="100"><div layout="row" flex="100"><div class="field-name" flex="40"><md-input-container><md-select data-ng-model="field.value" data-ng-change="vm.resolveFieldType(field)" data-ng-focus="vm.checkAttrs()"><md-option data-ng-repeat="item in vm.baseAttrs" ng-value="item" class="{{item.disabled ? \'disabled\' : \'\'}}">{{item.name}}</md-option><md-option data-ng-repeat="item in vm.entityAttrs" ng-value="item" class="{{item.disabled ? \'disabled\' : \'\'}}">{{item.name}}</md-option><md-option data-ng-repeat="item in vm.attrs" ng-value="item" class="{{item.disabled ? \'disabled\' : \'\'}}">{{item.name}}</md-option></md-select></md-input-container></div><div flex="50"><div data-ng-if="field.complexExpressionEntity == false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="field.expression"></md-input-container></div><div flex="50"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, field)">...</md-button></div></div><div data-ng-if="field.complexExpressionEntity != false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="field.expression"></md-input-container></div><div flex="50" layout="row"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, field)">...</md-button><md-button class="md-raised md-primary complex-expr-btn" data-ng-click="vm.openMapping($event, field)">Edit mapping</md-button></div></div></div><div flex="10"><md-button class="custom-small-icon-btn md-raised" data-ng-click="vm.removeMappingField(item, $index)" data-ng-if="!item.required" class="md-raised">x</md-button></div></div></div></md-card-content></md-card></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.addMapField()">Add field</md-button></div></div></div><md-divider style="margin: 20px"></md-divider><div><div data-ng-if="vm.checkSchedules()"><div layout="row"><div layout="row" flex="50"><md-card flex="100"><md-card-content><md-input-container style="width: 100%"><label for="">Factor upload method</label><md-select data-ng-model="vm.factorScheduleMethod"><md-option data-ng-repeat="item in vm.factorSchedule" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></md-card-content></md-card></div><div layout="row" flex="50"><md-card flex="100"><md-card-content><md-input-container style="width: 100%"><label for="">Accrual schedule upload</label><md-select data-ng-model="vm.accrualCalculation"><md-option data-ng-repeat="item in vm.accrualSchedule" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></md-card-content></md-card></div></div></div><div data-ng-if="!vm.checkSchedules()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div></div><div data-ng-if="!vm.readyStatus.scheme"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/manage-group-dialog-view.html",'<md-dialog aria-label="" class="draggable-dialog manage-member-group" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit group "{{vm.groups.name}}"</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="manage-member-dialog-content custom-scrollbar"><div layout="column"><two-fields-options all-options="vm.membersList" selected-options="vm.assignedMembersList"></two-fields-options></div></md-dialog-content><md-dialog-actions layout="row"><div flex="75"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button></div><div flex><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/manage-member-dialog-view.html",'<md-dialog aria-label="" class="draggable-dialog manage-member-group" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit member "{{vm.members.display_name}}"</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="manage-member-dialog-content custom-scrollbar"><div layout="column"><two-fields-options all-options="vm.groupsList" selected-options="vm.assignedGroupsList"></two-fields-options><md-checkbox data-ng-model="vm.memberIsAdmin" aria-label="member permission">This member is Admin</md-checkbox></div></md-dialog-content><md-dialog-actions layout="row"><div flex="75"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button></div><div flex><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/price-download-scheme-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-scheme-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Price download scheme manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.providers"><md-card><md-card-content><md-tabs md-dynamic-height md-border-bottom><md-tab label="Yesterday Price"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'scheme_name\')">Pricing Model<span class="sortorder" data-ng-show="vm.sort === \'scheme_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'provider_name\')">Provider<span class="sortorder" data-ng-show="vm.sort === \'provider_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid0\')">Bid<span class="sortorder" data-ng-show="vm.sort === \'bid0\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid1\')">Bid 2<span class="sortorder" data-ng-show="vm.sort === \'bid1\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid2\')">Bid 3<span class="sortorder" data-ng-show="vm.sort === \'bid2\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid_multiplier\')">Bid mul tiplier<span class="sortorder" data-ng-show="vm.sort === \'bid_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask0\')">Ask<span class="sortorder" data-ng-show="vm.sort === \'ask0\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask1\')">Ask 2<span class="sortorder" data-ng-show="vm.sort === \'ask1\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask2\')">Ask 3<span class="sortorder" data-ng-show="vm.sort === \'ask2\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask_multiplier\')">Ask multiplier<span class="sortorder" data-ng-show="vm.sort === \'ask_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last\')">Last<span class="sortorder" data-ng-show="vm.sort === \'last\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last_multiplier\')">Last multiplier<span class="sortorder" data-ng-show="vm.sort === \'last_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid\')">Mid<span class="sortorder" data-ng-show="vm.sort === \'columns\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid_multiplier\')">Mid multiplier<span class="sortorder" data-ng-show="vm.sort === \'mid_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.scheme_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.provider_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid0"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid1"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid2"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask0"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask1"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask2"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid_multiplier"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.items | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.scheme_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.provider_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid0" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid1" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid2" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask0" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask1" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask2" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.scheme_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container class="md-block" flex-gt-sm><md-select data-ng-model="item.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid0"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid1"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid2"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask0"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask1"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask2"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.scheme_name"></md-input-container></td><td style="padding-top: 0"><md-input-container class="md-block" flex-gt-sm><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid0"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid1"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid2"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask0"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask1"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask2"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid_multiplier"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></md-tab><md-tab label="Historical Price"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'scheme_name\')">Pricing Model<span class="sortorder" data-ng-show="vm.sort === \'scheme_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'provider_name\')">Provider<span class="sortorder" data-ng-show="vm.sort === \'provider_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid_history\')">Bid History<span class="sortorder" data-ng-show="vm.sort === \'bid_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask_history\')">Ask History<span class="sortorder" data-ng-show="vm.sort === \'ask_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last_history\')">Last History<span class="sortorder" data-ng-show="vm.sort === \'last_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid_history\')">Mid history<span class="sortorder" data-ng-show="vm.sort === \'mid_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid_history_multiplier\')">Bid History multiplier<span class="sortorder" data-ng-show="vm.sort === \'bid_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask_history_multiplier\')">Ask History multiplier<span class="sortorder" data-ng-show="vm.sort === \'ask_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last_history_multiplier\')">Last History multiplier<span class="sortorder" data-ng-show="vm.sort === \'last_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid_history_multiplier\')">Mid history multiplier<span class="sortorder" data-ng-show="vm.sort === \'mid_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.scheme_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.provider_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid_history_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask_history_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last_history_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid_history_multiplier"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.items | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.scheme_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.provider_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.scheme_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container class="md-block" flex-gt-sm><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.scheme_name"></md-input-container></td><td style="padding-top: 0"><md-input-container><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid_history_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask_history_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last_history_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid_history_multiplier"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></md-tab><md-tab label="Currency"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'scheme_name\')">Pricing Model<span class="sortorder" data-ng-show="vm.sort === \'scheme_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'provider_name\')">Provider<span class="sortorder" data-ng-show="vm.sort === \'provider_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'currency_fxrate\')">Currency FX Rate<span class="sortorder" data-ng-show="vm.sort === \'currency_fxrate\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'currency_fxrate_multiplier\')">FX Rate Multiplier<span class="sortorder" data-ng-show="vm.sort === \'currency_fxrate_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><input type="text" data-ng-model="vm.query.scheme_name"></md-input-container></th><th><md-input-container><input type="text" data-ng-model="vm.query.provider_name"></md-input-container></th><th><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate"></md-input-container></th><th><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate_multiplier"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.items | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.scheme_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.provider_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.currency_fxrate" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.currency_fxrate_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.scheme_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.currency_fxrate"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.currency_fxrate_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.scheme_name"></md-input-container></td><td style="padding-top: 0"><md-input-container><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate_multiplier"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></md-tab></md-tabs></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.providers"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Close</md-button></md-dialog-actions></md-dialog>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/success-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="success-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.success.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="success-text"><p>{{vm.success.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><!--<md-button ng-click="vm.cancel()">--><!--Cancel--><!--</md-button>--><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/transaction-mapping-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="transaction-scheme-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Transaction scheme manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><md-content><div data-ng-if="vm.checkReadyStatus()"><div layout="row" layout-align="center center"><md-card flex="100" class="inm-card-special"><md-card-content layout="column"><md-input-container class="md-block"><label for="">Scheme name</label><input type="text" data-ng-model="vm.scheme.scheme_name"></md-input-container><md-input-container flex="40" style="margin-bottom: 0"><label for="">Expression</label><input type="text" data-ng-model="vm.scheme.rule_expr"></md-input-container></md-card-content></md-card></div><div layout="row"><div layout="column" flex="25"><div layout="row"><h4 style="padding-left: 10px">Imported Columns</h4></div><div layout="column"><md-card><md-card-content><div data-ng-repeat="item in vm.providerFields track by $index" flex="100"><div class="fields-holder" layout="row"><div class="iscm-item" layout="row"><span style="position: relative; top: 8px">#</span><md-input-container flex="10"><!--<label for="">Number</label>--> <input type="text" data-ng-model="item.column"></md-input-container><md-input-container flex="70"><!--<label for="">Name</label>--> <input type="text" data-ng-model="item.name"></md-input-container></div><div><md-button style="min-width: 40px" data-ng-click="vm.removeProviderField(item, $index)" class="md-raised">x</md-button></div></div></div></md-card-content></md-card></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.addProviderField()">Add field</md-button></div></div><div layout="column" flex="75"><div layout="row"><h4 style="padding-left: 10px">Transaction type matching</h4></div><div layout="column"><md-card flex="100"><md-card-content class="instrument-scheme-fields-holder"><div data-ng-repeat="item in vm.mapFields" layout="row" flex="100"><div layout="row" flex="100"><div flex="30"><div layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.value"></md-input-container></div><!--<div flex="50">--><!--<md-button class="md-raised md-primary expr-btn"--><!--data-ng-click="vm.openExpressionDialog($event, item)">--><!--...--><!--</md-button>--><!--</div>--></div></div><div flex="40"><md-input-container style="width: 80%"><label for="">Transaction type</label><md-select data-ng-model="item.transaction_type"><md-option data-ng-repeat="transactionType in vm.transactionTypes" data-ng-value="transactionType.id">{{transactionType.name}}</md-option></md-select></md-input-container></div><div flex="20"><md-button class="md-raised md-primary {{item.transaction_type ? \'\' : \'disabled-btn\'}}" data-ng-click="vm.openInputs(item, $event)">Inputs</md-button></div><div flex="10"><md-button class="custom-small-icon-btn md-raised" data-ng-click="vm.removeMappingField(item, $index)" data-ng-if="!item.required" class="md-raised">x</md-button></div></div></div></md-card-content></md-card></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.addMapField()">Add field</md-button></div></div></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/transaction-mapping-input-mapping-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="transaction-mapping-input-mapping-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Transaction import scheme - Inputs</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-content><div><div data-ng-if="vm.checkReadyStatus()"><h2>Expression / <span data-ng-bind="vm.transactionType.name"></span></h2><div data-ng-repeat="item in vm.transactionType.inputs"><div layout="row"><div flex="40"><span data-ng-bind="item.name"></span> (<span data-ng-bind="vm.bindType(item)"></span>)</div><div layout="row" flex="50"><div flex="80"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.mapping.expression"></md-input-container></div><div flex="20"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button></div></div><div flex="10" data-ng-if="item.value_type == 100"><md-button class="md-primary md-raised" data-ng-click="vm.openMapping(item, $event)">Mapping</md-button></div></div></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div></md-content></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><md-button class="md-raised" ng-click="vm.cancel()" style="margin-right:20px">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/validation-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Input form error</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="warning-text"><p data-ng-repeat="item in vm.errorKeys"><b data-ng-bind="item.caption" data-ng-if="item.caption != \'non field errors\'"></b> - <span data-ng-bind-html="vm.bindValue(item) | trustAsHtml"></span></p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/bind-field-control-view.html",'<div><div data-ng-if="fieldType[\'display_name\'] === \'Number\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" type="number" data-ng-if="!item.options.onlyPositive"> <input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" type="number" min="0" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'String\'"><div data-ng-if="getModelKey() === \'notes\' "><md-input-container class="md-block textarea-bind-field"><label data-ng-bind="getName()"></label><textarea data-ng-change="changeWatcher()" class="{{item.options.frame == 1 ? \'bordered\' : \'\' }}" data-ng-model="entity[getModelKey()]" cols="30" rows="{{item.options.rowCount}}"></textarea></md-input-container></div><div data-ng-if="getModelKey() !== \'notes\' "><md-input-container class="md-block bind-field-input {{item.options.copyFrom ? \'with-button\' : \'\'}} {{checkValid() ? \'mdc-error\' : \'\'}} {{entity[getModelKey()] != \'\' ? \'md-input-has-value\' : \'\'}}"><label data-ng-bind="getName()"></label><input type="text" data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]"><md-button data-ng-if="item.options.copyFrom" class="bf-copy-btn" data-ng-click="copyFromField(item.options.copyFrom)"><ng-md-icon icon="content_copy"></ng-md-icon></md-button></md-input-container></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Float\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" data-float-numbers data-ng-if="!item.options.onlyPositive"> <input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" data-float-numbers data-only-positive="true" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Field\'"><div data-ev-field-resolver data-item="item" data-entity="entity" data-options="options"></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Multiple choice field\'"><div data-ev-field-resolver data-item="item" data-entity="entity" data-options="options"></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Date\'" class="field-date-pick"><!-- <label data-ng-bind="getName()"></label> --><md-input-container class="field-date-pick-holder"><label data-ng-if="!entity[getModelKey()]" data-ng-bind="getName()"></label><zh-date-picker data-ng-change="changeWatcher()" ng-model="entity[getModelKey()]"></zh-date-picker><!--<mdp-date-picker mdp-placeholder="Enter date" ng-model="entity[getModelKey()]" mdp-format="YYYY/MM/DD" data-ng-change="dateFormatter()"></mdp-date-picker>--><!--<md-datepicker ng-model="entity[getModelKey()]" md-placeholder="Enter date" data-ng-change="dateFormatter()"></md-datepicker>--><div class="date-pick-buttons-block"><md-button data-ng-if="item.options.dateTodayMinus" data-ng-click="setDateMinus()">T - 1</md-button><md-button data-ng-if="item.options.dateToday" data-ng-click="setDateToday()">T</md-button><md-button data-ng-if="item.options.dateTodayPlus" data-ng-click="setDatePlus()">T + 1</md-button></div></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Boolean\'"><md-checkbox class="checkbox-bind-field" data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" aria-label="checkbox"><label data-ng-bind="getName()"></label></md-checkbox></div><div data-ng-if="fieldType[\'display_name\'] === \'Classifier\'"><div data-ng-if="readyStatus.classifier"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><!--{{item}}--><md-select data-ng-model="entity[getModelKey()]" data-classifier-modal-resolver data-classifier-attr="item" data-classifier-value="entity[getModelKey()]" data-ng-change="changeClassifier()" md-container-class="h-classifier-select" data-entity-type="entityType"><md-option ng-value="node.id" selected="selected">{{node.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!readyStatus.classifier"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Decoration\'"><span class="ec-decoration line" data-ng-if="!item.options.labelText"></span> <span class="ec-decoration labeled" data-ng-if="item.options.labelText"><span class="w-rp" data-ng-bind="item.options.labelText"></span></span></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/bookmarks-view.html",'<div><md-button class="md-button header-cloud-layout-btn" data-ng-click="toggleBookmarkPanel()"><ng-md-icon icon="bookmark" size="36"></ng-md-icon></md-button><div class="bookmarks-list" layout="row" layout-align="space-between center" data-ng-if="showBookmarks"><div layout="row"><div data-ng-repeat="item in items"><div data-ng-if="item.children.length"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="" aria-label="Open sample menu">{{item.name}}</md-button><md-menu-content><md-menu-item data-ng-repeat="subItem in item.children"><md-button data-ui-sref="{{getState(subItem)}}">{{subItem.name}}</md-button></md-menu-item></md-menu-content></md-menu></div><div data-ng-if="!item.children.length"><md-button data-ui-sref="{{getState(item)}}">{{item.name}}</md-button></div></div></div><div layout="row"><md-button class="md-button header-cloud-layout-btn" data-ng-click="openSettings($event)"><ng-md-icon icon="settings" size="36"></ng-md-icon></md-button></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/instrument-scheme-manager-field-resolver-view.html",'<div><div data-ng-if="readyStatus.content"><div data-ng-if="type === \'key-value\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="item.expression" md-on-close="searchTerm = \'\'" data-ng-change="changeWatcher()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.name | filter:{name: searchTerm}" ng-value="field.value">{{field.name}}</md-option></md-select></md-input-container></div><div data-ng-if="type === \'id\'"><div data-ng-if="item.key !== \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="item.expression" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id " ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="item.key  == \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="item.expression"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.scheme_name | filter:{scheme_name:searchTerm} track by field.id " ng-value="field.id">{{field[\'scheme_name\']}}</md-option></md-select></md-input-container></div></div></div><div data-ng-if="!readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/layout-constructor-field-view.html",'<div><div data-ng-if="!item.editMode"><div data-ng-if="item.attribute"><md-card class="ec-attr-card"><div layout="row"><p class="name-holder" flex="60"><b><span data-ng-bind="bindAttrName(item)"></span></b> (<span data-ng-bind="bindTypeByValueType(item.attribute[\'value_type\'])"></span>)</p><div class="options-holder" flex="40"><md-button aria-label="delete attribute" data-ng-click="deleteField()"><ng-md-icon icon="delete"></ng-md-icon></md-button><md-button aria-label="edit attribute" data-ng-click="toggleEditMode()"><ng-md-icon icon="mode_edit"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!item.attribute"><md-card class="ec-attr-card"><md-button aria-label="add field" data-ng-click="toggleEditMode()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button></md-card></div></div><div data-ng-if="item.editMode"><md-card class="ec-attr-card {{item.editMode ? \'active\' : \'\'}}"><md-input-container class="md-block" flex-gt-sm><label>Please select Element</label><!--{{item.attribute}}--><md-select ng-model="item.attribute" ng-change="changeModel(item.attribute)" ng-focus="findAttrsLeft()"><md-optgroup label="System" class="bold-field-select"><md-option ng-repeat="attr in baseAttrs" data-ng-if="baseAttrs.length" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}">{{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option><md-option ng-repeat="attr in entityAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option></md-optgroup><!--<md-optgroup label="Specific">--><!--<md-option ng-repeat="attr in entityAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}">--><!--&lt;!&ndash;{{attr}}&ndash;&gt;--><!--{{attr.name}}--><!--</md-option>                        --><!--</md-optgroup>--><md-optgroup label="User attributes" class="bold-field-select" data-ng-if="attrs.length"><md-option ng-repeat="attr in attrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option></md-optgroup><md-optgroup label="Inputs" class="bold-field-select" data-ng-if="userInputs.length"><md-option ng-repeat="userInput in userInputs" ng-value="userInput"><!--{{attr}}--> {{userInput.name}} ({{bindTypeByValueType(userInput[\'value_type\'])}})</md-option></md-optgroup><md-optgroup label="Layout" class="bold-field-select"><md-option ng-repeat="attr in layoutAttrs" ng-value="attr">{{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option></md-optgroup></md-select></md-input-container><md-input-container class="md-block" flex-gt-sm><!--<label>Colspan</label>--><label>Element width</label><md-select ng-model="item.colspan"><md-option ng-repeat="colspan in getCols()" value="{{colspan}}">{{colspan}} column(s)</md-option></md-select></md-input-container><md-input-container class="md-block" data-ng-if="item.attribute.value_type != \'decoration\'"><label>Custom label</label><input data-ng-model="item.options.fieldName"></md-input-container><div data-ng-if="checkForSpecialOptions()"><div data-ng-include="specialOptionTemplate"></div></div><md-divider></md-divider><div layout="row" layout-align="space-between center" class="constructor-card-actions"><md-button aria-label="cancel" data-ng-click="cancel()">Cancel</md-button><md-button class="ec-field-btn {{item.attribute ? \'\' : \'disabled\'}}" aria-label="save layout" data-ng-click="saveField()"><span>Ok</span></md-button></div></md-card></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/members-groups-table-view.html",'<!-- <div class="g-column-component g-thead">\n\t<md-card data-ng-repeat="name in columnsNames">\n\t\t<div class="g-column-content">\n\t\t\t<div class="column-left-content">\n\t\t\t\t<div class="sort" data-ng-if="isSortable(column)">\n\t\t\t\t\t<md-button class="column-sort column-btns" data-ng-show="column.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')">\n\t\t\t\t\t\t<ng-md-icon icon="keyboard_arrow_down"></ng-md-icon>\n\t\t\t\t\t</md-button>\n\t\t\t\t\t<md-button class="column-sort-up column-btns" data-ng-show="column.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'ASC\')">\n\t\t\t\t\t\t<ng-md-icon icon="keyboard_arrow_up"></ng-md-icon>\n\t\t\t\t\t</md-button>\n\t\t\t\t\t<md-button class="column-sort column-both-sorted column-btns" data-ng-show="!column.options.sort" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')">\n\t\t\t\t\t\t<ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon>\n\t\t\t\t\t\t<ng-md-icon class="c-down"  icon="keyboard_arrow_down"></ng-md-icon>\n\t\t\t\t\t</md-button>\n\t\t\t\t</div>\n\t\t\t\t<div class="caption">\n\t\t\t\t\t{{name}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="column-left-content">\n\t\t\t\t<div class="caption">\n\t\t\t\t\t{{name}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</md-card>\n</div> --><div><table class="bordered"><thead><tr><th>Member name</th><th>User role</th><th>Date Joined</th><th>Assigned to groups</th></tr></thead></table></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/menu-link-view.html",'<md-button ui-sref-active="active" class="sidemenu-btn" ui-sref="{{section.state}}" ng-click="focusSection()"><span data-ng-if="section.icon" class="side-nav-icon"><ng-md-icon icon="{{section.icon}}" size="24"></ng-md-icon></span><span class="side-nav-title">{{section.title}}</span> <span class="md-visually-hidden" data-ng-if="isSelected()">current page</span></md-button>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/menu-toggle-view.html",'<md-button class="md-button-toggle sidemenu-btn" ng-click="toggle($event)" aria-controls="side-menu-{{section.title}}" flex layout="row" aria-expanded="{{isOpen()}}"><span data-ng-if="section.icon" class="side-nav-icon"><ng-md-icon icon="{{section.icon}}" size="24"></ng-md-icon></span><span class="side-nav-title">{{section.title}}</span><ng-md-icon icon="expand_more" class="dropdown-icon" data-ng-if="!isOpen()"></ng-md-icon><ng-md-icon icon="expand_less" class="dropdown-icon" data-ng-if="isOpen()"></ng-md-icon><!--<span aria-hidden="true" class="pull-right fa fa-chevron-down md-toggle-icon" data-ng-class="{\'toggled\' : isOpen()}"></span>--></md-button><ul data-ng-show="isOpen()" id="side-menu-{{section.title}}" class="menu-toggle-list"><li data-ng-repeat="section in section.pages"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/two-fields-options-view.html",'<div layout="row" class="two-fields-options-content" layout-align="center center"><div><p data-ng-if="allOptions[0].name">Available groups</p><p data-ng-if="allOptions[0].display_name">Available members</p><div class="all-options-field two-fields-options"><p data-ng-repeat="option in allOptions" data-ng-if="option.name" data-ng-bind="option.name" class="two-fields-available-option" data-member-group-id="{{option.id}}" data-ng-click="highlightOption($event)"></p><p data-ng-repeat="option in allOptions" data-ng-if="option.display_name" data-ng-bind="option.display_name" class="two-fields-available-option" data-member-group-id="{{option.id}}" data-ng-click="highlightOption($event)"></p></div></div><div class="two-fields-buttons" layout="column" layout-align="center center"><md-button class="two-fields-select-btn two-fields-btn md-raised" data-ng-disable="" data-ng-click="switchOptions(\'p.two-fields-available-option.active-option\', allOptions, selectedOptions)"><ng-md-icon icon="chevron_right" size="25"></ng-md-icon></md-button><md-button class="two-fields-select-btn two-fields-btn md-raised" data-ng-disable="" data-ng-click="switchOptions(\'p.two-fields-selected-option.active-option\', selectedOptions, allOptions)"><ng-md-icon icon="chevron_left" size="25"></ng-md-icon></md-button></div><div><p data-ng-if="allOptions[0].name">Assigned groups</p><p data-ng-if="allOptions[0].display_name">Assigned members</p><div class="selected-options-field two-fields-options"><p data-ng-repeat="sOption in selectedOptions" data-ng-if="sOption.name" data-ng-bind="sOption.name" class="two-fields-selected-option" data-member-group-id="{{sOption.id}}" data-ng-click="highlightOption($event)"></p><p data-ng-repeat="sOption in selectedOptions" data-ng-if="sOption.display_name" data-ng-bind="sOption.display_name" class="two-fields-selected-option" data-member-group-id="{{sOption.id}}" data-ng-click="highlightOption($event)"></p></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/complex-transactions-transaction-edit-dialog-view.html",'<md-dialog aria-label="entity edit" ng-cloak class="add-portfolio-dialog draggable-dialog" drag-dialog><md-dialog-content data-custom-scroll class="custom-scrollbar"><div data-ng-include="\'views/entity-editor-view.html\'"></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><div><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.save()" style="margin-right:20px"><span>Save</span></md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/entity-viewer-dialog-view.html",'<md-dialog aria-label="entity edit" ng-cloak class="add-portfolio-dialog draggable-dialog" drag-dialog style="height: 100%"><md-toolbar><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'create\'"><h2>Add {{vm.entityType}}</h2><span flex></span></div><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'update\'"><h2>Edit {{vm.entityType}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div data-ng-include="\'views/entity-editor-view.html\'"></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><div><md-button ng-click="vm.editLayout()" class="md-raised md-primary" data-ng-if="vm.checkVisibility(\'edit-form-btn\')">Edit Form</md-button><md-button ng-click="vm.manageAttrs()" class="md-raised md-primary">Manage attributes</md-button></div><div><md-button data-ng-if="vm.evAction === \'update\'" class="md-raised" ng-click="vm.copy()" style="margin-right: 25px">Make a copy</md-button><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.save()" style="margin-right:20px"><span data-ng-if="vm.evAction === \'create\'">Add </span><span data-ng-if="vm.evAction === \'update\'">Save</span></md-button></div></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="delete-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Delete {{vm.displayCaption()}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="warning-text"><p>Are you sure to delete this <b>{{vm.displayCaption()}}?</b></p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.delete()" style="margin-right:20px">Delete</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/entity-viewer-view.html",'<div data-ng-controller="EntityViewerController as vm" class="entity-viewer-holder"><div data-ng-if="vm.checkOnBeforeLoadAction()" class="min-height"><div data-ng-include="vm.onBeforeLoadAction" class="min-height"></div></div><div data-ng-if="!vm.checkOnBeforeLoadAction()"><div data-ng-if="!vm.isReport"><md-button aria-label="add entity" class="md-fab md-fab-bottom-right" data-ng-click="vm.addEntity($event)" data-ng-if="vm.checkAddEntityBtn()"><ng-md-icon icon="add"></ng-md-icon></md-button><div data-ng-if="vm.components.splitPanel" class="lock-size g-table-dial" layout="row" layout-align="center center"><md-fab-speed-dial md-direction="up" md-open="false" class="md-scale"><md-fab-trigger><md-button aria-label="menu" class="md-fab" data-ng-if="vm.checkAdditionStatus()"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button aria-label="menu" class="md-fab" data-ng-if="!vm.checkAdditionStatus()" data-ng-click="vm.hideAdditions()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></md-fab-trigger><md-fab-actions><md-button aria-label="" data-ng-if="vm.checkIfPermissionEditorAllowed()" class="md-fab md-raised md-mini" data-ng-click="vm.openPermissionEditor()"><ng-md-icon icon="perm_identity"></ng-md-icon><md-tooltip md-direction="right">Open permission editor</md-tooltip></md-button><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openDataViewPanel()"><ng-md-icon icon="work"></ng-md-icon><md-tooltip md-direction="right">Open data view panel</md-tooltip></md-button><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openEditorViewPanel()"><ng-md-icon icon="view_stream"></ng-md-icon><md-tooltip md-direction="right">Open editor split panel</md-tooltip></md-button><md-button aria-label="" data-ng-repeat="customButton in vm.customButtons" class="md-fab md-raised md-mini" data-ng-click="vm.openCustomAdditionsView($event, customButton)"><ng-md-icon icon="{{customButton.icon}}"></ng-md-icon><md-tooltip md-direction="right">{{customButton.caption}}</md-tooltip></md-button></md-fab-actions></md-fab-speed-dial></div></div><div data-ng-if="vm.checkReadyStatus()" class="g-group-table-holder"><!--<group-table items="vm.getProjection()" options="vm.options" report-options="vm.reportOptions"></group-table>--><group-table items="vm.getProjection()" options="vm.options" report-options="vm.reportOptions"></group-table></div><div data-ng-if="!vm.checkReadyStatus()"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/field-resolver-view.html",'<div><div data-ng-if="readyStatus.content"><div data-ng-if="type === \'key-value\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="entity[getModelKey()]" md-on-close="searchTerm = \'\'" data-ng-change="changeWatcher()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.name | filter:{name: searchTerm}" ng-value="field.value">{{field.name}}</md-option></md-select></md-input-container></div><div data-ng-if="type === \'id\'"><div data-ng-if="getModelKey() === \'instrument\' "><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="entity[getModelKey()]" data-ng-change="changeWatcher()" md-container-class="h-instrument-select" data-instrument-modal-resolver md-selected-text="bindFormFields()"><md-option data-ng-repeat="field in fields track by field.id" ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="getModelKey() !== \'instrument\'"><div data-ng-if="checkComplexEntityType()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><div data-ng-if="readyStatus.tags"><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-optgroup data-ng-if="group.fields.length" label="{{group.name}}" data-ng-repeat="group in groups | orderBy:\'-\'+group.name track by group.id"><md-option data-ng-repeat="field in group.fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by $index" ng-value="field.id">{{bindListFields(field)}}</md-option></md-optgroup></md-select></div><div data-ng-if="!readyStatus.tags"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-input-container></div><div data-ng-if="!checkComplexEntityType()"><div data-ng-if="getModelKey() !== \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id " ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="getModelKey() == \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.scheme_name | filter:{scheme_name:searchTerm} track by field.id " ng-value="field.id">{{field[\'scheme_name\']}}</md-option></md-select></md-input-container></div></div></div></div><div data-ng-if="type === \'multiple-ids\'"><div data-ng-if="checkComplexEntityType()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" multiple="true"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-optgroup label="{{group.name}}" data-ng-repeat="group in groups | orderBy:\'-\'+group.name track by group.id"><md-option data-ng-repeat="field in group.fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm}" ng-value="field.id">{{bindListFields(field)}}</md-option></md-optgroup></md-select></md-input-container></div><div data-ng-if="!checkComplexEntityType()"><div data-ng-if="getModelKey() !== \'content_types\'"><div data-ng-if="resolveMultiple()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindMCField()" multiple="true"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id" ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="!resolveMultiple()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id" ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div></div><div data-ng-if="getModelKey() === \'content_types\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindMCField()" multiple="true"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.name | filter:{name: searchTerm}" ng-value="field.key">{{field.name}}</md-option></md-select></md-input-container></div></div></div></div><div data-ng-if="!readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/permission-editor-view.html",'<div data-ng-controller="EntityViewerPermissionEditorController as vm"><div layout="row" layout-align="center center"><h3>Permission manager</h3></div><md-tabs md-dynamic-height md-border-bottom><md-tab label="Users"><md-content class="md-padding"><div layout="row" layout-align="space-between center" style="margin-bottom: 8px; padding: 0 16px"><div layout="row" layout-align="begin center"><b>Username</b></div><div layout="row" layout-align="center center"><div layout="row" layout-align="center center" style="width: 210px"><b>Manage</b></div><div layout="row" layout-align="center center" style="width: 210px"><b>Change</b></div></div></div><div layout="column" class="ev-permission-editor-item"><div layout="row" layout-align="space-between" class="{{user.isSelected ? \'selected\' : \'\'}}" data-ng-repeat="user in vm.users" data-ng-click="vm.selectEntity(\'user\', user)"><div layout="row" layout-align="begin center"><span data-ng-bind="user.username"></span></div><div layout="row" layout-align="center center"><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleManage(false, user)"><span>Disable</span></md-button><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleManage(true, user)"><span>Enable</span></md-button><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleChange(false, user)"><span>Disable</span></md-button><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleChange(true, user)"><span>Enable</span></md-button></div></div></div></md-content></md-tab><md-tab label="Groups"><md-content class="md-padding"><div layout="row" layout-align="space-between center" style="margin-bottom: 8px; padding: 0 16px"><div layout="row" layout-align="begin center">Group</div><div layout="row" layout-align="center center"><div layout="row" layout-align="center center" style="width: 105px">Manage</div><div layout="row" layout-align="center center" style="width: 105px">Change</div></div></div><div layout="column" class="ev-permission-editor-item"><div layout="row" layout-align="space-between" class="{{group.isSelected ? \'selected\' : \'\'}}" data-ng-repeat="group in vm.groups" data-ng-click="vm.selectEntity(\'group\', group)"><div layout="row" layout-align="begin center"><span data-ng-bind="group.name"></span></div><div layout="row" layout-align="center center"><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleManage(group)"><span data-ng-show="group.manager_actions.manage">Disable</span> <span data-ng-show="!group.manager_actions.manage">Enable</span></md-button><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleChange(group)"><span data-ng-show="group.manager_actions.change">Disable</span> <span data-ng-show="!group.manager_actions.change">Enable</span></md-button></div></div></div></md-content></md-tab></md-tabs></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/entity-viewer/report-wizard-view.html",'<div data-ng-controller="ReportWizardController as vm" class="report-wizard"><div data-ng-if="vm.checkReadyStatus()" class="custom-scrollbar" data-custom-scroll><div data-ng-if="vm.currentStep == 1"><div layout="row" layout-align="center center"><h3>Choose report type</h3></div><div layout="column"><div data-ng-repeat="item in vm.reportTypes"><md-button class="md-raised" data-ng-click="vm.selectReport(item)">{{item.caption}}</md-button></div></div><!--<div layout="row" layout-align="end center">--><!--<md-button class="md-raised {{vm.checkDisabled() ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.nextStep()">--><!--Next--><!--</md-button>--><!--</div>--></div><div data-ng-if="vm.currentStep == 2"><div layout="row" layout-align="center center"><h3>Choose layout</h3></div><div layout="column"><div data-ng-repeat="item in vm.layouts"><md-button class="md-raised" data-ng-click="vm.selectLayout(item)">{{item.name}}</md-button></div></div><div layout="row" layout-align="begin center"><md-button class="md-raised" data-ng-click="vm.prevStep()">Back</md-button></div><!--<div layout="row" layout-align="space-between center">--><!--<md-button class="md-raised" data-ng-click="vm.prevStep()">Back</md-button>--><!--<md-button class="md-raised {{vm.checkDisabled() ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.nextStep()">--><!--Finish--><!--</md-button>--><!--</div>--></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/reports/reports-balance-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="report-data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/reports/reports-cash-flow-projection-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="report-data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/reports/reports-custom-attr-view.html",'<div class="attributes-manager-view" style="height: 100%"><md-content style="height: 100%"><!--<md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addAttribute($event)">--><!--<ng-md-icon icon="add"></ng-md-icon>--><!--</md-button>--><div><h2 class="am-header"><span data-ng-bind="vm.entityType"></span> CUSTOM ATTRIBUTES<!-- <ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777">\n                    <md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip>\n                </ng-md-icon> --></h2></div><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button class="md-raised" data-ng-click="vm.addAttribute($event)">ADD NEW</md-button></div><div layout="row" flex="50" layout-align="end center"><!-- <md-button class="md-raised" data-ng-click="vm.toggleHidden($event)">\n                    <span data-ng-show="!vm.showHidden">\n                        SHOW HIDDEN ATTRIBUTES\n                    </span>\n                    <span data-ng-show="vm.showHidden">\n                        HIDE ATTRIBUTES\n                    </span>\n                </md-button> --><md-button class="md-raised md-primary" data-ui-sref="app.reports.balance-report">RETURN TO VIEW</md-button><!-- <md-button class="md-raised md-primary"\n                           data-ui-sref="app.data-constructor({entityType: vm.entityType})">\n                    RETURN TO FORM EDITOR\n                </md-button> --></div></div><div data-ng-if="vm.attrs.length"><md-card data-ng-repeat="item in vm.attrs" class="am-attr-card" data-ng-if="vm.checkIsHidden(item)"><div><b data-ng-bind="item.name"></b><div class="am-attr-misc"><md-button data-ng-if="item[\'value_type\'] === 30" class="am-attr-btn" data-ng-click="vm.editTreeAttr(item, $event)"><ng-md-icon icon="format_align_right"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.editAttr(item, $event)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.deleteAttr(item, $event)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!vm.attrs.length"><!-- <div layout="row" layout-sm="column" layout-align="space-around">\n                <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n            </div> --><div layout="row" class="add-more-tip" layout-sm="column" layout-align="center center"><h1>You could add new custom attributes here</h1></div></div></md-content></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/reports/reports-profit-and-lost-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="report-data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/reports/reports-transaction-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="report-data-layer-wrapper"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/bloomber-import-settings-view.html",'<div data-ng-controller="SettingBloombergImportInstrumentController as vm">Mapping name User code Name Short name Public name Notes Instrument type Pricing currency Price multiplier Accrued currency Accrued multiplier Daily pricing model Payment size detail Default price Default accrued User text 1 User text 2 User text 3 Price download mode</div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/data-providers-config-settings-view.html",'<div><div data-ng-if="vm.readyStatus.provider"><md-card><form action="" data-ng-submit="vm.saveConfig($event)" name="sertForm"><md-card-content><!-- <md-input-container class="md-block"> --><div class="sett-data-prov-choose-file"><h4>Certificate</h4><input type="file" id="providerConfigFile" file-read="vm.provider.p12cert" input-file-directive><label for="providerConfigFile" class="md-button md-raised md-primary">Choose a file</label><p>No chosen files</p></div><!-- </md-input-container> --><md-input-container class="md-block"><label>Password</label><input type="password" data-ng-model="vm.provider.password"></md-input-container></md-card-content><md-card-actions><div layout="row" layout-align="end center"><md-button class="md-raised" type="submit">Save</md-button></div></md-card-actions></form></md-card></div><div data-ng-if="!vm.readyStatus.provider"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/data-providers-settings-view.html",'<div><div data-ng-if="vm.readyStatus.dataProviders"><md-card data-ng-repeat="dataProvider in vm.dataProviders"><md-card-content><div layout="row" layout-align="space-between"><div layout="row" layout-align="begin center">{{dataProvider.name}}</div><div layout="row" layout-align="end center"><md-button class="md-raised data-provider-btn-sref" data-ui-sref="app.settings.general.data-providers-config({dataProviderId: dataProvider.id})"><ng-md-icon icon="keyboard_arrow_right"></ng-md-icon></md-button></div></div></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.dataProviders"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/form-design-view.html",'<div><md-list flex><md-list-item class="md-3-line" ng-click="vm.goToState(\'portfolio\')">Portfolios</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'account\')">Accounts</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'counterparty\')">Counterparties</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'responsible\')">Responsibles</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'instrument\')">Instruments</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'transaction\')">Transactions</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'price-history\')">Price history</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'currency-history\')">Currency history</md-list-item><md-divider></md-divider></md-list></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/general-view.html",'<div><md-tabs md-dynamic-height md-border-bottom><md-tab label="Profile" data-ui-sref="app.settings.general.profile" md-active="$state.includes(\'app.settings.general.profile\')"><md-content class="md-padding"><div data-ui-view="profile"></div></md-content></md-tab><md-tab label="Data providers" data-ui-sref="app.settings.general.data-providers" md-active="vm.checkProviders()"><md-content class="md-padding"><div data-ui-view="data-providers"></div></md-content></md-tab><md-tab label="Instrument import" data-ui-sref="app.settings.general.instrument-import" md-active="$state.includes(\'app.settings.general.instrument-import\')"><md-content class="md-padding"><div data-ui-view="instrument-import"></div></md-content></md-tab><md-tab label="Transaction import" data-ui-sref="app.settings.general.transaction-import" md-active="$state.includes(\'app.settings.general.transaction-import\')"><md-content class="md-padding"><div data-ui-view="transaction-import"></div></md-content></md-tab></md-tabs></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/instrument-import-settings-view.html",'<div><div data-ng-if="vm.readyStatus.instrumentSchemes"><div layout="row" layout-align="end center"><md-button class="md-raised md-primary" data-ng-click="vm.addScheme($event)">Create scheme</md-button></div><div layout="column" data-ng-if="vm.instrumentSchemes.length"><div layout="row"><h4 style="padding-left: 20px">Scheme name</h4></div><div layout="column"><md-card data-ng-repeat="item in vm.instrumentSchemes" flex="100"><md-card-content><div layout="row" layout-align="space-between center"><div><span data-ng-bind="item[\'scheme_name\']"></span></div><div><md-button style="min-width: 42px" data-ng-click="vm.editScheme($event, item)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button style="min-width: 42px" data-ng-click="vm.deleteScheme($event, item)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card-content></md-card></div></div><div layout="row" data-ng-if="!vm.instrumentSchemes.length" layout-align="center center"><h3>Import schemes do not exist</h3></div></div><div data-ng-if="!vm.readyStatus.instrumentSchemes"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/profile-settings-view.html",'<div flex="50" data-ng-if="vm.readyStatus.user"><md-input-container class="md-block"><label>First name</label><input data-ng-model="vm.user[\'first_name\']"></md-input-container><md-input-container class="md-block"><label>First name</label><input data-ng-model="vm.user[\'last_name\']"></md-input-container><md-input-container class="md-block"><label>Email</label><input data-ng-model="vm.user.email" type="email"></md-input-container><md-input-container class="md-block" style="height: 64px"><label>Language</label><md-select data-ng-model="vm.user.profile.language"><md-option value="ru">Russian</md-option><md-option value="en">English</md-option><md-option value="es">Spanish</md-option><md-option value="de">Deutsch</md-option></md-select></md-input-container><md-input-container class="md-block" style="height: 64px"><label>Timezone</label><md-select data-ng-model="vm.user.profile.timezone"><md-option data-ng-repeat="item in vm.timeZones" ng-value="item.name">{{item.name}}</md-option></md-select></md-input-container><md-button class="md-raised" data-ng-click="vm.save()">Save</md-button></div><div data-ng-if="!vm.readyStatus.user"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/transaction-import-settings-view.html",'<div><div data-ng-if="vm.readyStatus.instrumentSchemes"><div layout="row" layout-align="end center"><md-button class="md-raised md-primary" data-ng-click="vm.addScheme($event)">Create scheme</md-button></div><div layout="column" data-ng-if="vm.instrumentSchemes.length"><div layout="row"><h4 style="padding-left: 20px">Scheme name</h4></div><div layout="column"><md-card data-ng-repeat="item in vm.instrumentSchemes" flex="100"><md-card-content><div layout="row" layout-align="space-between center"><div><span data-ng-bind="item[\'scheme_name\']"></span></div><div><md-button style="min-width: 42px" data-ng-click="vm.editScheme($event, item)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button style="min-width: 42px" data-ng-click="vm.deleteScheme($event, item)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card-content></md-card></div></div><div layout="row" data-ng-if="!vm.instrumentSchemes.length" layout-align="center center"><h3>Import schemes do not exist</h3></div></div><div data-ng-if="!vm.readyStatus.instrumentSchemes"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/settings/users-and-groups-view.html",'<div class="members-groups-content"><md-tabs md-dynamic-height><md-tab label="Members"><div data-ng-if="vm.members && vm.members.length > 0"><table class="members-groups-table"><thead class="members-groups-thead"><tr><th>Member name</th><th>User role</th><th>Date Joined</th><th>Assigned to groups</th><th></th></tr></thead><tbody class="members-groups-tbody"><tr data-ng-repeat="member in vm.members"><td><md-button class="members-groups-name" data-ng-bind="member.display_name" data-ng-click="vm.manageMemberDialog($event, member.id)"></md-button></td><td><span data-ng-if="member.is_admin">Admin</span> <span data-ng-if="!member.is_admin">Member</span></td><td data-ng-bind="member.join_date | date: \'yyyy/MM/dd\'"></td><td><span data-ng-repeat="groupName in member.groupsName" data-ng-bind="(groupName + \',\')"></span></td><td class="members-groups-delete"><md-button class="members-groups-delete-btn" data-ng-click="vm.deleteMemberGroupByKey(\'members\', member.id)"><ng-md-icon icon="close" style="fill:#000000" size="20"></ng-md-icon></md-button></td></tr></tbody></table><div class="add-member-row" layout="row" layout-align="start center"><div flex="95"><md-button class="add-member-btn" data-ng-click="vm.createMemberDialog($event)">Add member</md-button></div></div></div><div data-ng-if="!vm.members || vm.members.length === 0"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-tab><md-tab label="Groups"><div data-ng-if="vm.groups && vm.groups.length > 0"><table class="members-groups-table"><thead class="members-groups-thead"><tr><th>Group name</th><th></th></tr></thead><tbody class="members-groups-tbody"><tr data-ng-repeat="group in vm.groups"><td><md-button class="members-groups-name" data-ng-bind="group.name" data-ng-click="vm.manageGroupDialog($event, group.id)"></md-button></td><td class="members-groups-delete"><md-button class="members-groups-delete-btn" data-ng-click="vm.deleteMemberGroupByKey(\'groups\', group.id)"><ng-md-icon icon="close" style="fill:#000000" size="20"></ng-md-icon></md-button></td></tr></tbody></table><div class="add-member-row" layout="row" layout-align="start center"><div flex="95"><md-button class="add-member-btn" data-ng-click="vm.createGroupDialog($event)">Add group</md-button></div></div></div><div data-ng-if="!vm.groups || vm.groups.length === 0"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-tab></md-tabs></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/special-rules/complex-transaction-special-rules-view.html",'<div class="special-rules-view complex-transaction-sr" data-ng-controller="ComplexTransactionSpecialRulesController as vm"><div layout="row"><div layout="row" flex="50"><md-input-container><label for="">Portfolio</label><md-select multiple="multiple" data-ng-model="vm.complexTransactionOptions.portfolio"><md-option data-ng-repeat="item in vm.portfolios" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row" flex="50"><md-input-container><label for="">Instrument Type</label><md-select multiple="multiple" data-ng-model="vm.complexTransactionOptions.instrumentType"><md-option data-ng-repeat="item in vm.instrumentTypes" ng-value="item.id">{{item.user_code}}</md-option></md-select></md-input-container></div></div><div layout="row"><md-input-container><label for="">Transaction type</label><!--<md-select data-ng-model="vm.transactionType" md-on-open="vm.loadTransactionTypes()" ng-disabled="!vm.portfolioId && !vm.instrumentId">--><md-select data-ng-model="vm.complexTransactionOptions.transactionType" md-on-open="vm.loadTransactionTypes()" data-ng-change="vm.transactionTypeHandler()"><md-option data-ng-repeat="item in vm.transactionTypes" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/system/audit-instruments-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/system/audit-transactions-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/system/audit-view.html",'<md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="Transaction" md-active="vm.checkActiveTab(\'transaction\')" data-ng-click="vm.setActiveTab(\'transaction\')"><md-content><div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div></md-content></md-tab><md-tab label="Instrument" md-active="vm.checkActiveTab(\'instrument\')" data-ng-click="vm.setActiveTab(\'instrument\')"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.instrument" class="audit-wrapper"><div layout="column"><div flex layout="row"><div flex="10" layout="row" class="audit-cell"><span class="no-select">Date</span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell"><span class="no-select">Time</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Member</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">User code</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Field</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Old value</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">New value</span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Action</span></div></div><md-divider></md-divider></div><div layout="column" data-ng-repeat="item in vm.instruments"><div layout="row"><div flex layout="row"><div flex="10" layout="row" class="audit-cell"><span class="no-select" data-ng-bind="item.dateFormatted"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell"><span class="no-select" data-ng-bind="item.timeFormatted"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.member.username"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.object_repr"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item[\'field_name\']"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item[\'old_value\']"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item[\'value\']"></span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.message"></span></div></div></div><md-divider></md-divider></div><div layout="row"><div paging page="vm.instrumentCurrent" page-size="vm.itemPerPage" total="vm.instrumentTotal" paging-action="vm.changePage(\'instrument\', page)" class="global-pagination-div"></div></div></div><div data-ng-if="!vm.readyStatus.instrument" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-content></md-tab></md-tabs>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/system/notifications-view.html",'<div class="notifications-view"><div data-ng-if="vm.notifications.length && vm.notificationsReady"><md-card class="nf-head-card"><div layout="row"><div flex="15">Date</div><div flex="10">From</div><div flex="75">Notification</div></div></md-card><md-card data-ng-repeat="item in vm.notifications"><div layout="row"><div flex="15">{{item[\'create_date\'] | date:\'dd/MM/yyyy HH:mm\'}}</div><div flex="10">System</div><div flex="75">{{item.message}}</div></div></md-card><div layout="row"><div paging page="vm.notificationsCurrent" page-size="vm.itemPerPage" total="vm.notificationsTotal" paging-action="vm.changePage(page)" class="global-pagination-div"></div></div></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.markAllNotificationsAsReaded()">Mark all as readed</md-button><md-button data-ng-if="vm.notificationsListType == \'all\'" class="md-raised" data-ng-click="vm.hideShowReadedNotifications(\'unreaded\')">Hide readed</md-button><md-button data-ng-if="vm.notificationsListType == \'unreaded\'" class="md-raised" data-ng-click="vm.hideShowReadedNotifications(\'all\')">Show readed</md-button></div><div data-ng-if="!vm.notifications.length && !vm.notificationsReady"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/ui/ui-layout-list-view.html",'<md-dialog aria-label="" ng-cloak class="list-layouts-dialog" style="width: 50%" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Layouts</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div data-ng-if="vm.readyStatus.items"><div data-ng-repeat="item in vm.items" class="ll-layout-item {{item.is_default ? \'active\' : \'\'}}" style="padding: 10px" layout="row" layout-align="space-between center"><div layout="row" class="ll-name" data-ng-click="vm.selectLayout(item)">{{item.name}}</div><div><md-button class="md-button ll-delete-btn" ng-click="vm.deleteItem($event, item)"><ng-md-icon icon="delete" size="24"></ng-md-icon></md-button></div></div></div><div data-ng-if="!vm.readyStatus.items" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/dialogs/ui/ui-layout-save-as-view.html",'<md-dialog aria-label="" ng-cloak class="save-as-layouts-dialog" style="width: 50%"><md-toolbar><div class="md-toolbar-tools"><h2>Layouts</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div style="padding: 20px"><md-input-container style="width: 100%"><label for="">Layout name</label><input type="text" data-ng-model="vm.layoutName"></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/bind-report-row-view.html",'<div data-ng-show="itemIsFolded(item)" class="{{item.isFirstOfFolded ? \'folded-root-item\' : \'\'}}"><div data-ng-if="item.type == \'preinit\'" class="g-row report-preinit-row"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div data-ng-repeat="group in item.value track by $index" class="g-group"><span data-ng-bind="bindGroupValue(group)"></span></div></div><div data-ng-if="item.type == \'init\'" class="g-row report-init-row"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div data-ng-repeat="group in item.value track by $index" class="g-group"><span data-ng-bind="bindGroupValue(group)"></span></div></div><div data-ng-if="item.type == \'breadcrumbs\'" class="g-row report-breacrumbs-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in item.cellsCaptions track by $index"><div class="g-cell {{resolveReportCellBackground(\'header\', item, column, $index)}} {{resolveReportCellBorder(\'header\', item, column, $index)}}"><!--{{item.cellsCaptions}}--> {{bindGroupValue(item.cellsCaptions[$index])}}</div></div><div class="g-cell g-cell-group"><div data-ng-repeat="group in item.value track by $index"><span data-ng-bind="bindGroupValue(group)"></span></div></div></div></div><div data-ng-if="item.type == \'header\'" class="g-row report-header-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'header\', item, column, $index)}} {{resolveReportCellBorder(\'header\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><!--{{item.cellsCaptions[$index][\'comparePattern\']}}--> {{bindGroupValue(item.cellsCaptions[$index])}}</div><div class="g-cell {{getAlign(column)}} {{resolveReportCellBorder(\'header\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><span title="{{bindCellTitle(item, column)}}" data-ng-bind-html="bindCell(item.value, column) | trustAsHtml"></span></div></div></div></div><div data-ng-if="item.type == \'normal\'" class="g-row report-normal-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'normal\', item, column, $index)}} {{resolveReportCellBorder(\'normal\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><md-card class="group-row-fold-holder _md" data-ng-if="bindGroupValue(item.cellsCaptions[$index]) != \'\'"><div><md-button class="" aria-label="hide/show grouping" data-ng-show="item.cellsCaptions[$index].isFolded" data-ng-click="toggleGroupFold(item, $index)"><ng-md-icon icon="add"></ng-md-icon></md-button><md-button class="" aria-label="hide/show grouping" data-ng-show="!item.cellsCaptions[$index].isFolded" data-ng-click="toggleGroupFold(item, $index)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></md-card>{{bindGroupValue(item.cellsCaptions[$index])}}</div><div class="g-cell {{getAlign(column)}} {{resolveReportCellBorder(\'normal\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><span title="{{bindCellTitle(item.value, column)}}" data-ng-bind-html="bindCell(item.value, column, {reportItem: item}) | trustAsHtml"></span></div></div></div></div><div data-ng-if="item.type == \'subtotal-line\'" class="g-row report-subtotal-line-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'subtotal-line\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><md-card class="group-row-fold-holder _md" data-ng-if="bindGroupValue(item.cellsCaptions[$index]) != \'\'"><div><md-button class="" aria-label="hide/show grouping" data-ng-show="item.cellsCaptions[$index].isFolded" data-ng-click="toggleGroupFold(item, $index)"><ng-md-icon icon="add"></ng-md-icon></md-button><md-button class="" aria-label="hide/show grouping" data-ng-show="!item.cellsCaptions[$index].isFolded" data-ng-click="toggleGroupFold(item, $index)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></md-card><b data-ng-if="$index !== 0"><span data-ng-if="isSubtotalHided(column)" title="{{bindCellTitle(item.value, column)}}" data-ng-bind-html="bindCellSubTotal(item.value, column) | trustAsHtml"></span></b></div><div class="g-cell {{getAlign(column)}} {{resolveReportCellItemBackground(\'subtotal-line\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><b><span title="{{bindCellTitle(item.value, column)}}" data-ng-if="isSubtotalHided(column)" data-ng-bind-html="bindCellSubTotal(item.value, column) | trustAsHtml"></span></b></div></div></div></div><div data-ng-if="item.type == \'subtotal\'" class="g-row report-subtotal-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'subtotal\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><span data-ng-if="isSubtotalHided(column)" data-ng-bind-html="item.cellsCaptions[$index].value"></span></div><div class="g-cell {{getAlign(column)}} {{resolveReportCellItemBackground(\'subtotal\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><b><span title="{{bindCellTitle(item.value, column)}}" data-ng-if="isSubtotalHided(column)" data-ng-bind-html="bindCellSubTotal(item.value, column) | trustAsHtml"></span></b></div></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/columns-view.html",'<div class="g-columns-component g-thead" group-column-init-width columns="columns"><div class="g-column-title-row" layout="row" data-ng-if="options.components.columnAreaHeader"><p class="g-column-title"><span class="g-meta-circle red">C</span>OLUMN AREA<ng-md-icon style="fill: #fff" class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p></div><div class="g-cell-select all {{isAllSelected ? \'active\' : \'\'}}" data-ng-click="selectAllRows()"><ng-md-icon icon="signal_cellular_0_bar"></ng-md-icon></div><div class="g-scroll-wrapper" group-column-width-set init-width=""><div class="g-scrollable-area"><div dragula="\'columns-bag\'" dragula-model="columns" class="g-columns-holder"><md-card class="g-cell g-column" data-ng-repeat="column in columns"><div class="g-column-content"><div class="column-left-content"><div class="sort" data-ng-if="isSortable(column)"><md-button class="column-sort column-btns" data-ng-show="column.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="column-sort-up column-btns" data-ng-show="column.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="column-sort column-both-sorted column-btns" data-ng-show="!column.options.sort" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{column.name}}</div></div><div class="settings-btn"><md-menu data-ng-if="options.isReport && isColumnFloat(column)"><md-button aria-label="Open phone interactions menu" class="md-icon-button column-btns" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-menu><md-button ng-click="selectSubtotalType(column, 1)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 1)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 1)" class="z-menu-icon"></ng-md-icon><span>Subtotal SUM</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button aria-label="Open phone interactions menu" class="" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="done" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><span>Subtotal Weighted</span><ng-md-icon icon="arrow_drop_up" class="z-dropdown-icon"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="selectSubtotalType(column, 2)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 2)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 2)" class="z-menu-icon"></ng-md-icon><span>Market Value</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 3)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 3)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 3)" class="z-menu-icon"></ng-md-icon><span>Market Value %</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 4)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 4)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 4)" class="z-menu-icon"></ng-md-icon><span>Exposure</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 5)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 5)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 5)" class="z-menu-icon"></ng-md-icon><span>Exposure %</span></md-button></md-menu-item></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button aria-label="Open phone interactions menu" class="" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="done" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><span>Subtotal Avg. Weighted</span><ng-md-icon icon="arrow_drop_up" class="z-dropdown-icon"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="selectSubtotalType(column, 6)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 6)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 6)" class="z-menu-icon"></ng-md-icon><span>Market Value</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 7)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 7)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 7)" class="z-menu-icon"></ng-md-icon><span>Market Value %</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 8)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 8)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 8)" class="z-menu-icon"></ng-md-icon><span>Exposure</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 9)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 9)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 9)" class="z-menu-icon"></ng-md-icon><span>Exposure %</span></md-button></md-menu-item></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button ng-click="reportHideSubtotal(column)" class="g-settings-option-btn"><ng-md-icon icon="done" style="visibility: hidden"></ng-md-icon><span data-ng-show="!column.report_settings.hide_subtotal">Hide subtotal</span><span data-ng-show="column.report_settings.hide_subtotal">Show subtotal</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="options.isReport && !isColumnFloat(column)"><md-button aria-label="Open phone interactions menu" class="md-icon-button column-btns" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-menu><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="!options.isReport"><md-button aria-label="Open phone interactions menu" class="md-icon-button column-btns" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div><div class="column-name-tooltip-wrap"><div class="column-name-tooltip-content"><span data-ng-bind="column.name"></span></div></div></div><div class="resize-slider"></div></md-card></div><div class="drop-new-field" id="columnsbag" data-ng-if="!isItemAddition">Drop New Column</div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/group-table-shell-view.html",'<div class="g-wrapper" data-group-height-aligner data-options="options"><div class="g-workarea-wrap"><div class="g-workarea main-area" data-group-clipboard-handler data-items="items" data-columns="columns"><div class="g-grouping-section" data-ng-if="options.components.groupingArea"><group-grouping options="options"></group-grouping></div><div class="g-table-section"><div data-custom-scroll class="custom-scrollbar" data-scroll-y="false"><div class="g-table-wrap" data-group-column-resizer data-items="items" data-options="options"><group-columns options="options" items="items"></group-columns><group-table-body class="group-table-body" options="options" items="items"></group-table-body></div></div></div></div></div><div class="g-filter-sidebar main-sidebar" data-ng-if="options.components.sidebar"><div data-custom-scroll class="custom-scrollbar"><div class="g-filter" id="filtersbag"><group-sidebar-filter options="options" report-options="reportOptions"></group-sidebar-filter></div></div></div><div class="g-additions" data-ng-if="checkAdditions()"><div class="g-height-slider"></div><div class="g-additions-data-editor min-height" data-ng-show="options.additionsStatus.editor"><div data-ng-show="!options.editorEntityId"><div class="g-additions-editor-caption">Select row to start</div></div><div data-ng-show="options.editorEntityId" class="min-height"><group-editor-binder options="options"></group-editor-binder></div></div><div class="g-additions-workarea" data-ng-if="options.additionsStatus.permissionEditor"><div data-ng-include="\'views/entity-viewer/permission-editor-view.html\'" class="min-height"></div></div><div class="g-additions-workarea" data-ng-if="options.additionsStatus.reportWizard"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="min-height"></div></div><div class="g-extra-features" data-ng-if="findSelectedFeature().isOpened"><div data-ng-include="{{findSelectedFeature().templateUrl}}"></div></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/grouping-view.html",'<div class="g-grouping-component"><div><p class="g-drag-section-title"><span class="g-meta-circle green">G</span>ROUPING AREA<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p></div><div class="g-second-line"><div class="groups-holder"><div class="group-folding-holder" data-ng-if="!options.isReport"><md-card><div><!--<div class="fold-btn-wrap {{folding ? \'\' : \'disabled\'}}">--><div class="fold-btn-wrap"><md-button class="grouping-fold-btn" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="add"></ng-md-icon></md-button><md-tooltip class="tooltip_1" md-direction="top">Expand</md-tooltip></div><!--<div class="fold-btn-wrap {{folding ? \'disabled\' : \'\'}}">--><div class="fold-btn-wrap"><md-button class="grouping-fold-btn" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="remove"></ng-md-icon></md-button><md-tooltip class="tooltip_1" md-direction="top">Collapse</md-tooltip></div></div></md-card></div><div dragula="\'group-bag\'" dragula-model="grouping"><md-card data-ng-repeat="item in options.grouping track by $index" class="group-item card"><div class="sort"><md-button class="group-sort" data-ng-show="item.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="group-sort-up" data-ng-show="item.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="group-sort group-both-sorted" data-ng-show="!item.options.sort" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{item.name}}</div><div class="settings-btn"><md-menu data-ng-if="options.isReport"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item><md-menu-item data-ng-if="isReportGroupHaveExtSettings(item, $index, \'line\')"><md-button md-prevent-menu-close="md-prevent-menu-close" ng-click="reportSetSubtotalType(item, \'line\', $index)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="item.report_settings.subtotal_type == \'line\'"></ng-md-icon><ng-md-icon icon="done" style="visibility: hidden" data-ng-show="item.report_settings.subtotal_type != \'line\'"></ng-md-icon><span>Line subtotal</span></md-button></md-menu-item><md-menu-item data-ng-if="isReportGroupHaveExtSettings(item, $index, \'area\')"><md-button md-prevent-menu-close="md-prevent-menu-close" ng-click="reportSetSubtotalType(item, \'area\', $index)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="item.report_settings.subtotal_type == \'area\'"></ng-md-icon><ng-md-icon icon="done" style="visibility: hidden" data-ng-show="item.report_settings.subtotal_type != \'area\'"></ng-md-icon><span>Area subtotal</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="!options.isReport"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-group" id="groupsbag"><!-- Drop level {{grouping.length + 1}} Group --> Drop New Grouping Level</div></div><md-button data-ng-if="options.components.fieldManagerBtn == true" class="md-fab g-settings-btn" aria-label="drag modal" data-ng-click="openModalSettings($event)"><ng-md-icon icon="view_week"></ng-md-icon></md-button></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/modal-report-transaction-view.html",'<md-dialog aria-label="Report fields modal" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools" layout="row" layout-align="start center"><h2 style="user-select: none; position: relative">View Constructor<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #fff"><md-tooltip md-direction="top">tooltip text</md-tooltip></ng-md-icon></h2><!-- <span class="tooltips-sign white">\n                (i)\n                <md-tooltip md-direction="top">tooltip text</md-tooltip>\n            </span> --></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="Transaction"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.transactionAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab><md-tab label="Custom Attributes"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.custom" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.attributesManager({entityType: vm.entityType})" data-ng-click="vm.cancel()">Manage attributes</md-button><md-button data-ng-if="vm.entityType === \'balance-report\' || vm.entityType === \'pnl-report\'" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.reports.customAttributesManager({entityType: vm.entityType})" data-ng-click="vm.cancel()">Custom attributes</md-button><md-button class="md-raised" ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/modal-report-view.html",'<md-dialog aria-label="Report fields modal" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools" layout="row" layout-align="start center"><h2 style="user-select: none; position: relative">View Constructor<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #fff"><md-tooltip md-direction="top">tooltip text</md-tooltip></ng-md-icon></h2><!-- <span class="tooltips-sign white">\n                (i)\n                <md-tooltip md-direction="top">tooltip text</md-tooltip>\n            </span> --></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="Balance"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.balanceAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab><md-tab label="Performance"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.balancePerformanceAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab><md-tab label="Instrument"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.instrumentAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.instrumentTypeAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.instrumentDynamicAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab><md-tab label="Account"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.accountAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.accountTypeAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.accountDynamicAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab><md-tab label="Portfolio"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.portfolioAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.portfolioDynamicAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab><md-tab label="Strategies"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy1attrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy1subgroupAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy1groupAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy2attrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy2subgroupAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy2groupAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy3attrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy3subgroupAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.strategy3groupAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab><md-tab label="Custom Attributes"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.custom" layout="row"><div><md-checkbox ng-model="item.columns" aria-label="Columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria-label="Groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria-label="Filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{::vm.bindReportItemName(item)}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.attributesManager({entityType: vm.entityType})" data-ng-click="vm.cancel()">Manage attributes</md-button><md-button data-ng-if="vm.entityType === \'balance-report\' || vm.entityType === \'pnl-report\'" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.reports.customAttributesManager({entityType: vm.entityType})" data-ng-click="vm.cancel()">Custom attributes</md-button><md-button class="md-raised" ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/modal-view-old.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools"><h2 style="user-select: none">DRAG FIELDS FROM HERE</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in tab.attrs"><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/modal-view.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools" layout="row" layout-align="start center"><h2 style="user-select: none; position: relative">View Constructor<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #fff"><md-tooltip md-direction="top">tooltip text</md-tooltip></ng-md-icon></h2><!-- <span class="tooltips-sign white">\n                (i)\n                <md-tooltip md-direction="top">tooltip text</md-tooltip>\n            </span> --></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="System"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.baseAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'group\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'filter\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.entityAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'group\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'filter\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><md-tab label="User Attributes"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.attrs" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox data-ng-if="vm.isReport == true" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox data-ng-if="vm.isReport == false" style="visibility: hidden" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><md-tab label="Custom Attributes" data-ng-if="vm.entityType === \'balance-report\'"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.custom" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox style="visibility: hidden" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox style="visibility: hidden" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><!--<md-tab label="Attributes">--><!--<md-content class="md-padding">--><!--<div class="g-th-checkbox-row">--><!--<span class="g-meta-circle green">G</span>--><!--<span class="g-meta-circle red">C</span>--><!--<span class="g-meta-circle blue">F</span>--><!--</div>--><!--<div class="g-checkbox-row" data-ng-repeat="item in vm.attrs">--><!--<md-checkbox ng-model="item.groups" aria="groups" class="md-g-green"--><!--data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<md-checkbox style="visibility: hidden" ng-model="item.filters" aria="filters"--><!--class="md-primary" data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<span flex></span>--><!--<div dragula="\'columns-bag\'" class="g-modal-draggable-card">--><!--<md-card class="modal-dialog-card">{{item.name}}</md-card>--><!--</div>--><!--</div>--><!--</md-content>--><!--</md-tab>--></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.attributesManager({entityType: vm.entityType})" data-ng-click="vm.cancel()">Manage attributes</md-button><md-button data-ng-if="vm.entityType === \'balance-report\'" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.reports.balanceCustomAttributesManager" data-ng-click="vm.cancel()">Custom attributes</md-button><md-button class="md-raised" ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/sidebar-filter-view.html",'<div class="g-sidebar-filter-component" layout="column"><div data-ng-if="isReport" layout="column"><div data-ng-if="options.entityType == \'balance-report\' || options.entityType == \'pnl-report\'"><md-card class="g-sidebar-report-card"><md-card-content><p class="g-r-card-title">Report settings</p><div layout="column" style="padding-top: 16px"><md-input-container data-ng-if="options.entityType == \'pnl-report\'"><label for="">First Date</label><zh-date-picker data-ng-model="reportOptions.pl_first_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="reportOptions.report_date" position="left"></zh-date-picker></md-input-container><md-input-container style="margin-bottom: 20px"><label for="">Currency</label><md-select data-ng-model="reportOptions.currency" md-on-close="searchTerm = \'\'"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="item in currencies | orderBy:\'-\'+field.name | filter:{name: searchTerm}" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Pricing Policy</label><md-select data-ng-model="reportOptions.pricing_policy"><md-option data-ng-repeat="item in pricingPolicies" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><div layout="column" style="margin-top: 16px"><md-button data-ng-click="openReportSettings($event)" class="md-primary md-raised">Settings</md-button><md-button data-ng-click="calculateReport()" class="md-raised">Calculate</md-button></div></md-card-content></md-card></div><div data-ng-if="options.entityType == \'transaction-report\'"><md-card class="g-sidebar-report-card"><md-card-content><p class="g-r-card-title">Report settings</p><div layout="column" style="padding-top: 16px"><md-input-container><label for="">Begin date</label><zh-date-picker data-ng-model="reportOptions.begin_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">End date</label><zh-date-picker data-ng-model="reportOptions.end_date" position="left"></zh-date-picker></md-input-container></div><div layout="column" style="margin-top: 16px"><md-button data-ng-click="calculateReport()" class="md-raised">Calculate</md-button></div></md-card-content></md-card></div><div data-ng-if="options.entityType == \'cash-flow-projection-report\'"><md-card class="g-sidebar-report-card"><md-card-content><p class="g-r-card-title">Report settings</p><div layout="column" style="padding-top: 16px"><md-input-container><label for="">Begin date</label><zh-date-picker data-ng-model="reportOptions.begin_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">End date</label><zh-date-picker data-ng-model="reportOptions.end_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">Balance date</label><zh-date-picker data-ng-model="reportOptions.balance_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">Report date</label><zh-date-picker data-ng-model="reportOptions.report_date" position="left"></zh-date-picker></md-input-container></div><div layout="column" style="margin-top: 16px"><md-button data-ng-click="calculateReport()" class="md-raised">Calculate</md-button></div></md-card-content></md-card></div></div><div layout="row" layout-align="space-between center"><p class="area-title g-section-title"><span class="g-meta-circle blue">F</span><span class="after-text">ILTER AREA</span><ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p><md-button aria-label="resize" class="to-small-btn filter-sidenav f-s-collapse fab md-raised" data-ng-click="resizeFilterSideNav(\'collapse\')"><md-tooltip class="" md-direction="top">Collapse area</md-tooltip><ng-md-icon icon="chevron_right"></ng-md-icon></md-button></div><div layout="row"><md-button aria-label="resize" class="to-small-btn filter-sidenav f-s-expand fab md-raised" data-ng-click="resizeFilterSideNav(\'expand\')"><md-tooltip class="" md-direction="top">Expand area</md-tooltip><ng-md-icon icon="chevron_left"></ng-md-icon></md-button></div><div layout="row" class="filters-control-btn s-f-expanded-btns"><md-button class="md-raised" data-ng-click="selectAll()">Select all</md-button><md-button class="md-raised" data-ng-click="deselectAll()">Deselect all</md-button></div><div class="s-f-collpased-btns" layout="column"><md-button class="md-raised to-small-btn" data-ng-click="selectAll()"><ng-md-icon icon="select_all"></ng-md-icon><md-tooltip class="" md-direction="top">Select all</md-tooltip></md-button><md-button class="md-raised to-small-btn" data-ng-click="deselectAll()"><ng-md-icon icon="highlight_off"></ng-md-icon><md-tooltip class="" md-direction="top">Deselect all</md-tooltip></md-button></div><div layout="row" class="filters-control-btn s-f-expanded-btns"><md-button class="md-raised clear-all full-width" data-ng-click="clearAll()">Clear all</md-button></div><div dragula="\'filters-bag\'" dragula-model="filters" class="filters-holder"><md-card data-ng-repeat="filter in filters" class="{{filter.options.enabled ? \'\' : \'f-disabled\' }} g-filter-item" layout="row"><md-tooltip data-ng-if="sideNavCollapsed" class="" md-direction="top">{{filter.name}}<span data-ng-if="!getFilterType(filter[\'value_type\'])">: {{filter.options.query}}</span></md-tooltip><md-checkbox ng-model="filter.options.enabled" aria-label="filters" class="md-primary" ng-change="toggleFilterState(filter)" flex="15"></md-checkbox><md-input-container flex="65"><label data-ng-bind="filter.name"></label><div data-ng-if="getFilterType(filter[\'value_type\'])"><!-- {{fields}} --><div data-ng-if="fields[filter.key]"><md-select data-ng-model="filter.options.query" md-on-close="searchTerm = \'\'" data-ng-change="filterChange(filter)" multiple="{{fields[\'value_type\'] == \'mc_field\' ? \'true\' : \'false\'}}"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields[filter.key] | orderBy:\'-\'+field.name | filter:{ name:searchTerm} track by $index" value="{{field.id}}">{{field.name}}</md-option></md-select></div><div data-ng-if="!fields[filter.key]"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div><!-- <div data-ng-if="filter[\'value_type\'] !== \'field\'"> --><div data-ng-if="!getFilterType(filter[\'value_type\'])"><input data-ng-model="filter.options.query" data-ng-change="filterChange(filter)" data-ng-model-options="{debounce: 1000}"></div></md-input-container><div class="settings-btn" flex="20"><md-menu data-ng-if="options.isRootEntityViewer"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openFilterSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeFilter(filter)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="!options.isRootEntityViewer"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openFilterSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeFilter(filter)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item><md-menu-item><md-button ng-click="useFromAbove(filter)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="filter.options.useFromAbove"></ng-md-icon><ng-md-icon icon="done" style="visibility: hidden" data-ng-show="!filter.options.useFromAbove"></ng-md-icon><span>Use from above</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-filter">Drop new Filter</div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/directives/groupTable/table-body-view.html",'<!--<div class="g-table-body-component" data-group-vertical-scroll>--><div class="g-table-body-component custom-scrollbar" data-custom-scroll data-scroll-sticky="true"><div data-ng-if="!checkReady()"><div layout="row" layout-sm="column"><md-progress-linear md-mode="indeterminate"></md-progress-linear></div></div><!--<div data-ng-show="checkReady()" ng-cloak style="padding-bottom: 75px">--><div data-ng-show="checkReady()" ng-cloak><div><div data-ng-if="options.grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-if="!options.isReport" data-ng-repeat="item in items"><div class="g-group-holder {{ checkRowSelection(item) ? \'selected-row\' : \'\' }}"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><md-card class="group-row-fold-holder"><div><md-button class="" aria-label="hide/show grouping" data-ng-show="item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="add"></ng-md-icon></md-button><md-button class="" aria-label="hide/show grouping" data-ng-show="!item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></md-card><div data-ng-repeat="group in item.groups track by $index" class="g-group"><span data-ng-bind="bindGroupValue(group)"></span></div></div><div data-ng-repeat="groupedItem in item.items" contextmenu-item="groupedItem" data-ng-show="!item.isFolded" data-ng-right-click="$mdOpenMenu($event)" class="{{ checkRowSelection(groupedItem) ? \'selected-row\' : \'\'}} g-row" data-ng-click="rowCallback(groupedItem, $event)"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, groupedItem)"><ng-md-icon icon="done" data-ng-show="groupedItem.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns"><div class="g-cell {{getAlign(column)}}"><span title="{{bindCellTitle(groupedItem, column)}}" data-ng-bind-html="bindCell(groupedItem, column) | trustAsHtml"></span></div></div></div></div><div data-ng-if="options.isReport" class="report-holder"><!-- preInit.initGroup start --><group-bind-report-row data-ng-repeat="item in reportItemsProjection() track by $index" item="item"></group-bind-report-row><!-- !preInit.initGroup end--></div></div><div data-ng-if="!options.grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-repeat="item in items" class="{{ checkRowSelection(item) ? \'selected-row\' : \'\'}} g-row" contextmenu-item="item" data-ng-click="rowCallback(item, $event)"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns"><div class="g-cell {{getAlign(column)}}"><span title="{{bindCellTitle(item, column)}}" data-ng-bind-html="bindCell(item, column) | trustAsHtml"></span></div></div></div></div></div><div class="table-end-row"></div>{{paginationItemsTotal}}<div data-ng-if="!options.isReport" paging class="g-table-body-pagination" page="options.paginationPageCurrent" page-size="options.paginationItemPerPage" total="options.paginationItemsTotal" paging-action="changePage(page)"></div><div data-ng-if="!items.length && options.isReport"><h1 style="margin-top: 64px;text-align: left;margin-bottom: 64px;margin-left: 38vh">Press calculate to build report</h1></div></div></div><div contextmenu="gtbody.contextmenu" class="dropdown contextmenu ng-hide"><md-menu-content width="4"><md-menu-item><md-button ng-click="editEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="mode_edit"></ng-md-icon><span>Edit</span></md-button></md-menu-item><md-menu-item><md-button ng-click="deleteEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="delete"></ng-md-icon><span>Delete</span></md-button></md-menu-item></md-menu-content></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/complex-transaction/book-transaction-actions-tab-view.html",'<div data-ng-controller="BookTransactionActionsTabController as vm"><div data-ng-if="vm.readyStatus.transactionType"><table class="transaction-actions-table"><tbody><tr data-ng-repeat="key in vm.transactionActionsKeys"><td>{{vm.beatufier(key)}}</td><td data-ng-repeat="item in vm.transactionActions[key] track by $index">{{item}}</td></tr></tbody></table></div><div data-ng-if="!vm.readyStatus.transactionType"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/complex-transaction/book-transaction-transactions-tab-view.html",'<div data-ng-controller="BookTransactionTransactionsTabController as vm"><h2>Transactions list</h2><table class="bordered"><thead><tr style="height: 40px"><th>Transaction date</th><th>Class</th><th>Currency</th><th>Instrument</th><th>Portfolio</th><th>Responsible</th><th>Counterparty</th><th>Edit</th></tr></thead><tbody><tr data-ng-repeat="item in vm.transactions" style="height: 40px"><td data-ng-bind="item.transaction_date"></td><td data-ng-bind="item.transaction_class_object.name"></td><td data-ng-bind="item.transaction_currency_object.name"></td><td data-ng-bind="item.instrument_object.user_code"></td><td data-ng-bind="item.portfolio_object.user_code"></td><td data-ng-bind="item.responsible_object.user_code"></td><td data-ng-bind="item.counterparty_object.user_code"></td><td><md-button data-ng-click="vm.editBaseTransaction($event, item.id)" class="md-raised md-primary">Edit</md-button></td></tr></tbody></table></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/transaction-type/transaction-type-actions-tab-view(old-radio).html",'<div data-ng-controller="TransactionTypeActionsTabController as vm"><div class="transaction-type-actions-tab-view"><v-accordion class="vAccordion--default" multiple="multiple"><v-pane data-ng-repeat="item in vm.entity.actions" expanded="item.isPaneExpanded"><v-pane-header inactive class="transaction-type-action-pane"><div layout="row" layout-align="space-between center"><div layout="row"><span data-ng-if="item.isPaneExpanded"><md-input-container><input type="text" data-ng-model="item.action_notes" placeholder="Action notes"></md-input-container></span><span data-ng-if="!item.isPaneExpanded" data-ng-bind="item.action_notes"></span></div><div layout="row"><md-button class="md-raised" ng-disabled="$index == 0" data-ng-click="vm.moveUp(item, $index)">Move up</md-button><md-button class="md-raised" ng-disabled="$index == vm.entity.actions.length - 1" data-ng-click="vm.moveDown(item, $index )">Move Down</md-button><md-button class="md-raised" data-ng-click="vm.toggleItem($pane, item)"><span data-ng-if="item.isPaneExpanded">-</span> <span data-ng-if="!item.isPaneExpanded">+</span></md-button></div></div></v-pane-header><v-pane-content style="padding: 20px"><div data-ng-if="item.transaction != null"><div layout="row"><div flex="50"><div layout="row"><md-input-container><label for="">Transaction class</label><md-select data-ng-model="item.transaction.transaction_class" md-on-open="vm.loadRelation(\'transaction_class\')"><md-option data-ng-repeat="relationItem in vm.relationItems[\'transaction_class\']" ng-value="relationItem.value">{{relationItem.name}}</md-option></md-select></md-input-container></div><div layout="row"><div flex="33"><div layout="column"><md-switch ng-model="item.transaction.instrument_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'instrument\')"><span data-ng-if="!!item.transaction.instrument_toggle">Reference</span> <span data-ng-if="!!!item.transaction.instrument_toggle">Input</span></md-switch><div data-ng-if="item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction.instrument" md-on-open="vm.loadRelation(\'instrument\')"><md-option data-ng-if="!vm.relationItems[\'instrument\'].length" ng-value="item.transaction.instrument_object.id">{{item.transaction.instrument_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction[vm.resolveInstrumentProp(item)]"><md-optgroup label="Inputs"><md-option data-ng-click="vm.setTransactionInstrumentInput(item, inputItem.name)" data-ng-repeat="inputItem in vm.findInputs(\'instrument\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-optgroup><md-optgroup label="Phantoms"><md-option data-ng-click="vm.setTransactionInstrumentPhantom(item, phantomItem.positionOrder)" data-ng-repeat="phantomItem in vm.findPhantoms()" ng-value="phantomItem.positionOrder">{{phantomItem.action_notes}}</md-option></md-optgroup></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">Position size with sign</label><input type="text" data-ng-model="item.position_size_with_sign"></md-input-container></div><div flex="33"><md-switch ng-model="item.transaction.transaction_currency_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'transaction_currency\')"><span data-ng-if="!!item.transaction.transaction_currency_toggle">Reference</span> <span data-ng-if="!!!item.transaction.transaction_currency_toggle">Input</span></md-switch><div data-ng-if="item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency" md-on-open="vm.loadRelation(\'transaction_currency\')"><md-option data-ng-if="!vm.relationItems[\'transaction_currency\'].length" ng-value="item.transaction.transaction_currency_object.id">{{item.transaction.transaction_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'transaction_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'transaction_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Principal with sign</label><input type="text" data-ng-model="item.transaction.principal_with_sign"></md-input-container></div><div flex="33"><md-input-container><label for="">Carry with sign</label><input type="text" data-ng-model="item.transaction.carry_with_sign"></md-input-container></div><div flex="33"><md-input-container><label for="">Overheads with sign</label><input type="text" data-ng-model="item.transaction.overheads_with_sign"></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Accounting date</label><input type="text" data-ng-model="item.transaction.accounting_date"></md-input-container></div><div flex="33"><md-switch ng-model="item.transaction.account_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'account_position\')"><span data-ng-if="!!item.transaction.account_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.account_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position" md-on-open="vm.loadRelation(\'account_position\')"><md-option data-ng-if="!vm.relationItems[\'account_position\'].length" ng-value="item.transaction.account_position_object.id">{{item.transaction.account_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.strategy1_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy1_position\')"><span data-ng-if="!!item.transaction.strategy1_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy1_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position" md-on-open="vm.loadRelation(\'strategy1_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_position\'].length" ng-value="item.transaction.strategy1_position_object.id">{{item.transaction.strategy1_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy2_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy2_position\')"><span data-ng-if="!!item.transaction.strategy2_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy2_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position" md-on-open="vm.loadRelation(\'strategy2_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_position\'].length" ng-value="item.transaction.strategy2_position_object.id">{{item.transaction.strategy2_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy3_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy3_position\')"><span data-ng-if="!!item.transaction.strategy3_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy3_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position" md-on-open="vm.loadRelation(\'strategy3_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_position\'].length" ng-value="item.transaction.strategy3_position_object.id">{{item.transaction.strategy3_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Trade price</label><input type="text" data-ng-model="item.transaction.trade_price"></md-input-container></div><div flex="33"><md-input-container><label for="">Factor</label><input type="text" data-ng-model="item.transaction.factor"></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div></div><div flex="50"><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.portfolio_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'portfolio\')"><span data-ng-if="!!item.transaction.portfolio_toggle">Reference</span> <span data-ng-if="!!!item.transaction.portfolio_toggle">Input</span></md-switch><div data-ng-if="item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio" md-on-open="vm.loadRelation(\'portfolio\')"><md-option data-ng-if="!vm.relationItems[\'portfolio\'].length" ng-value="item.transaction.portfolio_object.id">{{item.transaction.portfolio_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'portfolio\'].length" data-ng-repeat="relationItem in vm.relationItems[\'portfolio\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'portfolio\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.counterparty_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'counterparty\')"><span data-ng-if="!!item.transaction.counterparty_toggle">Reference</span> <span data-ng-if="!!!item.transaction.counterparty_toggle">Input</span></md-switch><div data-ng-if="item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty" md-on-open="vm.loadRelation(\'counterparty\')"><md-option data-ng-if="!vm.relationItems[\'counterparty\'].length" ng-value="item.transaction.counterparty_object.id">{{item.transaction.counterparty_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'counterparty\'].length" data-ng-repeat="relationItem in vm.relationItems[\'counterparty\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'counterparty\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.responsible_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'responsible\')"><span data-ng-if="!!item.transaction.responsible_toggle">Reference</span> <span data-ng-if="!!!item.transaction.responsible_toggle">Input</span></md-switch><div data-ng-if="item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible" md-on-open="vm.loadRelation(\'responsible\')"><md-option data-ng-if="!vm.relationItems[\'responsible\'].length" ng-value="item.transaction.responsible_object.id">{{item.transaction.responsible_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'responsible\'].length" data-ng-repeat="relationItem in vm.relationItems[\'responsible\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'responsible\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.settlement_currency_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'settlement_currency\')"><span data-ng-if="!!item.transaction.settlement_currency_toggle">Reference</span> <span data-ng-if="!!!item.transaction.settlement_currency_toggle">Input</span></md-switch><div data-ng-if="item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency" md-on-open="vm.loadRelation(\'settlement_currency\')"><md-option data-ng-if="!vm.relationItems[\'settlement_currency\'].length" ng-value="item.transaction.settlement_currency_object.id">{{item.transaction.settlement_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'settlement_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'settlement_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">Cash consideration</label><input type="text" data-ng-model="item.transaction.cash_consideration"></md-input-container></div><div flex="33"><md-input-container><label for="">Reference fx-rate</label></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Cash date</label><input type="text" data-ng-model="item.transaction.cash_date"></md-input-container></div><div flex="33"><md-switch ng-model="item.transaction.account_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'account_cash\')"><span data-ng-if="!!item.transaction.account_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.account_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash" md-on-open="vm.loadRelation(\'account_cash\')"><md-option data-ng-if="!vm.relationItems[\'account_cash\'].length" ng-value="item.transaction.account_cash_object.id">{{item.transaction.account_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.account_interim_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'account_interim\')"><span data-ng-if="!!item.transaction.account_interim_toggle">Reference</span> <span data-ng-if="!!!item.transaction.account_interim_toggle">Input</span></md-switch><div data-ng-if="item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim" md-on-open="vm.loadRelation(\'account_interim\')"><md-option data-ng-if="!vm.relationItems[\'account_interim\'].length" ng-value="item.transaction.account_interim_object.id">{{item.transaction.account_interim_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_interim\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_interim\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.strategy1_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy1_cash\')"><span data-ng-if="!!item.transaction.strategy1_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy1_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash" md-on-open="vm.loadRelation(\'strategy1_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_cash\'].length" ng-value="item.transaction.strategy1_cash_object.id">{{item.transaction.strategy1_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy2_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy2_cash\')"><span data-ng-if="!!item.transaction.strategy2_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy2_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash" md-on-open="vm.loadRelation(\'strategy2_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_cash\'].length" ng-value="item.transaction.strategy2_cash_object.id">{{item.transaction.strategy2_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy3_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy3_cash\')"><span data-ng-if="!!item.transaction.strategy3_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy3_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash" md-on-open="vm.loadRelation(\'strategy3_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_cash\'].length" ng-value="item.transaction.strategy3_cash_object.id">{{item.transaction.strategy3_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Principal amount</label><input type="text" data-ng-model="item.transaction.principal_amount"></md-input-container></div><div flex="33"><md-input-container><label for="">Carry amount</label><input type="text" data-ng-model="item.transaction.carry_amount"></md-input-container></div><div flex="33"><md-input-container><label for="">Overheads</label><input type="text" data-ng-model="item.transaction.overheads"></md-input-container></div></div></div></div></div><div data-ng-if="item.instrument != null"><div layout="row"><div flex="50"><div layout="row"><div flex="33"><md-switch ng-model="item.instrument.instrument_type_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'instrument_type\')"><span data-ng-if="!!item.instrument.instrument_type_toggle">Reference</span> <span data-ng-if="!!!item.instrument.instrument_type_toggle">Input</span></md-switch><div data-ng-if="item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type" md-on-open="vm.loadRelation(\'instrument_type\')"><md-option data-ng-if="!vm.relationItems[\'instrument_type\'].length" ng-value="item.instrument.instrument_type_object.id">{{item.instrument.instrument_type_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument_type\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument_type\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'instrument-type\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">User code</label><input type="text" data-ng-model="item.instrument.user_code"></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Name</label><input type="text" data-ng-model="item.instrument.name"></md-input-container></div><div flex="33"><md-input-container><label for="">Short name</label><input type="text" data-ng-model="item.instrument.short_name"></md-input-container></div><div flex="33"><md-input-container><label for="">Public name</label><input type="text" data-ng-model="item.instrument.public_name"></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">User text1</label><input type="text" data-ng-model="item.instrument.user_text_1"></md-input-container></div><div flex="33"><md-input-container><label for="">User text2</label><input type="text" data-ng-model="item.instrument.user_text_2"></md-input-container></div><div flex="33"><md-input-container><label for="">User text3</label><input type="text" data-ng-model="item.instrument.user_text_3"></md-input-container></div></div><div layout="row"><div flex="100"><md-input-container><label for="">Notes</label><input type="text" data-ng-model="item.instrument.notes"></md-input-container></div></div></div><div flex="50"><div layout="row"><div flex="33"><md-switch ng-model="item.instrument.daily_pricing_model_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'daily_pricing_model\')"><span data-ng-if="!!item.instrument.daily_pricing_model_toggle">Reference</span> <span data-ng-if="!!!item.instrument.daily_pricing_model_toggle">Input</span></md-switch><div data-ng-if="item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model" md-on-open="vm.loadRelation(\'daily_pricing_model\')"><md-option data-ng-if="!vm.relationItems[\'daily_pricing_model\'].length" ng-value="item.instrument.daily_pricing_model_object.id">{{item.instrument.daily_pricing_model_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'daily_pricing_model\'].length" data-ng-repeat="relationItem in vm.relationItems[\'daily_pricing_model\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'daily-pricing-model\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.instrument.price_download_scheme_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'price_download_scheme\')"><span data-ng-if="!!item.instrument.price_download_scheme_toggle">Reference</span> <span data-ng-if="!!!item.instrument.price_download_scheme_toggle">Input</span></md-switch><div data-ng-if="item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme" md-on-open="vm.loadRelation(\'price_download_scheme\')"><md-option data-ng-if="!vm.relationItems[\'price_download_scheme\'].length" ng-value="item.instrument.price_download_scheme_object.id">{{item.instrument.price_download_scheme_object.scheme_name}}</md-option><md-option data-ng-if="vm.relationItems[\'price_download_scheme\'].length" data-ng-repeat="relationItem in vm.relationItems[\'price_download_scheme\']" ng-value="relationItem.id">{{relationItem.scheme_name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'price-download-scheme\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">Reference for pricing</label><input type="text" data-ng-model="item.instrument.reference_for_pricing"></md-input-container></div></div><div layout="row"><div flex="33" layout="row"><!--<md-switch ng-model="item.instrument.pricing_currency_toggle"--><!--aria-label=""--><!--data-ng-click="vm.resetProperty(item, \'instrument\', \'pricing_currency\')">--><!--<span data-ng-if="!!item.instrument.pricing_currency_toggle">Reference</span>--><!--<span data-ng-if="!!!item.instrument.pricing_currency_toggle">Input</span>--><!--</md-switch>--><style type="text/css">.ref {\n                                                background-color: rgb(255,64,129) !important;\n                                                color: #fff !important;\n                                            }</style><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.pricing_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyTest(item, \'instrument\', \'pricing_currency\')"><span data-ng-if="!!item.instrument.pricing_currency_toggle">R</span> <span data-ng-if="!!!item.instrument.pricing_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency" md-on-open="vm.loadRelation(\'pricing_currency\')"><md-option data-ng-if="!vm.relationItems[\'pricing_currency\'].length" ng-value="item.instrument.pricing_currency_object.id">{{item.instrument.pricing_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'pricing_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'pricing_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">Price multiplier</label><input type="text" data-ng-model="item.instrument.price_multiplier"></md-input-container></div><div flex="33"><md-input-container><label for="">Default price</label><input type="text" data-ng-model="item.instrument.default_price"></md-input-container></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.instrument.accrued_currency_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'accrued_currency\')"><span data-ng-if="!!item.instrument.accrued_currency_toggle">Reference</span> <span data-ng-if="!!!item.instrument.accrued_currency_toggle">Input</span></md-switch><div data-ng-if="item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency" md-on-open="vm.loadRelation(\'accrued_currency\')"><md-option data-ng-if="!vm.relationItems[\'accrued_currency\'].length" ng-value="item.instrument.accrued_currency_object.id">{{item.instrument.accrued_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'accrued_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'accrued_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">Accrued multiplier</label><input type="text" data-ng-model="item.instrument.accrued_multiplier"></md-input-container></div><div flex="33"><md-input-container><label for="">Default accrued</label><input type="text" data-ng-model="item.instrument.default_accrued"></md-input-container></div></div><div flex="33"><md-switch ng-model="item.instrument.payment_size_detail_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'payment_size_detail\')"><span data-ng-if="!!item.instrument.payment_size_detail_toggle">Reference</span> <span data-ng-if="!!!item.instrument.payment_size_detail_toggle">Input</span></md-switch><div data-ng-if="item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail" md-on-open="vm.loadRelation(\'payment_size_detail\')"><md-option data-ng-if="!vm.relationItems[\'payment_size_detail\'].length" ng-value="item.instrument.payment_size_detail_object.id">{{item.instrument.payment_size_detail_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'payment_size_detail\'].length" data-ng-repeat="relationItem in vm.relationItems[\'payment_size_detail\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'payment-size-detail\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">Maturity date</label><input type="text" data-ng-model="item.instrument.maturity_date"></md-input-container></div></div></div></div></v-pane-content></v-pane></v-accordion><div layout="row" layout-align="end center"><md-button class="md-raised" data-ng-click="vm.addAction(\'transaction\')">Add new transaction action</md-button><md-button class="md-raised" data-ng-click="vm.addAction(\'instrument\')">Add new instrument action</md-button></div></div></div>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/transaction-type/transaction-type-actions-tab-view.html",'<div data-ng-controller="TransactionTypeActionsTabController as vm"><div class="transaction-type-actions-tab-view"><v-accordion class="vAccordion--default" multiple="multiple" control="accordion"><v-pane data-ng-repeat="item in vm.entity.actions" expanded="item.isPaneExpanded"><v-pane-header inactive class="transaction-type-action-pane"><div layout="row" layout-align="space-between center"><div layout="row"><span data-ng-if="item.isPaneExpanded"><md-input-container><input type="text" data-ng-model="item.action_notes" placeholder="Action notes"></md-input-container></span><span data-ng-if="!item.isPaneExpanded" data-ng-bind="item.action_notes"></span></div><div layout="row"><md-button class="md-raised" style="background: #ffeee8" data-ng-click="vm.deletePane(item, $index, $event)">Delete</md-button><md-button class="md-raised" ng-disabled="$index == 0" data-ng-click="vm.moveUp(item, $index)">Move up</md-button><md-button class="md-raised" ng-disabled="$index == vm.entity.actions.length - 1" data-ng-click="vm.moveDown(item, $index )">Move Down</md-button><md-button class="md-raised" data-ng-click="vm.toggleItem($pane, item)"><span data-ng-if="item.isPaneExpanded">Collapse</span> <span data-ng-if="!item.isPaneExpanded">Expand</span></md-button></div></div></v-pane-header><v-pane-content style="padding: 20px"><div data-ng-if="item.transaction != null"><div layout="row"><div flex="50"><div layout="row"><md-input-container><label for="">Transaction class</label><md-select data-ng-model="item.transaction.transaction_class" md-on-open="vm.loadRelation(\'transaction_class\')"><md-option data-ng-if="!vm.relationItems[\'transaction_class\'].length" ng-value="item.transaction.transaction_class_object.id">{{item.transaction.transaction_class_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'transaction_class\'].length" data-ng-repeat="relationItem in vm.relationItems[\'transaction_class\']" ng-value="relationItem.value">{{relationItem.name}}</md-option></md-select></md-input-container></div><div layout="row"><div flex="33"><div layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.instrument_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'instrument\')"><span data-ng-if="!!item.transaction.instrument_toggle">R</span> <span data-ng-if="!!!item.transaction.instrument_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction.instrument" md-on-open="vm.loadRelation(\'instrument\')"><md-option data-ng-if="!vm.relationItems[\'instrument\'].length" ng-value="item.transaction.instrument_object.id">{{item.transaction.instrument_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction[vm.resolveInstrumentProp(item, \'instrument\')]"><md-optgroup label="Inputs"><md-option data-ng-click="vm.setTransactionInstrumentInput(item, inputItem.name, \'instrument\')" data-ng-repeat="inputItem in vm.findInputs(\'instrument\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-optgroup><md-optgroup label="Phantoms"><md-option data-ng-click="vm.setTransactionInstrumentPhantom(item, phantomItem.positionOrder, \'instrument\')" data-ng-repeat="phantomItem in vm.findPhantoms()" ng-value="phantomItem.positionOrder">{{phantomItem.action_notes}}</md-option></md-optgroup></md-select></md-input-container></div></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Position size with sign</label><input type="text" data-ng-model="item.transaction.position_size_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.position_size_with_sign, {obj: item.transaction, prop: \'position_size_with_sign\'})">...</md-button></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.transaction_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'transaction_currency\')"><span data-ng-if="!!item.transaction.transaction_currency_toggle">R</span> <span data-ng-if="!!!item.transaction.transaction_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency" md-on-open="vm.loadRelation(\'transaction_currency\')"><md-option data-ng-if="!vm.relationItems[\'transaction_currency\'].length" ng-value="item.transaction.transaction_currency_object.id">{{item.transaction.transaction_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'transaction_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'transaction_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33"><div layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.linked_instrument_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'linked_instrument\')"><span data-ng-if="!!item.transaction.linked_instrument_toggle">R</span> <span data-ng-if="!!!item.transaction.linked_instrument_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.linked_instrument_toggle"><md-input-container><label for="">Linked instrument</label><md-select data-ng-model="item.transaction.linked_instrument" md-on-open="vm.loadRelation(\'instrument\')"><md-option data-ng-if="!vm.relationItems[\'instrument\'].length" ng-value="item.transaction.linked_instrument_object.id">{{item.transaction.instrument_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.linked_instrument_toggle"><md-input-container><label for="">Linked instrument</label><md-select data-ng-model="item.transaction[vm.resolveInstrumentProp(item, \'linked_instrument\')]"><md-optgroup label="Inputs"><md-option data-ng-click="vm.setTransactionInstrumentInput(item, inputItem.name, \'linked_instrument\')" data-ng-repeat="inputItem in vm.findInputs(\'instrument\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-optgroup><md-optgroup label="Phantoms"><md-option data-ng-click="vm.setTransactionInstrumentPhantom(item, phantomItem.positionOrder, \'linked_instrument\')" data-ng-repeat="phantomItem in vm.findPhantoms()" ng-value="phantomItem.positionOrder">{{phantomItem.action_notes}}</md-option></md-optgroup></md-select></md-input-container></div></div></div></div><div flex="33"><div layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.allocation_pl_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'allocation_pl\')"><span data-ng-if="!!item.transaction.allocation_pl_toggle">R</span> <span data-ng-if="!!!item.transaction.allocation_pl_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.allocation_pl_toggle"><md-input-container><label for="">Allocation-P&L</label><md-select data-ng-model="item.transaction.allocation_pl" md-on-open="vm.loadRelation(\'instrument\')"><md-option data-ng-if="!vm.relationItems[\'instrument\'].length" ng-value="item.transaction.instrument_object.id">{{item.transaction.instrument_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.allocation_pl_toggle"><md-input-container><label for="">Allocation-P&L</label><md-select data-ng-model="item.transaction[vm.resolveInstrumentProp(item, \'allocation_pl\')]"><md-optgroup label="Inputs"><md-option data-ng-click="vm.setTransactionInstrumentInput(item, inputItem.name, \'allocation_pl\')" data-ng-repeat="inputItem in vm.findInputs(\'instrument\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-optgroup><md-optgroup label="Phantoms"><md-option data-ng-click="vm.setTransactionInstrumentPhantom(item, phantomItem.positionOrder, \'allocation_pl\')" data-ng-repeat="phantomItem in vm.findPhantoms()" ng-value="phantomItem.positionOrder">{{phantomItem.action_notes}}</md-option></md-optgroup></md-select></md-input-container></div></div></div></div><div flex="33"><div layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.allocation_balance_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'allocation_balance\')"><span data-ng-if="!!item.transaction.allocation_balance_toggle">R</span> <span data-ng-if="!!!item.transaction.allocation_balance_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.allocation_balance_toggle"><md-input-container><label for="">Allocation-Balance</label><md-select data-ng-model="item.transaction.allocation_balance" md-on-open="vm.loadRelation(\'instrument\')"><md-option data-ng-if="!vm.relationItems[\'instrument\'].length" ng-value="item.transaction.instrument_object.id">{{item.transaction.instrument_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.allocation_balance_toggle"><md-input-container><label for="">Allocation-Balance</label><md-select data-ng-model="item.transaction[vm.resolveInstrumentProp(item, \'allocation_balance\')]"><md-optgroup label="Inputs"><md-option data-ng-click="vm.setTransactionInstrumentInput(item, inputItem.name, \'allocation_balance\')" data-ng-repeat="inputItem in vm.findInputs(\'instrument\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-optgroup><md-optgroup label="Phantoms"><md-option data-ng-click="vm.setTransactionInstrumentPhantom(item, phantomItem.positionOrder, \'allocation_balance\')" data-ng-repeat="phantomItem in vm.findPhantoms()" ng-value="phantomItem.positionOrder">{{phantomItem.action_notes}}</md-option></md-optgroup></md-select></md-input-container></div></div></div></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Trade price</label><input type="text" data-ng-model="item.transaction.trade_price"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.trade_price, {obj: item.transaction, prop: \'trade_price\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Factor</label><input type="text" data-ng-model="item.transaction.factor"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.factor, {obj: item.transaction, prop: \'factor\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Position amount</label><input type="text" data-ng-model="item.transaction.position_amount"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.position_amount, {obj: item.transaction, prop: \'position_amount\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Accounting date</label><input type="text" style="color: grey" data-ng-model="item.transaction.accounting_date"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.accounting_date, {obj: item.transaction, prop: \'accounting_date\'})">...</md-button></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.account_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'account_position\')"><span data-ng-if="!!item.transaction.account_position_toggle">R</span> <span data-ng-if="!!!item.transaction.account_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position" md-on-open="vm.loadRelation(\'account_position\')"><md-option data-ng-if="!vm.relationItems[\'account_position\'].length" ng-value="item.transaction.account_position_object.id">{{item.transaction.account_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy1_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy1_position\')"><span data-ng-if="!!item.transaction.strategy1_position_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy1_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position" md-on-open="vm.loadRelation(\'strategy1_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_position\'].length" ng-value="item.transaction.strategy1_position_object.id">{{item.transaction.strategy1_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy2_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy2_position\')"><span data-ng-if="!!item.transaction.strategy2_position_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy2_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position" md-on-open="vm.loadRelation(\'strategy2_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_position\'].length" ng-value="item.transaction.strategy2_position_object.id">{{item.transaction.strategy2_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy3_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy3_position\')"><span data-ng-if="!!item.transaction.strategy3_position_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy3_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position" md-on-open="vm.loadRelation(\'strategy3_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_position\'].length" ng-value="item.transaction.strategy3_position_object.id">{{item.transaction.strategy3_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="100"><md-input-container class="expression-input-container"><label for="">Notes</label><input type="text" data-ng-model="item.instrument.notes"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.notes, {obj: item.instrument, prop: \'notes\'})">...</md-button></div></div></div><div flex="50"><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.portfolio_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'portfolio\')"><span data-ng-if="!!item.transaction.portfolio_toggle">R</span> <span data-ng-if="!!!item.transaction.portfolio_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio" md-on-open="vm.loadRelation(\'portfolio\')"><md-option data-ng-if="!vm.relationItems[\'portfolio\'].length" ng-value="item.transaction.portfolio_object.id">{{item.transaction.portfolio_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'portfolio\'].length" data-ng-repeat="relationItem in vm.relationItems[\'portfolio\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'portfolio\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.counterparty_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'counterparty\')"><span data-ng-if="!!item.transaction.counterparty_toggle">R</span> <span data-ng-if="!!!item.transaction.counterparty_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty" md-on-open="vm.loadRelation(\'counterparty\')"><md-option data-ng-if="!vm.relationItems[\'counterparty\'].length" ng-value="item.transaction.counterparty_object.id">{{item.transaction.counterparty_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'counterparty\'].length" data-ng-repeat="relationItem in vm.relationItems[\'counterparty\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'counterparty\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.responsible_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'responsible\')"><span data-ng-if="!!item.transaction.responsible_toggle">R</span> <span data-ng-if="!!!item.transaction.responsible_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible" md-on-open="vm.loadRelation(\'responsible\')"><md-option data-ng-if="!vm.relationItems[\'responsible\'].length" ng-value="item.transaction.responsible_object.id">{{item.transaction.responsible_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'responsible\'].length" data-ng-repeat="relationItem in vm.relationItems[\'responsible\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'responsible\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.settlement_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'settlement_currency\')"><span data-ng-if="!!item.transaction.settlement_currency_toggle">R</span> <span data-ng-if="!!!item.transaction.settlement_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency" md-on-open="vm.loadRelation(\'settlement_currency\')"><md-option data-ng-if="!vm.relationItems[\'settlement_currency\'].length" ng-value="item.transaction.settlement_currency_object.id">{{item.transaction.settlement_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'settlement_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'settlement_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Cash consideration</label><input type="text" data-ng-model="item.transaction.cash_consideration"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.cash_consideration, {obj: item.transaction, prop: \'cash_consideration\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Reference fx-rate</label><input type="text" data-ng-model="item.transaction.reference_fx_rate"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.reference_fx_rate, {obj: item.transaction, prop: \'reference_fx_rate\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Principal with sign</label><input type="text" data-ng-model="item.transaction.principal_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.principal_with_sign, {obj: item.transaction, prop: \'principal_with_sign\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Carry with sign</label><input type="text" data-ng-model="item.transaction.carry_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.carry_with_sign, {obj: item.transaction, prop: \'carry_with_sign\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Overheads with sign</label><input type="text" data-ng-model="item.transaction.overheads_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.overheads_with_sign, {obj: item.transaction, prop: \'overheads_with_sign\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Principal amount</label><input type="text" data-ng-model="item.transaction.principal_amount"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.principal_amount, {obj: item.transaction, prop: \'principal_amount\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Carry amount</label><input type="text" data-ng-model="item.transaction.carry_amount"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.carry_amount, {obj: item.transaction, prop: \'carry_amount\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Overheads</label><input type="text" data-ng-model="item.transaction.overheads"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.overheads, {obj: item.transaction, prop: \'overheads\'})">...</md-button></div></div><div layout="row"><div flex="33" layout="row"><md-input-container class="expression-input-container"><label for="">Cash date</label><input type="text" style="color: grey" data-ng-model="item.transaction.cash_date"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.cash_date, {obj: item.transaction, prop: \'cash_date\'})">...</md-button></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.account_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'account_cash\')"><span data-ng-if="!!item.transaction.account_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.account_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash" md-on-open="vm.loadRelation(\'account_cash\')"><md-option data-ng-if="!vm.relationItems[\'account_cash\'].length" ng-value="item.transaction.account_cash_object.id">{{item.transaction.account_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.account_interim_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'account_interim\')"><span data-ng-if="!!item.transaction.account_interim_toggle">R</span> <span data-ng-if="!!!item.transaction.account_interim_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim" md-on-open="vm.loadRelation(\'account_interim\')"><md-option data-ng-if="!vm.relationItems[\'account_interim\'].length" ng-value="item.transaction.account_interim_object.id">{{item.transaction.account_interim_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_interim\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_interim\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy1_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy1_cash\')"><span data-ng-if="!!item.transaction.strategy1_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy1_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash" md-on-open="vm.loadRelation(\'strategy1_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_cash\'].length" ng-value="item.transaction.strategy1_cash_object.id">{{item.transaction.strategy1_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy2_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy2_cash\')"><span data-ng-if="!!item.transaction.strategy2_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy2_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash" md-on-open="vm.loadRelation(\'strategy2_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_cash\'].length" ng-value="item.transaction.strategy2_cash_object.id">{{item.transaction.strategy2_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy3_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy3_cash\')"><span data-ng-if="!!item.transaction.strategy3_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy3_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash" md-on-open="vm.loadRelation(\'strategy3_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_cash\'].length" ng-value="item.transaction.strategy3_cash_object.id">{{item.transaction.strategy3_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div></div></div></div><div data-ng-if="item.instrument != null"><div layout="row"><div flex="50"><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.instrument_type_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'instrument_type\')"><span data-ng-if="!!item.instrument.instrument_type_toggle">R</span> <span data-ng-if="!!!item.instrument.instrument_type_toggle">I</span></md-button></div><div flex="80"><div><div data-ng-if="item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type" md-on-open="vm.loadRelation(\'instrument_type\')"><md-option data-ng-if="!vm.relationItems[\'instrument_type\'].length" ng-value="item.instrument.instrument_type_object.id">{{item.instrument.instrument_type_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument_type\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument_type\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'instrument-type\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">User code</label><input type="text" data-ng-model="item.instrument.user_code"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_code, {obj: item.instrument, prop: \'user_code\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Name</label><input type="text" data-ng-model="item.instrument.name"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.name, {obj: item.instrument, prop: \'name\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Short name</label><input type="text" data-ng-model="item.instrument.short_name"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.short_name, {obj: item.instrument, prop: \'short_name\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Public name</label><input type="text" data-ng-model="item.instrument.public_name"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.public_name, {obj: item.instrument, prop: \'public_name\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">User text1</label><input type="text" data-ng-model="item.instrument.user_text_1"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_text_1, {obj: item.instrument, prop: \'user_text_1\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">User text2</label><input type="text" data-ng-model="item.instrument.user_text_2"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_text_2, {obj: item.instrument, prop: \'user_text_2\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">User text3</label><input type="text" data-ng-model="item.instrument.user_text_3"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_text_3, {obj: item.instrument, prop: \'user_text_3\'})">...</md-button></div></div><div layout="row"><div flex="100"><md-input-container class="expression-input-container"><label for="">Notes</label><input type="text" data-ng-model="item.instrument.notes"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.notes, {obj: item.instrument, prop: \'notes\'})">...</md-button></div></div></div><div flex="50"><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.daily_pricing_model_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'daily_pricing_model\')"><span data-ng-if="!!item.instrument.daily_pricing_model_toggle">R</span> <span data-ng-if="!!!item.instrument.daily_pricing_model_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model" md-on-open="vm.loadRelation(\'daily_pricing_model\')"><md-option data-ng-if="!vm.relationItems[\'daily_pricing_model\'].length" ng-value="item.instrument.daily_pricing_model_object.id">{{item.instrument.daily_pricing_model_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'daily_pricing_model\'].length" data-ng-repeat="relationItem in vm.relationItems[\'daily_pricing_model\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'daily-pricing-model\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.price_download_scheme_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'price_download_scheme\')"><span data-ng-if="!!item.instrument.price_download_scheme_toggle">R</span> <span data-ng-if="!!!item.instrument.price_download_scheme_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme" md-on-open="vm.loadRelation(\'price_download_scheme\')"><md-option data-ng-if="!vm.relationItems[\'price_download_scheme\'].length" ng-value="item.instrument.price_download_scheme_object.id">{{item.instrument.price_download_scheme_object.scheme_name}}</md-option><md-option data-ng-if="vm.relationItems[\'price_download_scheme\'].length" data-ng-repeat="relationItem in vm.relationItems[\'price_download_scheme\']" ng-value="relationItem.id">{{relationItem.scheme_name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'price-download-scheme\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Reference for pricing</label><input type="text" data-ng-model="item.instrument.reference_for_pricing"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.reference_for_pricing, {obj: item.instrument, prop: \'reference_for_pricing\'})">...</md-button></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.pricing_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'pricing_currency\')"><span data-ng-if="!!item.instrument.pricing_currency_toggle">R</span> <span data-ng-if="!!!item.instrument.pricing_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency" md-on-open="vm.loadRelation(\'pricing_currency\')"><md-option data-ng-if="!vm.relationItems[\'pricing_currency\'].length" ng-value="item.instrument.pricing_currency_object.id">{{item.instrument.pricing_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'pricing_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'pricing_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Price multiplier</label><input type="text" data-ng-model="item.instrument.price_multiplier"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.price_multiplier, {obj: item.instrument, prop: \'price_multiplier\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Default price</label><input type="text" data-ng-model="item.instrument.default_price"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.default_price, {obj: item.instrument, prop: \'default_price\'})">...</md-button></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.accrued_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'accrued_currency\')"><span data-ng-if="!!item.instrument.accrued_currency_toggle">R</span> <span data-ng-if="!!!item.instrument.accrued_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency" md-on-open="vm.loadRelation(\'accrued_currency\')"><md-option data-ng-if="!vm.relationItems[\'accrued_currency\'].length" ng-value="item.instrument.accrued_currency_object.id">{{item.instrument.accrued_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'accrued_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'accrued_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Accrued multiplier</label><input type="text" data-ng-model="item.instrument.accrued_multiplier"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.accrued_multiplier, {obj: item.instrument, prop: \'accrued_multiplier\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Default accrued</label><input type="text" data-ng-model="item.instrument.default_accrued"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.default_accrued, {obj: item.instrument, prop: \'default_accrued\'})">...</md-button></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.payment_size_detail_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'payment_size_detail\')"><span data-ng-if="!!item.instrument.payment_size_detail_toggle">R</span> <span data-ng-if="!!!item.instrument.payment_size_detail_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail" md-on-open="vm.loadRelation(\'payment_size_detail\')"><md-option data-ng-if="!vm.relationItems[\'payment_size_detail\'].length" ng-value="item.instrument.payment_size_detail_object.id">{{item.instrument.payment_size_detail_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'payment_size_detail\'].length" data-ng-repeat="relationItem in vm.relationItems[\'payment_size_detail\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'payment-size-detail\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Maturity date</label><input type="text" style="color: grey" data-ng-model="item.instrument.maturity_date"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.maturity_date, {obj: item.instrument, prop: \'maturity_date\'})">...</md-button></div></div></div></div></div></v-pane-content></v-pane></v-accordion><div layout="row" layout-align="end center"><md-button class="md-raised" data-ng-click="vm.addAction(\'transaction\')">Add new transaction action</md-button><md-button class="md-raised" data-ng-click="vm.addAction(\'instrument\')">Add new instrument action</md-button></div></div></div>');
}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/transaction-type/transaction-type-general-tab-view.html",'<div data-ng-controller="TransactionTypeGeneralTabController as vm"><div data-ng-if="vm.checkReadyStatus()"><div layout="row"><md-input-container><label for="">User code</label><input type="text" data-ng-model="vm.entity.user_code"></md-input-container><!--<md-input-container>--><!--<label for="">Group</label>--><!--<ui-select tagging="vm.tagTransform" ng-model="vm.entity.group" theme="bootstrap"--><!--sortable="true" close-on-select="false">--><!--<ui-select-match placeholder="Group">{{$item.name}}</ui-select-match>--><!--<ui-select-choices--><!--repeat="item in vm.transactionTypeGroups | propsFilter: {name: $select.search}">--><!--<div ng-bind-html="item.name | highlight: $select.search"></div>--><!--</ui-select-choices>--><!--</ui-select>--><!--</md-input-container>--><md-input-container><label for="">Group</label><md-select data-ng-model="vm.entity.group"><md-option ng-value="item.id" ng-repeat="item in vm.transactionTypeGroups">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row"><md-input-container><label for="">Name</label><input type="text" data-ng-model="vm.entity.name"></md-input-container></div><div layout="row"><md-input-container><label for="">Notes</label><textarea data-ng-model="vm.entity.notes" cols="30" rows="10"></textarea></md-input-container></div><div layout="row"><md-input-container><md-checkbox data-ng-model="vm.entity.is_valid_for_all_instruments">Valid for all instruments</md-checkbox></md-input-container><md-input-container><md-checkbox data-ng-model="vm.entity.is_valid_for_all_portfolios">Valid for all portfolios</md-checkbox></md-input-container></div><div layout="row" style="margin-bottom: 15px"><md-input-container style="min-width: 200px"><label for="">Instrument types</label><md-select data-ng-model="vm.entity.instrument_types" multiple="multiple" md-selected-text="vm.bindSelectedText(vm.entity.instrument_types, \'Instrument Type\')"><md-option ng-value="item.id" ng-repeat="item in vm.instrumentTypes">{{item.name}}</md-option></md-select></md-input-container><md-input-container style="min-width: 200px"><label for="">Portfolios</label><md-select data-ng-model="vm.entity.portfolios" multiple="multiple" md-selected-text="vm.bindSelectedText(vm.entity.portfolios, \'Portfolio\')"><md-option ng-value="item.id" ng-repeat="item in vm.portfolios">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row"><md-input-container><label for="">Complex transaction date</label><input type="text" data-ng-model="vm.entity.date_expr"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, vm.entity, {key: \'date_expr\'})">...</md-button></div><div layout="row"><md-input-container><label for="">Display expression</label><input type="text" data-ng-model="vm.entity.display_expr"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, vm.entity, {key: \'display_expr\'})">...</md-button></div><div layout="row"><md-input-container><label for="">Tags</label><ui-select multiple="multiple" tagging="vm.tagTransform" ng-model="vm.entity.tags" theme="bootstrap" sortable="true" close-on-select="false"><ui-select-match placeholder="Tags">{{$item.name}}</ui-select-match><ui-select-choices repeat="item in vm.tags | propsFilter: {name: $select.search}"><div ng-bind-html="item.name | highlight: $select.search"></div></ui-select-choices></ui-select></md-input-container><!--<md-input-container>--><!--<label for="">Tags</label>--><!--<md-select data-ng-model="vm.entity.tags" multiple>--><!--<md-option ng-value="item.id" ng-repeat="item in vm.tags">{{item.name}}</md-option>--><!--</md-select>--><!--</md-input-container>--></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/transaction-type/transaction-type-inputs-tab-view.html",'<div data-ng-controller="TransactionTypeInputsTabController as vm"><div class="tt-inputs-tab-view"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'name\')">Name<span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'verbose_name\')">Verbose name<span class="sortorder" data-ng-show="vm.sort === \'verbose_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'value_type_name\')">Value type<span class="sortorder" data-ng-show="vm.sort === \'value_type_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'content_type_name\')">Content type<span class="sortorder" data-ng-show="vm.sort === \'content_type_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th>Default value</th><th>Fill from context</th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.verbose_name"></md-input-container></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.inputs | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.verbose_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="vm.bindValueType(item)" data-ng-if="!item.editStatus"></td><td data-ng-bind="vm.bindContentType(item)" data-ng-if="!item.editStatus"></td><td data-ng-bind="vm.resolveDefaultValue(item)" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus"><span class="bool-table-view" data-ng-if="item.is_fill_from_context"><ng-md-icon icon="check_circle" size="16" style="fill:rgb(0,0,0)"></ng-md-icon></span></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Name</label><input type="text" data-ng-model="item.name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Verbose name</label><input type="text" data-ng-model="item.verbose_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Value type</label><md-select data-ng-model="item.value_type"><md-option data-ng-repeat="item in vm.valueTypes" ng-value="item.value">{{item.display_name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Content type</label><md-select data-ng-model="item.content_type"><md-option data-ng-repeat="item in vm.contentTypes" ng-value="item.key">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container data-ng-if="item.value_type != 100"><label for="">Default value</label><input type="text" data-ng-model="item.value"></md-input-container><md-input-container data-ng-if="item.value_type == 100" style="margin-top: -25px"><label for="">Default value</label><md-select data-ng-model="item[vm.resolveRelation(vm.newItem)]" md-on-open="vm.loadRelation(vm.resolveRelation(item))"><md-option data-ng-repeat="relationItem in vm.relationItems[vm.resolveRelation(item)]" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><md-checkbox data-ng-model="item.is_fill_from_context">Fill from context</md-checkbox></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><input type="text" data-ng-model="vm.newItem.name"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.verbose_name"></md-input-container></td><td style="padding-top: 12px"><md-input-container><md-select data-ng-model="vm.newItem.value_type"><md-option data-ng-repeat="item in vm.valueTypes" ng-value="item.value">{{item.display_name}}</md-option></md-select></md-input-container></td><td style="padding-top: 12px"><md-input-container><md-select data-ng-model="vm.newItem.content_type"><md-option data-ng-repeat="item in vm.contentTypes" ng-value="item.key">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container data-ng-if="vm.newItem.value_type != 100"><input type="text" data-ng-model="vm.newItem.value"></md-input-container><md-input-container data-ng-if="vm.newItem.value_type == 100" style="margin-top: -25px"><md-select data-ng-model="vm.newItem[vm.resolveRelation(vm.newItem)]" md-on-open="vm.loadRelation(vm.resolveRelation(vm.newItem))"><md-option data-ng-repeat="item in vm.relationItems[vm.resolveRelation(vm.newItem)]" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><md-checkbox data-ng-model="vm.newItem.is_fill_from_context"></md-checkbox></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/instrument/accrual-calculation-schedules-view.html",'<div data-ng-controller="AccrualCalculationSchedulesTabController as vm"><div class="" data-ng-if="vm.checkReadyStatus()"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'accrual_start_date\')">Accrual start date<span class="sortorder" data-ng-show="vm.sort === \'accrual_start_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'first_payment_date\')">First payment date<span class="sortorder" data-ng-show="vm.sort === \'first_payment_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'accrual_size\')">Accrual size<span class="sortorder" data-ng-show="vm.sort === \'accrual_size\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'accrual_calculation_model\')">Accrual calculation model<span class="sortorder" data-ng-show="vm.sort === \'accrual_calculation_model\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity\')">Periodicity<span class="sortorder" data-ng-show="vm.sort === \'periodicity\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity_n\')">Periodicity N<span class="sortorder" data-ng-show="vm.sort === \'periodicity_n\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'notes\')">Notes<span class="sortorder" data-ng-show="vm.sort === \'notes\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrual_start_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.first_payment_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrual_size"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.calculation_model_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.periodicity"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.periodicity_n"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notes"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.accrual_calculation_schedules | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-if="!item.editStatus" data-ng-bind="item.accrual_start_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.first_payment_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.accrual_size"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindCalculationModel(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindPeriodicity(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.periodicity_n"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.notes"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Accrual start date</label><zh-date-picker data-ng-model="item.accrual_start_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">First payment date</label><zh-date-picker data-ng-model="item.first_payment_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Accrual size</label><input type="text" data-ng-model="item.accrual_size"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="item.accrual_calculation_model"><md-option data-ng-repeat="model in vm.accrualModels" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity</label><md-select data-ng-model="item.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity N</label><input type="text" data-ng-model="item.periodicity_n"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Notes</label><input type="text" data-ng-model="item.notes"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Accrual start date</label>--><zh-date-picker data-ng-model="vm.newItem.accrual_start_date"></zh-date-picker></md-input-container></td><td><md-input-container><!--<label for="">First payment date</label>--><zh-date-picker data-ng-model="vm.newItem.first_payment_date"></zh-date-picker></md-input-container></td><td><md-input-container><!--<label for="">Accrual size</label>--> <input type="text" data-ng-model="vm.newItem.accrual_size"></md-input-container></td><td><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.accrual_calculation_model"><md-option data-ng-repeat="model in vm.accrualModels" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--><md-select data-ng-model="vm.newItem.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity N</label>--> <input type="text" data-ng-model="vm.newItem.periodicity_n"></md-input-container></td><td><md-input-container><!--<label for="">Notes</label>--> <input type="text" data-ng-model="vm.newItem.notes"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/instrument/events-view.html",'<div data-ng-controller="EventSchedulesTabController as vm"><div class="" data-ng-if="vm.checkReadyStatus()"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'name\')">Name<span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'description\')">Description<span class="sortorder" data-ng-show="vm.sort === \'description\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'effective_date\')">Effective date<span class="sortorder" data-ng-show="vm.sort === \'effective_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'final_date\')">Final date<span class="sortorder" data-ng-show="vm.sort === \'final_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'notification_class_name\')">Notification class<span class="sortorder" data-ng-show="vm.sort === \'notification_class_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'event_class_name\')">Event class<span class="sortorder" data-ng-show="vm.sort === \'event_class_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th>Actions</th><th data-ng-click="vm.setSort(\'notify_in_n_days\')">Notify in N days<span class="sortorder" data-ng-show="vm.sort === \'notify_in_n_days\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity\')">Periodicity<span class="sortorder" data-ng-show="vm.sort === \'periodicity\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity_n\')">Periodicity N<span class="sortorder" data-ng-show="vm.sort === \'periodicity_n\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.description"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.effective_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.final_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notification_class_name"></md-input-container></th><th></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.event_class_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notify_in_n_days"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.periodicity_n"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notes"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.event_schedules | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-if="!item.editStatus" data-ng-bind="item.name"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.description"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.effective_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.final_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindNotificationClass(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindEventClass(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="[item.actions.length]"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.notify_in_n_days"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindPeriodicity(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.periodicity_n"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Name</label><input type="text" data-ng-model="item.name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Description</label><input type="text" data-ng-model="item.description"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Effective date</label><zh-date-picker data-ng-model="item.effective_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Final date</label><zh-date-picker data-ng-model="item.final_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Notification class</label><md-select data-ng-model="item.notification_class" style="max-width: 195px"><md-option data-ng-repeat="model in vm.notificationClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Event class</label><md-select data-ng-model="item.event_class"><md-option data-ng-repeat="model in vm.eventClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" style="padding-top: 12px"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="item.actions" md-container-class="h-instrument-select" data-instrument-event-action-resolver md-selected-text="{{[item.actions.length]}}"><md-option data-ng-repeat="field in fields track by field.id" ng-value="field.id">{{field.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><!--<label for="">Notify in N days</label>--> <input type="text" data-ng-model="item.notify_in_n_days"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity</label><md-select data-ng-model="item.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity N</label><input type="text" data-ng-model="item.periodicity_n"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.name"></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.description"></md-input-container></td><td><md-input-container><!--<label for="">Effective date</label>--><zh-date-picker data-ng-model="vm.newItem.effective_date"></zh-date-picker></md-input-container></td><td><md-input-container><!--<label for="">Final date</label>--><zh-date-picker data-ng-model="vm.newItem.final_date"></zh-date-picker></md-input-container></td><td style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.notification_class" style="max-width: 195px"><md-option data-ng-repeat="model in vm.notificationClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.event_class"><md-option data-ng-repeat="model in vm.eventClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td style="padding-top: 12px"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="item.actions" md-container-class="h-instrument-select" data-instrument-event-action-resolver md-selected-text="{{[vm.newItem.actions.length]}}"><md-option data-ng-repeat="field in fields track by field.id" ng-value="field.id">{{field.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.notify_in_n_days"></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--><md-select data-ng-model="vm.newItem.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity N</label>--> <input type="text" data-ng-model="vm.newItem.periodicity_n"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/instrument/factor-schedule-view.html",'<div data-ng-controller="FactorScheduleTabController as vm"><div class="factor-schedule-tab-view"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'factor_value\')">Value<span class="sortorder" data-ng-show="vm.sort === \'factor_value\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'effective_date\')">Date<span class="sortorder" data-ng-show="vm.sort === \'effective_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.factor_value"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.effective_date"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.factor_schedules | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.factor_value" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.effective_date" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Value</label><input type="text" data-ng-model="item.factor_value"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="item.effective_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.value"></md-input-container></td><td><md-input-container><!--<label for="">Date</label>--><zh-date-picker data-ng-model="vm.newItem.date"></zh-date-picker></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div></div>')}])}(),function(e){try{e=angular.module("portal")}catch(t){e=angular.module("portal",[])}e.run(["$templateCache",function(e){e.put("views/tabs/instrument/manual-pricing-formulas-view.html",'<div data-ng-controller="ManualPricingFormulasTabController as vm"><div><div data-ng-if="vm.readyStatus.content"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'policy_name\')">Pricing policy<span class="sortorder" data-ng-show="vm.sort === \'policy_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'expr\')">Expression<span class="sortorder" data-ng-show="vm.sort === \'expr\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'notes\')">Notes<span class="sortorder" data-ng-show="vm.sort === \'notes\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.policy_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.expr"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notes"></md-input-container></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.manual_pricing_formulas | filter:vm.query"><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindPricingPolicy(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.expr"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.notes"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Pricing policy</label><md-select data-ng-model="item.pricing_policy"><md-option data-ng-repeat="policy in vm.policies" ng-value="policy.id">{{policy.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expr"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Notes</label><input type="text" data-ng-model="item.notes"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Pricing policy</label>--><md-select data-ng-model="vm.newItem.pricing_policy"><md-option data-ng-repeat="policy in vm.policies" ng-value="policy.id">{{policy.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Expression</label>--> <input type="text" data-ng-model="vm.newItem.expr"></md-input-container></td><td><md-input-container><!--<label for="">Notes</label>--> <input type="text" data-ng-model="vm.newItem.notes"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div></div>');
}])}()},{}]},{},[350]);