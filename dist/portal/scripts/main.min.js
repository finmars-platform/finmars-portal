!function t(e,n,i){function o(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[a]={exports:{}};e[a][0].call(u.exports,function(t){var n=e[a][1][t];return o(n?n:t)},u,u.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/attributeTypeService"),o=t("../services/entityResolverService"),r=t("../services/uiService"),a=t("../services/gridHelperService"),s=t("../services/metaService"),l=t("../services/layoutService");e.exports=function(t,e){n.controller("AdditionsEditorEntityEditController","initialized");var c=this;c.readyStatus={content:!1},c.entityType=t.$parent.entityType,t.$parent.$watch("itemId",function(e){console.log("what1"),e&&(c.readyStatus.content=!1,o.getByKey(c.entityType,e).then(function(e){c.readyStatus.content=!0,c.entity=e,console.log("vm.entity",c.entity),t.$apply()}))}),r.getEditLayout(c.entityType).then(function(e){c.tabs=e.results[0].data,n.collection("vm.tabs",c.tabs),t.$apply()}),c.attrs=[],c.baseAttrs=[],c.entityAttrs=[],c.layoutAttrs=l.getLayoutAttrs(),i.getList(c.entityType).then(function(e){c.attrs=e.results,c.readyStatus.content=!0,t.$apply()}),c.baseAttrs=s.getBaseAttrs(),c.entityAttrs=s.getEntityAttrs(c.entityType),c.layoutAttrs=l.getLayoutAttrs();var u;c.range=a.range,c.bindFlex=function(t,e,n){var i,o=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(o+=t.layout.fields[i].colspan);var r=100/t.layout.columns;return Math.floor(n.colspan*r)},c.bindField=function(t,e){var n,i,o;if("field"===e.type)if(e.hasOwnProperty("id")&&null!==e.id){for(n=0;n<c.attrs.length;n+=1)if(e.id===c.attrs[n].id)return c.attrs[n].options=e.options,c.attrs[n]}else{for(n=0;n<c.baseAttrs.length;n+=1)if(e.name===c.baseAttrs[n].name)return c.baseAttrs[n].options=e.options,c.baseAttrs[n];for(o=0;o<c.entityAttrs.length;o+=1)if(e.name===c.entityAttrs[o].name)return c.entityAttrs[o].options=e.options,c.entityAttrs[o];for(i=0;i<c.layoutAttrs.length;i+=1)if(e.name===c.layoutAttrs[i].name)return c.layoutAttrs[i].options=e.options,c.layoutAttrs[i]}},c.checkFieldRender=function(t,e,n){if(n.row===e){if("field"===n.type)return!0;var i,o,r,a=[];for(i=0;i<t.layout.fields.length;i+=1)if(t.layout.fields[i].row===e&&"field"===t.layout.fields[i].type)for(o=t.layout.fields[i].column;o<=t.layout.fields[i].column+t.layout.fields[i].colspan-1;o+=1)a.push(o);for(r=0;r<a.length;r+=1)if(a[r]===n.column)return!1;return!0}return!1},c.openMenu=function(t,e){u=e,t(e)},c.editLayout=function(){e.go("app.data-constructor",{entityType:c.entityType})},c.save=function(){function t(t,e,n){return console.log(t,e,n),10===e.value_type&&(t.value_string=n),t}function e(t,e){var n={attribute_name:t.name,attribute_type:t.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===t.value_type&&(n.value_string=e),n}function n(){var t;for(t=0;t<c.entityAttrs.length;t+=1)if(40===c.entityAttrs[t].value_type&&(c.entity[c.entityAttrs[t].key]=moment(new Date(c.entity[c.entityAttrs[t].key])).format("YYYY-MM-DD")),20===c.entityAttrs[t].value_type||"float"===c.entityAttrs[t].value_type){var e,n=(c.entity[c.entityAttrs[t].key]+"").replace(" ","");e=-1!==n.indexOf(",")?n.replace(",","."):n,c.entity[c.entityAttrs[t].key]=parseFloat(e)}}var i,r,a,s,l=Object.keys(c.entity);for(i=0;i<c.attrs.length;i+=1)for(r=0;r<l.length;r+=1)if(c.attrs[i].name===l[r]){for(s=!1,a=0;a<c.entity.attributes.length;a+=1)c.entity.attributes[a].attribute_type===c.attrs[i].id&&(s=!0,c.entity.attributes[a]=t(c.entity.attributes[a],c.attrs[i],c.entity[l[r]]));s||c.entity.attributes.push(e(c.attrs[i],c.entity[l[r]]))}n(),o.update(c.entityType,c.entity.id,c.entity).then(function(t){console.log("saved!",t)})}}}()},{"../services/attributeTypeService":72,"../services/entityResolverService":80,"../services/gridHelperService":83,"../services/layoutService":91,"../services/logService":92,"../services/metaService":93,"../services/uiService":99}],2:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/metaService");e.exports=function(t,e){n.controller("AttributesAddDialogManagerController","initialized");var o=this;o.attribute={name:"",value_type:""},o.editRestriction=!1,console.log("vm.attribute",o.attribute),o.valueTypes=i.getValueTypes().filter(function(t){return 30!==t.value&&"decoration"!==t.value}),o.valueTypes=o.valueTypes.map(function(t){switch(t.display_name){case"Number":t.caption_name="Integer";break;case"Float":t.caption_name="Number with decimals";break;case"Field":t.caption_name="Classification";break;default:t.caption_name=t.display_name}return t}),o.agree=function(){console.log("vm.attr",o.attribute),e.hide({status:"agree",data:{attribute:o.attribute}})},o.cancel=function(){e.cancel()}}}()},{"../services/logService":92,"../services/metaService":93}],3:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/attributeTypeService"),o=t("../services/metaService");e.exports=function(t,e,r,a){n.controller("AttributesManagerController","initialized");var s=this,l=o.getValueTypes();s.attrs=[],s.entityType=r.entityType;var c=function(){i.getList(s.entityType).then(function(e){s.attrs=e.results,t.$apply()})};c(),s.addAttribute=function(t){a.show({controller:"AttributesManagerAddDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.create(s.entityType,t.data.attribute).then(c))})},s.bindType=function(t){var e;for(e=0;e<l.length;e+=1)if(t.value_type===l[e].value)return l[e].display_name},s.editAttr=function(t,e){a.show({controller:"AttributesManagerEditDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{attribute:t}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.update(s.entityType,t.data.attribute.id,t.data.attribute).then(c))})},s.deleteAttr=function(t,e){var n="Are you sure to delete attribute "+t.name+" ?";a.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:n}}}).then(function(e){"agree"===e.status&&(i.deleteByKey(s.entityType,t.id),c())})}}}()},{"../services/attributeTypeService":72,"../services/logService":92,"../services/metaService":93}],4:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/metaService");e.exports=function(t,e,o){n.controller("AttributesAddDialogManagerController","initialized");var r=this;r.attribute=JSON.parse(JSON.stringify(o)),r.editRestriction=!0,console.log("vm.attribute",r.attribute),r.valueTypes=i.getValueTypes().filter(function(t){return 30!==t.value&&"decoration"!==t.value}),r.valueTypes=r.valueTypes.map(function(t){switch(t.display_name){case"Number":t.caption_name="Integer";break;case"Float":t.caption_name="Number with decimals";break;case"Field":t.caption_name="Classification";break;default:t.caption_name=t.display_name}return t}),r.agree=function(){console.log("vm.attr",r.attribute),e.hide({status:"agree",data:{attribute:r.attribute}})},r.cancel=function(){e.cancel()}}}()},{"../services/logService":92,"../services/metaService":93}],5:[function(t,e,n){!function(){"use strict";var n=t("../services/logService");e.exports=function(t){n.controller("DashboardController","initialized")}}()},{"../services/logService":92}],6:[function(t,e,n){!function(){"use strict";var n=t("../../services/accountService");e.exports=function(t){console.log('{"controller": "DataAccountController", status: "initialized"}');var e=this;e.entityType="account",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,console.log("vm.entityRaw",e.entityRaw),t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/accountService":71}],7:[function(t,e,n){!function(){"use strict";var n=t("../../services/counterpartyService");e.exports=function(t){console.log('{"controller": "DataCounterpartytController", status: "initialized"}');var e=this;e.entityType="counterparty",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/counterpartyService":76}],8:[function(t,e,n){!function(){"use strict";var n=t("../../services/currencyHistoryService");e.exports=function(t){console.log('{"controller": "DataCurrencyHistoryController", status: "initialized"}');var e=this;e.entityType="currency-history",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/currencyHistoryService":77}],9:[function(t,e,n){!function(){"use strict";var n=t("../../services/instrumentService");e.exports=function(t){console.log('{"controller": "DataInstrumentController", status: "initialized"}');var e=this;e.entityType="instrument",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/instrumentService":90}],10:[function(t,e,n){!function(){"use strict";var n=t("../../services/portfolioService");e.exports=function(t){console.log('{"controller": "DataPortfolioController", status: "initialized"}');var e=this;e.entityType="portfolio",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/portfolioService":95}],11:[function(t,e,n){!function(){"use strict";var n=t("../../services/priceHistoryService");e.exports=function(t){console.log('{"controller": "DataPriceHistoryController", status: "initialized"}');var e=this;e.entityType="price-history",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/priceHistoryService":96}],12:[function(t,e,n){!function(){"use strict";var n=t("../../services/responsibleService");e.exports=function(t){console.log('{"controller": "DataResponsibleController", status: "initialized"}');var e=this;e.entityType="responsible",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/responsibleService":97}],13:[function(t,e,n){!function(){"use strict";var n=t("../../services/transactionService");e.exports=function(t){console.log('{"controller": "DataTransactionController", status: "initialized"}');var e=this;e.entityType="transaction",e.entityRaw=[],n.getList().then(function(n){e.entityRaw=n.results,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t.results})}}}()},{"../../services/transactionService":98}],14:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/attributeTypeService"),o=(t("../services/demo/demoPortfolioService"),t("../services/demo/demoTransactionsService"),t("../services/uiService")),r=(t("../services/portfolioService"),t("../services/metaService")),a=t("../services/gridHelperService");e.exports=function(t,e,s,l){function c(){var t;for(t=0;t<p.tabs.length;t+=1)u(p.tabs[t])}function u(t){var e;for(t.layout.rows=t.layout.rows+1,e=0;e<t.layout.columns;e+=1)t.layout.fields.push({row:t.layout.rows,column:e+1,colspan:1,type:"empty"})}function d(t){var e;for(e=0;e<t.layout.fields.length;e+=1)t.layout.fields[e].row===t.layout.rows&&(t.layout.fields.splice(e,1),e-=1);t.layout.rows=t.layout.rows-1}n.controller("EntityDataConstructorController","initialized");var p=this;p.boxColumns=[1,2,3,4,5,6],p.readyStatus={constructor:!1},console.log(e),p.entityType=e.entityType,o.getEditLayout(p.entityType).then(function(e){p.ui=e.results[0],p.tabs=p.ui.data,c(),t.$apply()}),p.attrs=[],p.baseAttrs=[],p.entityAttrs=[],p.cancel=function(){s.go("app.data."+p.entityType)},i.getList(p.entityType).then(function(e){n.collection("data",e),p.attrs=e.results,n.collection("vm attrs",p.attrs),-1===r.getEntitiesWithoutBaseAttrsList().indexOf(p.entityType)&&(console.log("1111111111111111111111"),p.baseAttrs=r.getBaseAttrs()),n.collection("vm.baseAttrs",p.baseAttrs),p.entityAttrs=r.getEntityAttrs(p.entityType),n.collection("vm.entityAttrs",p.entityAttrs),p.readyStatus.constructor=!0,t.$apply()}),p.checkColspan=function(t,e,n){var i,o,r,a,s=[];for(i=0;i<t.layout.fields.length;i+=1)if(t.layout.fields[i].row==e)for(r=t.layout.fields[i].column,a=parseInt(t.layout.fields[i].colspan,10),o=0;a>o;o+=1)s[r]||(s[r]=[]),s[r].push(parseInt(r,10)+parseInt(o,10));var l,c,u=Object.keys(s);for(l=0;l<u.length;l+=1){if(u[l]===n)return!0;for(c=1;c<s[u[l]].length;c+=1)if(n==s[u[l]][c])return!1}return!0},p.range=a.range,p.setLayoutColumns=function(t,e,n){if(e<t.layout.columns){var i,o=[];for(i=e;i<t.layout.columns;i+=1)o.push(i+1);var r;r=o.length>1?"If you switch to less number of columns you lose data of "+o.join(", ")+" columns":"If you switch to less number of columns you lose data of "+o.join(", ")+" column",l.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:r}}}).then(function(n){if("agree"===n.status){var i,o,r;for(i=0;i<t.layout.fields.length;i+=1)for(o=0;o<t.layout.rows;o+=1)for(r=e;r<t.layout.columns;r+=1)t.layout.fields[i].row==o+1&&t.layout.fields[i].column==r+1&&t.layout.fields.splice(i,1);t.layout.columns=e}})}else{var a,s;for(a=1;a<=t.layout.rows;a+=1)for(s=t.layout.columns+1;e>=s;s+=1)t.layout.fields.push({row:a,column:s,colspan:1,type:"empty"});t.layout.columns=e}},p.saveLayout=function(){var e;for(e=0;e<p.tabs.length;e+=1)d(p.tabs[e]);p.ui.data=p.tabs,o.updateEditLayout(p.ui.id,p.ui).then(function(){console.log("layout saved"),s.go("app.data."+p.entityType),t.$apply()})},p.bindFlex=function(t,e,n){var i,o,r=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(t.layout.fields[i].column===n&&(o=t.layout.fields[i]),r+=parseInt(t.layout.fields[i].colspan,10));var a=100/t.layout.columns;return o?Math.floor(o.colspan*a):Math.floor(a)},p.deleteTab=function(t){var e;for(e=0;e<p.tabs.length;e+=1)if(t.name===p.tabs[e].name){p.tabs.splice(e,1);break}},p.addTab=function(){p.tabs.push({name:"",editState:!0,layout:{rows:0,columns:1,fields:[]}}),u(p.tabs[p.tabs.length-1])},p.toggleEditTab=function(t,e,n){t.editState||(t.editState=!1),t.captionName||(t.captionName=t.name),"back"===e&&(console.log("??"),t.captionName||""!==t.name?t.captionName=t.name:p.tabs.splice(n,1)),t.editState=!t.editState},p.saveEditedTab=function(t){console.log(t),""!==t.captionName&&(t.name=t.captionName,t.editState=!t.editState)}}}()},{"../services/attributeTypeService":72,"../services/demo/demoPortfolioService":78,"../services/demo/demoTransactionsService":79,"../services/gridHelperService":83,"../services/logService":92,"../services/metaService":93,"../services/portfolioService":95,"../services/uiService":99}],15:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/attributeTypeService"),o=t("../../services/entityResolverService"),r=t("../../services/uiService"),a=t("../../services/metaService"),s=t("../../services/layoutService");e.exports=function(t,e,l,c){n.controller("EntityViewerAddDialogController","initialized"),n.property("parentScope",l);var u=this;u.readyStatus={content:!1},u.entityType=l.vm.entityType,u.evAction="create",r.getEditLayout(u.entityType).then(function(e){u.tabs=e.results[0].data,n.collection("vm.tabs",u.tabs),t.$apply()}),u.attrs=[],u.baseAttrs=[],u.entityAttrs=[],u.layoutAttrs=[],i.getList(u.entityType).then(function(e){u.attrs=e.results,u.readyStatus.content=!0,t.$apply()}),u.baseAttrs=a.getBaseAttrs(),u.entityAttrs=a.getEntityAttrs(u.entityType),u.layoutAttrs=s.getLayoutAttrs(),u.entity={};var d;u.range=function(t){var e,n=[];for(e=1;t>=e;e+=1)n.push(e);return n},u.bindFlex=function(t,e,n){var i,o=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(o+=t.layout.fields[i].colspan);var r=100/t.layout.columns;return Math.floor(n.colspan*r)},u.checkFieldRender=function(t,e,n){if(n.row===e){if("field"===n.type)return!0;var i,o,r,a=[];for(i=0;i<t.layout.fields.length;i+=1)if(t.layout.fields[i].row===e&&"field"===t.layout.fields[i].type)for(o=t.layout.fields[i].column;o<=t.layout.fields[i].column+t.layout.fields[i].colspan-1;o+=1)a.push(o);for(r=0;r<a.length;r+=1)if(a[r]===n.column)return!1;return!0}return!1},u.bindField=function(t,e){var n,i,o;if("field"===e.type)if(e.hasOwnProperty("id")&&null!==e.id){for(n=0;n<u.attrs.length;n+=1)if(e.id===u.attrs[n].id)return u.attrs[n].options=e.options,u.attrs[n]}else{for(n=0;n<u.baseAttrs.length;n+=1)if(e.name===u.baseAttrs[n].name)return u.baseAttrs[n].options=e.options,u.baseAttrs[n];for(o=0;o<u.entityAttrs.length;o+=1)if(e.name===u.entityAttrs[o].name)return u.entityAttrs[o].options=e.options,u.entityAttrs[o];for(i=0;i<u.layoutAttrs.length;i+=1)if(e.name===u.layoutAttrs[i].name)return u.layoutAttrs[i].options=e.options,u.layoutAttrs[i]}},u.openMenu=function(t,e){d=e,t(e)},u.cancel=function(){e.cancel()},u.editLayout=function(){c.go("app.data-constructor",{entityType:u.entityType}),e.hide()},u.save=function(){function t(t,e,n){return console.log(t,e,n),10===e.value_type&&(t.value_string=n),t}function n(t,e){var n={attribute_name:t.name,attribute_type:t.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===t.value_type&&(n.value_string=e),n}function i(){var t;for(t=0;t<u.entityAttrs.length;t+=1)40===u.entityAttrs[t].value_type&&(u.entity[u.entityAttrs[t].key]=moment(new Date(u.entity[u.entityAttrs[t].key])).format("YYYY-MM-DD"))}var r,a,s,l,c=Object.keys(u.entity);for(r=0;r<u.attrs.length;r+=1)for(a=0;a<c.length;a+=1)if(u.attrs[r].name===c[a]){if(l=!1,u.entity.attributes)for(s=0;s<u.entity.attributes.length;s+=1)u.entity.attributes[s].attribute_type===u.attrs[r].id&&(l=!0,u.entity.attributes[s]=t(u.entity.attributes[s],u.attrs[r],u.entity[c[a]]));l||(console.log("vm.entity[keys[a]]",u.entity[c[a]]),u.entity.attributes||(u.entity.attributes=[]),u.entity.attributes.push(n(u.attrs[r],u.entity[c[a]])))}i(),o.create(u.entityType,u.entity).then(function(t){console.log("saved!",t),e.hide()})}}}()},{"../../services/attributeTypeService":72,"../../services/entityResolverService":80,"../../services/layoutService":91,"../../services/logService":92,"../../services/metaService":93,"../../services/uiService":99}],16:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/attributeTypeService"),o=t("../../services/entityViewerHelperService"),r=t("../../services/metaService"),a=t("../../services/groupTable/groupTableService"),s=t("../../services/uiService"),l=(t("../../services/demo/demoPortfolioService"),t("../../services/demo/demoTransactionsService"));e.exports=function(t,e){function c(t,e,n,i,o){var r=[];if(!t)return[];var a,s,l,c,u,d,p,m,g;for(a=0;a<t.length;a+=1)if(u=t[a],u.hasOwnProperty("id"))for(s=0;s<e.length;s+=1)d=e[s],u.id===d.id&&(u.options&&(m=JSON.parse(JSON.stringify(u.options))),u=d,u.options=m,r.push(u));else{for(l=0;l<n.length;l+=1)p=n[l],u.key===p.key&&(u.options&&(m=JSON.parse(JSON.stringify(u.options))),u.options=m,u=p,r.push(u));for(c=0;c<i.length;c+=1)g=i[c],u.key===g.key&&(u.options&&(m=JSON.parse(JSON.stringify(u.options))),u.options=m,u=g,r.push(u))}return r}function u(t,e){if(t.hasOwnProperty("id")){var n;for(n=0;n<e.length;n+=1){var i=t.sort;t.id===e[n].id&&(t=e[n],t.sort=i)}}return t}n.controller("EntityViewerController","initialized");var d=this;d.attrs=[],d.baseAttrs=[],d.layoutAttrs=[],d.entityAttrs=[],d.entityRaw=t.$parent.vm.entityRaw,d.entity=[],d.entityType=t.$parent.vm.entityType,d.columns=[],d.grouping=[],d.filters=[],d.sorting=[],d.entityAdditions=[],d.additionsType="",d.additionsEntityType="",d.entityAdditionsColumns=[],d.entityAdditionsFilters=[],d.entityAdditionsSorting=[],d.tabs=[],d.table={},d.tableAdditions={},d.tableIsReady=!1,d.editorTemplate="views/additions-editor-view.html",d.additionsStatus={editor:!1,table:!1},d.getView=function(){return s.getListLayout(d.entityType,"default").then(function(e){d.table=e.results[0].data.table,d.columns=e.results[0].data.table.columns,d.grouping=e.results[0].data.table.grouping,d.folding=e.results[0].data.table.folding,d.filters=e.results[0].data.table.filters,d.sorting=e.results[0].data.table.sorting,n.collection("vm.columns",d.columns),d.additionsType=e.results[0].data.tableAdditions.additionsType,d.additionsEntityType=e.results[0].data.tableAdditions.entityType,d.tableAdditions=e.results[0].data.tableAdditions,d.entityAdditionsColumns=e.results[0].data.tableAdditions.table.columns,d.entityAdditionsFilters=e.results[0].data.tableAdditions.table.filters,d.entityAdditionsSorting=e.results[0].data.tableAdditions.table.sorting,d.additionsStatus[e.results[0].data.tableAdditions.additionsType]=!0,t.$apply()})},d.transformViewAttributes=function(){d.columns=c(d.columns,d.attrs,d.baseAttrs,d.entityAttrs,d.entityType),d.grouping=c(d.grouping,d.attrs,d.baseAttrs,d.entityAttrs,d.entityType),d.filters=c(d.filters,d.attrs,d.baseAttrs,d.entityAttrs,d.entityType),d.sorting.group=u(d.sorting.group,d.attrs),d.sorting.column=u(d.sorting.column,d.attrs),d.entityAdditionsColumns=c(d.entityAdditionsColumns,d.attrs,d.baseAttrs,d.entityAttrs,d.additionsEntityType),d.entityAdditionsFilters=c(d.entityAdditionsFilters,d.attrs,d.baseAttrs,d.entityAttrs,d.additionsEntityType),d.entityAdditionsSorting.column=u(d.entityAdditionsSorting.column,d.attrs),n.collection("vm.grouping",d.grouping)},d.getEntityData=function(){o.transformItems(d.entityRaw,d.attrs).then(function(e){d.entity=e,d.groupTableService=a.getInstance(),d.updateTable(),t.$apply()})},d.getAttributes=function(){return i.getList(d.entityType).then(function(e){d.attrs=e.results,d.baseAttrs=r.getBaseAttrs(),d.entityAttrs=r.getEntityAttrs(d.entityType),t.$apply()})},d.updateTable=function(){var e={sort:{key:d.sorting.column.key,direction:d.sorting.column.sort},filters:{}};d.filters.forEach(function(t){t.options&&t.options.enabled===!0&&(e.filters[t.key]=t.options.query)}),t.$parent.vm.getList(e).then(function(e){o.transformItems(e,d.attrs).then(function(e){d.entity=e,d.groupTableService.setItems(d.entity),d.groupTableService.columns.setColumns(d.columns),d.groupTableService.grouping.setGroups(d.grouping,d.entityType),d.groupTableService.folding.setFolds(d.folding),console.log("UPDATE TABLE scope.sorting.group",d.sorting.group),d.sorting.group=u(d.sorting.group,d.attrs),d.groupTableService.sorting.group.sort(d.sorting.group),d.tableIsReady=!0,t.$apply()})})},d.updateAdditionsTable=function(){d.groupTableService.additions.setItems(d.entityAdditions),d.groupTableService.additions.columns.setColumns(d.entityAdditionsColumns),d.groupTableService.additions.filtering.setFilters(d.entityAdditionsFilters),d.groupTableService.additions.sorting.column.sort(d.entityAdditionsSorting.column)},d.getEntityAdditions=function(e){return l.getList(e).then(function(e){d.entityAdditions=e,d.updateAdditionsTable(),t.$apply()})},d.addEntity=function(n){e.show({controller:"EntityViewerAddDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{parentScope:t}})},d.openDataViewPanel=function(){d.additionsStatus.editor=!0},d.openEditorViewPanel=function(){d.editorEntityId=void 0,d.additionsStatus.table=!0},d.checkAdditionStatus=function(){return d.additionsStatus.table||d.additionsStatus.editor?!1:(d.editorEntityId=void 0,!0)},d.hideAdditions=function(){d.additionsStatus.table=!1,d.additionsStatus.editor=!1,d.editorEntityId=void 0},d.getView().then(function(){d.getAttributes().then(function(){d.transformViewAttributes(),d.getEntityData()})})}}()},{"../../services/attributeTypeService":72,"../../services/demo/demoPortfolioService":78,"../../services/demo/demoTransactionsService":79,"../../services/entityViewerHelperService":81,"../../services/groupTable/groupTableService":87,"../../services/logService":92,"../../services/metaService":93,"../../services/uiService":99}],17:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/entityResolverService");e.exports=function(t,e,o,r){n.controller("EntityViewerDeleteDialogController","initialized");var a=this;console.log("vm.entity",o),a.entity=o,a.entityType=r,a.displayCaption=function(){return a.entity.name?a.entity.name:"item"},a.cancel=function(){e.cancel()},a["delete"]=function(){i.deleteByKey(a.entityType,a.entity.id).then(function(t){console.log("deleted!",t),e.hide({res:"agree"})})}}}()},{"../../services/entityResolverService":80,"../../services/logService":92}],18:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/attributeTypeService"),o=t("../../services/entityResolverService"),r=t("../../services/uiService"),a=t("../../services/gridHelperService"),s=t("../../services/metaService"),l=t("../../services/layoutService");e.exports=function(t,e,c,u,d){n.controller("EntityViewerEditDialogController","initialized");var p=this;p.readyStatus={content:!1},p.entityType=c.entityType,p.evAction="update",n.property("entity",u),n.property("entityType",p.entityType),r.getEditLayout(p.entityType).then(function(e){p.tabs=e.results[0].data,n.collection("vm.tabs",p.tabs),t.$apply()}),p.attrs=[],p.baseAttrs=[],p.entityAttrs=[],p.layoutAttrs=l.getLayoutAttrs(),i.getList(p.entityType).then(function(e){p.attrs=e.results,p.readyStatus.content=!0,t.$apply()}),p.baseAttrs=s.getBaseAttrs(),p.entityAttrs=s.getEntityAttrs(p.entityType),p.layoutAttrs=l.getLayoutAttrs(),p.entity=u;var m;p.range=a.range,p.bindFlex=function(t,e,n){var i,o=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(o+=t.layout.fields[i].colspan);var r=100/t.layout.columns;return Math.floor(n.colspan*r)},p.bindField=function(t,e){var n,i,o;if("field"===e.type)if(e.hasOwnProperty("id")&&null!==e.id){for(n=0;n<p.attrs.length;n+=1)if(e.id===p.attrs[n].id)return p.attrs[n].options=e.options,p.attrs[n]}else{for(n=0;n<p.baseAttrs.length;n+=1)if(e.name===p.baseAttrs[n].name)return p.baseAttrs[n].options=e.options,p.baseAttrs[n];for(o=0;o<p.entityAttrs.length;o+=1)if(e.name===p.entityAttrs[o].name)return p.entityAttrs[o].options=e.options,p.entityAttrs[o];for(i=0;i<p.layoutAttrs.length;i+=1)if(e.name===p.layoutAttrs[i].name)return p.layoutAttrs[i].options=e.options,p.layoutAttrs[i]}},p.checkFieldRender=function(t,e,n){if(n.row===e){if("field"===n.type)return!0;var i,o,r,a=[];for(i=0;i<t.layout.fields.length;i+=1)if(t.layout.fields[i].row===e&&"field"===t.layout.fields[i].type)for(o=t.layout.fields[i].column;o<=t.layout.fields[i].column+t.layout.fields[i].colspan-1;o+=1)a.push(o);for(r=0;r<a.length;r+=1)if(a[r]===n.column)return!1;return!0}return!1},p.openMenu=function(t,e){m=e,t(e)},p.cancel=function(){e.cancel()},p.editLayout=function(t){d.go("app.data-constructor",{entityType:p.entityType}),e.hide()},p.save=function(){function t(t,e,n){return console.log(t,e,n),10===e.value_type&&(t.value_string=n),t}function n(t,e){var n={attribute_name:t.name,attribute_type:t.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===t.value_type&&(n.value_string=e),n}function i(){var t;for(t=0;t<p.entityAttrs.length;t+=1)if(40===p.entityAttrs[t].value_type&&(p.entity[p.entityAttrs[t].key]=moment(new Date(p.entity[p.entityAttrs[t].key])).format("YYYY-MM-DD")),20===p.entityAttrs[t].value_type||"float"===p.entityAttrs[t].value_type){var e,n=(p.entity[p.entityAttrs[t].key]+"").replace(" ","");e=-1!==n.indexOf(",")?n.replace(",","."):n,p.entity[p.entityAttrs[t].key]=parseFloat(e)}}var r,a,s,l,c=Object.keys(p.entity);for(r=0;r<p.attrs.length;r+=1)for(a=0;a<c.length;a+=1)if(p.attrs[r].name===c[a]){for(l=!1,s=0;s<p.entity.attributes.length;s+=1)p.entity.attributes[s].attribute_type===p.attrs[r].id&&(l=!0,p.entity.attributes[s]=t(p.entity.attributes[s],p.attrs[r],p.entity[c[a]]));l||p.entity.attributes.push(n(p.attrs[r],p.entity[c[a]]))}i(),o.update(p.entityType,p.entity.id,p.entity).then(function(t){console.log("saved!",t),e.hide({res:"agree"})})}}}()},{"../../services/attributeTypeService":72,"../../services/entityResolverService":80,"../../services/gridHelperService":83,"../../services/layoutService":91,"../../services/logService":92,"../../services/metaService":93,"../../services/uiService":99}],19:[function(t,e,n){!function(){"use strict";var n=t("../services/instrumentService");e.exports=function(t,e){var i=this;i.search={user_code:"",name:"",short_name:"",user_text_1:"",user_text_2:"",user_text_3:""},i.instruments=[],i.selectedItem={},i.agree=function(){e.hide({status:"agree",data:{item:i.selectedItem}})},i.cancel=function(){e.cancel()},i.selectRow=function(t){i.instruments.forEach(function(t){t.active=!1}),i.selectedItem=t,t.active=!0},n.getList({filters:i.search}).then(function(e){i.instruments=e.results,t.$apply()}),i.updateTable=function(){n.getList({filters:i.search}).then(function(e){i.instruments=e.results,t.$apply()})}}}()},{"../services/instrumentService":90}],20:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/notificationsService");e.exports=function(t){n.controller("NotificationsController","initialized");var e=this;i.getList().then(function(n){e.notifications=n.results,t.$apply()})}}()},{"../services/logService":92,"../services/notificationsService":94}],21:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/cookieService"),o=t("../services/usersService");e.exports=function(t,e){n.controller("ShellController","initialized");var r=this;r.logout=function(){console.log("Logged out"),o.logout()},window.fetch("/api/v1/users/ping/").then(function(t){return t.json()}).then(function(e){setTimeout(function(){o.login("dev1","Uethohk0").then(function(){console.log("after login",i.getCookie("csrftoken")),t.$apply()})},1e3)}),o.getList().then(function(e){r.user=e.results[0],t.$apply()}),r.currentState=function(){return""}}}()},{"../services/cookieService":75,"../services/logService":92,"../services/usersService":100}],22:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/metaService");e.exports=function(t){n.controller("SideNavController","initialized");var e=this;e.sections=[],i.getMenu().then(function(n){e.sections=n,t.$apply()}),e.isOpen=function(t){return e.openedSection===t},e.toggleOpen=function(t){e.openedSection=e.openedSection===t?null:t},e.autoFocusContent=!1}}()},{"../services/logService":92,"../services/metaService":93}],23:[function(t,e,n){!function(){"use strict";var n=t("../services/logService");e.exports=function(t,e,i){n.controller("WarningDialogController","initialized");var o=this;o.warning=i,o.cancel=function(){e.cancel()},o.agree=function(){e.hide({status:"agree"})}}}()},{"../services/logService":92}],24:[function(t,e,n){!function(){"use strict";e.exports=function(t){return{scope:{tabs:"="},link:function(e,n){var i='<md-button class="ec-tab-add-btn"data-ng-click="vm.addTab()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button>',o=t(i)(e.$parent),r=n.find("md-pagination-wrapper");r.append(o)}}}}()},{}],25:[function(t,e,n){!function(){"use strict";var n=t("../services/metaService"),i=t("../services/layoutService");
e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/bind-field-control-view.html",scope:{item:"="},link:function(t,e,o){t.entityType=t.$parent.vm.entityType,t.entity=t.$parent.vm.entity;var r=t.$parent.vm.attrs,a=n.getValueTypes(),s=n.getBaseAttrs(),l=n.getEntityAttrs(t.entityType);if(t.layoutAttrs=i.getLayoutAttrs(),t.item){t.fieldType=null,t.attribute=t.item;var c;for(c=0;c<a.length;c+=1)a[c].value===t.attribute.value_type&&(t.fieldType=a[c])}t.getName=function(){return t.item.options&&t.item.options.fieldName?t.item.options.fieldName:t.item.name},t.copyFromField=function(e){var n=JSON.parse(e);if(n.key&&(t.entity[t.getModelKey()]=t.entity[n.key],console.log(t.entity[t.getModelKey()])),n.id){var i=null;r.forEach(function(t){t.id===n.id&&(i=t)}),t.entity[t.getModelKey()]=t.entity[i.name]}},t.dateFormatter=function(){console.log("scope.entity[scope.getModelKey()]",t.entity[t.getModelKey()])},t.getModelKey=function(){if(t.item.hasOwnProperty("id")&&null!==t.item.id)return t.item.name;var e,n,i;for(e=0;e<s.length;e+=1)if(t.item.name===s[e].name)return s[e].key;for(n=0;n<t.layoutAttrs.length;n+=1)if(t.item.name===t.layoutAttrs[n].name)return t.layoutAttrs[n].key;for(i=0;i<l.length;i+=1)if(t.item.name===l[i].name)return l[i].key},t.setDateToday=function(){console.log("1232",t.entity[t.getModelKey()]),t.entity[t.getModelKey()]=new Date,console.log("1232",t.entity[t.getModelKey()])},t.setDatePlus=function(){t.entity[t.getModelKey()]=new Date((new Date).setDate(new Date(t.entity[t.getModelKey()]).getDate()+1))},t.setDateMinus=function(){t.entity[t.getModelKey()]=new Date((new Date).setDate(new Date(t.entity[t.getModelKey()]).getDate()-1))}}}}}()},{"../services/layoutService":91,"../services/metaService":93}],26:[function(t,e,n){!function(){"use strict";var n=t("../services/logService"),i=t("../services/fieldResolverService");e.exports=function(t){return{scope:{item:"=",entity:"="},templateUrl:"views/entity-viewer/field-resolver-view.html",link:function(t,e,o){n.component("EntityViewerFieldResolverController","initialized"),t.readyStatus={content:!1},t.type="",n.property("field scope",t.item),i.getFields(t.item.key).then(function(e){n.collection("DATA",e),t.type=e.type,t.fields=e.data,t.readyStatus.content=!0,t.$apply()}),t.getName=function(){return t.item.options&&t.item.options.fieldName?t.item.options.fieldName:t.item.name},t.bindFormFields=function(){var e=t.entity[t.getModelKey()];if(e){var n,i;for(n=0;n<t.fields.length;n+=1)e==t.fields[n].id&&(i=t.fields[n]);if(t.item.options&&t.item.options.fieldsForm){var o="";return t.item.options.fieldsForm.forEach(function(e,n){n+1===t.item.options.fieldsForm.length?o+=i[e]:o=o+i[e]+" / "}),o}return i.name}return t.getName()},t.bindListFields=function(e){if(t.item.options&&t.item.options.fieldsList){var n="";return t.item.options.fieldsList.forEach(function(i,o){o+1===t.item.options.fieldsList.length?n+=e[i]:n=n+e[i]+" / "}),n}return e.name},t.getModelKey=t.$parent.getModelKey}}}}()},{"../services/fieldResolverService":82,"../services/logService":92}],27:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"A",scope:{onlyPositive:"@"},require:"?ngModel",link:function(t,e,n,i){i&&(i.$parsers.push(function(e){var n=e.replace(/[^-0-9\,]/g,""),o=n.split("-"),r=n.split(",");return angular.isUndefined(o[1])||(o[1]=o[1].slice(0,o[1].length),n=t.onlyPositive?o[1]:o[0]+"-"+o[1],o[0].length>0&&(n=o[0])),angular.isUndefined(r[1])||(r[1]=r[1].slice(0,r[1].length),n=r[0]+","+r[1]),e!==n&&(i.$setViewValue(n),i.$render()),n}),e.bind("keypress",function(t){32===t.keyCode&&t.preventDefault()}),e.bind("blur",function(){function t(t){var e=t.length%3;return(t.substr(0,e)+t.substr(e).replace(/(\d{3})/g," $1")).trim()}var n,i,o=e.val();0===o.indexOf(",")?(n=o.split(",")[0],i=o.split(",")[1],n=t(n),i=t(i),e.val(n+","+i)):e.val(t(o))}))}}}}()},{}],28:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(){return{restrict:"A",scope:{items:"=",columns:"="},link:function(t,e,i){n.component("groupClipboardHandlerComponent","initialized"),document.addEventListener("copy",function(e){var n=[];t.items.forEach(function(t){t.hasOwnProperty("groups")?(t.selectedRow===!0&&n.push({type:"group",data:t.groups}),t.items.forEach(function(t){t.selectedRow===!0&&n.push(t)})):t.selectedRow===!0&&n.push(t)});var i="";n.forEach(function(e){var n="<tr>";e.hasOwnProperty("type")?n=n+"<td>"+e.data.map(function(t){return t.value}).join(" ")+"</td>":t.columns.forEach(function(t){n=t.hasOwnProperty("key")?n+"<td>"+e[t.key]+"</td>":n+"<td>"+e[t.name]+"</td>"}),n+="</tr>",i+=n}),e.clipboardData.setData("text/html",i),e.preventDefault()})}}}}()},{"../../services/logService":92}],29:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(){return{restrict:"A",scope:{items:"="},link:function(t,e,i){function o(){var n,i,o=0,r=16,a=400;for(n=e.find(".g-column"),i=0;i<n.length;i+=1)o=o+$(n[i]).width()+r;l=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width(),o+a>l&&($(".g-scrollable-area").width(o+a),t.$apply())}function r(){function t(){var t,i,o=$(e).find(".g-thead"),r=o.find(".g-cell"),a=$(e).find(".g-row");for(t=0;t<a.length;t+=1)for(n=$(a[t]).find(".g-cell"),i=0;i<r.length;i+=1)!function(t){$(n[t]).css({width:$(r[t]).width()+"px"})}(i)}var n,i=$(e).find(".g-thead"),r=i.find(".g-cell"),a=($(e).find(".g-row"),r.find(".resize-slider")),s=function(){var t;for(t=0;t<r.length;t+=1)$(r[t]).attr("min-width")||$(r[t]).attr("min-width",$(r[t]).width())};s(),$(a).bind("mousedown",function(e){e.preventDefault(),e.stopPropagation();var n,i=$(this).parent(),r=i.width(),a=i.attr("min-width"),s=e.clientX;$(window).bind("mousemove",function(e){n=e.clientX-s,o(),t(),o(),n+r>a&&i.width(r+n)}),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})}),setTimeout(function(){t()},100)}n.component("groupColumnResizer","initialized");var a=e.parents(".g-workarea"),s=246;a.width($(window).width()-s-$("md-sidenav").width());var l=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();$(".g-scroll-wrapper").width(l),$(".g-scrollable-area").width(l),$(window).on("resize",function(){a.width($(window).width()-s-$("md-sidenav").width());var t=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();$(".g-scroll-wrapper").width(t),$(".g-scrollable-area").width(t),o(),r()}),t.$watchCollection("items",function(){o(),setTimeout(function(){r()},100)}),setTimeout(function(){r()},100)}}}}()},{"../../services/logService":92}],30:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/metaService");e.exports=function(){return{restrict:"AE",scope:{columns:"=",sorting:"=",isItemAddition:"=",entityType:"=",items:"=",externalCallback:"&",isAllSelected:"="},templateUrl:"views/directives/groupTable/columns-view.html",link:function(t,e,o){n.component("groupColumnResizer","initialized");var r=[],a=[];-1===i.getEntitiesWithoutBaseAttrsList().indexOf(t.entityType)&&(r=i.getBaseAttrs()),a=i.getEntityAttrs(t.entityType),t.isAllSelected=!1,t.selectAllRows=function(){t.isAllSelected=!t.isAllSelected,t.items.forEach(function(e){e.hasOwnProperty("groups")?(e.selectedRow=t.isAllSelected,e.items.forEach(function(e){e.selectedRow=t.isAllSelected})):e.selectedRow=t.isAllSelected})},t.sortHandler=function(e,n){var i;for(i=0;i<t.columns.length;i+=1)t.columns[i].options||(t.columns[i].options={}),t.columns[i].options.sort=null;e.options.sort=n,e.hasOwnProperty("id")?(t.sorting.column.id=e.id,t.sorting.column.key=null,t.sorting.column.sort=n):(t.sorting.column.id=null,t.sorting.column.key=e.key,t.sorting.column.sort=n),t.externalCallback()},t.openColumnSettings=function(t,e){t(e)},t.isSortable=function(t){var e,n;for(e=0;e<r.length;e+=1)if(r[e].key===t.key&&"notes"!==r[e].key)return!0;for(n=0;n<a.length;n+=1)if(a[n].key===t.key)return!0;return!1},t.removeColumn=function(e){e.id&&(t.columns=t.columns.map(function(t){return t.id!==e.id&&t.key!==e.key?t:void 0}).filter(function(t){return!!t})),e.key&&(t.columns=t.columns.map(function(t){return t.key!==e.key?t:void 0}).filter(function(t){return!!t}))}}}}}()},{"../../services/logService":92,"../../services/metaService":93}],31:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(){return{restrict:"A",link:function(t,e,i){function o(t){l=document.all?window.event.clientX:t.pageX,s=document.all?window.event.clientY:t.pageY,a[0].style.left=l-c+8+"px",a[0].style.top=s-u-8-150+"px"}n.component("gDialogDraggable","initialized");var r=$(e).find(".md-toolbar-tools"),a=$(e).parent(),s=0,l=0,c=0,u=0;$(a).width(400),$(a).height($(e).height()),$(a).css({left:"65%"}),r.bind("mousedown",function(t){return 0!==c&&(c=l-a[0].offsetLeft,u=s-a[0].offsetTop),$(window).bind("mousemove",o),$(window).bind("mouseup",function(t){console.log("unbind"),$(window).unbind("mousemove")}),!1})}}}}()},{"../../services/logService":92}],32:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(t){return{restrict:"AE",scope:{entityType:"=",filters:"=",columns:"=",tabs:"=",sorting:"=",folding:"=",grouping:"=",externalCallback:"&"},templateUrl:"views/directives/groupTable/grouping-view.html",link:function(e,i,o){n.component("groupGrouping","initialized"),e.sortHandler=function(t,n){var i;for(i=0;i<e.grouping.length;i+=1)e.grouping[i].options||(e.grouping[i].options={}),e.grouping[i].options.sort=null;t.options.sort=n,t.hasOwnProperty("id")?(e.sorting.group={},e.sorting.group.id=t.id,e.sorting.group.key=null,e.sorting.group.sort=n):(e.sorting.group={},e.sorting.group.id=null,e.sorting.group.key=t.key,e.sorting.group.sort=n),console.log("external??",e.sorting.group),e.externalCallback()},e.openGroupSettings=function(t,e){t(e)},e.$watchCollection("grouping",function(){e.externalCallback()}),e.toggleGroupFold=function(){e.folding=!e.folding,console.log("scope.folding",e.folding),setTimeout(function(){e.externalCallback(),e.$apply()},0)},e.removeGroup=function(t){e.grouping=e.grouping.map(function(e){return e.id!==t.id&&e.name!==t.name?e:void 0}).filter(function(t){return!!t}),setTimeout(function(){e.externalCallback()},0)},e.openModalSettings=function(n){t.show({controller:"gModalController as vm",templateUrl:"views/directives/groupTable/modal-view.html",parent:angular.element(document.body),targetEvent:n,locals:{callback:e.externalCallback,parentScope:e}}).then(function(t){e.status='You said the information was "'+t+'".'},function(){e.status="You cancelled the dialog."})}}}}}()},{"../../services/logService":92}],33:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(){return{restrict:"A",scope:{additionsStatus:"="},link:function(t,e,i){function o(){a=$(window).height()-$(".header").height(),s=a-$(".g-wrapper .g-grouping-section").height(),$(".g-sidebar").height(a),$(".g-wrapper .g-table-section").height(s),$(".g-additions").height($(window).height()-a)}function r(){a=Math.floor(($(window).height()-$(".header").height())/2),s=Math.floor(a-$(".g-wrapper .g-grouping-section").height()),$(".g-sidebar").height(a),$(".g-wrapper .g-table-section").height(s),$(".g-additions").height(a),$(".g-additions-workarea .g-table-section").height(a),$(".g-additions-workarea .group-table-body").height(a),$(".g-height-slider").bind("mousedown",function(t){var n,i,o=$(".header").height(),r=$(".g-workarea.main-area .g-table-section"),a=$(".g-sidebar.main-sidebar"),s=$(".g-wrapper .g-grouping-section").height(),l=$(".g-additions"),c=$(".g-additions-workarea .g-table-section"),u=$(".g-sidebar.additions-sidebar");$(window).bind("mousemove",function(t){i=$(window).height()-o,n=t.clientY,$(e).find(".mCSB_scrollTools_vertical").css({position:"absolute",top:0,left:"auto"}),l.height(i-n+88-15),c.height(i-n+88),u.height(i-n+88),$(".g-workarea.main-area .group-table-body").height(n-$(".header").height()-$(".g-columns-component.g-thead").height()-88),$(".g-additions-workarea .group-table-body").height($(window).height()-n-$(".g-additions-workarea .g-columns-component.g-thead").height()),r.height(n-o-88),a.height(n+s-o-88)}),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})})}n.component("groupHeightAligner","initialized");var a,s;t.$watchCollection("additionsStatus",function(){t.additionsStatus.table||t.additionsStatus.editor?setTimeout(function(){r()},0):o()}),$(window).on("resize",function(){t.additionsStatus.table||t.additionsStatus.editor?r():o()})}}}}()},{"../../services/logService":92}],34:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(){return{restrict:"A",scope:{},link:function(t,e,i){n.component("groupHorizontalScroll","initialized"),$(e).mCustomScrollbar({axis:"x",callbacks:{onInit:function(){},onOverflowX:function(){},whileScrolling:function(){}}})}}}}()},{"../../services/logService":92}],35:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/uiService"),o=t("../../services/metaService"),r=t("../../services/attributeTypeService");e.exports=function(t,e,a,s){function l(){function t(){var t,e;for(t=0;t<d.tabs.length;t+=1)if(!d.tabs[t].attrs)for(d.tabs[t].attrs=[],e=0;e<d.tabs[t].layout.fields.length;e+=1)"field"===d.tabs[t].layout.fields[e].type&&(d.tabs[t].layout.fields[e].hasOwnProperty("id")?d.tabs[t].attrs.push({id:d.tabs[t].layout.fields[e].id}):"field"===d.tabs[t].layout.fields[e].type&&"Labeled Line"!=d.tabs[t].layout.fields[e].name&&"Line"!=d.tabs[t].layout.fields[e].name&&d.tabs[t].attrs.push({name:d.tabs[t].layout.fields[e].name}));console.log("vm.tabs[i].attrs",d.tabs[0].attrs)}function e(){var t,e,n,i,o,r,a,s,l,c,u;for(console.log("METHOD: restoreAttrs, data: vm.tabs, value: ",d.tabs),console.log("METHOD: restoreAttrs, data: vm.attrs, value: ",d.attrs),e=0;e<d.tabs.length;e+=1)for(r=d.tabs[e],n=0;n<r.attrs.length;n+=1)if(a=r.attrs[n],c=!1,a.hasOwnProperty("id")){for(t=0;t<d.attrs.length;t+=1)s=d.attrs[t],a.id===s.id&&(d.tabs[e].attrs[n]=s,c=!0);c||(d.tabs[e].attrs.splice(n,1),n-=1)}else{for(i=0;i<d.baseAttrs.length;i+=1)l=d.baseAttrs[i],a.name===l.name&&(d.tabs[e].attrs[n]=l,c=!0);for(o=0;o<d.entityAttrs.length;o+=1)u=d.entityAttrs[o],a.name===u.name&&(d.tabs[e].attrs[n]=u,c=!0);c||(d.tabs[e].attrs.splice(n,1),n-=1)}}t(),e(),d.tabAttrsReady=!0}function c(t){var e;for(e=0;e<t.length;e+=1)t[e].columns=!1,t[e].filters=!1,t[e].groups=!1,p.map(function(n){return t[e].name===n.name&&(t[e].columns=!0),n}),m.map(function(n){return t[e].name===n.name&&(t[e].filters=!0),n}),g.map(function(n){return n.hasOwnProperty("key")?t[e].key===n.key&&(t[e].groups=!0):t[e].name===n.name&&(t[e].groups=!0),n})}function u(t){var e,n,i,o,r,a,s;for(e=0;e<t.length;e+=1){for(r=!1,a=!1,s=!1,n=0;n<p.length;n+=1)t[e].hasOwnProperty("key")?t[e].key===p[n].key&&(r=!0,t[e].columns===!1&&(p.splice(n,1),n-=1)):t[e].name===p[n].name&&(r=!0,t[e].columns===!1&&(p.splice(n,1),n-=1));for(r||t[e].columns===!0&&p.push(t[e]),i=0;i<g.length;i+=1)t[e].hasOwnProperty("key")?t[e].key===g[i].key&&(a=!0,t[e].groups===!1&&(g.splice(i,1),i-=1)):t[e].id===g[i].id&&(a=!0,t[e].groups===!1&&(g.splice(i,1),i-=1));for(a||t[e].groups===!0&&g.push(t[e]),o=0;o<m.length;o+=1)t[e].hasOwnProperty("key")?t[e].key===m[o].key&&(s=!0,t[e].filters===!1&&(m.splice(o,1),o-=1)):t[e].name===m[o].name&&(s=!0,t[e].filters===!1&&(m.splice(o,1),o-=1));s||t[e].filters===!0&&m.push(t[e])}}n.controller("gModalController","initialized");var d=this;d.readyStatus={content:!1},d.tabs=[],d.entityType=a.entityType,n.property("vm.entityType",d.entityType),i.getListLayout(d.entityType).then(function(e){n.collection("DATA",e),d.tabs=e.results[0].data.modalDrag,n.collection("vm.tabs!!!!!!!!!!!!!",d.tabs),d.getAttributes(),t.$apply()}),d.general=[],d.attrs=[],d.baseAttrs=[],d.entityAttrs=[],d.custom=[],d.tabAttrsReady=!1;var p=a.columns,m=a.filters,g=a.grouping,y=[];$("body").addClass("drag-dialog"),d.getAttributes=function(){return-1===o.getEntitiesWithoutBaseAttrsList().indexOf(d.entityType)&&(d.baseAttrs=o.getBaseAttrs()),d.entityAttrs=o.getEntityAttrs(d.entityType),r.getList(d.entityType).then(function(e){d.attrs=e.results,y=d.attrs.concat(d.baseAttrs),y=y.concat(d.entityAttrs),l(),f(),n.collection("attrsList!!!!!!!!!",y),d.readyStatus.content=!0,t.$apply()})},a.$watch("columns",function(){d.tabAttrsReady&&(p=a.columns,f(),s())}),a.$watch("filters",function(){d.tabAttrsReady&&(m=a.filters,f(),s())}),a.$watch("grouping",function(){d.tabAttrsReady&&(g=a.grouping,f(),s())});var f=function(){c(d.baseAttrs),c(d.entityAttrs),c(d.attrs)},v=function(){u(d.baseAttrs),u(d.entityAttrs),u(d.attrs)};d.updateAttrs=function(){v(),s()},d.cancel=function(){$("body").removeClass("drag-dialog"),e.cancel()};var h={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var e=!1;this.dragula.on("over",function(t,e,n){$(e).addClass("active"),$(e).on("mouseleave",function(){$(this).removeClass("active")})}),this.dragula.on("drop",function(n,i){$(i).removeClass("active");var o,r=$(n).html();if(console.log("elem111111111111111111111111111111",n),console.log("columns111111111111111111111111111111",p),console.log("grouping111111111111111111111111111111",g),console.log("filters111111111111111111111111111111",m),e=!1,i===document.querySelector("#columnsbag"))for(o=0;o<p.length;o+=1)p[o].name===r&&(e=!0);if(i===document.querySelector("#groupsbag"))for(o=0;o<g.length;o+=1)g[o].name===r&&(e=!0);if(i===document.querySelector("#filtersbag .drop-new-filter"))for(o=0;o<m.length;o+=1)m[o].name===r&&(e=!0);if(!e){var a;if(i===document.querySelector("#columnsbag")){for(a=0;a<y.length;a+=1)y[a].name===r&&p.push(y[a]);f(),s()}if(i===document.querySelector("#groupsbag")){for(a=0;a<y.length;a+=1)y[a].name===r&&g.push(y[a]);f(),s()}if(i===document.querySelector("#filtersbag .drop-new-filter")){for(a=0;a<y.length;a+=1)y[a].name===r&&m.push(y[a]);f(),s()}t.$apply()}t.$apply()}),this.dragula.on("dragend",function(e){t.$apply(),$(e).remove()})},dragula:function(){var t,e=[document.querySelector("#columnsbag"),document.querySelector("#groupsbag"),document.querySelector("#filtersbag .drop-new-filter")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(t=0;t<n.length;t+=1)e.push(n[t]);this.dragula=dragula(e,{copy:!0})}};setTimeout(function(){h.init()},500)}}()},{"../../services/attributeTypeService":72,"../../services/logService":92,"../../services/metaService":93,"../../services/uiService":99}],36:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/report-settings-view.html",link:function(t,e,n){console.log("Report settings component")}}}}()},{}],37:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/fieldResolverService");e.exports=function(){return{restrict:"AE",scope:{filters:"=",externalCallback:"&"},templateUrl:"views/directives/groupTable/sidebar-filter-view.html",link:function(t,e,o){n.component("groupSidebarFilter","initialized"),t.fields={},t.$watchCollection("filters",function(){t.externalCallback();var e=[];t.filters.forEach(function(n){t.fields.hasOwnProperty(n.key)||e.push(i.getFields(n.key))}),Promise.all(e).then(function(e){e.forEach(function(e){t.fields[e.key]=e.data}),t.$apply()})}),t.openFilterSettings=function(t,e){t(e)},t.toggleFilterState=function(){t.externalCallback()},t.filterChange=function(e){t.externalCallback()},t.selectAll=function(){t.filters.forEach(function(t){t.options.enabled=!0}),t.externalCallback()},t.clearAll=function(){t.filters.forEach(function(t){t.options.query=""}),t.externalCallback()},t.deselectAll=function(){t.filters.forEach(function(t){t.options.enabled=!1}),t.externalCallback()},t.removeFilter=function(e){t.filters=t.filters.map(function(t){return t.id!==e.id&&t.name!==e.name?t:void 0}).filter(function(t){return!!t}),t.externalCallback()}}}}}()},{"../../services/fieldResolverService":82,"../../services/logService":92}],38:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService"),i=t("../../services/metaService"),o=t("../../services/bindCellService");e.exports=function(t){return{restrict:"AE",scope:{items:"=",grouping:"=",externalCallback:"&",columns:"=",itemAdditionsEditorEntityId:"=",isAllSelected:"=",entityType:"="},templateUrl:"views/directives/groupTable/table-body-view.html",link:function(e,r,a){n.component("groupTableBody","initialized"),e.readyStatus={cellsReady:!1};var s=e.entityType,l=[],c=[],u={};l=i.getBaseAttrs(),c=i.getEntityAttrs(s),e.toggleGroupFold=function(t){t.isFolded=!t.isFolded},e.openEntityMenu=function(t,e){t(e)};var d=function(){var t,n=[];for(t=0;t<e.columns.length;t+=1)"field"===e.columns[t].value_type&&n.push(o.findEntities(e.columns[t].key));Promise.all(n).then(function(t){t.forEach(function(t){u[t.key]=t.data}),e.readyStatus.cellsReady=!0})};e.toggleSelectRow=function(t){console.log("item111111111111111111",t),t.selectedRow=!t.selectedRow,e.isAllSelected===!0&&t.selectedRow===!1&&(e.isAllSelected=!1);var n=!0;e.items.forEach(function(t){t.hasOwnProperty("groups")?(!!t.selectedRow==!1&&(n=!1),t.items.forEach(function(t){!!t.selectedRow==!1&&(n=!1)})):!!t.selectedRow==!1&&(n=!1)}),n&&(e.isAllSelected=!0)},e.$watchCollection("columns",function(){e.readyStatus.cellsReady=!1,d()}),e.bindCell=function(t,n){if(n.hasOwnProperty("id"))return t[n.name];var i,o;for(i=0;i<l.length;i+=1)if(l[i].key===n.key)return t[l[i].key];for(o=0;o<c.length;o+=1)if(c[o].key===n.key){if("field"===n.value_type){var r=t[c[o].key];if(e.readyStatus.cellsReady){var a=u[n.key].filter(function(t){return t.id===r})[0];return a?a.display_name?a.display_name:a.name:""}return'<div class="zh-loader"></div>'}return t[c[o].key]}},e.rowCallback=function(t){e.itemAdditionsEditorEntityId=t.id},e.deleteEntity=function(n,i){t.show({controller:"EntityViewerDeleteDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{entity:i,entityType:e.entityType}}).then(function(t){"agree"===t&&e.externalCallback()})},e.editEntity=function(n,i){t.show({controller:"EntityViewerEditDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{parentScope:e,entity:i}}).then(function(t){"agree"===t&&e.externalCallback()})}}}}}()},{"../../services/bindCellService":73,"../../services/logService":92,"../../services/metaService":93}],39:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/group-table-shell-view.html",scope:{tabs:"=",entityType:"=",items:"=",filters:"=",columns:"=",grouping:"=",folding:"=",sorting:"=",itemAdditionsEditorEntityId:"=",itemAdditionsEditorTemplate:"=",itemAdditions:"=",itemAdditionsColumns:"=",itemAdditionsFilters:"=",itemAdditionsSorting:"=",externalGetAdditions:"&",externalCallback:"&",externalAdditionsCallback:"&",externalUpdateItem:"&",externalUpdateItemAdditions:"&",additionsStatus:"="},link:function(t,e,i){n.component("groupTable","initialized"),t.additionsState=!1,$(".app-md-content").addClass("g-table-overflow"),t.$watchCollection("additionsStatus",function(){t.additionsState=!1,(t.additionsStatus.editor||t.additionsStatus.table)&&(t.additionsState=!0)})}}}}()},{"../../services/logService":92}],40:[function(t,e,n){!function(){"use strict";var n=t("../../services/logService");e.exports=function(){return{restrict:"A",scope:{},link:function(t,e,i){function o(){var t=$(e).parents(".g-table-section").width()+$("md-sidenav").width()-15,n=$(e).offset().top;$(e).find(".mCSB_scrollTools_vertical").css({height:$(e).height()+"px",position:"fixed",top:n+"px",left:t+"px"})}n.component("groupVerticalScroll","initialized"),$(e).mCustomScrollbar({axis:"y",callbacks:{onInit:o,onBeforeUpdate:o}})}}}}()},{"../../services/logService":92}],41:[function(t,e,n){!function(){"use strict";e.exports=function(t,e){return{scope:{itemId:"=",template:"=",entityType:"="},restrict:"AE",link:function(n,i,o){var r=t.get(n.template),a=e(r)(n);$(i).append(a),$(i).mCustomScrollbar({axis:"y"})}}}}()},{}],42:[function(t,e,n){!function(){"use strict";e.exports=function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,i,o){console.log("RESOLVER INSTRUMENT MODAL",o),$(n).on("click",function(e){e.preventDefault(),e.stopPropagation(),t.show({controller:"InstrumentSelectDialogController as vm",templateUrl:"views/instrument-select-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,clickOutsideToClose:!0,locals:{ngModelCtrl:o}}).then(function(t){"agree"===t.status&&(o.$setViewValue(t.data.item.id),o.$render(),console.log("ngModelCtrl",o))}),console.log("START MODAL!")})}}}}()},{}],43:[function(t,e,n){!function(){"use strict";var n=(t("../services/logService"),t("../services/metaService")),i=t("../services/layoutService");e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/layout-constructor-field-view.html",scope:{tab:"=",row:"=",column:"="},link:function(t,e,o){function r(){var e;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].row===t.row&&t.tab.layout.fields[e].column===t.column&&(t.item=t.tab.layout.fields[e],t.backupItem=JSON.parse(JSON.stringify(t.tab.layout.fields[e])))}function a(){var e;for(t.tab.layout.rows=t.tab.layout.rows+1,e=0;e<t.tab.layout.columns;e+=1)t.tab.layout.fields.push({row:t.tab.layout.rows,column:e+1,colspan:1,type:"empty"}),console.log("tab",t.tab)}function s(){var e,n,i,o=[];for(n=1;n<=t.tab.layout.rows;n+=1){for(i=!0,e=0;e<t.tab.layout.fields.length;e+=1)if(t.tab.layout.fields[e].row==n&&"field"===t.tab.layout.fields[e].type){i=!1;break}i&&o.push(n)}l(o)}function l(e){var n,i;for(n=t.tab.layout.rows;n>0;n-=1)for(i=e.length;i>0;i-=1)if(n===e[i]&&n-1===e[i-1]&&n!==e[0]){var o;for(o=0;o<t.tab.layout.fields.length;o+=1)t.tab.layout.fields[o].row==t.tab.layout.rows&&(t.tab.layout.fields.splice(o,1),o-=1);t.tab.layout.rows=t.tab.layout.rows-1}}function c(){var e,n,i,o;for(e=0;e<t.attrs.length;e+=1)if(t.attrs[e].id&&t.item.id)t.attrs[e].id===t.item.id&&(t.item.attribute=t.attrs[e],t.backupItem.attribute=t.attrs[e]);else{for(n=0;n<t.baseAttrs.length;n+=1)t.baseAttrs[n].name===t.item.name&&(t.item.attribute=t.baseAttrs[n],t.backupItem.attribute=t.baseAttrs[n]);for(o=0;o<t.entityAttrs.length;o+=1)t.entityAttrs[o].name===t.item.name&&(t.item.attribute=t.entityAttrs[o],t.backupItem.attribute=t.entityAttrs[o]);if(!t.item.attribute)for(i=0;i<t.layoutAttrs.length;i+=1)t.layoutAttrs[i].name===t.item.name&&(t.item.attribute=t.layoutAttrs[i],t.backupItem.attribute=t.layoutAttrs[i])}}var u=n.getValueTypes();t.item={column:t.column,row:t.row,colspan:1,editMode:!1},t.specialOptionTemplate="",r(),t.fieldType=null,t.editMode=!1,t.entityType=t.$parent.vm.entityType,t.attrs=t.$parent.vm.attrs,t.baseAttrs=t.$parent.vm.baseAttrs,t.entityAttrs=t.$parent.vm.entityAttrs,t.layoutAttrs=i.getLayoutAttrs();var d=t.$parent.vm.tabs;t.cancel=function(){console.log("scope.item",t.item),console.log("scope.backupItem",t.backupItem),t.item.name||t.item.id?(t.item=t.backupItem,t.item.colspan=t.backupItem.colspan):(t.item.attr=null,t.item.colspan=1),t.item.editMode=!1},t.toggleEditMode=function(){var e;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].editMode=!1;console.log("ite55555555555555555555555555m",t.item),t.item.editMode=!0},t.saveField=function(){var e;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].row===t.item.row&&t.tab.layout.fields[e].column===t.item.column&&(t.item.attribute.hasOwnProperty("id")?t.tab.layout.fields[e].id=t.item.attribute.id:t.tab.layout.fields[e].name=t.item.attribute.name,t.tab.layout.fields[e].type="field",t.tab.layout.fields[e].colspan=t.item.colspan,t.tab.layout.fields[e].attribute=t.item.attribute,t.tab.layout.fields[e].row==t.tab.layout.rows&&a());t.item.editMode=!1},t.getCols=function(){var e,n=1,i=[1];for(e=t.column;e<t.tab.layout.columns;e+=1)n+=1,i.push(n);return i},t.changeModel=function(e){t.item.attribute=e},t.deleteField=function(){var e;for(t.item.id=null,t.item.key=null,t.item.attribute=null,t.item.colspan=1,e=0;e<t.tab.layout.fields.length;e+=1)if(t.tab.layout.fields[e].row==t.item.row&&t.tab.layout.fields[e].column==t.item.column){t.tab.layout.fields[e].id=null,t.tab.layout.fields[e].key=null,t.tab.layout.fields[e].colspan=1,t.tab.layout.fields[e].name="",t.tab.layout.fields[e].type="empty",s();break}},c(),t.findAttrsLeft=function(){t.attrs.forEach(function(t){d.forEach(function(e){e.layout.fields.forEach(function(e){"field"===e.type&&t.id===e.id&&(t.disabled=!0)})})}),t.baseAttrs.forEach(function(t){d.forEach(function(e){e.layout.fields.forEach(function(e){"field"===e.type&&t.key===e.attribute.key&&(t.disabled=!0)})})}),t.entityAttrs.forEach(function(t){d.forEach(function(e){e.layout.fields.forEach(function(e){"field"===e.type&&t.key===e.attribute.key&&(t.disabled=!0)})})})},t.bindType=function(){var e;if("decoration"==t.item.attribute.value_type)return t.item.attribute.value_type;for(e=0;e<u.length;e+=1)if(t.item.attribute.value_type===u[e].value)return u[e].display_name},t.findSelected=function(t,e){return!(!t||!e||t.join(" ")!==e.join(" "))},t.copyFromValue=function(t){return t.id?JSON.stringify({id:t.id}):JSON.stringify({key:t.key})},t.findStringAttributes=function(){var e,i,o,r=[];for(i=0;i<t.attrs.length;i+=1)10===t.attrs[i].value_type&&r.push(t.attrs[i]);if(-1===n.getEntitiesWithoutBaseAttrsList().indexOf(t.entityType))for(e=0;e<t.baseAttrs.length;e+=1)10===t.baseAttrs[e].value_type&&r.push(t.baseAttrs[e]);for(o=0;o<t.entityAttrs.length;o+=1)10===t.entityAttrs[o].value_type&&r.push(t.entityAttrs[o]);return r},t.checkForSpecialOptions=function(){if(t.item.attribute)if(t.item.attribute.hasOwnProperty("id")){if(10==t.item.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/string.html",!0}else{if("Notes"===t.item.attribute.name)return t.specialOptionTemplate="views/attribute-options/notes.html",!0;if(10==t.item.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/string.html",!0;if("field"===t.item.attribute.value_type&&-1===n.getRestrictedEntitiesWithTypeField().indexOf(t.item.attribute.key))return t.specialOptionTemplate="views/attribute-options/field.html",!0;if(40===t.item.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/date.html",!0;if(20===t.item.attribute.value_type||"float"===t.item.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/number.html",!0;if("decoration"===t.item.attribute.value_type&&"layoutLineWithLabel"===t.item.attribute.key)return t.specialOptionTemplate="views/attribute-options/labeled-line.html",!0}return!1}}}}}()},{"../services/layoutService":91,"../services/logService":92,"../services/metaService":93}],44:[function(t,e,n){!function(){"use strict";e.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-link-view.html",link:function(t,e){var n=e.parent().controller();t.focusSection=function(){n.autoFocusContent=!0}}}}}()},{}],45:[function(t,e,n){!function(){"use strict";e.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-toggle-view.html",link:function(t,e){var n=e.parent().controller();t.isOpen=function(){return n.isOpen(t.section)},t.toggle=function(){n.toggleOpen(t.section)}}}}}()},{}],46:[function(t,e,n){!function(){"use strict";e.exports=function(t){return function(t,e,n,i){if(console.log("value",t),!t)return"";var o=t.$$unwrapTrustedValue();if(n=parseInt(n,10),!n)return t;if(o.length<=n)return o;if(o=o.substr(0,n),e){var r=o.lastIndexOf(" ");-1!=r&&("."!=o.charAt(r-1)&&","!=o.charAt(r-1)||(r-=1),o=o.substr(0,r))}return o+(i||" …");
}}}()},{}],47:[function(t,e,n){!function(){"use strict";e.exports=function(t){return function(e){return e?t.trustAsHtml(e.toString()):void 0}}}()},{}],48:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(){return window.fetch(o+"accounts/account-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(i.configureUrl(o+"accounts/account/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"accounts/account/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(t){return window.fetch(o+"accounts/account/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(o+"accounts/account/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},u=function(t){return window.fetch(o+"accounts/account/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getTypeList:r,getList:a,getByKey:s,create:l,update:c,deleteByKey:u}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],49:[function(t,e,n){!function(){"use strict";function n(t){switch(t){case"counterparty":return"counterparties/"+t+"-attribute-type/";case"responsible":return"counterparties/"+t+"-attribute-type/";default:return t+"s/"+t+"-attribute-type/"}}var i=t("../services/cookieService"),o=(t("../services/configureRepositoryUrlService"),"/api/v1/"),r=function(t){return"price-history"===t||"currency-history"===t?new Promise(function(t){t({results:[]})}):window.fetch(o+n(t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t,e){return window.fetch(o+n(t)+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(o+n(t),{method:"POST",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t,e,r){return window.fetch(o+n(t)+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(r)}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(o+n(t)+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],50:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"counterparties/counterparty/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"counterparties/counterparty/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"counterparties/counterparty/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"counterparties/counterparty/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"counterparties/counterparty/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],51:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"currencies/currency-history/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"currencies/currency-history/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"currencies/currency-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"currencies/currency-history/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"currencies/currency-history/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],52:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i="/api/v1/",o=function(){return window.fetch(i+"currencies/currency/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(i+"currencies/currency/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(i+"currencies/currency/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(i+"currencies/currency/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){return window.fetch(i+"currencies/currency/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:r,create:a,update:s,deleteByKey:l}}()},{"../services/cookieService":75}],53:[function(t,e,n){!function(){"use strict";var t=function(){var t;return localStorage.getItem("view")?t=JSON.parse(localStorage.getItem("view")):(t={table:{columns:[{key:"name",options:{styles:{width:108},sort:"ASC"}},{key:"short_name",options:{styles:{width:138},sort:null}},{id:5,options:{styles:{width:120},sort:null}}],filters:[{id:5,options:{query:"russia",enabled:!1}}],folding:!1,grouping:[{id:7,options:{styles:{width:178},sort:"DESC",isFolded:!1}}],sorting:{group:{id:5,key:null,sort:"DESC"},column:{id:null,key:"name",sort:"ASC"}}},tableAdditions:{additionsType:"",foreignEntityId:1,entityType:"transaction",table:{columns:[{key:"transaction_class",options:{styles:{width:108},sort:"ASC"}},{key:"transaction_currency",options:{styles:{width:140},sort:null}}],filters:[],sorting:{column:{key:"transaction_class",sort:"ASC"}}}},tabs:[{id:1,name:"General",layout:{columns:3,rows:2,fields:[{name:"Name",row:1,column:1,colspan:1,type:"field"},{name:"Notes",row:1,column:2,colspan:1,type:"field"},{row:1,column:3,colspan:1,type:"empty"},{row:2,column:1,colspan:1,type:"empty"},{row:2,column:2,colspan:1,type:"empty"},{id:6,row:2,column:3,colspan:1,type:"field"}]}},{id:2,name:"Attributes",layout:{columns:2,rows:1,fields:[{id:1,row:1,column:1,colspan:1,type:"field"},{id:7,row:1,column:2,colspan:1,type:"field"}]}},{id:3,name:"Custom",layout:{columns:1,rows:1,fields:[{name:"Short name",row:1,column:1,colspan:1,type:"field"}]}}]},localStorage.setItem("view",JSON.stringify(t))),new Promise(function(e,n){e(t)})},n=function(t){return new Promise(function(e,n){localStorage.setItem("view",JSON.stringify(t)),e(void 0)})};e.exports={getView:t,save:n}}()},{}],54:[function(t,e,n){!function(){var t=function(t){return new Promise(function(e,n){e([{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:2,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:3,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]},{master_user:null,portfolio:t,transaction_class:1,transaction_currency:10,instrument:null,position_size_with_sign:null,settlement_currency:null,cash_consideration:null,principal_with_sign:null,carry_with_sign:null,overheads_with_sign:null,accounting_date:null,cash_date:null,account_cash:null,account_position:null,account_interim:null,reference_fx_rate:null,is_locked:!1,is_canceled:!1,factor:null,trade_price:null,principal_amount:null,carry_amount:null,overheads:null,responsible:null,counterparty:null,attributes:[]}])})};e.exports={getList:t}}()},{}],55:[function(t,e,n){!function(){"use strict";var t=function(){return new Promise(function(t,e){t([{value:"1",name:"Skip"},{value:"2",name:"Manual"},{value:"3",name:"Bloomberg"}])})},n=function(){return new Promise(function(t,e){t([{value:"1",name:"% per annum"},{value:"2",name:"per annum"},{value:"3",name:"per quarter"},{value:"4",name:"per month"},{value:"5",name:"per week"},{value:"6",name:"per day"}])})},i=function(){return new Promise(function(t,e){t([{value:"1",name:"Buy"},{value:"2",name:"Sell"},{value:"3",name:"FX Trade"},{value:"4",name:"Instrument PL"},{value:"5",name:"Transaction PL"},{value:"6",name:"Transfer"},{value:"7",name:"FX Transfer"},{value:"8",name:"Cash-Inflow"},{value:"9",name:"Cash-Outflow"}])})};e.exports={getDailyPricingModelChoices:t,getPaymentSizeDetailChoices:n,getTransactionClassList:i}}()},{}],56:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"instruments/instrument/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"instruments/instrument/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"instruments/instrument/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"instruments/instrument/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/instrument/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],57:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i="/api/v1/",o=function(){return window.fetch(i+"instruments/instrument-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(i+"instruments/instrument-type/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(i+"instruments/instrument-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(i+"instruments/instrument-type/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){return window.fetch(i+"instruments/instrument-type/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:r,create:a,update:s,deleteByKey:l}}()},{"../services/cookieService":75}],58:[function(t,e,n){!function(){"use strict";var t=function(){return window.fetch("portal/content/json/menu.json").then(function(t){return t.json()})},n=function(){return[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10}]},i=function(){return["price-history","currency-history"]},o=function(t){var e={portfolio:[{key:"user_code",name:"User code",value_type:10}],account:[{key:"user_code",name:"User code",value_type:10},{key:"type",name:"Type",value_type:"field"},{key:"public_name",name:"Public name",value_type:10}],counterparty:[{key:"user_code",name:"User code",value_type:10}],responsible:[{key:"user_code",name:"User code",value_type:10}],instrument:[{key:"user_code",name:"User code",value_type:10},{key:"instrument_type",name:"Instrument type",value_type:"field"},{key:"is_active",name:"Is active",value_type:"boolean"},{key:"pricing_currency",name:"Pricing currency",value_type:"field"},{key:"price_multiplier",name:"Price multiplier",value_type:"float"},{key:"accrued_currency",name:"Accrued currency",value_type:"field"},{key:"accrued_multiplier",name:"Accrued multiplier",value_type:"float"},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"payment_size_detail",name:"Payment size detail",value_type:"field"},{key:"default_price",name:"Default price",value_type:"float"},{key:"default_accrued",name:"Default accrued",value_type:"float"},{key:"user_text_1",name:"User text 1",value_type:10},{key:"user_text_2",name:"User text 2",value_type:10},{key:"user_text_3",name:"User text 3",value_type:10}],transaction:[{key:"transaction_code",name:"Transaction Code",value_type:20},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"position_size_with_sign",name:"Position Size with sign",value_type:"float"},{key:"settlement_currency",name:"Settlement currency",value_type:"field"},{key:"cash_consideration",name:"Sash consideration",value_type:"float"},{key:"principal_with_sign",name:"Principal with sign",value_type:"float"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"accounting_date",name:"Accounting date",value_type:40},{key:"cash_date",name:"Cash date",value_type:40},{key:"transaction_date",name:"Transaction date",value_type:40},{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"strategy1_position",name:"Strategy1 position",value_type:"field"},{key:"strategy1_cash",name:"Strategy1 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy2 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy2 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy3 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy3 cash",value_type:"field"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"is_locked",name:"Is locked",value_type:"boolean"},{key:"is_canceled",name:"Is canceled",value_type:"boolean"},{key:"factor",name:"Factor",value_type:"float"},{key:"principal_amount",name:"Principal amount",value_type:"float"},{key:"carry_amount",name:"Carry amount",value_type:"float"},{key:"overheads",name:"overheads",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"}],"currency-history":[{key:"currency",name:"Currency",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"fx_rate",name:"Fx rate",value_type:"float"},{key:"fx_rate_expr",name:"fx_rate_expr",value_type:10}],"price-history":[{key:"instrument",name:"Instrument",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"pricing_policy",name:"Pricing policy",value_type:"field"},{key:"principal_price",name:"Principal price",value_type:"float"},{key:"accrued_price",name:"Accrued price",value_type:"float"},{key:"factor",name:"Factor",value_type:"float"}]};return e[t]},r=function(){return[{value:20,display_name:"Number"},{value:10,display_name:"String"},{value:40,display_name:"Date"},{value:30,display_name:"Classifier"},{value:"decoration",display_name:"Decoration"},{value:"field",display_name:"Field"},{value:"boolean",display_name:"Boolean"},{value:"float",display_name:"Float"}]},a=function(){return["daily_pricing_model","payment_size_detail","accrued_currency","pricing_currency"]};e.exports={getMenu:t,getBaseAttrs:n,getEntityAttrs:o,getValueTypes:r,getEntitiesWithoutBaseAttrsList:i,getRestrictedEntitiesWithTypeField:a}}()},{}],59:[function(t,e,n){!function(){"use strict";var t="/api/v1/",n=function(){return window.fetch(t+"notifications/notification/?all=true&type=",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:n}}()},{}],60:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(){return window.fetch(o+"portfolios/portfolio-classifier/node/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"portfolios/portfolio-classifier/node/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(){return window.fetch(o+"portfolios/portfolio-classifier/",{method:"GET",
credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(t){return window.fetch(o+"portfolios/portfolio-classifier/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(i.configureUrl(o+"portfolios/portfolio/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},u=function(t){return window.fetch(o+"portfolios/portfolio/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t){return window.fetch(o+"portfolios/portfolio/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},p=function(t,e){return window.fetch(o+"portfolios/portfolio/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},m=function(t){return window.fetch(o+"portfolios/portfolio/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getClassifierNodeList:r,getClassifierNodeByKey:a,getClassifierList:s,getClassifierByKey:l,getList:c,getByKey:u,create:d,update:p,deleteByKey:m}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],61:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"instruments/price-history/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"instruments/price-history/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"instruments/price-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"instruments/price-history/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/price-history/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],62:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i="/api/v1/",o=function(){return window.fetch(i+"instruments/pricing-policy/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(i+"instruments/pricing-policy/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(i+"instruments/pricing-policy/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(i+"instruments/pricing-policy/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){return window.fetch(i+"instruments/pricing-policy/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:r,create:a,update:s,deleteByKey:l}}()},{"../services/cookieService":75}],63:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"counterparties/responsible/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"counterparties/responsible/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"counterparties/responsible/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"counterparties/responsible/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"counterparties/responsible/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],64:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"strategies/strategy3/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"strategies/strategy3/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"strategies/strategy3/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"strategies/strategy3/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"strategies/strategy3/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],65:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"strategies/strategy1/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"strategies/strategy1/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"strategies/strategy1/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"strategies/strategy1/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"strategies/strategy1/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],66:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i=t("../services/configureRepositoryUrlService"),o="/api/v1/",r=function(t){return window.fetch(i.configureUrl(o+"strategies/strategy2/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(o+"strategies/strategy2/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"strategies/strategy2/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"strategies/strategy2/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"strategies/strategy2/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:r,getByKey:a,create:s,update:l,deleteByKey:c}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],67:[function(t,e,n){!function(){"use strict";var n=(t("../services/cookieService"),t("../services/configureRepositoryUrlService")),i="/api/v1/",o=function(t){return window.fetch(n.configureUrl(i+"transactions/transaction/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(i+"transactions/transaction/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},a=function(t){return window.fetch(i+"transactions/transaction/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(i+"transactions/transaction/"+t+"/",{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){return window.fetch(i+"transactions/transaction/"+t+"/",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:r,create:a,update:s,deleteByKey:l}}()},{"../services/configureRepositoryUrlService":74,"../services/cookieService":75}],68:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i="/api/v1/",o=function(t){var e;switch(t){case"portfolio":e="portfolios.portfolio";break;case"account":e="accounts.account";break;case"currency":e="currencies.currency";break;case"instrument":e="instruments.instrument";break;case"counterparty":e="counterparties.counterparty";break;case"responsible":e="counterparties.responsible";break;case"transaction":e="transactions.transaction";break;case"price-history":e="instruments.pricehistory";break;case"currency-history":e="currencies.currencyhistory"}return window.fetch(i+"ui/edit-layout/?content_type="+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t,e){return window.fetch(i+"ui/edit-layout/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},a=function(t,e){var o;switch(t){case"portfolio":o="portfolios.portfolio";break;case"account":o="accounts.account";break;case"currency":o="currencies.currency";break;case"instrument":o="instruments.instrument";break;case"counterparty":o="counterparties.counterparty";break;case"responsible":o="counterparties.responsible";break;case"transaction":o="transactions.transaction";break;case"price-history":o="instruments.pricehistory";break;case"currency-history":o="currencies.currencyhistory"}return window.fetch(i+"ui/list-layout/?content_type="+o,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getEditLayout:o,updateEditLayout:r,getListLayout:a}}()},{"../services/cookieService":75}],69:[function(t,e,n){!function(){"use strict";var n=t("../services/cookieService"),i="/api/v1/",o=function(t){console.log("Method: "+t+". Cannot get data from server")},r=function(t,e){return window.fetch(i+"users/login/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({username:t,password:e})}).then(function(t){return t.json()})["catch"](function(){return o("login"),[]})},a=function(){return window.fetch(i+"users/logout/",{method:"POST",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(){return window.fetch(i+"users/ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(){return window.fetch(i+"users/protected-ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(){return window.fetch(i+"users/user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},u=function(t){return window.fetch(i+"users/user/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(i+"users/user/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},p=function(t,e){return window.fetch(i+"users/user/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},m=function(t){return window.fetch(i+"users/user/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},g=function(){return window.fetch(i+"users/master-user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},y=function(t){return window.fetch(i+"users/master-user/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},f=function(t,e){return window.fetch(i+"users/master-user/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},v=function(t,e){return window.fetch(i+"users/master-user/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},h=function(t){return window.fetch(i+"users/master-user/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},b=function(){return window.fetch(i+"users/member/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},w=function(t){return window.fetch(i+"users/member/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},_=function(t,e){return window.fetch(i+"users/member/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},k=function(t,e){return window.fetch(i+"users/member/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},S=function(t){return window.fetch(i+"users/member/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},C=function(){return window.fetch(i+"users/group/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={login:r,logout:a,ping:s,protectedPing:l,getList:c,getByKey:u,update:d,patch:p,deleteByKey:m,getMasterList:g,getMasterByKey:y,updateMaster:f,patchMaster:v,deleteMasterByKey:h,getMemberList:b,getMemberByKey:w,updateMember:_,patchMember:k,deleteMemberByKey:S,getGroupList:C}}()},{"../services/cookieService":75}],70:[function(t,e,n){!function(){e.exports=function(t,e){t.state("app",{url:"",templateUrl:"views/shell-view.html",controller:"ShellController as vm"}).state("app.notifications",{url:"/notifications",templateUrl:"views/notifications-view.html",controller:"NotificationsController as vm"}).state("app.attributesManager",{url:"/attributes/:entityType",templateUrl:"views/attributes-manager-view.html",controller:"AttributesManagerController as vm"}),t.state("app.dashboard",{url:"/",templateUrl:"views/dashboard-view.html",controller:"DashboardController as vm"}),t.state("app.data",{url:"/data","abstract":!0,template:"<div data-ui-view></div>"}).state("app.data.portfolio",{url:"/portfolios",templateUrl:"views/data/data-portfolio-view.html",controller:"DataPortfolioController as vm"}).state("app.data.account",{url:"/accounts",templateUrl:"views/data/data-account-view.html",controller:"DataAccountController as vm"}).state("app.data.counterparty",{url:"/counterparties",templateUrl:"views/data/data-counterparty-view.html",controller:"DataCounterpartyController as vm"}).state("app.data.responsible",{url:"/responsibles",templateUrl:"views/data/data-responsible-view.html",controller:"DataResponsibleController as vm"}).state("app.data.instrument",{url:"/instruments",templateUrl:"views/data/data-instrument-view.html",controller:"DataInstrumentController as vm"}).state("app.data.transaction",{url:"/transactions",templateUrl:"views/data/data-transaction-view.html",controller:"DataTransactionController as vm"}).state("app.data.currency-history",{url:"/currencies",templateUrl:"views/data/data-currency-history-view.html",controller:"DataCurrencyHistoryController as vm"}).state("app.data.price-history",{url:"/pricing",templateUrl:"views/data/data-price-history-view.html",controller:"DataPriceHistoryController as vm"}).state("app.data.pricing",{url:"/pricing",templateUrl:"views/data/data-pricing-view.html",controller:"DataPortfolioController as vm"}),t.state("app.data-constructor",{url:"/layout/:entityType",templateUrl:"views/entity-data-constructor-view.html",controller:"EntityDataConstructorController as vm"}),e.otherwise("/")}}()},{}],71:[function(t,e,n){!function(){var n=t("../repositories/accountRepository"),i=function(t){return n.getList(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},a=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/accountRepository":48}],72:[function(t,e,n){!function(){"use strict";var n=t("../repositories/attributeTypeRepository"),i=function(t){return n.getList(t)},o=function(t,e){return n.getByKey(t,e)},r=function(t,e){return n.create(t,e)},a=function(t,e,i){return n.update(t,e,i)},s=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/attributeTypeRepository":49}],73:[function(t,e,n){!function(){"use strict";var n=t("../repositories/instrumentRepository"),i=t("../repositories/pricingPolicyRepository"),o=t("../repositories/currencyRepository"),r=t("../repositories/accountRepository"),a=t("../repositories/instrumentTypeRepository"),s={},l=function(t){return new Promise(function(e){if(!s[t])switch(t){case"instrument":return n.getList().then(function(n){s[t]=n.results,e({key:t,data:s[t]})});case"pricing_policy":return i.getList().then(function(n){s[t]=n.results,e({key:t,data:s[t]})});case"currency":return o.getList().then(function(n){s[t]=n.results,e({key:t,data:s[t]})});case"pricing_currency":return o.getList().then(function(n){s[t]=n.results,e({key:t,data:s[t]})});case"accrued_currency":return o.getList().then(function(n){s[t]=n.results,e({key:t,data:s[t]})});case"instrument_type":return a.getList().then(function(n){s[t]=n.results,e({key:t,data:s[t]})});case"type":return r.getTypeList().then(function(n){s[t]=n.results,e({key:t,data:s[t]})})}e({key:t,data:s[t]})})};e.exports={findEntities:l}}()},{"../repositories/accountRepository":48,"../repositories/currencyRepository":52,"../repositories/instrumentRepository":56,"../repositories/instrumentTypeRepository":57,"../repositories/pricingPolicyRepository":62}],74:[function(t,e,n){!function(){"use strict";function t(t,e){if(e){e.sort&&(t="ASC"===e.sort.direction?t+"?ordering="+e.sort.key:t+"?ordering=-"+e.sort.key);var n=[];e.filters&&e.sort&&(n=Object.keys(e.filters),n.forEach(function(n){e.filters[n]&&(t=t+"&"+n+"="+e.filters[n])})),e.filters&&!e.sort&&(n=Object.keys(e.filters),n.forEach(function(n,i){0===i?(console.log("options.filters[item]",e.filters[n]),t=t+"?"+n+"="+e.filters[n]):t=t+"&"+n+"="+e.filters[n]}))}return t}e.exports={configureUrl:t}}()},{}],75:[function(t,e,n){!function(){"use strict";var t=function(t){var e=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var o=jQuery.trim(n[i]);if(o.substring(0,t.length+1)==t+"="){e=decodeURIComponent(o.substring(t.length+1));break}}return e};e.exports={getCookie:t}}()},{}],76:[function(t,e,n){!function(){var n=t("../repositories/counterpartyRepository"),i=function(t){return n.getList(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},a=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/counterpartyRepository":50}],77:[function(t,e,n){!function(){var n=t("../repositories/currencyHistoryRepository"),i=function(t){return n.getList(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},a=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/currencyHistoryRepository":51}],78:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/demo/demoPortfolioRepository"),i=function(){return n.getView()},o=function(t){return n.save(t)};e.exports={getView:i,save:o}}()},{"../../repositories/demo/demoPortfolioRepository":53}],79:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/demo/demoTransactionsRepository"),i=function(t){return n.getList(t)};e.exports={getList:i}}()},{"../../repositories/demo/demoTransactionsRepository":54}],80:[function(t,e,n){!function(){"use strict";var n=t("./portfolioService"),i=t("./accountService"),o=t("./responsibleService"),r=t("./counterpartyService"),a=t("./instrumentService"),s=t("./priceHistoryService"),l=(t("./currencyHistoryService"),function(t,e){switch(t){case"portfolio":return n.getByKey(e);case"account":return i.getByKey(e);case"responsible":return o.getByKey(e);case"counterparty":return r.getByKey(e);case"instrument":return a.getByKey(e);case"price-history":return s.getByKey(e);case"currency-history":return s.getByKey(e)}}),c=function(t,e){switch(t){case"portfolio":return n.create(e);case"account":return i.create(e);case"responsible":return o.create(e);case"counterparty":return r.create(e);case"instrument":return a.create(e);case"price-history":return s.create(e);case"currency-history":return s.create(e)}},u=function(t,e,l){switch(t){case"portfolio":return n.update(e,l);case"account":return i.update(e,l);case"responsible":return o.update(e,l);case"counterparty":return r.update(e,l);case"instrument":return a.update(e,l);case"price-history":return s.update(e,l);case"currency-history":return s.update(e,l)}},d=function(t,e){switch(t){case"portfolio":return n.deleteByKey(e);case"account":return i.deleteByKey(e);case"responsible":return o.deleteByKey(e);case"counterparty":return r.deleteByKey(e);case"instrument":return a.deleteByKey(e);case"price-history":return s.deleteByKey(e);case"currency-history":return s.deleteByKey(e)}};e.exports={getByKey:l,create:c,update:u,deleteByKey:d}}()},{"./accountService":71,"./counterpartyService":76,"./currencyHistoryService":77,"./instrumentService":90,"./portfolioService":95,"./priceHistoryService":96,"./responsibleService":97}],81:[function(t,e,n){!function(){"use strict";var t=function(t,e){return new Promise(function(n,i){var o,r,a=[];a=t.map(function(t){for(o=0;o<e.length;o+=1)for(r=0;r<t.attributes.length;r+=1)t.attributes[r].attribute_type===e[o].id&&(t.attributes[r].attribute_name=e[o].name,t[e[o].name]=t.attributes[r].value_string);return t}),n(a)})};e.exports={transformItems:t}}()},{}],82:[function(t,e,n){!function(){"use strict";var n=t("../repositories/entityFieldsRepository"),i=t("../repositories/accountRepository"),o=t("../repositories/instrumentRepository"),r=t("../repositories/instrumentTypeRepository"),a=t("../repositories/pricingPolicyRepository"),s=t("../repositories/currencyRepository"),l=t("../repositories/portfolioRepository"),c=t("../repositories/counterpartyRepository"),u=t("../repositories/responsibleRepository"),d=t("../repositories/strategyOneRepository"),p=t("../repositories/strategyTwoRepository"),m=t("../repositories/strategyThreeRepository"),g=function(t){return new Promise(function(e,g){switch(t){case"daily_pricing_model":n.getDailyPricingModelChoices().then(function(t){e({type:"key-value",key:"daily_pricing_model",data:t})});break;case"payment_size_detail":n.getPaymentSizeDetailChoices().then(function(t){e({type:"key-value",key:"payment_size_detail",data:t})});break;case"transaction_class":n.getTransactionClassList().then(function(t){e({type:"key-value",key:"transaction_class",data:t})});break;case"instrument":o.getList().then(function(t){e({type:"id",key:"instrument",data:t.results})});break;case"pricing_policy":a.getList().then(function(t){e({type:"id",key:"pricing_policy",data:t.results})});break;case"instrument_type":r.getList().then(function(t){e({type:"id",key:"instrument_type",data:t.results})});break;case"accrued_currency":s.getList().then(function(t){e({type:"id",key:"accrued_currency",data:t.results})});break;case"pricing_currency":s.getList().then(function(t){e({type:"id",key:"pricing_currency",data:t.results})});break;case"transaction_currency":s.getList().then(function(t){e({type:"id",key:"transaction_currency",data:t.results})});break;case"settlement_currency":s.getList().then(function(t){e({type:"id",key:"settlement_currency",data:t.results})});break;case"currency":s.getList().then(function(t){e({type:"id",key:"currency",data:t.results})});break;case"portfolio":l.getList().then(function(t){e({type:"id",key:"portfolio",data:t.results})});break;case"counterparty":c.getList().then(function(t){e({type:"id",key:"counterparty",data:t.results})});break;case"responsible":u.getList().then(function(t){e({type:"id",key:"responsible",data:t.results})});break;case"type":i.getTypeList().then(function(t){e({type:"id",key:"type",data:t.results})});break;case"account_cash":i.getTypeList().then(function(t){e({type:"id",key:"account_cash",data:t.results})});break;case"account_position":i.getTypeList().then(function(t){e({type:"id",key:"account_position",data:t.results})});break;case"account_interim":i.getTypeList().then(function(t){e({type:"id",key:"account_interim",data:t.results})});break;case"strategy1_position":d.getList().then(function(t){e({type:"id",key:"strategy1_position",data:t.results})});break;case"strategy1_cash":d.getList().then(function(t){e({type:"id",key:"strategy1_cash",data:t.results})});break;case"strategy2_position":p.getList().then(function(t){e({type:"id",key:"strategy2_position",data:t.results})});break;case"strategy2_cash":p.getList().then(function(t){e({type:"id",key:"strategy2_cash",data:t.results})});break;case"strategy3_position":m.getList().then(function(t){e({type:"id",key:"strategy3_position",data:t.results})});break;case"strategy3_cash":m.getList().then(function(t){e({type:"id",key:"strategy3_cash",data:t.results})})}})};e.exports={getFields:g}}()},{"../repositories/accountRepository":48,"../repositories/counterpartyRepository":50,"../repositories/currencyRepository":52,"../repositories/entityFieldsRepository":55,"../repositories/instrumentRepository":56,"../repositories/instrumentTypeRepository":57,"../repositories/portfolioRepository":60,"../repositories/pricingPolicyRepository":62,"../repositories/responsibleRepository":63,"../repositories/strategyOneRepository":64,"../repositories/strategyThreeRepository":65,"../repositories/strategyTwoRepository":66}],83:[function(t,e,n){!function(){"use strict";var t=function(t){var e,n=[];for(e=1;t>=e;e+=1)n.push(e);return n};e.exports={range:t}}()},{}],84:[function(t,e,n){!function(){"use strict";var t=function(t,e){return t};e.exports={setColumns:t}}()},{}],85:[function(t,e,n){!function(){"use strict";var t=function(t,e){if(e.length){var n,i,o,r,a=[],s=!0;for(n=0;n<t.length;n+=1){for(o=t[n],s=!0,i=0;i<e.length;i+=1)r=e[i],r.options||(r.options={enabled:!0,query:""}),r.options.enabled&&r.options.query&&(r.key?-1==o[r.key].toLocaleLowerCase().indexOf(r.options.query.toLocaleLowerCase())&&(s=!1):-1==o[r.name].toLocaleLowerCase().indexOf(r.options.query.toLocaleLowerCase())&&(s=!1));s&&a.push(o)}return a}return t};e.exports={setFilters:t}}()},{}],86:[function(t,e,n){!function(){"use strict";var t=function(t,e){
var n;for(n=0;n<t.length;n+=1)t[n].isFolded=e;return t};e.exports={setFolds:t}}()},{}],87:[function(t,e,n){!function(){"use strict";var n=t("./groupingService"),i=t("./filteringService"),o=t("./sortingService"),r=t("./columnsService"),a=t("./foldingService"),s=function(){function t(){this.setItems=function(t){s=t},this.columns=c,this.grouping=u,this.filtering=p,this.folding=d,this.sorting=m,this.projection=function(){return s},this.additions={setItems:function(t){l=t},columns:g,filtering:y,sorting:f,projection:function(){return l}}}var e,s=[],l=[],c={setColumns:function(t){s=r.setColumns(s,t)}},u={setGroups:function(t,e){s=n.setGroups(s,t,e)}},d={setFolds:function(t){s=a.setFolds(s,t)}},p={setFilters:function(t){s=i.setFilters(s,t)}},m={group:{sort:function(t){s=o.group.sort(s,t)}},column:{sort:function(t){l=o.column.sort(s,t)}}},g={setColumns:function(t){l=r.setColumns(l,t)}},y={setFilters:function(t){l=i.setFilters(l,t)}},f={column:{sort:function(t){l=o.column.additions.sort(l,t)}}};return t.getInstance=function(){return e||(e=new t),e},t}();e.exports=s}()},{"./columnsService":84,"./filteringService":85,"./foldingService":86,"./groupingService":88,"./sortingService":89}],88:[function(t,e,n){!function(){var n=t("../metaService"),i=function(t){var e,n=[],i=Object.keys(t);for(e=0;e<i.length;e+=1)n.push(t[i[e]]);return n},o=function(t,e,o){function r(t){return t.classifier?t.classifier:t.value_date?t.value_date:t.value_float?t.value_float:t.value_string}function a(t,e,n){if(t.hasOwnProperty("id"))t.id===n.attribute_type&&v.push({comparePattern:"&["+n.attribute_type+"}-{"+r(n)+"]",key:n.attribute_name,value:r(n)});else for(u=0;u<y.length;u+=1){var i,o=!1;if(t.key===y[u].key){for(i=0;i<v.length;i+=1)-1!==v[i].comparePattern.indexOf("&["+y[u].key+"}-{"+e[y[u].key]+"]")&&(o=!0);o||v.push({comparePattern:"&["+y[u].key+"}-{"+e[y[u].key]+"]",key:y[u].key,value:e[y[u].key]})}}}var s,l,c,u,d=[],p=[],m=[],g=[];n&&(-1===n.getEntitiesWithoutBaseAttrsList().indexOf(o)&&(m=n.getBaseAttrs()),g=n.getEntityAttrs(o));var y=[];y=y.concat(m),y=y.concat(g);var f="",v=[];if(e.length){var h,b;for(s=0;s<t.length;s+=1){for(b=t[s],v=[],f="",l=0;l<e.length;l+=1)if(h=e[l],h.hasOwnProperty("key")){a(h,b);var w=Object.keys(t[s]);for(c=0;c<w.length;c+=1)-1===f.indexOf("&["+h.key+"}-{"+b[h.key]+"]")&&(f=f+"&["+h.key+"}-{"+b[h.key]+"]")}else if(b.hasOwnProperty("attributes"))for(c=0;c<b.attributes.length;c+=1)a(h,b,b.attributes[c]),-1===f.indexOf("&["+b.attributes[c].attribute_type+"}-{"+r(b.attributes[c])+"]")&&(f=f+"&["+b.attributes[c].attribute_type+"}-{"+r(b.attributes[c])+"]");d[f]||(d[f]={groups:v,items:[]}),d[f].items.push(b),p=i(d)}return console.log("------------------------"),p}return t};e.exports={setGroups:o}}()},{"../metaService":93}],89:[function(t,e,n){!function(){"use strict";function t(t,e){return t.sort(function(t,n){var i=t[e.name].toLowerCase(),o=n[e.name].toLowerCase();return"DESC"===e.sort?o>i?-1:i>o?1:0:"ASC"===e.sort?i>o?-1:o>i?1:0:void 0})}function n(t,e){return t.sort(function(t,n){var i,o;return"number"==typeof t&&(i=t[e.key],o=n[e.key]),"string"==typeof t&&(i=t[e.key].toLowerCase(),o=n[e.key].toLowerCase()),"DESC"===e.sort?o>i?-1:i>o?1:0:"ASC"===e.sort?i>o?-1:o>i?1:0:void 0})}var i=function(t,e){var n,i,o,r;return t[0].groups&&(t=t.sort(function(t,a){for(n=0;n<a.groups.length;n+=1)for(i=0;i<t.groups.length;i+=1)if(a.groups[n].key===e.key||a.groups[n].key===e.name&&t.groups[i].key===e.key||t.groups[i].key===e.name){if(o=t.groups[i].value.toLowerCase(),r=a.groups[n].value.toLowerCase(),"DESC"===e.sort)return r>o?-1:o>r?1:0;if("ASC"===e.sort)return o>r?-1:r>o?1:0}})),t},o=function(e,i){return i.id&&(e=t(e,i)),i.key&&(e=n(e,i)),e},r=function(e,i){var o;if(e[0].groups){if(i.id)for(o=0;o<e.length;o+=1)e[o].items=t(e[o].items,i);if(i.key)for(o=0;o<e.length;o+=1)e[o].items=n(e[o].items,i)}else i.id&&(e=t(e,i)),i.key&&(e=n(e,i));return e};e.exports={group:{sort:i},column:{additions:{sort:o},sort:r}}}()},{}],90:[function(t,e,n){!function(){var n=t("../repositories/instrumentRepository"),i=function(t){return n.getList(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},a=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/instrumentRepository":56}],91:[function(t,e,n){!function(){"use strict";var t=function(){return[{key:"layoutLine",name:"Line",value_type:"decoration"},{key:"layoutLineWithLabel",name:"Labeled Line",value_type:"decoration"}]};e.exports={getLayoutAttrs:t}}()},{}],92:[function(t,e,n){!function(){"use strict";var t=function(t,e,n){var i=n||"color: #81C784";console.log('%c{"property": "'+t+'", "value": "',i,e,'"}')},n=function(t,e,n){var i=n||"color: #4FC3F7";console.log('%c{"collection": "'+t+'", "data":',i,e,"}")},i=function(t,e,n){var i=n||"color: #EF5350";console.log('%c{"event": "'+t+'", "data": "'+e+'"}',i)},o=function(t,e,n){var i=n||"color: #E0E0E0";console.log('%c{"controller": "'+t+'", "status": "'+e+'"}',i)},r=function(t,e,n){var i=n||"color: #B39DDB";console.log('%c{"component": "'+t+'", "status": "'+e+'"}',i)},a=function(t,e,n){var i=n||"color: #EC407A";console.log('%c{"service": "'+t+'", "status": "'+e+'"}',i)};e.exports={property:t,collection:n,event:i,controller:o,component:r,service:a}}()},{}],93:[function(t,e,n){!function(){var n=t("../repositories/metaRepository"),i=function(){return n.getMenu()},o=function(){return n.getBaseAttrs()},r=function(t){return n.getEntityAttrs(t)},a=function(){return n.getValueTypes()},s=function(){return n.getEntitiesWithoutBaseAttrsList()},l=function(){return n.getRestrictedEntitiesWithTypeField()};e.exports={getMenu:i,getBaseAttrs:o,getEntityAttrs:r,getValueTypes:a,getEntitiesWithoutBaseAttrsList:s,getRestrictedEntitiesWithTypeField:l}}()},{"../repositories/metaRepository":58}],94:[function(t,e,n){!function(){"use strict";var n=t("../repositories/notificationsRepository"),i=function(){return n.getList()};e.exports={getList:i}}()},{"../repositories/notificationsRepository":59}],95:[function(t,e,n){!function(){var n=t("../repositories/portfolioRepository"),i=function(){return n.getClassifierNodeList()},o=function(t){return n.getClassifierNodeByKey(t)},r=function(){return n.getClassifierList()},a=function(t){return n.getClassifierByKey(t)},s=function(t){return n.getList(t)},l=function(t){return n.getByKey(t)},c=function(t){return n.create(t)},u=function(t,e){return n.update(t,e)},d=function(t){return n.deleteByKey(t)};e.exports={getClassifierNodeList:i,getClassifierNodeByKey:o,getClassifierList:r,getClassifierByKey:a,getList:s,getByKey:l,create:c,update:u,deleteByKey:d}}()},{"../repositories/portfolioRepository":60}],96:[function(t,e,n){!function(){var n=t("../repositories/priceHistoryRepository"),i=function(t){return n.getList(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},a=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/priceHistoryRepository":61}],97:[function(t,e,n){!function(){var n=t("../repositories/responsibleRepository"),i=function(t){return n.getList(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},a=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/responsibleRepository":63}],98:[function(t,e,n){!function(){var n=t("../repositories/transactionRepository"),i=function(t){return n.getList(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},a=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:o,create:r,update:a,deleteByKey:s}}()},{"../repositories/transactionRepository":67}],99:[function(t,e,n){!function(){"use strict";var n=t("../repositories/uiRepository"),i=function(t){return n.getEditLayout(t)},o=function(t,e){return n.updateEditLayout(t,e)},r=function(t,e){return n.getListLayout(t,e)};e.exports={getEditLayout:i,updateEditLayout:o,getListLayout:r}}()},{"../repositories/uiRepository":68}],100:[function(t,e,n){!function(){"use strict";var n=t("../repositories/usersRepository"),i=function(t,e){return n.login(t,e)},o=function(){return n.logout()},r=function(){return n.ping()},a=function(){return n.protectedPing()},s=function(){return n.getList()},l=function(t){return n.getByKey(t)},c=function(t,e){return n.update(t,e)},u=function(t,e){return n.patch(t,e)},d=function(t){return n.deleteByKey(t)},p=function(){return n.getMasterList()},m=function(t){return n.getMasterByKey(t)},g=function(t,e){return n.updateMaster(t,e)},y=function(t,e){return n.patchMaster(t,e)},f=function(t){return n.deleteMasterByKey(t)},v=function(){return n.getMemberList()},h=function(t){return n.getMemberByKey(t)},b=function(t,e){return n.updateMember(t,e)},w=function(t,e){return n.patchMember(t,e)},_=function(t){return n.deleteMemberByKey(t)},k=function(){return n.getGroupList()};e.exports={login:i,logout:o,ping:r,protectedPing:a,getList:s,getByKey:l,update:c,patch:u,deleteByKey:d,getMasterList:p,getMasterByKey:m,updateMaster:g,patchMaster:y,deleteMasterByKey:f,getMemberList:v,getMemberByKey:h,updateMember:b,patchMember:w,deleteMemberByKey:_,getGroupList:k}}()},{"../repositories/usersRepository":69}],101:[function(t,e,n){"use strict";var i=angular.module("app",["ngAria","ngMaterial","ngMessages","ngMdIcons","ngResource","ngSanitize","ui.router","mdPickers","io.dennis.contextmenu",angularDragula(angular)]);i.config(["$stateProvider","$urlRouterProvider",t("./app/router.js")]),i.config(["$mdDateLocaleProvider",function(t){t.formatDate=function(t){return moment(t).format("YYYY-MM-DD")}}]),i.run(function(){console.log("App initialized")}),i.controller("ShellController",["$scope","$state",t("./app/controllers/shellController")]),i.controller("SideNavController",["$scope",t("./app/controllers/sideNavController")]),i.controller("DashboardController",["$scope",t("./app/controllers/dashboardController")]),i.controller("NotificationsController",["$scope",t("./app/controllers/notificationsController")]),i.controller("AttributesManagerController",["$scope","$state","$stateParams","$mdDialog",t("./app/controllers/attributesManagerController")]),i.controller("AttributesManagerEditDialogController",["$scope","$mdDialog","attribute",t("./app/controllers/attributesManagerEditDialogController")]),i.controller("AttributesManagerAddDialogController",["$scope","$mdDialog",t("./app/controllers/attributesManagerAddDialogController")]),i.controller("EntityViewerController",["$scope","$mdDialog","$mdMedia",t("./app/controllers/entityViewer/entityViewerController")]),i.controller("EntityViewerAddDialogController",["$scope","$mdDialog","parentScope","$state",t("./app/controllers/entityViewer/entityViewerAddDialogController")]),i.controller("EntityViewerEditDialogController",["$scope","$mdDialog","parentScope","entity","$state",t("./app/controllers/entityViewer/entityViewerEditDialogController")]),i.controller("EntityViewerDeleteDialogController",["$scope","$mdDialog","entity","entityType",t("./app/controllers/entityViewer/entityViewerDeleteDialogController")]),i.controller("DataPortfolioController",["$scope",t("./app/controllers/data/dataPortfolioController")]),i.controller("DataAccountController",["$scope",t("./app/controllers/data/dataAccountController")]),i.controller("DataCounterpartyController",["$scope",t("./app/controllers/data/dataCounterpartyController")]),i.controller("DataResponsibleController",["$scope",t("./app/controllers/data/dataResponsibleController")]),i.controller("DataInstrumentController",["$scope",t("./app/controllers/data/dataInstrumentController")]),i.controller("DataTransactionController",["$scope",t("./app/controllers/data/dataTransactionController")]),i.controller("DataPriceHistoryController",["$scope",t("./app/controllers/data/dataPriceHistoryController")]),i.controller("DataCurrencyHistoryController",["$scope",t("./app/controllers/data/dataCurrencyHistoryController")]),i.controller("EntityDataConstructorController",["$scope","$stateParams","$state","$mdDialog",t("./app/controllers/entityDataConstructorController")]),i.controller("AdditionsEditorEntityEditController",["$scope","$state",t("./app/controllers/additionsEditorEntityEditController")]),i.controller("WarningDialogController",["$scope","$mdDialog","warning",t("./app/controllers/warningDialogController")]),i.controller("InstrumentSelectDialogController",["$scope","$mdDialog",t("./app/controllers/instrumentSelectDialogController")]),i.directive("menuToggle",[t("./app/directives/menuToggleDirective")]),i.directive("menuLink",[t("./app/directives/menuLinkDirective")]),i.directive("bindFieldControl",[t("./app/directives/bindFieldControlDirective")]),i.directive("layoutConstructorField",[t("./app/directives/layoutConstructorFieldDirective")]),i.directive("addTabEc",["$compile",t("./app/directives/addTabEcDirective")]),i.directive("groupTable",[t("./app/directives/groupTable/gTableComponent")]),i.directive("groupTableBody",["$mdDialog",t("./app/directives/groupTable/gTableBodyComponent")]),i.directive("groupSidebarFilter",[t("./app/directives/groupTable/gSidebarFilterComponent")]),i.directive("groupReportSettings",[t("./app/directives/groupTable/gReportSettingsComponent")]),i.directive("groupGrouping",["$mdDialog",t("./app/directives/groupTable/gGroupingComponent")]),i.directive("groupColumns",[t("./app/directives/groupTable/gColumnsComponent")]),i.directive("groupClipboardHandler",[t("./app/directives/groupTable/gClipboardHandlerComponent")]),i.directive("groupColumnResizer",[t("./app/directives/groupTable/gColumnResizerComponent")]),i.directive("gDialogDraggable",[t("./app/directives/groupTable/gDialogDraggableComponent")]),i.directive("groupHeightAligner",[t("./app/directives/groupTable/gHeightAlignerComponent")]),i.directive("groupVerticalScroll",[t("./app/directives/groupTable/gVerticalScrollComponent")]),i.directive("groupHorizontalScroll",[t("./app/directives/groupTable/gHorizontalScrollComponent")]),i.directive("groupEditorBinder",["$templateCache","$compile",t("./app/directives/groupTable/groupEditorBinderComponent")]),i.controller("gModalController",["$scope","$mdDialog","parentScope","callback",t("./app/directives/groupTable/gModalComponent")]),i.directive("evFieldResolver",[t("./app/directives/entityViewerFieldResolverDirective")]),i.directive("floatNumbers",[t("./app/directives/floatNumbersDirective")]),i.directive("instrumentModalResolver",["$mdDialog",t("./app/directives/instrumentModalResolverDirective")]),i.filter("trustAsHtml",["$sce",t("./app/filters/trustAsHtmlFilter")]),i.filter("strLimit",["$filter",t("./app/filters/strLimitFilter")]),i.directive("ngRightClick",["$parse",function(t){return function(e,n,i){var o=t(i.ngRightClick);n.bind("contextmenu",function(t){e.$apply(function(){t.preventDefault(),o(e,{$event:t})})})}}]),t("./templates.min.js")},{"./app/controllers/additionsEditorEntityEditController":1,"./app/controllers/attributesManagerAddDialogController":2,"./app/controllers/attributesManagerController":3,"./app/controllers/attributesManagerEditDialogController":4,"./app/controllers/dashboardController":5,"./app/controllers/data/dataAccountController":6,"./app/controllers/data/dataCounterpartyController":7,"./app/controllers/data/dataCurrencyHistoryController":8,"./app/controllers/data/dataInstrumentController":9,"./app/controllers/data/dataPortfolioController":10,"./app/controllers/data/dataPriceHistoryController":11,"./app/controllers/data/dataResponsibleController":12,"./app/controllers/data/dataTransactionController":13,"./app/controllers/entityDataConstructorController":14,"./app/controllers/entityViewer/entityViewerAddDialogController":15,"./app/controllers/entityViewer/entityViewerController":16,"./app/controllers/entityViewer/entityViewerDeleteDialogController":17,"./app/controllers/entityViewer/entityViewerEditDialogController":18,"./app/controllers/instrumentSelectDialogController":19,"./app/controllers/notificationsController":20,"./app/controllers/shellController":21,"./app/controllers/sideNavController":22,"./app/controllers/warningDialogController":23,"./app/directives/addTabEcDirective":24,"./app/directives/bindFieldControlDirective":25,"./app/directives/entityViewerFieldResolverDirective":26,"./app/directives/floatNumbersDirective":27,"./app/directives/groupTable/gClipboardHandlerComponent":28,"./app/directives/groupTable/gColumnResizerComponent":29,"./app/directives/groupTable/gColumnsComponent":30,"./app/directives/groupTable/gDialogDraggableComponent":31,"./app/directives/groupTable/gGroupingComponent":32,"./app/directives/groupTable/gHeightAlignerComponent":33,"./app/directives/groupTable/gHorizontalScrollComponent":34,"./app/directives/groupTable/gModalComponent":35,"./app/directives/groupTable/gReportSettingsComponent":36,"./app/directives/groupTable/gSidebarFilterComponent":37,"./app/directives/groupTable/gTableBodyComponent":38,"./app/directives/groupTable/gTableComponent":39,"./app/directives/groupTable/gVerticalScrollComponent":40,"./app/directives/groupTable/groupEditorBinderComponent":41,"./app/directives/instrumentModalResolverDirective":42,"./app/directives/layoutConstructorFieldDirective":43,"./app/directives/menuLinkDirective":44,"./app/directives/menuToggleDirective":45,"./app/filters/strLimitFilter":46,"./app/filters/trustAsHtmlFilter":47,"./app/router.js":70,"./templates.min.js":102}],102:[function(t,e,n){!function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/additions-editor-view.html",'<div data-ng-controller="AdditionsEditorEntityEditController as vm"><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab></md-tabs><div layout="row"><md-button ng-click="vm.editLayout()" class="md-raised md-primary" style="margin-left: 27px; height: 36px">Edit Form</md-button><md-button ng-click="vm.save()" style="margin-right:20px; margin-bottom: 80px" class="md-raised">Save</md-button></div></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-manager-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Attribute manager</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="row"><md-input-container class="md-block" flex-gt-sm><label>Attribute name</label><input data-ng-model="vm.attribute.name"></md-input-container><div data-ng-if="vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']" disabled="disabled"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div><div data-ng-if="!vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attributes-manager-view.html",'<div class="attributes-manager-view"><md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addAttribute($event)"><ng-md-icon icon="add"></ng-md-icon></md-button><div><h2 class="am-header"><span data-ng-bind="vm.entityType"></span><ng-md-icon icon="keyboard_arrow_right"></ng-md-icon>MANAGE ATTRIBUTES</h2></div><div><md-button class="md-raised" data-ui-sref="app.data-constructor({entityType: vm.entityType})">RETURN TO FORM EDITOR</md-button></div><div data-ng-if="vm.attrs.length"><md-card data-ng-repeat="item in vm.attrs" class="am-attr-card"><div><b data-ng-bind="item.name"></b> (<span data-ng-bind="vm.bindType(item)"></span>)<div class="am-attr-misc"><md-button class="am-attr-btn" data-ng-click="vm.editAttr(item, $event)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.deleteAttr(item, $event)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!vm.attrs.length"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/dashboard-view.html","dashboard!")}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/entity-data-constructor-view.html",'<div class="entity-constructor"><div data-ng-if="vm.readyStatus.constructor" class="ec-tabs-holder" data-add-tab-ec data-tabs="vm.tabs"><h1 class="ec-breadcrumbs"><span class="ec-entity-type">{{vm.entityType}} ></span> INPUT FORM EDITOR</h1><md-tabs md-border-bottom md-dynamic-height><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><div data-ng-if="!tab.editState"><span class="ec-tab-item-name">{{tab.name}}</span><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.deleteTab(tab)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div><div data-ng-if="tab.editState"><md-input-container class="ec-tab-item-edit"><label>Tab name</label><input ng-model="tab.captionName"></md-input-container><md-button class="ec-tab-btn" data-ng-click="vm.saveEditedTab(tab)"><ng-md-icon icon="save"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab, \'back\', $index)"><ng-md-icon icon="cancel"></ng-md-icon></md-button></div></md-tab-label><md-tab-body><div class="ec-md-content ec-layout-tab"><div class="ec-layout-box"><span class="select-layout-caption">Select layout</span><md-button class="{{tab.layout.columns === item ? \'active\' : \'\' }} ec-layout-btn" data-ng-click="vm.setLayoutColumns(tab, item, $event)" data-ng-repeat="item in vm.boxColumns"><ng-md-icon icon="stop" data-ng-repeat="icon in vm.range(item)"></ng-md-icon></md-button></div><div class="ec-layout"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div data-ng-repeat="column in vm.range(tab.layout.columns)" flex="{{vm.bindFlex(tab, row, column)}}" data-ng-if="vm.checkColspan(tab, row, column)"><layout-constructor-field tab="tab" row="row" column="column"></layout-constructor-field></div></div></div></div></md-tab-body></md-tab></md-tabs><md-button ng-click="vm.cancel()" class="md-raised">Cancel</md-button><md-button ng-click="vm.saveLayout()" class="md-raised md-primary">Save & Return</md-button><md-button class="md-raised manage-attrs-btn" data-ui-sref="app.attributesManager({entityType: vm.entityType})">Manage attributes</md-button></div><div data-ng-if="!vm.readyStatus.constructor"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="120"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/instrument-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-select-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Search instrument</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="row"><div><md-input-container class="md-block"><label>User code</label><input data-ng-model="vm.search[\'user_code\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container><md-input-container class="md-block bind-field-input"><label>User text 1</label><input data-ng-model="vm.search[\'user_text_1\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></div><div><md-input-container class="md-block"><label>Name</label><input data-ng-model="vm.search[\'name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container><md-input-container class="md-block bind-field-input"><label>User text 2</label><input data-ng-model="vm.search[\'user_text_2\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></div><div><md-input-container class="md-block"><label>Short name</label><input data-ng-model="vm.search[\'short_name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container><md-input-container class="md-block bind-field-input"><label>User text 3</label><input data-ng-model="vm.search[\'user_text_3\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></div></div><div class="instrument-table-results"><div layout="column"><div layout="row" class="instrument-table-thead"><div flex="33">User code</div><div flex="33">Name</div><div flex="33">Short name</div></div><div layout="column" class="instrument-table-body"><div layout="row" data-ng-repeat="item in vm.instruments" class="{{item.active ? \'active\' : \'\'}} instrument-table-row" data-ng-click="vm.selectRow(item)"><div flex="33" data-ng-bind="item[\'user_code\']"></div><div flex="33" data-ng-bind="item[\'name\']"></div><div flex="33" data-ng-bind="item[\'short_name\']"></div></div></div></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/notifications-view.html",'<div class="notifications-view"><div data-ng-if="vm.notifications.length"><md-card class="nf-head-card"><div layout="row"><div flex="15">Date</div><div flex="10">From</div><div flex="75">Notification</div></div></md-card><md-card data-ng-repeat="item in vm.notifications"><div layout="row"><div flex="15">{{item[\'create_date\'] | date:\'dd/MM/yyyy HH:mm\'}}</div><div flex="10">System</div><div flex="75">{{item.message}}</div></div></md-card></div><div data-ng-if="!vm.notifications.length"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/shell-view.html",'<div layout="row" class="min-height"><div layout="row" class="sidenav-wrapper" data-ng-controller="SideNavController as vm" data-ng-include="\'views/side-nav-view.html\'"></div><div layout="column" class="relative" layout-fill role="main"><md-toolbar ng-show="!showSearch" class="header"><div class="md-toolbar-tools" layout-align="end end"><div class="header-misc" layout="row"><md-button ng-click="toggleSidenav(\'left\')" hide-gt-md aria-label="Menu"><ng-md-icon icon="menu"></ng-md-icon></md-button><md-button data-ui-sref="app.notifications" aria-label="Notifications"><ng-md-icon icon="mail_outline"></ng-md-icon></md-button><md-button data-ui-sref="app.notifications" aria-label="Notifications"><ng-md-icon icon="flag"></ng-md-icon></md-button><div class="header-profile"><ng-md-icon icon="account_circle" size="48"></ng-md-icon><span class="header-profile-name" data-ng-bind="vm.user.username"></span></div></div><!--<a href="#" data-ng-click="vm.logout()">Log out</a>--></div></md-toolbar><md-content flex md-scroll-y class="app-md-content"><div data-ui-view class="shell-view min-height"></div></md-content></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/side-nav-view.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z1" md-component-id="left" md-is-locked-open="$mdMedia(\'gt-sm\')"><md-toolbar md-scroll-shrink><div class="md-toolbar-tools"><img src="portal/content/img/finmars_logo.png" alt="" height="40" style="margin: 0 auto"></div></md-toolbar><md-content flex role="navigation"><ul class="side-menu"><li data-ng-repeat="section in vm.sections" class="parent-list-item" data-ng-class="{\'parentActive\' : vm.isSectionSelected(section)}"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul><md-button hide-gt-md aria-label="resize" class="to-small-btn fab"><ng-md-icon icon="chevron_left"></ng-md-icon></md-button></md-content></md-sidenav>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/warning-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.warning.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>{{vm.warning.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/date.html",'<div data-ng-if="item"><md-checkbox data-ng-model="item.options.dateToday" aria-label="checkbox">T</md-checkbox><md-checkbox data-ng-model="item.options.dateTodayPlus" aria-label="checkbox">T + 1</md-checkbox><md-checkbox data-ng-model="item.options.dateTodayMinus" aria-label="checkbox">T - 1</md-checkbox></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/field.html","<div data-ng-if=\"item\"><md-input-container class=\"md-block\"><label>Display fields in list</label><md-select ng-model=\"item.options.fieldsList\"><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container><md-input-container class=\"md-block\"><label>Display fields on form</label><md-select ng-model=\"item.options.fieldsForm\"><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container></div>");
}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/labeled-line.html",'<div><md-input-container class="md-block"><label>Label text</label><input data-ng-model="item.options.labelText"></md-input-container></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/notes.html",'<div><md-input-container class="md-block"><label>Row count</label><input data-ng-model="item.options.rowCount" type="number"></md-input-container><md-input-container class="md-block" flex-gt-sm><label>Frame</label><md-select ng-model="item.options.frame"><md-option value="0">No border</md-option><md-option value="1">Border</md-option></md-select></md-input-container></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/number.html",'<div><md-checkbox data-ng-model="item.options.onlyPositive" aria-label="checkbox">Only positive</md-checkbox></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/string.html",'<div><md-input-container class="md-block"><label>Copy text from</label><md-select ng-model="item.options.copyFrom"><md-option data-ng-repeat="attr in findStringAttributes()" ng-value="copyFromValue(attr)">{{attr.name}}</md-option></md-select></md-input-container><md-checkbox data-ng-model="item.options.notNull" aria-label="checkbox">Not null</md-checkbox></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-account-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-counterparty-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-currency-history-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-instrument-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-portfolio-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-price-history-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-responsible-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/data/data-transaction-view.html",'<div><div data-ng-if="vm.entityRaw.length"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.entityRaw.length"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/bind-field-control-view.html",'<div><div data-ng-if="fieldType[\'display_name\'] === \'Number\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-model="entity[getModelKey()]" type="number" data-ng-if="!item.options.onlyPositive"> <input data-ng-model="entity[getModelKey()]" type="number" min="0" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'String\'"><div data-ng-if="getModelKey() === \'notes\' "><md-input-container class="md-block textarea-bind-field"><label data-ng-bind="getName()"></label><textarea class="{{item.options.frame == 1 ? \'bordered\' : \'\' }}" data-ng-model="entity[getModelKey()]" cols="30" rows="{{item.options.rowCount}}"></textarea></md-input-container></div><div data-ng-if="getModelKey() !== \'notes\' "><md-input-container class="md-block bind-field-input {{item.options.copyFrom ? \'with-button\' : \'\'}}"><label data-ng-bind="getName()"></label><input data-ng-model="entity[getModelKey()]"><md-button data-ng-if="item.options.copyFrom" class="bf-copy-btn" data-ng-click="copyFromField(item.options.copyFrom)"><ng-md-icon icon="content_copy"></ng-md-icon></md-button></md-input-container></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Float\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-model="entity[getModelKey()]" data-float-numbers data-ng-if="!item.options.onlyPositive"> <input data-ng-model="entity[getModelKey()]" data-float-numbers data-only-positive="true" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Field\'"><div data-ev-field-resolver data-item="item" data-entity="entity"></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Date\'"><label data-ng-bind="getName()"></label><mdp-date-picker mdp-placeholder="Enter date" ng-model="entity[getModelKey()]" mdp-format="YYYY/MM/DD" data-ng-change="dateFormatter()"></mdp-date-picker><!--<md-datepicker ng-model="entity[getModelKey()]" md-placeholder="Enter date" data-ng-change="dateFormatter()"></md-datepicker>--><md-button data-ng-if="item.options.dateToday" data-ng-click="setDateToday()">T</md-button><md-button data-ng-if="item.options.dateTodayPlus" data-ng-click="setDatePlus()">T + 1</md-button><md-button data-ng-if="item.options.dateTodayMinus" data-ng-click="setDateMinus()">T - 1</md-button></div><div data-ng-if="fieldType[\'display_name\'] === \'Boolean\'"><md-checkbox data-ng-model="entity[getModelKey()]" aria-label="checkbox"><label data-ng-bind="getName()"></label></md-checkbox></div><div data-ng-if="fieldType[\'display_name\'] === \'Classifier\'"><span>Classifier is not ready</span></div><div data-ng-if="fieldType[\'display_name\'] === \'Decoration\'"><span class="ec-decoration line" data-ng-if="!item.options.labelText"></span> <span class="ec-decoration labeled" data-ng-if="item.options.labelText"><span class="w-rp" data-ng-bind="item.options.labelText"></span></span></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/layout-constructor-field-view.html",'<div><div data-ng-if="!item.editMode"><div data-ng-if="item.attribute"><md-card class="ec-attr-card"><div layout="row"><p class="name-holder" flex="60"><b><span data-ng-bind="item.attribute.name"></span></b> (<span data-ng-bind="bindType()"></span>)</p><div class="options-holder" flex="40"><md-button aria-label="delete attribute" data-ng-click="deleteField()"><ng-md-icon icon="delete"></ng-md-icon></md-button><md-button aria-label="edit attribute" data-ng-click="toggleEditMode()"><ng-md-icon icon="mode_edit"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!item.attribute"><md-card class="ec-attr-card"><md-button aria-label="add field" data-ng-click="toggleEditMode()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button></md-card></div></div><div data-ng-if="item.editMode"><md-card class="ec-attr-card {{item.editMode ? \'active\' : \'\'}}"><md-input-container class="md-block" flex-gt-sm><label>Field</label><!--{{item.attribute}}--><md-select ng-model="item.attribute" ng-change="changeModel(item.attribute)" ng-focus="findAttrsLeft()"><md-optgroup label="General"><md-option ng-repeat="attr in baseAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}}</md-option></md-optgroup><md-optgroup label="Specific"><md-option ng-repeat="attr in entityAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}}</md-option></md-optgroup><md-optgroup label="Attributes"><md-option ng-repeat="attr in attrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}}</md-option></md-optgroup><md-optgroup label="Layout"><md-option ng-repeat="attr in layoutAttrs" ng-value="attr">{{attr.name}}</md-option></md-optgroup></md-select></md-input-container><md-input-container class="md-block" flex-gt-sm><label>Colspan</label><md-select ng-model="item.colspan"><md-option ng-repeat="colspan in getCols()" value="{{colspan}}">Fit {{colspan}} column</md-option></md-select></md-input-container><md-input-container class="md-block"><label>Field name</label><input data-ng-model="item.options.fieldName"></md-input-container><div data-ng-if="checkForSpecialOptions()"><div data-ng-include="specialOptionTemplate"></div></div><md-button aria-label="cancel" data-ng-click="cancel()">Cancel</md-button><md-button class="ec-field-btn {{item.attribute ? \'\' : \'disabled\'}}" aria-label="save layout" data-ng-click="saveField()"><span>Ok</span></md-button></md-card></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/menu-link-view.html",'<md-button ui-sref-active="active" class="sidemenu-btn" ui-sref="{{section.state}}" ng-click="focusSection()">{{section.title}} <span class="md-visually-hidden" data-ng-if="isSelected()">current page</span></md-button>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/menu-toggle-view.html",'<md-button class="md-button-toggle sidemenu-btn" ng-click="toggle()" aria-controls="side-menu-{{section.title}}" flex layout="row" aria-expanded="{{isOpen()}}">{{section.title}}<ng-md-icon icon="expand_more" class="dropdown-icon" data-ng-if="!isOpen()"></ng-md-icon><ng-md-icon icon="expand_less" class="dropdown-icon" data-ng-if="isOpen()"></ng-md-icon><!--<span aria-hidden="true" class="pull-right fa fa-chevron-down md-toggle-icon" data-ng-class="{\'toggled\' : isOpen()}"></span>--></md-button><ul data-ng-show="isOpen()" id="side-menu-{{section.title}}" class="menu-toggle-list"><li data-ng-repeat="page in section.pages"><menu-link section="page"></menu-link></li></ul>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/entity-viewer-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="add-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'create\'"><h2>Add {{vm.entityType}}</h2><span flex></span></div><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'update\'"><h2>Edit {{vm.entityType}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.editLayout()" class="md-raised md-primary">Edit Form</md-button><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.save()" style="margin-right:20px"><span data-ng-if="vm.evAction === \'create\'">Add </span><span data-ng-if="vm.evAction === \'update\'">Save</span></md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="delete-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Delete {{vm.displayCaption()}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>Are you sure to delete this <b>{{vm.displayCaption()}}?</b></p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.delete()" style="margin-right:20px">Delete</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/entity-viewer-view.html",'<div data-ng-controller="EntityViewerController as vm"><md-button aria-label="add entity" class="md-fab md-fab-bottom-right" data-ng-click="vm.addEntity($event)"><ng-md-icon icon="add"></ng-md-icon></md-button><div class="lock-size g-table-dial" layout="row" layout-align="center center"><md-fab-speed-dial md-direction="up" md-open="false" class="md-scale"><md-fab-trigger><md-button aria-label="menu" class="md-fab" data-ng-if="vm.checkAdditionStatus()"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button aria-label="menu" class="md-fab" data-ng-if="!vm.checkAdditionStatus()" data-ng-click="vm.hideAdditions()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></md-fab-trigger><md-fab-actions><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openDataViewPanel()"><ng-md-icon icon="work"></ng-md-icon><md-tooltip md-direction="right">Open data view panel</md-tooltip></md-button><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openEditorViewPanel()"><ng-md-icon icon="view_stream"></ng-md-icon><md-tooltip md-direction="right">Open editor split panel</md-tooltip></md-button></md-fab-actions></md-fab-speed-dial></div><div data-ng-if="vm.tableIsReady" class="g-group-table-holder"><group-table entity-type="vm.entityType" items="vm.groupTableService.projection()" columns="vm.columns" filters="vm.filters" grouping="vm.grouping" folding="vm.folding" sorting="vm.sorting" item-additions-editor-entity-id="vm.editorEntityId" item-additions-editor-template="vm.editorTemplate" item-additions="vm.groupTableService.additions.projection()" item-additions-columns="vm.entityAdditionsColumns" item-additions-filters="vm.entityAdditionsFilters" item-additions-sorting="vm.entityAdditionsSorting" external-get-additions="vm.getEntityAdditions(id)" external-callback="vm.updateTable()" external-additions-callback="vm.updateAdditionsTable()" external-update-item="vm.updateItem()" external-update-item-additions="vm.updateItemAddition()" additions-status="vm.additionsStatus"></group-table></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/field-resolver-view.html",'<div><div data-ng-if="readyStatus.content"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><div data-ng-if="type === \'key-value\'"><md-select data-ng-model="entity[getModelKey()]"><md-option data-ng-repeat="field in fields track by $index" value="{{field.value}}">{{field.name}}</md-option></md-select></div><div data-ng-if="type === \'id\'"><div data-ng-if="getModelKey() === \'instrument\' "><md-select data-ng-model="entity[getModelKey()]" md-container-class="h-instrument-select" data-instrument-modal-resolver md-selected-text="bindFormFields()"><md-option data-ng-repeat="field in fields track by $index" value="{{field.id}}">{{bindListFields(field)}}</md-option></md-select></div><div data-ng-if="getModelKey() !== \'instrument\'"><md-select data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-option data-ng-repeat="field in fields track by $index" value="{{field.id}}">{{bindListFields(field)}}</md-option></md-select></div></div></md-input-container></div><div data-ng-if="!readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/columns-view.html",'<div class="g-columns-component g-thead"><div class="g-cell-select all {{isAllSelected ? \'active\' : \'\'}}" data-ng-click="selectAllRows()"><ng-md-icon icon="signal_cellular_0_bar"></ng-md-icon></div><div class="g-scroll-wrapper"><div class="g-scrollable-area"><div dragula="\'columns-bag\'" dragula-model="columns" class="g-columns-holder"><md-card data-ng-repeat="column in columns" class="g-cell g-column"><div class="sort" data-ng-if="isSortable(column)"><md-button class="column-sort" data-ng-show="column.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="column-sort-up" data-ng-show="column.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="column-sort column-both-sorted" data-ng-show="!column.options.sort" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{column.name}}</div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openColumnSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div><div class="resize-slider"></div></md-card></div><div class="drop-new-field" id="columnsbag" data-ng-if="!isItemAddition">Drop New Field</div></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/group-table-shell-view.html",'<div class="g-wrapper" group-height-aligner additions-status="additionsStatus"><div class="g-workarea main-area" group-clipboard-handler items="items" columns="columns"><div class="g-grouping-section"><group-grouping entity-type="entityType" tabs="tabs" folding="folding" sorting="sorting" grouping="grouping" filters="filters" columns="columns" external-callback="externalCallback()"></group-grouping></div><div class="g-table-section" group-horizontal-scroll><div class="g-table-wrap" group-column-resizer items="items"><group-columns entity-type="entityType" columns="columns" sorting="sorting" items="items" is-all-selected="isAllSelected" external-callback="externalCallback()" is-item-addition="false"></group-columns><group-table-body class="group-table-body" items="items" external-callback="externalCallback()" entity-type="entityType" grouping="grouping" item-additions-editor-entity-id="itemAdditionsEditorEntityId" is-all-selected="isAllSelected" columns="columns"></group-table-body></div></div></div><div class="g-sidebar main-sidebar"><div class="g-filter" id="filtersbag"><group-sidebar-filter filters="filters" external-callback="externalCallback()"></group-sidebar-filter></div></div><div class="g-additions" data-ng-if="additionsState"><div class="g-height-slider"></div><div class="g-additions-data-editor min-height" data-ng-show="additionsStatus.editor"><div data-ng-show="!itemAdditionsEditorEntityId"><div class="g-additions-editor-caption">Select row to start</div></div><div data-ng-show="itemAdditionsEditorEntityId" class="min-height"><group-editor-binder entity-type="entityType" item-id="itemAdditionsEditorEntityId" template="itemAdditionsEditorTemplate"></group-editor-binder></div></div><div class="g-additions-workarea" data-ng-show="additionsStatus.table"><div class="g-workarea" group-clipboard-handler items="itemAdditions" columns="columns"><div class="g-table-section" group-horizontal-scroll><div class="g-table-wrap" group-column-resizer items="itemAdditions"><group-columns entity-type="entityType" columns="itemAdditionsColumns" is-all-selected="isAllAdditionsSelected" external-callback="externalAdditionsCallback()" sorting="sorting" is-item-addition="true"></group-columns><group-table-body items="itemAdditions" class="group-table-body" is-all-selected="isAllAdditionsSelected" entity-type="additionsEntityType" columns="itemAdditionsColumns"></group-table-body></div></div></div><div class="g-sidebar additions-sidebar"><div class="g-filter"><group-sidebar-filter filters="itemAdditionsFilters" external-callback="externalAdditionsCallback()"></group-sidebar-filter></div></div></div></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/grouping-view.html",'<div class="g-grouping-component"><div><p class="g-drag-section-title"><span class="g-meta-circle green">G</span>ROUPING AREA</p></div><div class="g-second-line"><div class="groups-holder"><div class="group-folding-holder"><md-card><div><div class="fold-btn-wrap {{folding ? \'\' : \'disabled\'}}"><md-button class="" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="add"></ng-md-icon></md-button></div><div class="fold-btn-wrap {{folding ? \'disabled\' : \'\'}}"><md-button class="" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></div></md-card></div><div dragula="\'group-bag\'" dragula-model="grouping"><md-card data-ng-repeat="item in grouping" class="group-item card"><div class="sort"><md-button class="group-sort" data-ng-show="item.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="group-sort-up" data-ng-show="item.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="group-sort group-both-sorted" data-ng-show="!item.options.sort" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{item.name}}</div><div class="settings-btn"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-group" id="groupsbag">Drop level {{grouping.length + 1}} Group</div></div><md-button class="md-fab g-settings-btn" aria-label="drag modal" data-ng-click="openModalSettings($event)"><ng-md-icon icon="view_week"></ng-md-icon></md-button></div></div>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/modal-view-old.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools"><h2 style="user-select: none">DRAG FIELDS FROM HERE</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in tab.attrs"><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/modal-view.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools"><h2 style="user-select: none">DRAG FIELDS FROM HERE</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="General"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.baseAttrs"><md-checkbox ng-style="item.name === \'Notes\' ? {\'visibility\': \'hidden\'} : {}" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="item.name === \'Notes\' ? {\'visibility\': \'hidden\'} : {}" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><md-tab label="Specific"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.entityAttrs"><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><md-tab label="Attributes"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.attrs"><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox style="visibility: hidden" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/sidebar-filter-view.html",'<div class="g-sidebar-filter-component"><p class="area-title"><span class="g-meta-circle blue">F</span>ILTER AREA</p><div layout="row" class="filters-control-btn"><md-button class="md-raised" data-ng-click="selectAll()">Select all</md-button><md-button class="md-raised" data-ng-click="deselectAll()">Deselect all</md-button></div><div layout="row" class="filters-control-btn"><md-button class="md-raised clear-all full-width" data-ng-click="clearAll()">Clear all</md-button></div><div dragula="\'filters-bag\'" dragula-model="filters" class="filters-holder"><md-card data-ng-repeat="filter in filters" class="{{filter.options.enabled ? \'\' : \'f-disabled\' }} g-filter-item" layout="row"><md-checkbox ng-model="filter.options.enabled" aria-label="filters" class="md-primary" ng-change="toggleFilterState(filter)" flex="15"></md-checkbox><md-input-container flex="65"><label data-ng-bind="filter.name"></label><div data-ng-if="filter[\'value_type\'] === \'field\'"><div data-ng-if="fields[filter.key]"><md-select data-ng-model="filter.options.query" data-ng-change="filterChange(filter)"><md-option data-ng-repeat="field in fields[filter.key] track by $index" value="{{field.id}}">{{field.name}}</md-option></md-select></div><div data-ng-if="!fields[filter.key]"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div><div data-ng-if="filter[\'value_type\'] !== \'field\'"><input data-ng-model="filter.options.query" data-ng-change="filterChange(filter)" data-ng-model-options="{debounce: 1000}"></div></md-input-container><div class="settings-btn" flex="20"><md-menu><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openFilterSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeFilter(filter)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-filter">Drop new Filter</div></div>');
}])}(),function(t){try{t=angular.module("app")}catch(e){t=angular.module("app",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/table-body-view.html",'<div class="g-table-body-component" data-group-vertical-scroll><div data-ng-if="grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-repeat="item in items"><div class="g-group-holder {{item.selectedRow ? \'selected-row\' : \'\'}}"><div class="g-row-selection" data-ng-click="toggleSelectRow(item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><md-card class="group-row-fold-holder"><div><md-button class="" aria-label="hide/show grouping" data-ng-show="item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="add"></ng-md-icon></md-button><md-button class="" aria-label="hide/show grouping" data-ng-show="!item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></md-card><div data-ng-repeat="group in item.groups track by $index" class="g-group">{{group.value}}</div></div><div data-ng-repeat="groupedItem in item.items" contextmenu-item="groupedItem" data-ng-show="!item.isFolded" data-ng-right-click="$mdOpenMenu($event)" class="{{groupedItem.selectedRow ? \'selected-row\' : \'\'}} g-row" data-ng-click="rowCallback(groupedItem)"><div class="g-row-selection" data-ng-click="toggleSelectRow(groupedItem)"><ng-md-icon icon="done" data-ng-show="groupedItem.selectedRow"></ng-md-icon></div><div data-ng-repeat="column in columns" class="g-cell"><span data-ng-bind-html="bindCell(groupedItem, column) | trustAsHtml"></span></div></div></div></div><div data-ng-if="!grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-repeat="item in items" class="{{item.selectedRow ? \'selected-row\' : \'\'}} g-row" contextmenu-item="item" data-ng-click="rowCallback(item)"><div class="g-row-selection" data-ng-click="toggleSelectRow(item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div data-ng-repeat="column in columns" class="g-cell"><span data-ng-bind-html="bindCell(item, column) | trustAsHtml"></span></div></div></div></div><div contextmenu="gtbody.contextmenu" class="dropdown contextmenu ng-hide"><md-menu-content width="4"><md-menu-item><md-button ng-click="editEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="mode_edit"></ng-md-icon><span>Edit</span></md-button></md-menu-item><md-menu-item><md-button ng-click="deleteEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="delete"></ng-md-icon><span>Delete</span></md-button></md-menu-item></md-menu-content></div>')}])}()},{}]},{},[101]);