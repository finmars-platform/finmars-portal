!function t(e,n,i){function a(r,s){if(!n[r]){if(!e[r]){var c="function"==typeof require&&require;if(!s&&c)return c(r,!0);if(o)return o(r,!0);var d=new Error("Cannot find module '"+r+"'");throw d.code="MODULE_NOT_FOUND",d}var l=n[r]={exports:{}};e[r][0].call(l.exports,function(t){var n=e[r][1][t];return a(n?n:t)},l,l.exports,t,e,n,i)}return n[r].exports}for(var o="function"==typeof require&&require,r=0;r<i.length;r++)a(i[r]);return a}({1:[function(t,e,n){!function(){"use strict";var t=function(t){var e=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),i=0;i<n.length;i++){var a=jQuery.trim(n[i]);if(a.substring(0,t.length+1)==t+"="){e=decodeURIComponent(a.substring(t.length+1));break}}return e},n=function(t,e,n){n=n||{};var i=n.expires;if("number"==typeof i&&i){var a=new Date;a.setTime(a.getTime()+1e3*i),i=n.expires=a}i&&i.toUTCString&&(n.expires=i.toUTCString()),e=encodeURIComponent(e);var o=t+"="+e;for(var r in n){o+="; "+r;var s=n[r];s!==!0&&(o+="="+s)}document.cookie=o},i=function(){n(name,"",{expires:-1})};e.exports={getCookie:t,setCookie:n,deleteCookie:i}}()},{}],2:[function(t,e,n){!function(){"use strict";var t={property:"65,199,132",collection:"79,195,247",event:"239,83,80",controller:"224,224,224",component:"179,157,219",service:"236,64,122"},n=function(t,e){return e<10?"rgba("+t+" ,."+e+")":"rgba("+t+" , 1)"},i=function(e,i,a,o){var r=a||10,s=o||"color: "+n(t.property,r);console.log('%c{"property": "'+e+'", "value": "',s,i,'"}')},a=function(e,i,a,o){var r=a||10,s=o||"color: "+n(t.collection,r);console.log('%c{"collection": "'+e+'", "data":',s,i,"}")},o=function(e,i,a,o){var r=a||10,s=o||"color: "+n(t.event,r);console.log('%c{"event": "'+e+'", "data": "'+i+'"}',s)},r=function(e,i,a,o){var r=a||10,s=o||"color: "+n(t.controller,r);console.log('%c{"controller": "'+e+'", "status": "'+i+'"}',s)},s=function(e,i,a,o){var r=a||10,s=o||"color: "+n(t.component,r);console.log('%c{"component": "'+e+'", "status": "'+i+'"}',s)},c=function(e,i,a,o){var r=a||10,s=o||"color: "+n(t.service,r);console.log('%c{"service": "'+e+'", "status": "'+i+'"}',s)};e.exports={property:i,collection:a,event:o,controller:r,component:s,service:c}}()},{}],3:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../../../../portal/scripts/app/services/tagService")),i=t("../../services/threadService"),a=t("../../../../../portal/scripts/app/services/usersService"),o=t("../../../../../portal/scripts/app/services/usersGroupService");e.exports=function(t,e,r){var s=this;s.tags=[],n.getListByContentType("thread","tag").then(function(e){s.tags=e.results,t.$apply()}),s.thread=[],i.getByKey(r).then(function(e){s.thread=e,s.threadName=e.subject,s.threadTags=e.tags[0],s.loadPermissions(),t.$apply()}),s.readyStatus={permissions:!1},s.groups=[],s.members=[],s.loadPermissions=function(){var t=[];t.push(s.getGroupList()),t.push(s.getMemberList()),Promise.all(t).then(function(t){})},s.getGroupList=function(){return o.getList().then(function(t){s.groups=t.results,s.groups.forEach(function(t){s.thread.group_object_permissions&&s.thread.group_object_permissions.forEach(function(e){e.group==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_thread"===e.permission&&(t.objectPermissions.manage=!0),"change_thread"===e.permission&&(t.objectPermissions.change=!0))})})})},s.getMemberList=function(){a.getMemberList().then(function(e){s.members=e.results,s.members.forEach(function(t){s.thread.user_object_permissions&&s.thread.user_object_permissions.forEach(function(e){e.member==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_thread"===e.permission&&(t.objectPermissions.manage=!0),"change_thread"===e.permission&&(t.objectPermissions.change=!0))})}),s.readyStatus.permissions=!0,t.$apply()})},s.cancel=function(){e.cancel()},s.agree=function(){console.log("tags to send",typeof s.threadTags,[s.threadTags]),s.thread.group_object_permissions=[],s.groups.map(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&s.thread.group_object_permissions.push({group:t.id,permission:"manage_thread"}),t.objectPermissions&&1==t.objectPermissions.change&&s.thread.group_object_permissions.push({group:t.id,permission:"change_thread"})}),s.thread.user_object_permissions=[],s.members.map(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&s.thread.user_object_permissions.push({member:t.id,permission:"manage_thread"}),t.objectPermissions&&1==t.objectPermissions.change&&s.thread.user_object_permissions.push({member:t.id,permission:"change_thread"})}),e.hide({status:"agree",data:{name:s.threadName,tags:s.threadTags,groups_permissions:s.thread.group_object_permissions,users_permissions:s.thread.user_object_permissions}})},s.getGroupList(),s.getMemberList()}}()},{"../../../../../core/services/logService":2,"../../../../../portal/scripts/app/services/tagService":289,"../../../../../portal/scripts/app/services/usersGroupService":297,"../../../../../portal/scripts/app/services/usersService":298,"../../services/threadService":19}],4:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../services/threadGroupService")),i=t("../../services/threadService"),a=t("../../../../../portal/scripts/app/services/tagService"),o=t("../../../../../portal/scripts/app/services/usersService"),r=t("../../../../../portal/scripts/app/services/usersGroupService");e.exports=function(t,e,s){var c=this;console.log("threadsGroupId is",s),c.tags=[],a.getListByContentType("thread-group","tag").then(function(e){c.tags=e.results,console.log("forum group tags is",c.tags,e),t.$apply()}),c.threadGroup=[],c.loadThreadGroups=function(){return n.getByKey(s).then(function(t){c.threadGroup=t,c.threadGroup.name&&c.threadGroup.name.length&&(c.threadsGroupName=c.threadGroup.name),c.threadGroup.tags&&c.threadGroup.tags.length&&(c.threadsGroupTags=c.threadGroup.tags[0])})},c.loadThreadList=function(){return i.getList({threadGroup:s}).then(function(t){c.threadList=t.results,console.log("thread list is",c.threadList),c.loadPermissions()})},c.loadAllThreads=function(){var e=[];e.push(c.loadThreadGroups()),e.push(c.loadThreadList()),Promise.all(e).then(function(e){t.$apply()})},c.readyStatus={permissions:!1},c.groups=[],c.members=[],c.loadPermissions=function(){var t=[];t.push(c.getGroupList()),t.push(c.getMemberList()),Promise.all(t).then(function(t){})},c.getGroupList=function(){return r.getList().then(function(t){c.groups=t.results,c.groups.forEach(function(t){c.threadList.group_object_permissions&&c.threadList.group_object_permissions.forEach(function(e){e.group==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_thread_list"===e.permission&&(t.objectPermissions.manage=!0),"change_thread_list"===e.permission&&(t.objectPermissions.change=!0))})})})},c.getMemberList=function(){o.getMemberList().then(function(e){c.members=e.results,c.members.forEach(function(t){c.threadList.user_object_permissions&&c.threadList.user_object_permissions.forEach(function(e){e.member==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_thread_list"===e.permission&&(t.objectPermissions.manage=!0),"change_thread_list"===e.permission&&(t.objectPermissions.change=!0))})}),c.readyStatus.permissions=!0,t.$apply()})},c.cancel=function(){e.cancel()},c.agree=function(){c.threadList.group_object_permissions=[],c.groups.map(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&c.threadList.group_object_permissions.push({group:t.id,permission:"manage_thread_list"}),t.objectPermissions&&1==t.objectPermissions.change&&c.threadList.group_object_permissions.push({group:t.id,permission:"change_thread_list"})}),c.threadList.user_object_permissions=[],c.members.map(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&c.threadList.user_object_permissions.push({member:t.id,permission:"manage_thread_list"}),t.objectPermissions&&1==t.objectPermissions.change&&c.threadList.user_object_permissions.push({member:t.id,permission:"change_thread_list"})}),e.hide({status:"agree",data:{tags:c.threadsGroupTags,name:c.threadsGroupName,groups_permissions:c.threadList.group_object_permissions,users_permissions:c.threadList.user_object_permissions}})},c.loadAllThreads()}}()},{"../../../../../core/services/logService":2,"../../../../../portal/scripts/app/services/tagService":289,"../../../../../portal/scripts/app/services/usersGroupService":297,"../../../../../portal/scripts/app/services/usersService":298,"../../services/threadGroupService":17,"../../services/threadService":19}],5:[function(t,e,n){!function(){"use strict";e.exports=function(t){}}()},{}],6:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/threadMessagesService"),a=t("../services/threadService");e.exports=function(t,e,o){n.controller("ForumThreadGroupListController","initialized");var r=this;r.readyStatus={content:!1},r.threadId=e.threadId,r.threadGroupId=e.groupId,r.threadPageCurrent=1,r.itemPerPage=20,a.getByKey(r.threadId).then(function(e){r.thread=e,t.$apply()}),r.getList=function(n){r.readyStatus.content=!1,console.log("vm.threadPageCurrent",r.threadPageCurrent,e),n&&"last-page"==n.position&&(r.threadMessagesTotal%r.itemPerPage!==0?r.threadPageCurrent=Math.round(r.threadMessagesTotal/r.itemPerPage)+1:r.threadPageCurrent=Math.round(r.threadMessagesTotal/r.itemPerPage)),0===r.threadPageCurrent&&(r.threadPageCurrent=1);var a={page:r.threadPageCurrent,thread:r.threadId};console.log("OPTIONS",a),console.log("params",n),i.getList(a).then(function(e){r.messages=e.results.map(function(t){return t.text=t.text.replace(/(\r\n|\n|\r)/gm,"<br />"),t}),console.log(e.results),r.threadMessagesTotal=e.count,r.readyStatus.content=!0,t.$apply()})},r.changePage=function(t){console.log("PAGE",t),r.threadPageCurrent=t,r.getList()},r.replyToMessage=function(t,e){var n={quote:{item:e}};r.write(t,n)},r.write=function(t,e){var n;e&&e.hasOwnProperty("quote")&&(n=e.quote),o.show({controller:"ForumWriteMessageDialogController as vm",templateUrl:"views/forum-message-dialog-view.html",locals:{options:{quote:n}},parent:angular.element(document.body),targetEvent:t}).then(function(t){"agree"===t.status&&i.create({thread:r.threadId,text:t.data.message,quotation:t.data.quotation}).then(function(){r.getList({position:"last-page"})})})},r.getList()}}()},{"../../../../core/services/logService":2,"../services/threadMessagesService":18,"../services/threadService":19}],7:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService");e.exports=function(t,e){n.controller("threadGroupDialogController","initialized");var i=this;i.cancel=function(){e.cancel()},i.agree=function(){e.hide({status:"agree",data:{threadGroupTitle:i.groupTitle}})}}}()},{"../../../../core/services/logService":2}],8:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/threadGroupService"),a=(t("../services/threadService"),t("../../../../portal/scripts/app/services/tagService"));e.exports=function(t,e){n.controller("ForumThreadGroupListController","initialized");var o=this;o.readyStatus={content:!1},o.getList=function(){i.getList({page:1}).then(function(e){console.log("threadGroup items",e.results),o.threadGroups=e.results,o.threadGroups.forEach(function(t){t.filterTag=parseInt(t.tags[0])}),o.readyStatus.content=!0,console.log("thread groups tags",o.threadGroups),t.$apply()})},o.createThredsGroup=function(t){e.show({controller:"ForumThreadGroupDialogController as vm",templateUrl:"views/forum-thread-group-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&(console.log(t,t.data),i.create({name:t.data.threadGroupTitle}).then(function(){console.log("Threads group created"),o.getList()}))})},o.editThreadsGroupsDialog=function(t,n){e.show({controller:"EditThreadsGroupsDialogController as vm",templateUrl:"views/dialogs/edit-threads-groups-dialog-view.html",targetEvent:t,locals:{threadsGroupId:n}}).then(function(t){var e=[],a=parseInt(t.data.tags);isNaN(a)||(e="string"==typeof t.data.tags?[a]:[t.data.tags]);var r=t.data.name;i.update(n,{name:r,tags:e}).then(function(){o.getList()})})},o.getTagList=function(){a.getListByContentType("thread-group","tag").then(function(e){o.tags=e.results,t.$apply()})},o.deleteThreadsGroup=function(t){i.deleteByKey(t).then(function(){o.getList()})},o.getTagList(),o.getList()}}()},{"../../../../core/services/logService":2,"../../../../portal/scripts/app/services/tagService":289,"../services/threadGroupService":17,"../services/threadService":19}],9:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/threadService"),a=t("../services/threadGroupService"),o=t("../../../../portal/scripts/app/services/tagService");e.exports=function(t,e,r){n.controller("ForumThreadListController","initialized");var s=this;s.threadPageCurrent=1,s.itemPerPage=20,s.threadGroupId=e.groupId,console.log(e,t),s.threadGroupName="",s.readyStatus={content:!1},s.getList=function(){var e={page:s.threadPageCurrent,threadGroup:s.threadGroupId};i.getList(e).then(function(e){console.log(e,e.results),s.threadMessagesTotal=e.count,s.threads=e.results,s.threads.forEach(function(t){t.filterTag=t.tags[0]}),s.readyStatus.content=!0,t.$apply()})},o.getListByContentType("thread","tag").then(function(e){s.tags=e.results,t.$apply()}),s.getThreadGroupName=function(){a.getByKey(s.threadGroupId).then(function(e){s.threadGroupName=e.name,t.$apply()})},s.createThredsList=function(t){r.show({controller:"ForumThreadListDialogController as vm",templateUrl:"views/forum-thread-list-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&i.create({subject:t.data.threadListTitle,thread_group:s.threadGroupId}).then(function(){console.log("Thread list created"),s.getList()})})},s.editThreadDialog=function(t,e){r.show({controller:"EditThreadDialogController as vm",templateUrl:"views/dialogs/edit-thread-dialog-view.html",targetEvent:t,locals:{threadId:e}}).then(function(t){var n=[],a=parseInt(t.data.tags);isNaN(a)||(n="string"==typeof t.data.tags?[a]:[t.data.tags]);var o=t.data.name;console.log("thread user permissions",t.data.users_permissions,"thread groups permissions",t.data.groups_permissions),i.update(e,{subject:o,tags:n,thread_group:s.threadGroupId,group_object_permissions:t.data.groups_permissions,user_object_permissions:t.data.users_permissions}).then(function(){console.log("thread's tags updated"),s.getList()})})},s.deleteThread=function(t){i.deleteByKey(t).then(function(){s.getList()})},s.getList(),s.getThreadGroupName()}}()},{"../../../../core/services/logService":2,"../../../../portal/scripts/app/services/tagService":289,"../services/threadGroupService":17,"../services/threadService":19}],10:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService");e.exports=function(t,e){n.controller("threadListDialogController","initialized");var i=this;i.cancel=function(){e.cancel()},i.agree=function(){e.hide({status:"agree",data:{threadListTitle:i.listTitle}})}}}()},{"../../../../core/services/logService":2}],11:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService");e.exports=function(t,e,i){n.controller("WriteMessageDialogController","initialized");var a=this;console.log("options---------------------",i),a.isQuotation=!1,i&&i.quote&&(a.isQuotation=!0,a.quotation=i.quote.item),a.cancel=function(){e.cancel()},a.agree=function(){e.hide({status:"agree",data:{message:a.message}})}}}()},{"../../../../core/services/logService":2}],12:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"E",scope:{tags:"="},templateUrl:"views/directives/hide-by-tags-directive-view.html",link:function(t,e,n){t.hideByTags=function(){var e=$("md-card[data-tag-id]"),n=$("md-card[data-tag-id].ng-hide");n.length>0&&n.each(function(){var t=$(this);t.removeClass("ng-hide")}),e.each(function(){var e=$(this),n=e.data("tag-id");t.tagsToHide.map(function(t){parseInt(n)!==t||e.hasClass("ng-hide")||e.addClass("ng-hide")})})}}}}}()},{}],13:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i="/api/v1/",a=function(t){return window.fetch(i+"chats/thread-group/?ordering=created&page="+t.page,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},o=function(t){return window.fetch(i+"chats/thread-group/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(i+"chats/thread-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(i+"chats/thread-group/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(i+"chats/thread-group/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../../../../core/services/cookieService":1}],14:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i="/api/v1/",a=function(t){return window.fetch(i+"chats/message/?ordering=created&thread="+t.thread+"&page="+t.page,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},o=function(t){return window.fetch(i+"chats/message/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(i+"chats/message/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(i+"chats/message/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(i+"chats/message/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../../../../core/services/cookieService":1}],15:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i="/api/v1/",a=function(t){var e="";return e=t.page&&t.page.length?"chats/thread/?ordering=created&page="+t.page+"&thread_group="+t.threadGroup:"chats/thread/?ordering=created&thread_group="+t.threadGroup,window.fetch(i+e,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},o=function(t){return window.fetch(i+"chats/thread/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(i+"chats/thread/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(i+"chats/thread/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},c=function(t){return window.fetch(i+"chats/thread/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../../../../core/services/cookieService":1}],16:[function(t,e,n){!function(){e.exports=function(t){t.state("app.forum",{url:"/forum",templateUrl:"views/forum-shell-view.html","abstract":!0,controller:"ForumController as vm"}).state("app.forum.thread-groups",{url:"",templateUrl:"views/forum-thread-groups-view.html",controller:"ForumThreadGroupListController as vm"}).state("app.forum.threads-list",{url:"/:groupId",templateUrl:"views/forum-threads-list-view.html",controller:"ForumThreadListController as vm"}).state("app.forum.thread",{url:"/:groupId/thread/:threadId",templateUrl:"views/forum-thread-view.html",controller:"ForumThreadController as vm"})}}()},{}],17:[function(t,e,n){!function(){"use strict";var n=t("../repositories/threadGroupRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/threadGroupRepository":13}],18:[function(t,e,n){!function(){"use strict";var n=t("../repositories/threadMessagesRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/threadMessagesRepository":14}],19:[function(t,e,n){!function(){"use strict";var n=t("../repositories/threadRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/threadRepository":15}],20:[function(t,e,n){"use strict";!function(){var e=angular.module("forum",[]);e.config(["$stateProvider",t("./app/router.js")]),e.run(function(){console.log("Forum initialized")}),e.controller("ForumController",["$scope",t("./app/controllers/forumController")]),e.controller("ForumThreadGroupListController",["$scope","$mdDialog",t("./app/controllers/forumThreadGroupListController")]),e.controller("ForumThreadListController",["$scope","$stateParams","$mdDialog",t("./app/controllers/forumThreadListController")]),e.controller("ForumThreadController",["$scope","$stateParams","$mdDialog",t("./app/controllers/forumThreadController")]),e.controller("ForumThreadGroupDialogController",["$scope","$mdDialog",t("./app/controllers/forumThreadGroupDialogController")]),e.controller("ForumThreadListDialogController",["$scope","$mdDialog",t("./app/controllers/forumThreadListDialogController")]),e.controller("ForumWriteMessageDialogController",["$scope","$mdDialog","options",t("./app/controllers/forumWriteMessageDialogController")]),e.controller("EditThreadDialogController",["$scope","$mdDialog","threadId",t("./app/controllers/dialogs/editThreadDialogController")]),e.controller("EditThreadsGroupsDialogController",["$scope","$mdDialog","threadsGroupId",t("./app/controllers/dialogs/editThreadsGroupsDialogController")]),e.directive("hideByTags",[t("./app/directives/hideByTagsDirective")]),t("./templates.min.js"),e.filter("forumFilterByTags",function(){return function(t,e){var n=[];return e&&e.length?t.map(function(t){e.map(function(e){t.tags[0]===e&&n.push(t)})}):t.map(function(t){n.push(t)}),n}})}()},{"./app/controllers/dialogs/editThreadDialogController":3,"./app/controllers/dialogs/editThreadsGroupsDialogController":4,"./app/controllers/forumController":5,"./app/controllers/forumThreadController":6,"./app/controllers/forumThreadGroupDialogController":7,"./app/controllers/forumThreadGroupListController":8,"./app/controllers/forumThreadListController":9,"./app/controllers/forumThreadListDialogController":10,"./app/controllers/forumWriteMessageDialogController":11,"./app/directives/hideByTagsDirective":12,"./app/router.js":16,"./templates.min.js":21}],21:[function(t,e,n){!function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/forum-message-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="forum-send-message-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Write a message</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="column"><div data-ng-if="vm.isQuotation"><div layout="row" layout-align="start center" style="margin-bottom: 10px"><h4 class="author-username" data-ng-bind="vm.quotation.sender_object.username"></h4><p class="thread-message-create-data" data-ng-bind="vm.quotation.created | date:\'HH:mm dd/MM/yyyy\'"></p></div><div layout="row"><p class="thread-message-text" data-ng-bind-html="vm.quotation.text | trustAsHtml"></p></div></div><md-input-container flex="100" style="margin-bottom: 0"><label>Message</label><!-- <div data-ng-model="vm.message" contenteditable="true" cols="30" rows="10" data-ng-bind-html="vm.message | trustAsHtml" data-ng-change="vm.alertMessage()"></div> --><textarea data-ng-model="vm.message" contenteditable="true" cols="30" rows="10">\n\t\t\t\t</textarea></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Send</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/forum-shell-view.html",'<div data-ui-view=""></div>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/forum-thread-group-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Enter threads group title</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-input-container style="margin-bottom: 0"><label>Title</label><textarea data-ng-model="vm.groupTitle" cols="30" rows="10"></textarea></md-input-container></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Create</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/forum-thread-groups-view.html",'<div><md-content class="forum-content-padding"><h2 class="forum-section-header list">Thread groups list</h2><div layout="row"><div layout="row" flex="50"><md-input-container class="margin-top-5"><label>Filter by tags</label><md-select aria-label="filter by tags" data-ng-model="vm.filterTags" multiple="true"><md-option data-ng-repeat="tag in vm.tags" ng-value="tag.id">{{tag.display_name}}</md-option></md-select></md-input-container><hide-by-tags tags="vm.tags"></hide-by-tags></div><div layout="row" layout-align="end center" flex="50"><md-button aria-label="create group" class="md-raised md-primary" data-ng-click="vm.createThredsGroup($event)">Create thread group</md-button></div></div><div data-ng-if="vm.readyStatus.content"><md-card class="group-forum-list-item" class="md-3-line" ng-repeat="item in vm.threadGroups | forumFilterByTags : vm.filterTags" data-tag-id="{{item.filterTag}}"><a href="" data-ui-sref="app.forum.threads-list({groupId: item.id})"><span data-ng-bind="item.name"></span></a><div class="forum-manage-buttons"><md-button aria-label="edit group" class="forum-manage-btn" data-ng-click="vm.editThreadsGroupsDialog(\'$event\', item.id)"><ng-md-icon icon="mode_edit" size="20"></ng-md-icon></md-button><md-button aria-label="delete group" class="forum-manage-btn" data-ng-click="vm.deleteThreadsGroup(item.id)"><ng-md-icon icon="clear" size="20"></ng-md-icon></md-button></div></md-card></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div><div layout="row" layout-align="end center"><md-button aria-label="create group" class="md-raised md-primary" data-ng-click="vm.createThredsGroup($event)">Create thread group</md-button></div></md-content></div>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/forum-thread-list-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Enter threads list title</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-input-container style="margin-bottom: 0"><label>Title</label><textarea data-ng-model="vm.listTitle" cols="30" rows="10"></textarea></md-input-container></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Create</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/forum-thread-view.html",'<div><md-content class="forum-content-padding"><h2 class="forum-section-header">Thread name: <span data-ng-bind="::vm.thread.subject"></span></h2><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button aria-label="back" ui-sref="app.forum.threads-list({groupId: vm.threadGroupId})" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button><div paging page="vm.threadPageCurrent" page-size="vm.itemPerPage" total="vm.threadMessagesTotal" paging-action="vm.changePage(page)" class="global-pagination-div"></div></div><div layout="row" flex="50" layout-align="end center"><md-button aria-label="write" data-ng-click="vm.write($event)" class="md-raised md-primary">Write</md-button></div></div><div data-ng-if="vm.readyStatus.content"><!-- <md-list flex> --><!-- <md-list-item class="thread-forum-list-item" class="md-3-line" ng-repeat="item in vm.messages"\n            >\n                <h4 class="author-username" data-ng-bind="item.sender_object.username"></h4>\n                <p class="thread-message-text" data-ng-bind="item.text"></p>\n                <md-divider></md-divider>\n            </md-list-item> --><md-card class="thread-forum-list-item" data-ng-repeat="item in vm.messages"><div class="thread-message-content"><div layout="row" layout-align="start center" style="margin-bottom: 10px"><h4 class="author-username" data-ng-bind="item.sender_object.username"></h4><p class="thread-message-create-data" data-ng-bind="item.created | date:\'HH:mm dd/MM/yyyy\'"></p></div><div layout="row"><p class="thread-message-text" data-ng-bind-html="item.text | trustAsHtml"></p></div><div layout="row" layout-align="end center"><md-button aria-label="reply" class="md-raised message-reply-btn" data-ng-click="vm.replyToMessage($event, item)">Reply</md-button></div></div><md-divider class="thread-message-divider"></md-divider></md-card><!-- </md-list> --><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button aria-label="back" ui-sref="app.forum.threads-list({groupId: vm.threadGroupId})" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button><div paging page="vm.threadPageCurrent" page-size="vm.itemPerPage" total="vm.threadMessagesTotal" paging-action="vm.changePage(page)" class="global-pagination-div"></div></div><div layout="row" flex="50" layout-align="end center"><md-button aria-label="write" data-ng-click="vm.write($event)" class="md-raised md-primary">Write</md-button></div></div></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></div>');
}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/forum-threads-list-view.html",'<div><md-content class="forum-content-padding"><h2>Thread group: <span data-ng-bind="vm.threadGroupName"></span></h2><h3 class="forum-section-header">Threads list</h3><div layout="row"><div layout="row" flex="50"><md-button aria-label="back" ui-sref="app.forum.thread-groups" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button><md-input-container class="margin-top-5"><label>Filter by tags</label><md-select aria-label="" data-ng-model="vm.filterTags" multiple="true"><md-option data-ng-repeat="tag in vm.tags" ng-value="tag.id">{{tag.display_name}}</md-option></md-select></md-input-container><hide-by-tags tags="vm.tags"></hide-by-tags></div><div layout="row" layout-align="end center" flex="50"><md-button aria-lable="create thread" class="md-raised md-primary" data-ng-click="vm.createThredsList($event)">Create thread</md-button></div></div><div data-ng-if="vm.readyStatus.content"><md-card class="thread-forum-list-item" class="md-3-line" ng-repeat="item in vm.threads | forumFilterByTags : vm.filterTags" data-tag-id="{{item.filterTag}}"><a data-ui-sref="app.forum.thread({groupId: vm.threadGroupId, threadId: item.id})"><span data-ng-bind="item.subject"></span></a><md-divider></md-divider><div class="forum-manage-buttons"><md-button aria-label="edit thread" class="forum-manage-btn" data-ng-click="vm.editThreadDialog(\'$event\', item.id)"><ng-md-icon icon="mode_edit" size="20"></ng-md-icon></md-button><md-button aria-label="delete thread" class="forum-manage-btn" data-ng-click="vm.deleteThread(item.id)"><ng-md-icon icon="clear" size="20"></ng-md-icon></md-button></div></md-card></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div><div layout="row"><div layout="row" flex="50"><md-button aria-label="back" ui-sref="app.forum.thread-groups" class="md-raised forum-back-btn" data-ng-click="vm.forumGoBackBtn()">Back</md-button></div><div layout="row" layout-align="end center" flex="50"><md-button aria-label="create" class="md-raised md-primary" data-ng-click="vm.createThredsList($event)">Create thread</md-button></div></div></md-content></div>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/edit-thread-dialog-view.html",'<md-dialog aria-label="edit thread" ng-cloak class="forum-dialog-padding forum-lg-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit thread</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-tabs md-dynamic-height><md-tab><md-tab-label><span class="colored-tab">General</span></md-tab-label><md-tab-body><md-content><div layout="row" class="forum-edit-general"><md-input-container flex="50"><label>Name</label><textarea data-ng-model="vm.threadName" cols="30" rows="10" data-ng-bind="vm.groupName"></textarea></md-input-container><md-input-container flex="50"><label>thread tags</label><md-select data-ng-model="vm.threadTags"><md-option value="">-</md-option><md-option data-ng-repeat="tag in vm.tags" data-ng-bind="tag.display_name" value="{{tag.id}}"></md-option></md-select></md-input-container></div></md-content></md-tab-body></md-tab><!-- <md-tab data-ng-if="vm.checkPermissions()"> --><md-tab data-ng-if="vm.groups && vm.members"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage" aria-label="member-manage" data-ng-change="vm.setMembersPermissions()"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change" aria-label="member-change" data-ng-change="vm.setMembersPermissions()"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage" aria-label="group-manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change" aria-label="group-change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div data-ng-if="!vm.members && !vm.groups"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></md-dialog-content><md-dialog-actions layout="row"><md-button aria-label="cancel" class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button aria-label="save" class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Send</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/edit-threads-groups-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="forum-dialog-padding draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit group</h2><span flex></span></div></md-toolbar><md-dialog-content><div layout="column"><md-input-container><label>Name</label><textarea data-ng-model="vm.threadsGroupName" cols="30" rows="10"></textarea></md-input-container><md-input-container><label>Group tags</label><md-select data-ng-model="vm.threadsGroupTags"><md-option value="">-</md-option><md-option data-ng-repeat="tag in vm.tags" data-ng-bind="tag.display_name" value="{{tag.id}}"></md-option></md-select></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Send</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("forum")}catch(e){t=angular.module("forum",[])}t.run(["$templateCache",function(t){t.put("views/directives/hide-by-tags-directive-view.html",'<md-input-container class="margin-top-5"><label>Hide by tags</label><md-select aria-label="hide" data-ng-model="tagsToHide" multiple="true" data-ng-change="hideByTags()"><md-option data-ng-repeat="tag in tags" ng-value="tag.id">{{tag.display_name}}</md-option></md-select></md-input-container>')}])}()},{}],22:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/import/instrumentSchemeService");e.exports=function(t,e){n.controller("ActionsController","initialized");var a=this;a.importInstrument=function(t){e.show({controller:"ImportInstrumentDialogController as vm",templateUrl:"views/dialogs/import-instrument-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},a.fillPriceHistory=function(t){e.show({controller:"FillPriceHistoryDialogController as vm",templateUrl:"views/dialogs/fill-price-history-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},a.eventScheduleConfig=function(t){e.show({controller:"EventScheduleConfigDialogController as vm",templateUrl:"views/dialogs/event-schedule-config-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},a.automatedUploads=function(t){e.show({controller:"AutomatedUploadsHistoryDialogController as vm",templateUrl:"views/dialogs/automated-uploads-history-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},a.openMapping=function(t,n){e.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},a.addScheme=function(t){e.show({controller:"InstrumentMappingAddDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.create(t.data).then(function(){a.getList()}))})},a.addPriceDownloadScheme=function(t){e.show({controller:"PriceDownloadSchemeAddDialogController as vm",templateUrl:"views/dialogs/price-download-scheme-dialog-view.html",targetEvent:t})}}}()},{"../../../../core/services/logService":2,"../services/import/instrumentSchemeService":256}],23:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=(t("../services/attributeTypeService"),t("../services/entityResolverService"));t("../services/uiService"),t("../services/gridHelperService"),t("../services/metaService"),t("../services/layoutService");e.exports=function(t,e,a){n.controller("AdditionsEditorEntityEditController","initialized");var o=this;o.readyStatus={content:!1},o.entityType=t.$parent.options.entityType,o.entity={attributes:[]},o.entityId="",o.evAction="update",o.readyStatus.entityId=!1,t.$parent.$watch("options.editorEntityId",function(e){o.readyStatus.entityId=!1,setTimeout(function(){o.entityId=e,void 0!==o.entityId&&(o.evAction="update",o.readyStatus.entityId=!0),t.$apply()},100)}),o.cancel=function(){var e=o.entityId;o.entityId=void 0,o.readyStatus.entityId=!1,setTimeout(function(){o.entityId=e,o.readyStatus.entityId=!0,t.$apply()},100)},o.editLayout=function(){e.go("app.data-constructor",{entityType:o.entityType})},o.manageAttrs=function(t){e.go("app.attributesManager",{entityType:o.entityType})},o.copy=function(){o.copyCallback().then(function(){o.evAction="create",t.$apply()})},o.save=function(){(o.evAction="create")?o.saveCallback().then(function(e){i.create(e.entityType,e.entity).then(function(){o.evAction="update",t.$apply()})}):o.saveCallback().then(function(e){i.update(e.entityType,e.entityId,e.entity).then(function(){t.$apply()})})}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":220,"../services/entityResolverService":231,"../services/gridHelperService":237,"../services/layoutService":268,"../services/metaService":275,"../services/uiService":296}],24:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/attributeTypeService"),a=t("../services/metaService");e.exports=function(t,e,o,r){function s(t){return t.name=t.text,t.id.indexOf("j")!==-1&&(delete t.li_attr,delete t.state,delete t.icon,delete t.a_attr,delete t.data,delete t.text,delete t.type,delete t.id),t.children=t.children.map(s),t}n.controller("AttributesManagerController","initialized");var c=this;c.showHidden=!1;var d=a.getDynamicAttrsValueTypesCaptions();c.attrs=[],c.entityType=o.entityType;var l=function(){i.getList(c.entityType).then(function(e){c.attrs=e.results,t.$apply()})};l(),c.addAttribute=function(t){r.show({controller:"AttributesManagerAddDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{data:{entityType:c.entityType}}}).then(function(t){"agree"===t.status&&(console.log(t.data.attribute.value_type),console.log("res",t.data),i.create(c.entityType,t.data.attribute).then(l))})},c.bindType=function(t){var e;for(e=0;e<d.length;e+=1)if(t.value_type===d[e].value)return d[e].caption_name},c.editTreeAttr=function(t,e){r.show({controller:"ClassificationEditorDialogController as vm",templateUrl:"views/classification-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{data:{classifier:t,entityType:c.entityType}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),t.data.classifier.classifiers=t.data.classifier.children.map(s),i.update(c.entityType,t.data.classifier.id,t.data.classifier).then(l))})},c.editAttr=function(t,e){r.show({controller:"AttributesManagerEditDialogController as vm",templateUrl:"views/attribute-manager-dialog-view.html",parent:angular.element(document.body),targetEvent:e,locals:{data:{attributeId:t.id,entityType:c.entityType}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.update(c.entityType,t.data.attribute.id,t.data.attribute).then(l))})},c.toggleHidden=function(){c.showHidden=!c.showHidden},c.checkIsHidden=function(t){return 0!=c.showHidden||1!=t.is_hidden},c.deleteAttr=function(t,e){var n="Are you sure to delete attribute "+t.name+" ?";r.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:n}}}).then(function(n){console.log("res",n),"agree"===n.status&&i.deleteByKey(c.entityType,t.id).then(function(t){"conflict"===t.status?r.show({controller:"InfoDialogController as vm",templateUrl:"views/info-dialog-view.html",parent:angular.element(document.body),targetEvent:e,clickOutsideToClose:!0,locals:{info:{title:"Notification",description:"You can not delete attributed that already in use"}}}):l()})})}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":220,"../services/metaService":275}],25:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/eventsService");e.exports=function(t,e){n.controller("DashboardController","initialized");var a=this;a.eventsList=[],a.checkForEvents=function(e){i.getList().then(function(n){a.eventsList=n.results,t.$apply(),n.results.map(function(t){var n=t.event_schedule_object.actions;a.openEventWindow(e,t.id,n)})})},a.openEventWindow=function(t,n,i){e.show({controller:"EventDialogController as vm",templateUrl:"views/dialogs/event-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{data:{eventId:n,eventActions:i}}})}}}()},{"../../../../core/services/logService":2,"../services/eventsService":235}],26:[function(t,e,n){!function(){"use strict";var n=t("../../services/accountService");e.exports=function(t){console.log('{"controller": "DataAccountController", status: "initialized"}');var e=this;e.entityType="account",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,console.log("vm.entityRaw",e.entityRaw),t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/accountService":217}],27:[function(t,e,n){!function(){"use strict";var n=t("../../services/accountTypeService");e.exports=function(t){console.log('{"controller": "DataAccountTypeController", status: "initialized"}');var e=this;e.entityType="account-type",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/accountTypeService":218}],28:[function(t,e,n){!function(){"use strict";var n=t("../../services/transaction/complexTransactionService");e.exports=function(t){console.log('{"controller": "DataComplexTransactionController", status: "initialized"}');var e=this;e.entityType="complex-transaction",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/transaction/complexTransactionService":293}],29:[function(t,e,n){!function(){"use strict";var n=t("../../services/counterpartyService");e.exports=function(t){console.log('{"controller": "DataCounterpartytController", status: "initialized"}');var e=this;e.entityType="counterparty",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/counterpartyService":226}],30:[function(t,e,n){!function(){"use strict";var n=t("../../services/counterpartyGroupService");e.exports=function(t){console.log('{"controller": "DataCounterpartyGroupController", status: "initialized"}');var e=this;e.entityType="counterparty-group",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/counterpartyGroupService":225}],31:[function(t,e,n){!function(){"use strict";var n=t("../../services/currencyService");e.exports=function(t){console.log('{"controller": "DataCurrencyController", status: "initialized"}');var e=this;e.entityType="currency",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/currencyService":228}],32:[function(t,e,n){!function(){"use strict";var n=t("../../services/currencyHistoryService");e.exports=function(t){console.log('{"controller": "DataCurrencyHistoryController", status: "initialized"}');var e=this;e.entityType="currency-history",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/currencyHistoryService":227}],33:[function(t,e,n){!function(){"use strict";var n=t("../../services/instrumentService");e.exports=function(t){console.log('{"controller": "DataInstrumentController", status: "initialized"}');var e=this;e.entityType="instrument",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/instrumentService":261}],34:[function(t,e,n){!function(){"use strict";var n=t("../../services/instrumentTypeService");e.exports=function(t){console.log('{"controller": "DataInstrumentTypeController", status: "initialized"}');var e=this;e.entityType="instrument-type",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/instrumentTypeService":262}],35:[function(t,e,n){!function(){"use strict";var n=t("../../services/portfolioService");e.exports=function(t){console.log('{"controller": "DataPortfolioController", status: "initialized"}');var e=this;e.entityType="portfolio",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/portfolioService":277}],36:[function(t,e,n){!function(){"use strict";var n=t("../../services/priceHistoryService");e.exports=function(t){console.log('{"controller": "DataPriceHistoryController", status: "initialized"}');var e=this;e.entityType="price-history",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/priceHistoryService":278}],37:[function(t,e,n){!function(){"use strict";var n=t("../../services/pricingPolicyService");e.exports=function(t){console.log('{"controller": "DataPricingPolicyController", status: "initialized"}');var e=this;e.entityType="pricing-policy",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/pricingPolicyService":279}],38:[function(t,e,n){!function(){"use strict";var n=t("../../services/responsibleService");e.exports=function(t){console.log('{"controller": "DataResponsibleController", status: "initialized"}');var e=this;e.entityType="responsible",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/responsibleService":284}],39:[function(t,e,n){!function(){"use strict";var n=t("../../services/responsibleGroupService");e.exports=function(t){console.log('{"controller": "DataResponsibleGroupController", status: "initialized"}');var e=this;e.entityType="responsible-group",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/responsibleGroupService":283}],40:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/strategyService");e.exports=function(t,e){n.controller("DataStrategyController","initialized"),console.log("$stateParams",e);var a=this;a.readyStatus={content:!1},a.strategyNumber=e.strategyNumber,a.entityType="strategy-"+a.strategyNumber,a.entityRaw=[],a.entityViewer={extraFeatures:[]},i.getList(a.strategyNumber).then(function(e){a.entityRaw=e.results,a.readyStatus.content=!0,t.$apply()}),a.getList=function(t){return i.getList(a.strategyNumber,t).then(function(t){return t})}}}()},{"../../../../../core/services/logService":2,"../../services/strategyService":287}],41:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/strategyGroupService");e.exports=function(t,e){n.controller("DataStrategyGroupController","initialized"),console.log("$stateParams",e);var a=this;a.readyStatus={content:!1},a.strategyNumber=e.strategyNumber,a.entityType="strategy-"+a.strategyNumber+"-group",a.entityRaw=[],a.entityViewer={extraFeatures:[]},i.getList(a.strategyNumber).then(function(e){a.entityRaw=e.results,a.readyStatus.content=!0,console.log("vm.entityRaw",a.entityRaw),t.$apply()}),a.getList=function(t){return i.getList(a.strategyNumber,t).then(function(t){return t})}}}()},{"../../../../../core/services/logService":2,"../../services/strategyGroupService":286}],42:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/strategySubgroupService");e.exports=function(t,e){n.controller("DataStrategySubGroupController","initialized"),console.log("$stateParams",e);var a=this;a.readyStatus={content:!1},a.strategyNumber=e.strategyNumber,a.entityType="strategy-"+a.strategyNumber+"-subgroup",a.entityRaw=[],a.entityViewer={extraFeatures:[]},i.getList(a.strategyNumber).then(function(e){a.entityRaw=e.results,a.readyStatus.content=!0,console.log("vm.entityRaw",a.entityRaw),t.$apply()}),a.getList=function(t){return i.getList(a.strategyNumber,t).then(function(t){return t})}}}()},{"../../../../../core/services/logService":2,"../../services/strategySubgroupService":288}],43:[function(t,e,n){!function(){"use strict";var n=t("../../services/tagService");e.exports=function(t){console.log('{"controller": "DataTagController", status: "initialized"}');var e=this;e.entityType="tag",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,console.log("vm.entityRaw",e.entityRaw),t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/tagService":289}],44:[function(t,e,n){!function(){"use strict";var n=t("../../services/transactionService");e.exports=function(t){console.log('{"controller": "DataTransactionController", status: "initialized"}');var e=this;e.entityType="transaction",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/transactionService":291}],45:[function(t,e,n){!function(){"use strict";var n=t("../../services/transactionTypeService");e.exports=function(t){console.log('{"controller": "DataTransactionController", status: "initialized"}');var e=this;e.readyStatus={content:!1},e.entityType="transaction-type",e.entityRaw=[],e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/transactionTypeService":292}],46:[function(t,e,n){!function(){"use strict";var n=t("../../services/transaction/transactionTypeGroupService");e.exports=function(t){console.log('{"controller": "DataTransactionTypeGroupController", status: "initialized"}');var e=this;e.readyStatus={content:!1},e.entityType="transaction-type-group",e.entityRaw=[],e.entityViewer={extraFeatures:[]},n.getList().then(function(n){e.entityRaw=n.results,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/transaction/transactionTypeGroupService":295}],47:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t,e){var i=this;n.controller("EventScheduleConfigDialogController","initialized"),i.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2}],48:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/usersService"),a=t("../../services/usersGroupService"),o=t("../../services/metaService");t("../../services/attributeTypeService");e.exports=function(t,e,r){n.controller("AttributesAddDialogManagerController","initialized");var s=this;s.attribute={name:"",value_type:""},s.readyStatus={attribute:!0,permissions:!1},s.editRestriction=!1,console.log("vm.attribute",s.attribute),s.valueTypes=[],s.loadPermissions=function(){var e=[];e.push(s.getMemberList()),e.push(s.getGroupList()),Promise.all(e).then(function(e){s.readyStatus.permissions=!0,t.$apply()})},s.getGroupList=function(){return a.getList().then(function(t){s.groups=t.results,s.groups.forEach(function(t){s.attribute.group_object_permissions&&s.attribute.group_object_permissions.forEach(function(e){e.group==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_genericattributetype"===e.permission&&(t.objectPermissions.manage=!0),"change_genericattributetype"===e.permission&&(t.objectPermissions.change=!0))})})})},s.getMemberList=function(){return i.getMemberList().then(function(t){s.members=t.results,s.members.forEach(function(t){s.attribute.user_object_permissions&&s.attribute.user_object_permissions.forEach(function(e){e.member==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_genericattributetype"===e.permission&&(t.objectPermissions.manage=!0),"change_genericattributetype"===e.permission&&(t.objectPermissions.change=!0))})})})},s.checkPermissions=function(){if(s.attributeId){var t=!1;return s.attribute.granted_permissions.indexOf("manage_genericattributetype")!==-1&&(t=!0),t}return!0},s.loadPermissions(),s.valueTypes=o.getDynamicAttrsValueTypesCaptions(),console.log("Value type is ",s.valueTypes),s.agree=function(){s.attribute.user_object_permissions=[],s.members.forEach(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&s.attribute.user_object_permissions.push({member:t.id,permission:"manage_genericattributetype"}),t.objectPermissions&&1==t.objectPermissions.change&&s.attribute.user_object_permissions.push({member:t.id,permission:"change_genericattributetype"})}),s.attribute.group_object_permissions=[],s.groups.forEach(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&s.attribute.group_object_permissions.push({group:t.id,permission:"manage_genericattributetype"}),t.objectPermissions&&1==t.objectPermissions.change&&s.attribute.group_object_permissions.push({group:t.id,permission:"change_genericattributetype"})}),console.log("vm.attr",s.attribute),"float"==s.attribute.value_type&&(s.attribute.value_type=20),e.hide({status:"agree",data:{attribute:s.attribute}})},s.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/metaService":275,"../../services/usersGroupService":297,"../../services/usersService":298}],49:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/usersService"),a=t("../../services/usersGroupService"),o=t("../../services/metaService"),r=t("../../services/attributeTypeService");e.exports=function(t,e,s){n.controller("AttributesAddDialogManagerController","initialized");var c=this;c.readyStatus={
attribute:!1,permissions:!1},c.attributeId=s.attributeId,r.getByKey("generic",c.attributeId).then(function(e){c.attribute=e,c.readyStatus.attribute=!0,c.loadPermissions(),t.$apply()}),c.loadPermissions=function(){var e=[];e.push(c.getMemberList()),e.push(c.getGroupList()),Promise.all(e).then(function(e){c.readyStatus.permissions=!0,t.$apply()})},c.getGroupList=function(){return a.getList().then(function(t){c.groups=t.results,c.groups.forEach(function(t){c.attribute.group_object_permissions&&c.attribute.group_object_permissions.forEach(function(e){e.group==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_genericattributetype"===e.permission&&(t.objectPermissions.manage=!0),"change_genericattributetype"===e.permission&&(t.objectPermissions.change=!0))})})})},c.getMemberList=function(){return i.getMemberList().then(function(t){c.members=t.results,c.members.forEach(function(t){c.attribute.user_object_permissions&&c.attribute.user_object_permissions.forEach(function(e){e.member==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),"manage_genericattributetype"===e.permission&&(t.objectPermissions.manage=!0),"change_genericattributetype"===e.permission&&(t.objectPermissions.change=!0))})})})},c.checkPermissions=function(){if(c.attributeId){var t=!1;return c.attribute.granted_permissions.indexOf("manage_genericattributetype")!==-1&&(t=!0),t}return!0},c.editRestriction=!0,console.log("vm.attribute",c.attribute),c.valueTypes=o.getDynamicAttrsValueTypesCaptions(),c.agree=function(){console.log("vm.attr",c.attribute),c.attribute.user_object_permissions=[],c.members.forEach(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&c.attribute.user_object_permissions.push({member:t.id,permission:"manage_genericattributetype"}),t.objectPermissions&&1==t.objectPermissions.change&&c.attribute.user_object_permissions.push({member:t.id,permission:"change_genericattributetype"})}),c.attribute.group_object_permissions=[],c.groups.forEach(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&c.attribute.group_object_permissions.push({group:t.id,permission:"manage_genericattributetype"}),t.objectPermissions&&1==t.objectPermissions.change&&c.attribute.group_object_permissions.push({group:t.id,permission:"change_genericattributetype"})}),e.hide({status:"agree",data:{attribute:c.attribute}})},c.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/metaService":275,"../../services/usersGroupService":297,"../../services/usersService":298}],50:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/metaService"),t("../../services/import/dataProvidersService"),t("../../services/import/scheduleService"),t("../../services/attributeTypeService"),t("../../services/import/instrumentSchemeService"),t("../../services/instrumentService"),t("../../services/import/importInstrumentService"),t("../../services/import/pricingAutomatedScheduleService"));e.exports=function(t,e,a){n.controller("AutomatedUploadsHistoryDialogController","initialized");var o=this;o.readyStatus={schedule:!1},o.days=[],o.schedule={},o.cron={periodicity:1},o.cron.time=new Date,o.setDay=function(t){o.cron.day||(o.cron.day=[]),o.cron.day.push(t)},o.resetCronExpr=function(){o.cron.day=[],o.cron.month=[]},o.getRange=function(t){var e,n=[];for(e=0;e<t;e+=1)n.push(e);return n},i.getSchedule().then(function(e){o.schedule=e,o.readyStatus.schedule=!0;var n=o.schedule.cron_expr.split(" ");o.cron.time=new Date,o.cron.time.setMinutes(n[0]),o.cron.time.setHours(n[1]),console.log("value",n),"*"==n[3]&&"*"==n[2]&&(o.cron.periodicity=2,o.cron.day=n[4].split(","),o.cron.day.forEach(function(t){o.days[t-1]={status:!0}})),"*"==n[4]&&(o.cron.periodicity=3,o.cron.day=n[2].split(","),n[3].length>1?o.cron.month=n[3].split(","):o.cron.month=[n[3]]),"*"==n[4]&&"*"==n[3]&&"*"==n[2]&&(o.cron.periodicity=1),console.log("vm.periodicity",o.periodicity),t.$apply()}),o.cancel=function(){e.cancel()},o.agree=function(){var n=moment(new Date(o.cron.time)).format("mm"),a=moment(new Date(o.cron.time)).format("hh");o.schedule.is_enabled=!0,1==o.cron.periodicity&&(console.log(parseInt(n)+" "+parseInt(a)+" * * *"),o.schedule.cron_expr=parseInt(n)+" "+parseInt(a)+" * * *"),2==o.cron.periodicity&&(o.schedule.cron_expr=parseInt(n)+" "+parseInt(a)+" * * "+o.cron.day),3==o.cron.periodicity&&(o.schedule.cron_expr=parseInt(n)+" "+parseInt(a)+" "+o.cron.day+" "+o.cron.month+" *"),i.updateSchedule(o.schedule).then(function(){console.log("here?"),e.hide({status:"agree",data:"success"}),t.$apply()})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/import/dataProvidersService":250,"../../services/import/importInstrumentService":251,"../../services/import/instrumentSchemeService":256,"../../services/import/pricingAutomatedScheduleService":258,"../../services/import/scheduleService":259,"../../services/instrumentService":261,"../../services/metaService":275}],51:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/reports/balanceReportCustomAttrService");e.exports=function(t,e,a){n.controller("BalanceReportCustomAttrController","initialized");var o=this;o.attribute={},o.attributeId,o.readyStatus={attribute:!1,permissions:!1},o.editRestriction=a.editRestriction,o.editRestriction?(o.attributeId=a.attributeId,console.log("balance attribute id",o.attributeId),i.getByKey(o.attributeId).then(function(e){console.log("balance edit attr data",e),o.attribute=e,o.readyStatus.attribute=!0,t.$apply()})):(o.attribute={name:"",expr:""},o.readyStatus.attribute=!0,console.log("balance report create custom attr")),o.agree=function(){e.hide({status:"agree",data:{attribute:o.attribute}})},o.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/reports/balanceReportCustomAttrService":282}],52:[function(t,e,n){!function(){"use strict";var n=t("../../services/attributeTypeService"),i=t("../../../../../core/services/logService");e.exports=function(t,e,a){var o=this;i.controller("ClassificationEditorDialogController","initialized"),o.classifier=a.classifier,n.getByKey(a.entityType,a.classifier.id).then(function(e){function n(t){return t.text=t.name,t.type="default",t.children.length&&(t.type="folder"),t.children=t.children.map(n),t}var i=e.classifiers.map(n);$("#jstree_demo").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0},data:[{text:"Root",state:{opened:!0,selected:!0},children:i}]},types:{"#":{valid_children:["root"]},root:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default"]},"default":{icon:"portal/content/img/ic_label_outline_black_1x.png",valid_children:["default","folder"]},folder:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default","folder"]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),t.$apply()}),o.createNode=function(){var t=$("#jstree_demo").jstree(!0),e=t.get_selected();t.set_type(e,"folder"),e=e[0],e=t.create_node(e,{type:"default"}),e&&t.edit(e)},o.renameNode=function(){var t=$("#jstree_demo").jstree(!0),e=t.get_selected();return!!e.length&&(e=e[0],void t.edit(e))},o.deleteNode=function(){var t=$("#jstree_demo").jstree(!0),e=t.get_selected();return!!e.length&&void t.delete_node(e)},o.agree=function(){console.log("vm.attr",o.classifier);var t=$("#jstree_demo").jstree(!0),n=t.get_json("#");console.log("ref",n),console.log("classifier",o.classifier),o.classifier.children=n[0].children,e.hide({status:"agree",data:{classifier:o.classifier}})},o.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220}],53:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../services/attributeTypeService"));e.exports=function(t,e,i){function a(t){return t.name=t.text,t.id.indexOf("j")!==-1&&(delete t.li_attr,delete t.state,delete t.icon,delete t.a_attr,delete t.data,delete t.text,delete t.type,delete t.id),t.children=t.children.map(a),t}var o=this;o.entityType=i.entityType,o.classifierId=i.classifier.id,o.classifierValue=i.classifierId,o.getTree=function(){$("#js-tree-select-wrapper").remove(),n.getByKey(o.entityType,o.classifierId).then(function(e){function n(t){return t.text=t.name,t.type="default",t.children.length&&(t.type="folder"),t.children=t.children.map(n),t}console.log("DATA",e),$(".js-tree-holder-dialog-select").append('<div id="js-tree-select-wrapper" class="js-tree-select" style="width: 100%; overflow: hidden"></div>'),o.tree=e.classifiers;var i=e.classifiers.map(n);$("#js-tree-select-wrapper").jstree({core:{animation:0,check_callback:!0,themes:{stripes:!0,dots:!0},data:[{text:"Root",state:{opened:!0,selected:!0},children:i}]},dnd:{is_draggable:function(t){return!1}},types:{"#":{valid_children:["root"]},root:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default"]},"default":{icon:"portal/content/img/ic_label_outline_black_1x.png",valid_children:["default","folder"]},folder:{icon:"portal/content/img/ic_folder_black_1x.png",valid_children:["default","folder"]}},plugins:["contextmenu","dnd","search","state","types","wholerow"]}),$("#js-tree-select-wrapper").jstree(!0).show_dots(),t.$apply(function(){setTimeout(function(){$("#js-tree-select-wrapper").jstree("deselect_all")},300),setTimeout(function(){console.log("vm.classifierId",o.classifierValue),$("#js-tree-select-wrapper").jstree("select_node","#"+o.classifierValue)},301)})})},o.getTree(),o.edit=function(t){e.show({controller:"ClassificationEditorDialogController as vm",templateUrl:"views/classification-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{data:{classifier:i.classifier,entityType:o.entityType}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),t.data.classifier.classifiers=t.data.classifier.children.map(a),$("#js-tree-select-wrapper").jstree(!0).destroy(),n.update(o.entityType,t.data.classifier.id,t.data.classifier).then(function(){o.getTree()}))})},o.agree=function(){var t=$("#js-tree-select-wrapper").jstree(!0).get_selected();console.log("ite---------------m",t),e.hide({status:"agree",data:{item:t[0]}})},o.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220}],54:[function(t,e,n){!function(){"use strict";t("../../../../../core/services/logService");e.exports=function(t,e){var n=this;n.agree=function(){e.hide({status:"agree",data:{name:n.groupName,members:[]}})},n.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2}],55:[function(t,e,n){!function(){"use strict";t("../../../../../core/services/logService");e.exports=function(t,e){var n=this;n.agree=function(){e.hide({status:"agree",data:{username:n.memberName,email:n.memberEmail}})},n.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2}],56:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/entityTypeMappingResolveService"),a=t("../../services/entityResolverService"),o=t("../../services/instrument/instrumentAttributeTypeService");e.exports=function(t,e,r){function s(t,e){c.entityItems.push({value_type:t.value_type,classifier:t.id,name:e.name,id:e.id,level:e.level}),e.children&&e.children.length&&s(e.children)}n.controller("EntityTypeMappingDialogController","initialized");var c=this;c.readyStatus={content:!1},c.entityItems=[],c.mapItem=r,c.mapEntityType=r.complexExpressionEntity,console.log("mapEntityType",c.mapEntityType),c.toggleQuery=function(){c.queryStatus=!c.queryStatus,c.query={}},c.setSort=function(t){c.direction=c.sort===t&&!c.direction,c.sort=t},c.fancyEntity=function(){return c.mapEntityType.replace("_"," ")},console.log(a.getList(c.mapEntityType));"classifier"==c.mapEntityType?o.getByKey(c.mapItem.attribute_type).then(function(e){[e].forEach(function(t){t.classifiers.forEach(function(e){s(t,e)})}),i.getList(c.mapEntityType).then(function(e){e.hasOwnProperty("results")?c.items=e.results:c.items=e;var n,i;for(i=0;i<c.entityItems.length;i+=1)for(n=0;n<c.items.length;n+=1)c.items[n][c.mapEntityType]==c.entityItems[i].id&&(c.entityItems[i].mapping=c.items[n]);console.log("!!!!!!!!!!!!!!!",c.entityItems),c.readyStatus.content=!0,t.$apply()})}):(console.log("vm.mapEntityType",c.mapEntityType),c.entityMapDashed=c.mapEntityType.split("_").join("-"),console.log("vm.entityMapDashed",c.entityMapDashed),a.getList(c.entityMapDashed).then(function(e){e.hasOwnProperty("results")?c.entityItems=e.results:c.entityItems=e,i.getList(c.mapEntityType).then(function(e){e.hasOwnProperty("results")?c.items=e.results:c.items=e;var n,i;for(i=0;i<c.entityItems.length;i+=1)for(n=0;n<c.items.length;n+=1)c.items[n][c.mapEntityType]==c.entityItems[i].id&&(c.entityItems[i].mapping=c.items[n]);console.log("!!!!!!!!!!!!!!!",c.entityItems),c.readyStatus.content=!0,t.$apply()})})),c.cancel=function(){e.cancel()},c.agree=function(){function t(){if(console.log("i",n),console.log(c.entityItems[n]),n<c.entityItems.length)return c.entityItems[n].hasOwnProperty("mapping")?c.entityItems[n].hasOwnProperty("mapping")&&!c.entityItems[n].mapping.hasOwnProperty("id")?(c.entityItems[n].mapping.provider=1,"classifier"==c.mapEntityType?(c.entityItems[n].mapping.attribute_type=c.entityItems[n].classifier,30==c.entityItems[n].value_type&&(c.entityItems[n].mapping.classifier=c.entityItems[n].id)):c.entityItems[n].mapping[c.mapEntityType]=c.entityItems[n].id,i.create(c.mapEntityType,c.entityItems[n].mapping).then(function(){return n+=1,t(),!1})):i.update(c.mapEntityType,c.entityItems[n].mapping.id,c.entityItems[n].mapping).then(function(){return n+=1,t(),!1}):(n+=1,t(),!1)}var n=0;t(),e.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":231,"../../services/entityTypeMappingResolveService":232,"../../services/instrument/instrumentAttributeTypeService":263}],57:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../services/eventsService"));e.exports=function(t,e,i){console.log("id for event buttons",i);var a=this;a.actionsBtns=i.eventActions,console.log("event button is",a.actionsBtns);var o=i.eventId;a.eventAction=function(t){var e={eventId:o,actionId:t};n.getEventAction(e).then(function(t){var i=moment(new Date).format("YYYY-MM-DD");t.values.date=i,n.putEventAction(e,t).then(function(){console.log("event action done"),a.cancel()})})},a.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/eventsService":235}],58:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/metaNotificationClassService"),a=t("../../services/instrument/instrumentEventScheduleConfigService");e.exports=function(t,e){n.controller("EventScheduleConfigDialogController","initialized");var o=this;o.readyStatus={notificationClass:!1,config:!1},a.getList().then(function(e){o.config=e.results[0],o.readyStatus.config=!0,t.$apply()}),i.getList().then(function(e){o.notificationClasses=e,o.readyStatus.notificationClass=!0,t.$apply()}),o.checkReadyStatus=function(){return 1==o.readyStatus.notificationClass&&1==o.readyStatus.config},o.agree=function(t){a.update(o.config.id,o.config).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||e.hide({res:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},o.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/instrument/instrumentEventScheduleConfigService":265,"../../services/metaNotificationClassService":272}],59:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t,e,i){n.controller("ExpressionEditorDialogController","initialized");var a=this;a.item=i,a.cancel=function(){e.cancel()},a.agree=function(){e.hide({status:"agree",data:{item:a.item}})}}}()},{"../../../../../core/services/logService":2}],60:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/metaService"),t("../../services/import/dataProvidersService"),t("../../services/import/scheduleService"),t("../../services/attributeTypeService"),t("../../services/import/instrumentSchemeService"),t("../../services/instrumentService"),t("../../services/import/importInstrumentService"),t("../../services/import/importPricingService")),a=t("../../services/instrument/instrumentRecalculateAccruedPriceService");e.exports=function(t,e){n.controller("FillPriceHistoryDialogController","initialized");var o=this;o.readyStatus={mapping:!1,processing:!1,recalculationProcessing:!1,recalculationDone:!1};var r=new Date;r=new Date(r.setDate(r.getDate()-1)),o.price={date_from:r,date_to:r,date_both:r,balance_date:r,override_existed:!1},o.priceSettings={isRange:!1},o.cancel=function(){e.cancel()},o.automatedUploads=function(t){e.show({controller:"AutomatedUploadsHistoryDialogController as vm",templateUrl:"views/dialogs/automated-uploads-history-dialog-view.html",targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},o.uploadPrice=function(n){o.readyStatus.processing=!0,o.price.date_both||(o.price.date_both=o.price.date_from),o.priceSettings.isRange?(o.price.date_from=moment(new Date(o.price.date_from)).format("YYYY-MM-DD"),o.price.date_to=moment(new Date(o.price.date_to)).format("YYYY-MM-DD"),o.price.balance_date=moment(new Date(o.price.balance_date)).format("YYYY-MM-DD")):(o.price.date_from=moment(new Date(o.price.date_both)).format("YYYY-MM-DD"),o.price.date_to=moment(new Date(o.price.date_both)).format("YYYY-MM-DD"),o.price.balance_date=moment(new Date(o.price.balance_date)).format("YYYY-MM-DD")),i.create(o.price).then(function(i){o.price=i,"P"==o.price.task_object.status||"S"==o.price.task_object.status||"W"==o.price.task_object.status?setTimeout(function(){o.uploadPrice()},5e3):(o.price.instrument_price_missed.length||o.price.currency_price_missed.length?e.show({controller:"FillPriceManuallyInstrumentDialogController as vm",templateUrl:"views/dialogs/fill-price-manually-instrument-dialog-view.html",targetEvent:n,locals:{data:{instruments:o.price.instrument_price_missed,currencies:o.price.currency_price_missed}},preserveScope:!0,autoWrap:!0,skipHide:!0}):e.show({controller:"SuccessDialogController as vm",templateUrl:"views/dialogs/success-dialog-view.html",targetEvent:n,locals:{success:{title:"Success",description:"Prices download success"}},preserveScope:!0,autoWrap:!0,skipHide:!0}),o.readyStatus.processing=!1),t.$apply()})},o.startRecalculation=function(){o.readyStatus.recalculationProcessing=!0,o.readyStatus.recalculationDone=!1,o.readyStatus.recalculationError=!1;var e,n;try{e=moment(new Date(o.recalculate.date_from)).format("YYYY-MM-DD"),n=moment(new Date(o.recalculate.date_to)).format("YYYY-MM-DD"),a.recalculate(e,n).then(function(){o.readyStatus.recalculationDone=!0,o.readyStatus.recalculationProcessing=!1,t.$apply()})}catch(i){o.readyStatus.recalculationProcessing=!1,o.readyStatus.recalculationError=!0}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/import/dataProvidersService":250,"../../services/import/importInstrumentService":251,"../../services/import/importPricingService":253,"../../services/import/instrumentSchemeService":256,"../../services/import/scheduleService":259,"../../services/instrument/instrumentRecalculateAccruedPriceService":267,"../../services/instrumentService":261,"../../services/metaService":275}],61:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/pricingPolicyService"),a=t("../../services/instrumentService"),o=t("../../services/currencyService"),r=t("../../services/priceHistoryService"),s=t("../../services/currencyHistoryService");e.exports=function(t,e,c){n.controller("FillPriceManuallyInstrumentDialogController","initialized");var d=this;d.readyStatus={instruments:!1,policies:!1,currencies:!1},d.newItem={pricing_policy:"",expr:"",notes:""},d.instrumentsPrices=c.instruments,d.currenciesPrices=c.currencies,i.getList().then(function(e){d.policies=e.results,d.readyStatus.policies=!0,t.$apply()}),a.getList().then(function(e){d.instruments=e.results,d.readyStatus.instruments=!0,t.$apply()}),o.getList().then(function(e){d.currencies=e.results,d.readyStatus.currencies=!0,t.$apply()}),d.checkReadyStatus=function(){return 1==d.readyStatus.instruments&&1==d.readyStatus.policies&&1==d.readyStatus.currencies},d.bindPricingPolicy=function(t){var e="";return d.policies.forEach(function(n){t.pricing_policy==n.id&&(t.policy_name=n.name,e=n.name)}),e},d.bindInstrument=function(t){var e="";return d.instruments.forEach(function(n){t.instrument==n.id&&(t.instrument_name=n.name,e=n.name)}),e},d.bindCurrency=function(t){var e="";return d.currencies.forEach(function(n){t.currency==n.id&&(t.currency_name=n.name,e=n.name)}),e},d.toggleQuery=function(){d.queryStatus=!d.queryStatus,d.query={}},d.setSort=function(t){d.direction=d.sort===t&&!d.direction,d.sort=t},d.agree=function(){var t=[];d.instrumentsPrices.forEach(function(e){null==e.id?t.push(r.create(e)):t.push(r.update(e.id,e))}),d.currenciesPrices.forEach(function(e){null==e.id?t.push(s.create(e)):t.push(s.update(e.id,e))}),Promise.all(t).then(function(){e.hide({status:"agree"})})}}}()},{"../../../../../core/services/logService":2,"../../services/currencyHistoryService":227,"../../services/currencyService":228,"../../services/instrumentService":261,"../../services/priceHistoryService":278,"../../services/pricingPolicyService":279}],62:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../services/pricingPolicyService")),i=t("../../services/currencyService"),a=t("../../services/portfolioService"),o=t("../../services/accountService"),r=t("../../services/strategyService"),s=t("../../services/transaction/transactionClassService");e.exports=function(t,e,c){var d=this;console.log("reportOptions",c),d.reportOptions=JSON.parse(JSON.stringify(c)),d.readyStatus={pricingPolicy:!1,currency:!1,portfolio:!1,account:!1,strategy1:!1,strategy2:!1,strategy3:!1,transactionClass:!1},d.getPricingPolicies=function(){d.readyStatus.pricingPolicy=!1,n.getList().then(function(e){d.pricingPolicies=e.results,d.readyStatus.pricingPolicy=!0,t.$apply()})},d.getCurrencies=function(){d.readyStatus.currency=!1,i.getList().then(function(e){d.currencies=e.results,d.readyStatus.currency=!0,t.$apply()})},d.getPortfolios=function(){d.readyStatus.portfolio=!1,a.getList().then(function(e){d.portfolios=e.results,d.readyStatus.portfolio=!0,t.$apply()})},d.getAccounts=function(){d.readyStatus.account=!1,o.getList().then(function(e){d.accounts=e.results,d.readyStatus.account=!0,t.$apply()})},d.getStrategies1=function(){d.readyStatus.strategy1=!1,r.getList(1).then(function(e){d.strategies1=e.results,d.readyStatus.strategy1=!0,t.$apply()})},d.getStrategies2=function(){d.readyStatus.strategy2=!1,r.getList(2).then(function(e){d.strategies2=e.results,d.readyStatus.strategy2=!0,t.$apply()})},d.getStrategies3=function(){d.readyStatus.strategy3=!1,r.getList(3).then(function(e){d.strategies3=e.results,d.readyStatus.strategy3=!0,t.$apply()})},d.getTransactionClasses=function(){d.readyStatus.transactionClass=!1,s.getList().then(function(e){d.transactionClasses=e,d.readyStatus.transactionClass=!0,t.$apply()})},d.checkReadyStatus=function(){for(var t=!0,e=Object.keys(d.readyStatus),n=0;n<e.length;n+=1)0==d.readyStatus[e[n]]&&(t=!1);return t},d.getPricingPolicies(),d.getCurrencies(),d.getPortfolios(),d.getAccounts(),d.getTransactionClasses(),d.getStrategies1(),d.getStrategies2(),d.getStrategies3(),d.saveSettings=function(){e.hide({status:"agree",data:d.reportOptions})},d.cancel=function(){e.cancel()}}}()},{"../../../../../core/services/logService":2,"../../services/accountService":217,"../../services/currencyService":228,"../../services/portfolioService":277,"../../services/pricingPolicyService":279,"../../services/strategyService":287,"../../services/transaction/transactionClassService":294}],63:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/metaService"),t("../../services/import/dataProvidersService"),t("../../services/import/scheduleService"),t("../../services/attributeTypeService"),t("../../services/import/instrumentSchemeService")),a=t("../../services/instrumentService"),o=t("../../services/currencyService"),r=t("../../services/instrumentTypeService"),s=t("../../services/instrument/instrumentDailyPricingModelService"),c=t("../../services/import/importPriceDownloadSchemeService"),d=t("../../services/import/importInstrumentService"),l=t("../../services/instrument/instrumentPaymentSizeDetailService"),u=t("../../services/instrument/instrumentAttributeTypeService");e.exports=function(t,e){n.controller("InstrumentMappingDialogController","initialized"),console.log("mdDialog is ",e);var m=this;m.readyStatus={mapping:!1,processing:!1,dailyModel:!1,priceDownloadScheme:!1,instrumentType:!1,currency:!1},m.dataIsImported=!1,m.config={instrument_code:"USP16394AG62 Corp",mode:1},m.loadIsAvailable=function(){return 0==m.readyStatus.processing&&null!=m.providerId&&null!=m.config.instrument_download_scheme&&null!=m.config.instrument_code},m.dailyModels=[],m.priceDownloadSchemes=[],m.instrumentTypes=[],m.currencies=[],m.dynAttributes={},m.providerId=1,i.getList(m.providerId).then(function(e){m.instrumentSchemes=e.results,m.readyStatus.mapping=!0,t.$apply()}),s.getList().then(function(e){m.dailyModels=e,m.readyStatus.dailyModel=!0,t.$apply()}),c.getList().then(function(e){m.priceDownloadSchemes=e.results,m.readyStatus.priceDownloadScheme=!0,t.$apply()}),l.getList().then(function(e){m.paymentSizeDefaults=e,t.$apply()}),r.getList().then(function(e){m.instrumentTypes=e.results,m.readyStatus.instrumentType=!0,t.$apply()}),o.getList().then(function(e){m.currencies=e.results,m.readyStatus.currency=!0,t.$apply()}),m.appendString=function(t){var e=m.config.instrument_code.split(" ")[0];m.config.instrument_code=e+" "+t},m.resolveAttributeNode=function(t){var e="";return m.dynAttributes["id_"+t.attribute_type].classifiers.forEach(function(n){n.id==t.classifier&&(e=n.name)}),e},m.findError=function(t,e,n){var i="",a=!1;return"entityAttr"==e&&m.config.errors.hasOwnProperty(t)&&(i=m.config.errors[t].join(" "),a=!0),"dynAttr"==e&&m.config.errors.hasOwnProperty("attribute_type_"+t.attribute_type)&&(i=m.config.errors["attribute_type_"+t.attribute_type].join(" "),a=!0),"message"==n?i:a},m.load=function(n){m.readyStatus.processing=!0,d.startImport(m.config).then(function(i){if(console.log("data",i),500!=i.status)if(m.config=i.response,"D"==m.config.task_object.status&&null!==m.config.instrument){m.readyStatus.processing=!1,m.dataIsImported=!0,m.mappedFields=[];var a=[];a=Object.keys(m.config.task_result_overrides).length>0?m.config.task_result_overrides:m.config.task_result;var o,r=Object.keys(a);for(o=0;o<r.length;o+=1)m.mappedFields.push({key:r[o],value:a[r[o]]});var s=[];m.config.instrument.attributes.forEach(function(t){30==t.attribute_type_object.value_type&&s.push(u.getByKey(t.attribute_type))}),console.log("vm.instrument",m.instrument),Promise.all(s).then(function(e){e.forEach(function(t){m.dynAttributes["id_"+t.id]=t}),t.$apply()})}else setTimeout(function(){m.load()},1e3);500==i.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:n,locals:{validationData:"An error occurred. Please try again later"},preserveScope:!0,autoWrap:!0,skipHide:!0})})},m.recalculate=function(){m.mappedFields.forEach(function(t){m.config.task_result_overrides[t.key]=t.value}),m.load()},m.openEditMapping=function(n){e.show({controller:"InstrumentMappingEditDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{schemeId:m.config.instrument_download_scheme}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.update(m.config.instrument_download_scheme,e.data).then(function(){t.$apply()}))})},m.cancel=function(){e.cancel()},m.agree=function(t){a.create(m.config.instrument).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||e.show({controller:"SuccessDialogController as vm",templateUrl:"views/dialogs/success-dialog-view.html",targetEvent:t,locals:{success:{title:"",description:"You have you have successfully add instrument "+m.config.instrument.user_code+" (user code)."}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(){e.hide({res:"agree"})}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/currencyService":228,"../../services/import/dataProvidersService":250,"../../services/import/importInstrumentService":251,"../../services/import/importPriceDownloadSchemeService":252,"../../services/import/instrumentSchemeService":256,"../../services/import/scheduleService":259,"../../services/instrument/instrumentAttributeTypeService":263,"../../services/instrument/instrumentDailyPricingModelService":264,"../../services/instrument/instrumentPaymentSizeDetailService":266,"../../services/instrumentService":261,"../../services/instrumentTypeService":262,"../../services/metaService":275}],64:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t,e,i){n.controller("WarningDialogController","initialized");var a=this;a.info=i,a.cancel=function(){e.cancel()},a.agree=function(){e.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],65:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/metaService"),t("../../services/transactionTypeService"));e.exports=function(t,e,a){n.controller("InstrumentEventActionDialogController","initialized");var o=this;o.readyStatus={transactionTypes:!1},console.log("eventActions",a),o.eventActions=a.$viewValue||[],o.toggleQuery=function(){o.queryStatus=!o.queryStatus,o.query={}},o.setSort=function(t){o.direction=o.sort===t&&!o.direction,o.sort=t},o.checkReadyStatus=function(){return 1==o.readyStatus.transactionTypes},i.getList().then(function(e){console.log("data",e),o.transactionTypes=e.results,o.readyStatus.transactionTypes=!0,t.$apply()}),o.newItem={transaction_type:"",text:"",is_sent_to_pending:null,is_book_automatic:null,button_position:""},o.bindTransactionType=function(t){var e;return o.transactionTypes.forEach(function(n){t.transaction_type==n.id&&(t.transaction_type_name=n.name,e=n.name)}),e},o.editItem=function(t){t.editStatus=!0},o.saveItem=function(t){t.editStatus=!1},o.deleteItem=function(t,e){o.eventActions.splice(e,1)},o.addRow=function(){o.eventActions.push({transaction_type:o.newItem.transaction_type,text:o.newItem.text,is_sent_to_pending:o.newItem.is_sent_to_pending,is_book_automatic:o.newItem.is_book_automatic,button_position:o.newItem.button_position}),o.newItem={transaction_type:"",text:"",is_sent_to_pending:null,is_book_automatic:null,button_position:""}},console.log("eventActions",a),o.agree=function(){a.$viewValue=o.eventActions,e.hide({status:"agree"})},o.cancel=function(){e.cancel()}}}()},{
"../../../../../core/services/logService":2,"../../services/metaService":275,"../../services/transactionTypeService":292}],66:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/metaService"),a=t("../../services/import/dataProvidersService"),o=t("../../services/import/scheduleService"),r=t("../../services/attributeTypeService"),s=t("../../services/import/instrumentSchemeService");e.exports=function(t,e){n.controller("InstrumentMappingDialogController","initialized");var c=this;c.dataProviders=[],c.readyStatus={dataProviders:!1,scheme:!0},a.getList().then(function(e){c.dataProviders=e,c.readyStatus.dataProviders=!0,t.$apply()}),c.hidedEntityAttrs=["factor_schedule_method","accrual_calculation_schedule_method","provider","url","scheme_name","id","attributes","inputs"],c.baseAttrs=i.getBaseAttrs(),c.entityAttrs=i.getEntityAttrs("instrument-scheme").map(function(t){return"factor_schedule_method"==t.key||"accrual_calculation_schedule_method"==t.key?null:t}).filter(function(t){return!!t}),c.attrs=[],r.getList("instrument").then(function(e){c.attrs=e.results,t.$apply()}),c.scheme={};var d=function(){c.scheme.attributes=[];var t;for(t=0;t<c.baseAttrs.length;t+=1)c.scheme[c.baseAttrs[t].key]="";var e;for(e=0;e<c.entityAttrs.length;e+=1)c.scheme[c.entityAttrs[e].key]=""};d(),c.mapFields=[{key:"name",caption:"Name",required:!0,expression:"",complexExpressionEntity:!1},{key:"user_code",caption:"User code",required:!0,expression:"",complexExpressionEntity:!1},{key:"instrument_type",caption:"Instrument type",required:!0,expression:"",complexExpressionEntity:"instrument_type"},{key:"reference_for_pricing",caption:"Reference for pricing",required:!0,expression:"",complexExpressionEntity:!1}],c.mappedFieldsDefaults=[{key:"daily_pricing_model",caption:"Daily pricing model",required:!1,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"price_download_scheme",caption:"Price download scheme",required:!1,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"default_price",caption:"Default price",value_type:10,required:!1,expression:"",complexExpressionEntity:!1},{key:"default_accrued",caption:"Default accrued",value_type:10,required:!1,expression:"",complexExpressionEntity:!1},{key:"payment_size_detail",caption:"Payment size detail",value_type:"field",required:!1,expression:"",complexExpressionEntity:!1}],c.mappedFieldsSecond=[{key:"short_name",caption:"Short name",required:!0,expression:"",complexExpressionEntity:!1},{key:"public_name",caption:"Public name",required:!0,expression:"",complexExpressionEntity:!1}],c.mappedDynamic=[],c.providerFields=[{name:"",field:""}],c.addProviderField=function(){c.providerFields.push({name:"",field:""})},c.addMapField=function(){c.mappedDynamic.push({expression:"",required:!1,complexExpressionEntity:!1})},c.removeProviderField=function(t,e){console.log("$index",e),c.providerFields.splice(e,1),console.log("vm.providerFields",c.providerFields)},c.removeMappingField=function(t,e){c.mappedDynamic.splice(e,1)},c.beatufier=function(t){if(void 0!==t){var e=t.split("_").join(" ");return e}return t},c.cancel=function(){e.cancel()},c.agree=function(t){function n(){var t;for(t=0;t<c.mapFields.length;t+=1)c.mapFields[t].hasOwnProperty("attribute_type")?c.scheme.attributes.push({attribute_type:c.mapFields[t].attribute_type,value:c.mapFields[t].expression}):c.scheme[c.mapFields[t].key]=c.mapFields[t].expression}function i(){var t;for(t=0;t<c.mappedFieldsDefaults.length;t+=1)c.mappedFieldsDefaults[t].hasOwnProperty("attribute_type")?c.scheme.attributes.push({attribute_type:c.mappedFieldsDefaults[t].attribute_type,value:c.mappedFieldsDefaults[t].expression}):c.scheme[c.mappedFieldsDefaults[t].key]=c.mappedFieldsDefaults[t].expression}function a(){var t;for(t=0;t<c.mappedFieldsSecond.length;t+=1)c.mappedFieldsSecond[t].hasOwnProperty("attribute_type")?c.scheme.attributes.push({attribute_type:c.mappedFieldsSecond[t].attribute_type,value:c.mappedFieldsSecond[t].expression}):c.scheme[c.mappedFieldsSecond[t].key]=c.mappedFieldsSecond[t].expression}function o(){var t,e,n,i,a;for(n=0;n<c.baseAttrs.length;n+=1)"notes"==c.baseAttrs[n].key&&(null==c.scheme.notes&&""==c.scheme.notes||c.mappedDynamic.push({key:"notes",caption:"Notes",required:!1,value:c.baseAttrs[n],complexExpressionEntity:!1,expression:c.scheme.notes}));var o=Object.keys(c.scheme),r=["user_code","instrument_type","reference_for_pricing","daily_pricing_model","price_download_scheme","default_price","default_accrued","payment_size_detail","public_name"];for(i=0;i<o.length;i+=1)if(c.hidedEntityAttrs.indexOf(o[i])===-1&&r.indexOf(o[i])===-1)for(a=0;a<c.entityAttrs.length;a+=1)if(c.entityAttrs[a].key==o[i]&&""!=c.scheme[o[i]]&&null!=c.scheme[o[i]]&&void 0!=c.scheme[o[i]]){var s=!1;"accrued_currency"!=o[i]&&"pricing_currency"!=o[i]||(s="currency"),c.mappedDynamic.push({key:o[i],required:!1,value:c.entityAttrs[a],complexExpressionEntity:s,expression:c.scheme[o[i]]})}for(t=0;t<c.scheme.attributes.length;t+=1)for(console.log("vm.scheme.attributes[a]",c.scheme.attributes[t]),console.log("vm.attrs",c.attrs),e=0;e<c.attrs.length;e+=1)if(c.attrs[e].id==c.scheme.attributes[t].attribute_type){var d=!1;30==c.attrs[e].value_type&&(d=!0),c.mappedDynamic.push({id:c.scheme.attributes[t].id,complexExpressionEntity:d,expression:c.scheme.attributes[t].value,attribute_name:c.scheme.attributes[t].name,attribute_type:c.scheme.attributes[t].attribute_type,value:c.attrs[e],attr:c.scheme.attributes[t]})}}c.scheme.scheme_name=c.schemeName,c.scheme.provider=c.schemeProvider,c.scheme.factor_schedule_method=c.factorScheduleMethod,c.scheme.accrual_calculation_schedule_method=c.accrualCalculation,c.scheme.attributes=[],n(),i(),a(),o(),c.scheme.inputs=c.providerFields,c.scheme.inputs.forEach(function(t){t.field=t.name}),s.create(c.scheme).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||e.hide({status:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},c.openMapping=function(t,n){console.log("ITEEM",n),e.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},c.openExpressionDialog=function(n,i){e.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:i}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.expression=e.data.item.expression,t.$apply())})},c.resolveFieldType=function(t){console.log("field",t),t.value.hasOwnProperty("key")&&(t.key=t.value.key,"accrued_currency"!=t.key&&"pricing_currency"!=t.key||(t.complexExpressionEntity="currency")),t.value.hasOwnProperty("value_type")&&t.value.hasOwnProperty("id")&&(t.attribute_type=t.value.id,30==t.value.value_type&&(t.complexExpressionEntity="classifier"))},c.getModelKey=function(t){return t.hasOwnProperty("key")?"key":"attribute_type"},c.getSchedules=function(){o.getAccrualScheduleDownloadMethodList().then(function(e){c.accrualSchedule=e,c.readyStatus.accrualSchedule=!0,t.$apply()}),o.getFactorScheduleDownloadMethodList().then(function(e){c.factorSchedule=e,c.readyStatus.factorSchedule=!0,t.$apply()})},c.checkSchedules=function(){return!(!c.readyStatus.accrualSchedule||!c.readyStatus.factorSchedule)},c.getSchedules(),c.checkAttrs=function(){var t,e,n,i,a,o,r,s,d,l,u,m,p,g,y;for(t=0;t<c.baseAttrs.length;t+=1){for(c.baseAttrs[t].disabled=!1,i=0;i<c.mapFields.length;i+=1)c.mapFields[i].key==c.baseAttrs[t].key&&(c.baseAttrs[t].disabled=!0);for(r=0;r<c.mappedFieldsDefaults.length;r+=1)c.mappedFieldsDefaults[r].key==c.baseAttrs[t].key&&(c.baseAttrs[t].disabled=!0);for(l=0;l<c.mappedFieldsSecond.length;l+=1)c.mappedFieldsSecond[l].key==c.baseAttrs[t].key&&(c.baseAttrs[t].disabled=!0);for(p=0;p<c.mappedDynamic.length;p+=1)c.mappedDynamic[p].key==c.baseAttrs[t].key&&(c.baseAttrs[t].disabled=!0)}for(e=0;e<c.entityAttrs.length;e+=1){for(c.entityAttrs[e].disabled=!1,a=0;a<c.mapFields.length;a+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[e].key)===-1&&c.mapFields[a].key==c.entityAttrs[e].key&&(c.entityAttrs[e].disabled=!0);for(s=0;s<c.mappedFieldsDefaults.length;s+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[e].key)===-1&&c.mappedFieldsDefaults[s].key==c.entityAttrs[e].key&&(c.entityAttrs[e].disabled=!0);for(u=0;u<c.mappedFieldsSecond.length;u+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[e].key)===-1&&c.mappedFieldsSecond[u].key==c.entityAttrs[e].key&&(c.entityAttrs[e].disabled=!0);for(g=0;g<c.mappedDynamic.length;g+=1)c.hidedEntityAttrs.indexOf(c.entityAttrs[e].key)===-1&&c.mappedDynamic[g].key==c.entityAttrs[e].key&&(c.entityAttrs[e].disabled=!0)}for(n=0;n<c.attrs.length;n+=1){for(c.attrs[n].disabled=!1,o=0;o<c.mapFields.length;o+=1)c.mapFields[o].hasOwnProperty("attribute_type")&&c.mapFields[o].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0);for(d=0;d<c.mappedFieldsDefaults.length;d+=1)c.mappedFieldsDefaults[d].hasOwnProperty("attribute_type")&&c.mappedFieldsDefaults[d].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0);for(m=0;m<c.mappedFieldsSecond.length;m+=1)c.mappedFieldsSecond[m].hasOwnProperty("attribute_type")&&c.mappedFieldsSecond[m].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0);for(y=0;y<c.mappedDynamic.length;y+=1)c.mappedDynamic[y].hasOwnProperty("attribute_type")&&c.mappedDynamic[y].attribute_type==c.attrs[n].id&&(c.attrs[n].disabled=!0)}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/import/dataProvidersService":250,"../../services/import/instrumentSchemeService":256,"../../services/import/scheduleService":259,"../../services/metaService":275}],67:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/metaService"),a=t("../../services/import/dataProvidersService"),o=t("../../services/import/instrumentSchemeService"),r=t("../../services/import/scheduleService"),s=t("../../services/attributeTypeService");e.exports=function(t,e,c){n.controller("InstrumentMappingEditDialogController","initialized");var d=this;d.scheme={},d.readyStatus={dataProviders:!1,scheme:!1},o.getByKey(c).then(function(e){d.scheme=e,d.getAttrs(),t.$apply()}),d.hidedEntityAttrs=["factor_schedule_method","accrual_calculation_schedule_method","provider","url","scheme_name","id","attributes","inputs"],d.baseAttrs=i.getBaseAttrs(),d.entityAttrs=i.getEntityAttrs("instrument-scheme").map(function(t){return"factor_schedule_method"==t.key||"accrual_calculation_schedule_method"==t.key?null:t}).filter(function(t){return!!t}),console.log("vm.entityAttrs",d.entityAttrs),d.attrs=[],d.getAttrs=function(){s.getList("instrument").then(function(e){d.attrs=e.results,l(),t.$apply()})},d.dataProviders=[],a.getList().then(function(e){d.dataProviders=e,d.readyStatus.dataProviders=!0,t.$apply()}),d.mapFields=[{key:"name",caption:"Name",required:!0,expression:"",complexExpressionEntity:!1},{key:"user_code",caption:"User code",required:!0,expression:"",complexExpressionEntity:!1},{key:"instrument_type",caption:"Instrument type",required:!0,expression:"",complexExpressionEntity:"instrument_type"},{key:"reference_for_pricing",caption:"Reference for pricing",required:!0,expression:"",complexExpressionEntity:!1}],d.mappedFieldsDefaults=[{key:"daily_pricing_model",caption:"Daily pricing model",required:!1,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"price_download_scheme",caption:"Price download scheme",required:!1,value_type:"field",expression:"",complexExpressionEntity:!1},{key:"default_price",caption:"Default price",value_type:10,required:!1,expression:"",complexExpressionEntity:!1},{key:"default_accrued",caption:"Default accrued",value_type:10,required:!1,expression:"",complexExpressionEntity:!1},{key:"payment_size_detail",caption:"Payment size detail",value_type:"field",required:!1,expression:"",complexExpressionEntity:!1}],d.mappedFieldsSecond=[{key:"short_name",caption:"Short name",required:!0,expression:"",complexExpressionEntity:!1},{key:"public_name",caption:"Public name",required:!0,expression:"",complexExpressionEntity:!1}],d.mappedDynamic=[],d.providerFields=[{name:"",field:""}];var l=function(){function t(){var t,e,n=Object.keys(d.scheme);for(t=0;t<n.length;t+=1)if(d.hidedEntityAttrs.indexOf(n[t])===-1){var i=a(n[t]),s=o(n[t]),c=r(n[t]);for(e=0;e<d.mapFields.length;e+=1)d.mapFields[e].key==n[t]&&(d.mapFields[e].caption=i,d.mapFields[e].required=s,d.mapFields[e].complexExpressionEntity=c,d.mapFields[e].expression=d.scheme[n[t]])}}function e(){var t,e,n=Object.keys(d.scheme);for(t=0;t<n.length;t+=1)if(d.hidedEntityAttrs.indexOf(n[t])===-1){var i=a(n[t]),s=o(n[t]),c=r(n[t]);for(e=0;e<d.mappedFieldsDefaults.length;e+=1)d.mappedFieldsDefaults[e].key==n[t]&&(d.mappedFieldsDefaults[e].caption=i,d.mappedFieldsDefaults[e].required=s,d.mappedFieldsDefaults[e].complexExpressionEntity=c,d.mappedFieldsDefaults[e].expression=d.scheme[n[t]])}}function n(){var t,e,n=Object.keys(d.scheme);for(t=0;t<n.length;t+=1)if(d.hidedEntityAttrs.indexOf(n[t])===-1){var i=a(n[t]),s=o(n[t]),c=r(n[t]);for(e=0;e<d.mappedFieldsSecond.length;e+=1)d.mappedFieldsSecond[e].key==n[t]&&(d.mappedFieldsSecond[e].caption=i,d.mappedFieldsSecond[e].required=s,d.mappedFieldsSecond[e].complexExpressionEntity=c,d.mappedFieldsSecond[e].expression=d.scheme[n[t]])}}function i(){var t,e,n,i,a;for(n=0;n<d.baseAttrs.length;n+=1)"notes"==d.baseAttrs[n].key&&(null==d.scheme.notes&&""==d.scheme.notes||d.mappedDynamic.push({key:"notes",caption:"Notes",required:!1,value:d.baseAttrs[n],complexExpressionEntity:!1,expression:d.scheme.notes}));var o=Object.keys(d.scheme),r=["user_code","instrument_type","reference_for_pricing","daily_pricing_model","price_download_scheme","default_price","default_accrued","payment_size_detail","public_name"];for(i=0;i<o.length;i+=1)if(d.hidedEntityAttrs.indexOf(o[i])===-1&&r.indexOf(o[i])===-1)for(a=0;a<d.entityAttrs.length;a+=1)if(d.entityAttrs[a].key==o[i]&&""!=d.scheme[o[i]]&&null!=d.scheme[o[i]]&&void 0!=d.scheme[o[i]]){var s=!1;"accrued_currency"!=o[i]&&"pricing_currency"!=o[i]||(s="currency"),d.mappedDynamic.push({key:o[i],required:!1,value:d.entityAttrs[a],complexExpressionEntity:s,expression:d.scheme[o[i]]})}for(t=0;t<d.scheme.attributes.length;t+=1)for(console.log("vm.scheme.attributes[a]",d.scheme.attributes[t]),console.log("vm.attrs",d.attrs),e=0;e<d.attrs.length;e+=1)if(d.attrs[e].id==d.scheme.attributes[t].attribute_type){var c=!1;30==d.attrs[e].value_type&&(c="classifier"),d.mappedDynamic.push({id:d.scheme.attributes[t].id,complexExpressionEntity:c,expression:d.scheme.attributes[t].value,attribute_name:d.scheme.attributes[t].name,attribute_type:d.scheme.attributes[t].attribute_type,value:d.attrs[e],attr:d.scheme.attributes[t]})}}d.schemeName=d.scheme.scheme_name,d.schemeProvider=d.scheme.provider,d.factorScheduleMethod=d.scheme.factor_schedule_method,d.accrualCalculation=d.scheme.accrual_calculation_schedule_method;var a=function(t){var e;for(e=0;e<d.entityAttrs.length;e+=1)if(d.entityAttrs[e].key==t)return d.entityAttrs[e].caption},o=function(t){var e=["name","user_code","instrument_type","reference_for_pricing","short_name","public_name"];return e.indexOf(t)!==-1},r=function(t){return"accrued_currency"==t?"currency":"pricing_currency"==t?"currency":"instrument_type"==t&&"instrument_type"};t(),e(),n(),i(),d.providerFields=d.scheme.inputs,d.readyStatus.scheme=!0};d.resolveFieldType=function(t){console.log("field",t),t.value.hasOwnProperty("key")&&(t.key=t.value.key,"accrued_currency"!=t.key&&"pricing_currency"!=t.key||(t.complexExpressionEntity="currency")),t.value.hasOwnProperty("value_type")&&t.value.hasOwnProperty("id")&&(t.attribute_type=t.value.id,30==t.value.value_type&&(t.complexExpressionEntity="classifier"))},d.getModelKey=function(t){return t.hasOwnProperty("key")?"key":"attribute_type"},d.addProviderField=function(){d.providerFields.push({name:"",field:""})},d.beatufier=function(t){if(void 0!==t){var e=t.split("_").join(" ");return e}return t},d.addMapField=function(){d.mappedDynamic.push({expression:"",required:!1,complexExpressionEntity:!1})},d.removeProviderField=function(t,e){d.providerFields.splice(e,1)},d.removeMappingField=function(t,e){d.mappedDynamic.splice(e,1)},d.cancel=function(){e.cancel()},d.agree=function(t){d.schemeUpdated={},d.schemeUpdated.scheme_name=d.schemeName,d.schemeUpdated.provider=d.schemeProvider,d.schemeUpdated.factor_schedule_method=d.factorScheduleMethod,d.schemeUpdated.accrual_calculation_schedule_method=d.accrualCalculation,d.schemeUpdated.attributes=[],console.log("mapFields",d.mapFields),console.log("mappedFieldsDefaults",d.mappedFieldsDefaults),console.log("mappedFieldsSecond",d.mappedFieldsSecond),console.log("mappedDynamic",d.mappedDynamic);var n,i,a,r;for(n=0;n<d.mapFields.length;n+=1)d.mapFields[n].hasOwnProperty("attribute_type")?d.schemeUpdated.attributes.push({id:d.mapFields[n].id,attribute_type:d.mapFields[n].attribute_type,value:d.mapFields[n].expression}):d.schemeUpdated[d.mapFields[n].key]=d.mapFields[n].expression;for(i=0;i<d.mappedFieldsDefaults.length;i+=1)d.mappedFieldsDefaults[i].hasOwnProperty("attribute_type")?d.schemeUpdated.attributes.push({id:d.mappedFieldsDefaults[i].id,attribute_type:d.mappedFieldsDefaults[i].attribute_type,value:d.mappedFieldsDefaults[i].expression}):d.schemeUpdated[d.mappedFieldsDefaults[i].key]=d.mappedFieldsDefaults[i].expression;for(a=0;a<d.mappedFieldsSecond.length;a+=1)d.mappedFieldsSecond[a].hasOwnProperty("attribute_type")?d.schemeUpdated.attributes.push({id:d.mappedFieldsSecond[a].id,attribute_type:d.mappedFieldsSecond[a].attribute_type,value:d.mappedFieldsSecond[a].expression}):d.schemeUpdated[d.mappedFieldsSecond[a].key]=d.mappedFieldsSecond[a].expression;for(r=0;r<d.mappedDynamic.length;r+=1)d.mappedDynamic[r].hasOwnProperty("attribute_type")?d.schemeUpdated.attributes.push({id:d.mappedDynamic[r].id,attribute_type:d.mappedDynamic[r].attribute_type,value:d.mappedDynamic[r].expression}):d.schemeUpdated[d.mappedDynamic[r].key]=d.mappedDynamic[r].expression;d.schemeUpdated.inputs=d.providerFields,d.schemeUpdated.inputs.forEach(function(t){t.field=t.name}),o.update(d.scheme.id,d.schemeUpdated).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||e.hide({res:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})},d.openMapping=function(t,n){e.show({controller:"EntityTypeMappingDialogController as vm",templateUrl:"views/dialogs/entity-type-mapping-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{mapItem:n}}).then(function(t){"agree"===t.status&&console.log("res",t.data)})},d.openExpressionDialog=function(n,i){e.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:i}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),e.data&&(i.expression=e.data.item.expression),t.$apply())})},d.getSchedules=function(){r.getAccrualScheduleDownloadMethodList().then(function(e){d.accrualSchedule=e,d.readyStatus.accrualSchedule=!0,t.$apply()}),r.getFactorScheduleDownloadMethodList().then(function(e){d.factorSchedule=e,d.readyStatus.factorSchedule=!0,t.$apply()})},d.checkSchedules=function(){return!(!d.readyStatus.accrualSchedule||!d.readyStatus.factorSchedule)},d.getSchedules(),d.checkAttrs=function(){console.log("chack attrs?");var t,e,n,i,a,o,r,s,c,l,u,m,p,g,y;for(t=0;t<d.baseAttrs.length;t+=1){for(d.baseAttrs[t].disabled=!1,i=0;i<d.mapFields.length;i+=1)d.mapFields[i].key==d.baseAttrs[t].key&&(d.baseAttrs[t].disabled=!0);for(r=0;r<d.mappedFieldsDefaults.length;r+=1)d.mappedFieldsDefaults[r].key==d.baseAttrs[t].key&&(d.baseAttrs[t].disabled=!0);for(l=0;l<d.mappedFieldsSecond.length;l+=1)d.mappedFieldsSecond[l].key==d.baseAttrs[t].key&&(d.baseAttrs[t].disabled=!0);for(p=0;p<d.mappedDynamic.length;p+=1)d.mappedDynamic[p].key==d.baseAttrs[t].key&&(d.baseAttrs[t].disabled=!0)}for(e=0;e<d.entityAttrs.length;e+=1){for(d.entityAttrs[e].disabled=!1,a=0;a<d.mapFields.length;a+=1)d.hidedEntityAttrs.indexOf(d.entityAttrs[e].key)===-1&&d.mapFields[a].key==d.entityAttrs[e].key&&(d.entityAttrs[e].disabled=!0);for(s=0;s<d.mappedFieldsDefaults.length;s+=1)d.hidedEntityAttrs.indexOf(d.entityAttrs[e].key)===-1&&d.mappedFieldsDefaults[s].key==d.entityAttrs[e].key&&(d.entityAttrs[e].disabled=!0);for(u=0;u<d.mappedFieldsSecond.length;u+=1)d.hidedEntityAttrs.indexOf(d.entityAttrs[e].key)===-1&&d.mappedFieldsSecond[u].key==d.entityAttrs[e].key&&(d.entityAttrs[e].disabled=!0);for(g=0;g<d.mappedDynamic.length;g+=1)d.hidedEntityAttrs.indexOf(d.entityAttrs[e].key)===-1&&d.mappedDynamic[g].key==d.entityAttrs[e].key&&(d.entityAttrs[e].disabled=!0)}for(n=0;n<d.attrs.length;n+=1){for(d.attrs[n].disabled=!1,o=0;o<d.mapFields.length;o+=1)d.mapFields[o].hasOwnProperty("attribute_type")&&d.mapFields[o].attribute_type==d.attrs[n].id&&(d.attrs[n].disabled=!0);for(c=0;c<d.mappedFieldsDefaults.length;c+=1)d.mappedFieldsDefaults[c].hasOwnProperty("attribute_type")&&d.mappedFieldsDefaults[c].attribute_type==d.attrs[n].id&&(d.attrs[n].disabled=!0);for(m=0;m<d.mappedFieldsSecond.length;m+=1)d.mappedFieldsSecond[m].hasOwnProperty("attribute_type")&&d.mappedFieldsSecond[m].attribute_type==d.attrs[n].id&&(d.attrs[n].disabled=!0);for(y=0;y<d.mappedDynamic.length;y+=1)d.mappedDynamic[y].hasOwnProperty("attribute_type")&&d.mappedDynamic[y].attribute_type==d.attrs[n].id&&(d.attrs[n].disabled=!0)}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/import/dataProvidersService":250,"../../services/import/instrumentSchemeService":256,"../../services/import/scheduleService":259,"../../services/metaService":275}],68:[function(t,e,n){!function(){"use strict";var n=t("../../services/instrumentService");e.exports=function(t,e){var i=this;i.search={user_code:"",name:"",short_name:"",user_text_1:"",user_text_2:"",user_text_3:""},i.instruments=[],i.selectedItem={},i.agree=function(){e.hide({status:"agree",data:{item:i.selectedItem}})},i.cancel=function(){e.cancel()},i.selectRow=function(t){i.instruments.forEach(function(t){t.active=!1}),i.selectedItem=t,t.active=!0},i.selectAndSave=function(t){e.hide({status:"agree",data:{item:t}})},n.getList({filters:i.search}).then(function(e){i.instruments=e.results,t.$apply()}),i.updateTable=function(){n.getList({filters:i.search}).then(function(e){i.instruments=e.results,t.$apply()})}}}()},{"../../services/instrumentService":261}],69:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../services/membersAndGroupsService"));e.exports=function(t,e,i){var a=this;a.membersList=[],a.assignedMembersList=[],a.groups=[],n.getList("members").then(function(e){a.membersList=e.results,n.getMemberOrGroupByKey("groups",i).then(function(e){a.groups=e,console.log("groups is",e);var n=a.groups.members;n&&n.length>0&&n.map(function(t){a.membersList.map(function(e,n){var i=e.id;i===t&&(a.membersList.splice(n,1),a.assignedMembersList.push(e))})}),t.$apply()})}),a.cancel=function(){e.cancel()},a.agree=function(){var t=[];a.assignedMembersList&&a.assignedMembersList.length>0&&a.assignedMembersList.map(function(e){t.push(e.id)}),e.hide({status:"agree",data:{members:t,name:a.groups.name}})}}}()},{"../../../../../core/services/logService":2,"../../services/membersAndGroupsService":269}],70:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../services/membersAndGroupsService"));e.exports=function(t,e,i){var a=this;a.groupsList=[],a.assignedGroupsList=[],a.members=[],n.getList("groups").then(function(e){a.groupsList=e.results,n.getMemberOrGroupByKey("members",i).then(function(e){a.members=e;var n=a.members.groups;n&&n.length>0&&n.map(function(t){a.groupsList.map(function(e,n){var i=e.id;i===t&&(a.groupsList.splice(n,1),a.assignedGroupsList.push(e))})}),t.$apply()})}),a.cancel=function(){e.cancel()},a.agree=function(){var t=[];a.assignedGroupsList&&a.assignedGroupsList.length>0&&a.assignedGroupsList.map(function(e){t.push(e.id)}),e.hide({status:"agree",data:{isAdmin:a.memberIsAdmin,groups:t,join_date:a.members.join_date}})}}}()},{"../../../../../core/services/logService":2,"../../services/membersAndGroupsService":269}],71:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/metaService"),t("../../services/import/importPriceDownloadSchemeService")),a=t("../../services/import/dataProvidersService");e.exports=function(t,e){n.controller("PriceDownloadSchemeAddDialogController","initialized");var o=this;o.readyStatus={scheme:!0,providers:!1},o.dataProviders=[],a.getList().then(function(e){o.dataProviders=e,o.readyStatus.providers=!0,o.getList(),t.$apply()}),o.toggleQuery=function(){o.queryStatus=!o.queryStatus,o.query={}},o.setSort=function(t){o.direction=o.sort===t&&!o.direction,o.sort=t},o.cancel=function(){e.cancel()},o.editItem=function(t){t.editStatus=!0},o.saveItem=function(t){i.update(t.id,t).then(function(){t.editStatus=!1,o.getList()})},o.deleteItem=function(t,e){i.deleteByKey(t.id),setTimeout(function(){o.getList()},100)},o.items=[],o.getList=function(){i.getList().then(function(e){o.items=e.results,o.items.forEach(function(t){o.dataProviders.forEach(function(e){t.provider==e.id&&(t.provider_name=e.name)})}),t.$apply()})},o.addRow=function(){i.create(o.newItem).then(function(){o.newItem={scheme_name:null,provider:null,bid0:"",bid1:"",bid2:"",bid_multiplier:"",ask0:"",ask1:"",ask2:"",ask_multiplier:"",last:"",last_multiplier:"",mid:"",mid_multiplier:"",bid_history:"",ask_history:"",last_history:"",mid_history:"",bid_history_multiplier:"",mid_history_multiplier:"",last_history_multiplier:"",ask_history_multiplier:"",currency_fxrate:"",currency_fxrate_multiplier:""},o.getList()})},o.agree=function(){}}}()},{"../../../../../core/services/logService":2,"../../services/import/dataProvidersService":250,"../../services/import/importPriceDownloadSchemeService":252,"../../services/metaService":275}],72:[function(t,e,n){!function(){"use strict";e.exports=function(t,e){var n=this;n.cancel=function(){e.cancel()}}}()},{}],73:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t,e,i){n.controller("SuccessDialogController","initialized");var a=this;a.success=i,a.cancel=function(){e.cancel()},a.agree=function(){e.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],74:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/uiService");t("../../../services/metaContentTypesService");e.exports=function(t,e,a){n.controller("UiLayoutListDialogController","initalized");var o=this;o.readyStatus={items:!1},o.getList=function(){i.getListLayout(a.entityType).then(function(e){o.items=e.results,o.readyStatus.items=!0,t.$apply()})},o.getList(),o.deleteItem=function(t,n){e.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:t,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:"Are you sure to delete layout?"}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(t){"agree"===t.status&&i.deleteListLayoutByKey(n.id).then(function(t){o.getList()})})},o.selectLayout=function(t){o.items.forEach(function(t){t.is_default=!1}),t.is_default=!0},o.cancel=function(){e.cancel()},o.agree=function(){var t=[];o.items.forEach(function(e){t.push(i.updateListLayout(e.id,e))}),Promise.all(t).then(function(){e.hide({status:"agree"})})}}}()},{"../../../../../../core/services/logService":2,"../../../services/metaContentTypesService":270,"../../../services/uiService":296}],75:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService");e.exports=function(t,e,i){n.controller("UiLayoutSaveAsDialogController","initialized");var a=this;a.cancel=function(){e.cancel()},a.agree=function(){e.hide({status:"agree",data:{name:a.layoutName}})}}}()},{"../../../../../../core/services/logService":2}],76:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t,e,i){function a(t){var e="";return e=t.split("_").join(" "),e.charAt(0).toUpperCase()+e.slice(1)}n.controller("ValidationDialogController","initialized");var o=this;o.validationData=i,o.errorKeys=[];var r,s=Object.keys(o.validationData);for(r=0;r<s.length;r+=1)o.errorKeys.push({caption:a(s[r]),value:o.validationData[s[r]][0]});o.cancel=function(){e.cancel()},o.agree=function(){e.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],77:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t,e,i){n.controller("WarningDialogController","initialized");var a=this;a.warning=i,a.cancel=function(){e.cancel()},a.agree=function(){e.hide({status:"agree"})}}}()},{"../../../../../core/services/logService":2}],78:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/attributeTypeService"),a=t("../services/uiService"),o=(t("../services/portfolioService"),t("../services/entityResolverService")),r=t("../services/metaService"),s=t("../services/gridHelperService"),c=t("../services/routeResolverService");e.exports=function(t,e,d,l){function u(){var t;for(t=0;t<g.tabs.length;t+=1)m(g.tabs[t])}function m(t){var e;for(t.layout.rows=t.layout.rows+1,e=0;e<t.layout.columns;e+=1)t.layout.fields.push({row:t.layout.rows,column:e+1,colspan:1,type:"empty"})}function p(t){var e;for(e=0;e<t.layout.fields.length;e+=1)t.layout.fields[e].row===t.layout.rows&&(t.layout.fields.splice(e,1),e-=1);t.layout.rows=t.layout.rows-1}n.controller("EntityDataConstructorController","initialized");var g=this;g.boxColumns=[1,2,3,4,5,6],g.readyStatus={constructor:!1},g.uiIsDefault=!1,g.attrs=[],g.baseAttrs=[],g.entityAttrs=[],g.userInputs=[],console.log(e),g.entityType=e.entityType,g.isntanceId=e.instanceId,g.isntanceId?a.getEditLayoutByInstanceId(g.entityType,g.isntanceId).then(function(e){e?g.ui=e:(g.uiIsDefault=!0,g.ui=a.getDefaultEditLayout()[0]),g.tabs=g.ui.data||[],g.tabs.forEach(function(t){t.layout.fields.forEach(function(t){t.editMode=!1})}),u(),t.$apply()}):a.getEditLayout(g.entityType).then(function(e){e.results.length?g.ui=e.results[0]:(g.uiIsDefault=!0,g.ui=a.getDefaultEditLayout()[0]),g.tabs=g.ui.data,g.tabs.forEach(function(t){t.layout.fields.forEach(function(t){t.editMode=!1})}),u(),t.$apply()}),g.isntanceId&&"complex-transaction"===g.entityType&&o.getByKey("transaction-type",g.isntanceId).then(function(e){var n=e.inputs;n.forEach(function(t){var e=t.value_type;100==t.value_type&&(e="field");var n=void 0,i=t.name.split(" ").join("_").toLowerCase();t.content_type&&void 0!==t.content_type?(n=t.content_type.split(".")[1],i=t.name.split(" ").join("_").toLowerCase()+"_"+t.content_type):n=t.name.split(" ").join("_").toLowerCase(),g.userInputs.push({unique_key:i,key:n,name:t.name,content_type:t.content_type,value_type:e})}),t.$apply()}),g.cancel=function(){d.go("app.data."+g.entityType)},i.getList(g.entityType).then(function(e){n.collection("data",e),g.attrs=e.results,n.collection("vm attrs",g.attrs),
r.getEntitiesWithoutBaseAttrsList().indexOf(g.entityType)===-1&&(g.baseAttrs=r.getBaseAttrs()),n.collection("vm.baseAttrs",g.baseAttrs),g.entityAttrs=r.getEntityAttrs(g.entityType),n.collection("vm.entityAttrs",g.entityAttrs),g.readyStatus.constructor=!0,t.$apply()}),g.checkColspan=function(t,e,n){var i,a,o,r,s=[];for(i=0;i<t.layout.fields.length;i+=1)if(t.layout.fields[i].row==e)for(o=t.layout.fields[i].column,r=parseInt(t.layout.fields[i].colspan,10),a=0;a<r;a+=1)s[o]||(s[o]=[]),s[o].push(parseInt(o,10)+parseInt(a,10));var c,d,l=Object.keys(s);for(c=0;c<l.length;c+=1){if(l[c]===n)return!0;for(d=1;d<s[l[c]].length;d+=1)if(n==s[l[c]][d])return!1}return!0},g.range=s.range,g.setLayoutColumns=function(t,e,n){if(e<t.layout.columns){var i,a=[];for(i=e;i<t.layout.columns;i+=1)a.push(i+1);var o;o=a.length>1?"If you switch to less number of columns you lose data of "+a.join(", ")+" columns":"If you switch to less number of columns you lose data of "+a.join(", ")+" column",l.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:o}}}).then(function(n){if("agree"===n.status){var i,a,o;for(i=0;i<t.layout.fields.length;i+=1)for(a=0;a<t.layout.rows;a+=1)for(o=e;o<t.layout.columns;o+=1)t.layout.fields[i].row==a+1&&t.layout.fields[i].column==o+1&&t.layout.fields.splice(i,1);t.layout.columns=e}})}else{var r,s;for(r=1;r<=t.layout.rows;r+=1)for(s=t.layout.columns+1;s<=e;s+=1)t.layout.fields.push({row:r,column:s,colspan:1,type:"empty"});t.layout.columns=e}},g.saveLayout=function(){var e;for(e=0;e<g.tabs.length;e+=1)p(g.tabs[e]);g.ui.data=g.tabs,g.uiIsDefault?g.isntanceId?a.updateEditLayoutByInstanceId(g.entityType,g.isntanceId,g.ui).then(function(e){console.log("layout saved");var n=c.findExistingState("app.data.",g.entityType);d.go(n.state,n.options),t.$apply()}):a.createEditLayout(g.entityType,g.ui).then(function(){console.log("layout saved");var e=c.findExistingState("app.data.",g.entityType);d.go(e.state,e.options),t.$apply()}):g.isntanceId?a.updateEditLayoutByInstanceId(g.entityType,g.isntanceId,g.ui).then(function(e){console.log("layout saved");var n=c.findExistingState("app.data.",g.entityType);d.go(n.state,n.options),t.$apply()}):a.updateEditLayout(g.ui.id,g.ui).then(function(){console.log("layout saved");var e=c.findExistingState("app.data.",g.entityType);d.go(e.state,e.options),t.$apply()})},g.bindFlex=function(t,e,n){var i,a,o=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(t.layout.fields[i].column===n&&(a=t.layout.fields[i]),o+=parseInt(t.layout.fields[i].colspan,10));var r=100/t.layout.columns;return a?Math.floor(a.colspan*r):Math.floor(r)},g.deleteTab=function(t){var e;for(e=0;e<g.tabs.length;e+=1)if(t.name===g.tabs[e].name){g.tabs.splice(e,1);break}},g.addTab=function(){g.tabs.length||(g.tabs=[]),g.tabs.push({name:"",editState:!0,layout:{rows:0,columns:1,fields:[]}}),m(g.tabs[g.tabs.length-1])},g.toggleEditTab=function(t,e,n){t.editState||(t.editState=!1),t.captionName||(t.captionName=t.name),"back"===e&&(console.log("??"),t.captionName||""!==t.name?t.captionName=t.name:g.tabs.splice(n,1)),t.editState=!t.editState},g.saveEditedTab=function(t){console.log(t),""!==t.captionName&&(t.name=t.captionName,t.editState=!t.editState)},g.MABtnVisibility=function(t){return r.checkRestrictedEntityTypesForAM(t)}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":220,"../services/entityResolverService":231,"../services/gridHelperService":237,"../services/metaService":275,"../services/portfolioService":277,"../services/routeResolverService":285,"../services/uiService":296}],79:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/attributeTypeService"),a=t("../services/entityResolverService"),o=t("../services/entityViewerHelperService"),r=t("../services/usersService"),s=t("../services/usersGroupService"),c=t("../services/uiService"),d=t("../services/gridHelperService"),l=t("../services/metaService"),u=t("../services/layoutService"),m=t("../services/metaPermissionsService");e.exports=function(t,e){n.controller("EntityEditorController","initialized");var p=this;p.readyStatus={content:!1,permissions:!1,entity:!1,me:!1},console.log("$scope",t),p.entityType=t.$parent.vm.entityType,p.entityTabs=l.getEntityTabs(p.entityType),p.evAction=t.$parent.vm.evAction,p.entityId=t.$parent.vm.entityId,p.entity={$_isValid:!0},p.editLayoutEntityInstanceId=null,p.editLayoutByEntityInsance=!1,p.entitySpecialRules=!1,p.specialRulesReady=!0,["complex-transaction"].indexOf(p.entityType)!==-1&&(p.editLayoutByEntityInsance=!0,p.entitySpecialRules=!0,p.complexTransactionOptions={}),n.property("entityType",p.entityType),n.property("entityId",p.entityId),p.getEditListByInstanceId=function(){console.log("vm.editLayoutEntityInstanceId",p.editLayoutEntityInstanceId),c.getEditLayoutByInstanceId(p.entityType,p.editLayoutEntityInstanceId).then(function(e){e?(p.tabs=e.data,p.userInputs=[],p.tabs.forEach(function(t){t.layout.fields.forEach(function(t){(t.attribute_class="userInput")&&p.userInputs.push(t.attribute)})})):p.tabs=c.getDefaultEditLayout(p.entityType)[0].data,t.$apply()}),t.$parent.vm.editLayout=function(){e.go("app.data-constructor",{entityType:p.entityType,instanceId:p.editLayoutEntityInstanceId})}},"transaction-type"!==p.entityType&&(console.log("1231321321 editLayoutEntityInstanceId?",p.editLayoutEntityInstanceId),console.log("1231321321 editLayoutByEntityInsance?",p.editLayoutByEntityInsance),1==p.editLayoutByEntityInsance?p.editLayoutEntityInstanceId&&p.getEditListByInstanceId():c.getEditLayout(p.entityType).then(function(e){e.results.length?p.tabs=e.results[0].data:p.tabs=c.getDefaultEditLayout(p.entityType)[0].data,n.collection("vm.tabs",p.tabs),t.$apply()})),n.collection("vm.tabs",p.tabs),p.attrs=[],p.baseAttrs=[],p.entityAttrs=[],p.userInputs=[],p.layoutAttrs=u.getLayoutAttrs(),p.baseAttrs=l.getBaseAttrs(),p.entityAttrs=l.getEntityAttrs(p.entityType)||[],i.getList(p.entityType).then(function(n){p.attrs=n.results,p.readyStatus.content=!0,p.entityId?a.getByKey(p.entityType,p.entityId).then(function(n){"complex-transaction"==p.entityType?(p.complexTransactionOptions.transactionType=n.transaction_type,p.editLayoutEntityInstanceId=n.transaction_type,p.getEditListByInstanceId(),p.entity=n,p.specialRulesReady=!0,p.readyStatus.entity=!0,p.readyStatus.permissions=!0,console.log("vm.complexTransactionOptions",p.complexTransactionOptions),t.$apply()):(p.entity=n,"transaction-type"==p.entityType&&(t.$parent.vm.editLayout=function(){e.go("app.data-constructor",{entityType:"complex-transaction",instanceId:n.id})}),o.transformItems([p.entity],p.attrs).then(function(t){p.entity=t[0],p.entity.$_isValid=!0,p.readyStatus.entity=!0,p.loadPermissions()}))}):(p.readyStatus.entity=!0,p.loadPermissions())});var g;p.loadPermissions=function(){var e=[];e.push(p.getMemberList()),e.push(p.getGroupList()),Promise.all(e).then(function(e){p.readyStatus.permissions=!0,t.$apply()})},r.getMe().then(function(e){p.user=e,p.readyStatus.me=!0,t.$apply()}),p.resolveSpecialRules=function(){return"views/special-rules/"+p.entityType+"-special-rules-view.html"},p.getGroupList=function(){return s.getList().then(function(t){p.groups=t.results,p.groups.forEach(function(t){p.entity.group_object_permissions&&p.entity.group_object_permissions.forEach(function(e){e.group==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),e.permission==="manage_"+p.entityType&&(t.objectPermissions.manage=!0),e.permission==="change_"+p.entityType&&(t.objectPermissions.change=!0))})})})},p.getMemberList=function(){r.getMemberList().then(function(e){p.members=e.results,p.members.forEach(function(t){p.entity.user_object_permissions&&p.entity.user_object_permissions.forEach(function(e){e.member==t.id&&(t.hasOwnProperty("objectPermissions")||(t.objectPermissions={}),e.permission==="manage_"+p.entityType&&(t.objectPermissions.manage=!0),e.permission==="change_"+p.entityType&&(t.objectPermissions.change=!0))})}),p.readyStatus.permissions=!0,t.$apply()})},p.checkPermissions=function(){if(m.getEntitiesWithDisabledPermissions().indexOf(p.entityType)!==-1)return!1;if(p.entityId){var t=!1,e=p.entityType.split("-").join("");return p.entity.granted_permissions&&p.entity.granted_permissions.indexOf("manage_"+e)!==-1&&(t=!0),t}return!0},p.checkReadyStatus=function(){return!!(p.readyStatus.content&&p.readyStatus.entity&&p.readyStatus.me&&p.readyStatus.permissions)},p.range=d.range,p.bindFlex=function(t,e,n){var i,a=0;for(i=0;i<t.layout.fields.length;i+=1)t.layout.fields[i].row===e&&(a+=t.layout.fields[i].colspan);var o=100/t.layout.columns;return Math.floor(n.colspan*o)},p.bindField=function(t,e){var n,i,a,o;if(e&&"field"===e.type)if(e.hasOwnProperty("id")&&null!==e.id){for(n=0;n<p.attrs.length;n+=1)if(e.id===p.attrs[n].id)return p.attrs[n].options=e.options,p.attrs[n]}else{for(n=0;n<p.baseAttrs.length;n+=1)if(e.name===p.baseAttrs[n].name)return p.baseAttrs[n].options=e.options,p.baseAttrs[n];for(a=0;a<p.entityAttrs.length;a+=1)if(e.name===p.entityAttrs[a].name)return p.entityAttrs[a].options=e.options,p.entityAttrs[a];for(i=0;i<p.layoutAttrs.length;i+=1)if(e.name===p.layoutAttrs[i].name)return p.layoutAttrs[i].options=e.options,p.layoutAttrs[i];for(o=0;o<p.userInputs.length;o+=1)if(e.name===p.userInputs[o].name)return p.userInputs[o].options=e.options,p.userInputs[o]}},p.checkFieldRender=function(t,e,n){if(n.row===e){if("field"===n.type)return!0;var i,a,o,r=[];for(i=0;i<t.layout.fields.length;i+=1)if(t.layout.fields[i].row===e&&"field"===t.layout.fields[i].type)for(a=t.layout.fields[i].column;a<=t.layout.fields[i].column+t.layout.fields[i].colspan-1;a+=1)r.push(a);for(o=0;o<r.length;o+=1)if(r[o]===n.column)return!1;return!0}return!1},p.openMenu=function(t,e){g=e,t(e)},p.checkViewState=function(t){return!t.hasOwnProperty("enabled")||t.enabled.indexOf(p.evAction)!=-1},t.$parent.vm.copyCallback=function(){return new Promise(function(t){p.readyStatus.entity=!1,setTimeout(function(){p.entity.user_code=p.entity.user_code+"_copy",p.readyStatus.entity=!0,t(p.entity)},500)})},t.$parent.vm.saveCallback=function(){function t(t,e,n){return 10===e.value_type&&(t.value_string=n),20===e.value_type&&(t.value_float=n),30===e.value_type&&(t.classifier=n),40===e.value_type&&(t.value_date=n),t}function e(t,e){var n={attribute_name:t.name,attribute_type:t.id,classifier:null,value_date:null,value_float:null,value_string:null};return 10===t.value_type&&(n.value_string=e),20===t.value_type&&(n.value_float=e),30===t.value_type&&(n.classifier=e),40===t.value_type&&(n.value_date=e),n}function n(){var t;for(t=0;t<p.entityAttrs.length;t+=1)if(40===p.entityAttrs[t].value_type&&(p.entity[p.entityAttrs[t].key]=moment(new Date(p.entity[p.entityAttrs[t].key])).format("YYYY-MM-DD")),20===p.entityAttrs[t].value_type||"float"===p.entityAttrs[t].value_type){var e,n=(p.entity[p.entityAttrs[t].key]+"").replace(" ","");e=n.indexOf(",")!==-1?n.replace(",","."):n,p.entity[p.entityAttrs[t].key]=parseFloat(e)}p.entity.attributes.forEach(function(t){null!==t.value_date&&(t.value_date=moment(new Date(t.value_date)).format("YYYY-MM-DD"))})}function i(){var t;for(t=0;t<p.entity.attributes.length;t+=1)null==p.entity.attributes[t].classifier&&delete p.entity.attributes[t].classifier,null==p.entity.attributes[t].value_date&&delete p.entity.attributes[t].value_date,null==p.entity.attributes[t].value_float&&delete p.entity.attributes[t].value_float,null==p.entity.attributes[t].value_string&&delete p.entity.attributes[t].value_string}function a(t){var e,n=Object.keys(t),i={};for(e=0;e<n.length;e+=1)t[n[e]]&&t[n[e]].length?i[n[e]]=t[n[e]]:null==t[n[e]]||isNaN(t[n[e]])||(i[n[e]]=t[n[e]]);return i}function o(t){var e,n,i,a,o=Object.keys(t),r=!0;for(e=0;e<o.length;e+=1){for(n=0;n<p.entityAttrs.length;n+=1)o[e]==p.entityAttrs[n].key&&p.entityAttrs[n].options&&1==p.entityAttrs[n].options.notNull&&(""!=t[o[e]]&&null!=t[o[e]]&&void 0!=t[o[e]]||(r=!1));for(i=0;i<p.baseAttrs.length;i+=1)o[e]==p.baseAttrs[i].key&&p.baseAttrs[i].options&&1==p.baseAttrs[i].options.notNull&&(""!=t[o[e]]&&null!=t[o[e]]&&void 0!=t[o[e]]||(r=!1));for(a=0;a<p.attrs.length;a+=1)o[e]==p.attrs[a].name&&p.attrs[a].options&&1==p.attrs[a].options.notNull&&(""!=t[o[e]]&&null!=t[o[e]]&&void 0!=t[o[e]]||(r=!1))}return p.entity.$_isValid=r,r}if(l.getEntitiesWithoutDynAttrsList().indexOf(p.entityType)==-1&&(p.entity.attributes=[]),p.entity.attributes){var r,s,c,d,u=Object.keys(p.entity);for(r=0;r<p.attrs.length;r+=1)for(s=0;s<u.length;s+=1)if(p.attrs[r].name===u[s]){for(d=!1,c=0;c<p.entity.attributes.length;c+=1)p.entity.attributes[c].attribute_type===p.attrs[r].id&&(d=!0,p.entity.attributes[c]=t(p.entity.attributes[c],p.attrs[r],p.entity[u[s]]));d||p.entity.attributes.push(e(p.attrs[r],p.entity[u[s]]))}}if(p.entity.attributes&&(n(),i()),m.getEntitiesWithDisabledPermissions().indexOf(p.entityType)==-1&&(p.entity.user_object_permissions=[]),p.members&&p.members.forEach(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&p.entity.user_object_permissions.push({member:t.id,permission:"manage_"+p.entityType}),t.objectPermissions&&1==t.objectPermissions.change&&p.entity.user_object_permissions.push({member:t.id,permission:"change_"+p.entityType})}),p.entity.group_object_permissions=[],p.groups&&p.groups.forEach(function(t){t.objectPermissions&&1==t.objectPermissions.manage&&p.entity.group_object_permissions.push({group:t.id,permission:"manage_"+p.entityType}),t.objectPermissions&&1==t.objectPermissions.change&&p.entity.group_object_permissions.push({group:t.id,permission:"change_"+p.entityType})}),console.log("vm.entity",p.entity),o(p.entity)){var g=a(p.entity);return console.log("resultEntity",g),"complex-transaction"==p.entityType&&(g.values={},console.log("userInputs",p.userInputs),p.userInputs.forEach(function(t){if(null!==t){var e=Object.keys(p.entity);e.forEach(function(e){e==t.key&&(g.values[t.name]=p.entity[t.key])})}}),g.store=!0,g.calculate=!0),new Promise(function(t,e){var n={entityType:p.entityType,entity:g};p.entityId&&(n.entityId=p.entityId),t(n)})}}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":220,"../services/entityResolverService":231,"../services/entityViewerHelperService":234,"../services/gridHelperService":237,"../services/layoutService":268,"../services/metaPermissionsService":273,"../services/metaService":275,"../services/uiService":296,"../services/usersGroupService":297,"../services/usersService":298}],80:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/entityResolverService");t("../../services/layoutService"),t("../../services/metaPermissionsService");e.exports=function(t,e,a,o,r){n.controller("EntityViewerEditDialogController","initialized");var s=this;s.entityType=a.entityType,console.log("entity edit dialog",a),s.evAction="update",s.entityId=o,s.saveCallback="",s.copyCallback="",s.cancel=function(){e.cancel()},s.checkVisibility=function(){return!0},s.save=function(t){"create"==s.evAction?s.saveCallback().then(function(n){i.create(n.entityType,n.entity).then(function(n){200!=n.status&&201!=n.status||e.hide({res:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})}):s.saveCallback().then(function(n){i.update(n.entityType,n.entityId,n.entity).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||e.hide({res:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})})}}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":231,"../../services/layoutService":268,"../../services/metaPermissionsService":273}],81:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/attributeTypeService"),t("../../services/entityResolverService"));t("../../services/usersService"),t("../../services/uiService"),t("../../services/metaService"),t("../../services/layoutService"),t("../../services/metaPermissionsService");e.exports=function(t,e,a,o){n.controller("EntityViewerAddDialogController","initialized"),n.property("parentScope",a);var r=this;r.readyStatus={content:!1,entity:!0,permissions:!0},r.entityType=a.vm.entityType,r.evAction="create",r.cancel=function(){localStorage.setItem("entityIsChanged",!1),e.cancel()},r.editLayout=function(){o.go("app.data-constructor",{entityType:r.entityType}),e.hide()},r.manageAttrs=function(t){o.go("app.attributesManager",{entityType:r.entityType}),e.hide()},r.checkVisibility=function(t){return("edit-form-btn"!=t||"complex-transaction"!=r.entityType)&&("edit-form-btn"!=t||"transaction-type"!=r.entityType)},r.save=function(t){r.saveCallback().then(function(n){console.log("options.entityType",n),console.log("vm",r),i.create(n.entityType,n.entity).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||e.hide({res:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/entityResolverService":231,"../../services/layoutService":268,"../../services/metaPermissionsService":273,"../../services/metaService":275,"../../services/uiService":296,"../../services/usersService":298}],82:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/attributeTypeService"),a=t("../../services/groupTable/dynamicAttributesForReportsService"),o=t("../../services/entityViewerHelperService"),r=t("../../services/metaService"),s=t("../../services/entityViewerDataResolver"),c=t("../../services/groupTable/tablePartsService"),d=t("../../services/groupTable/groupTableService"),l=t("../../services/reportSubtotalService"),u=t("../../services/pricingPolicyService"),m=t("../../services/uiService");e.exports=function(t,e){n.controller("EntityViewerController","initialized");var p=this;p.options={},p.reportOptions={},p.updateConfig=function(){setTimeout(function(){p.options={columns:p.columns,columnsWidth:p.columnsWidth,grouping:p.grouping,filters:p.filters,sorting:p.sorting,folding:p.folding,entityType:p.entityType,isRootEntityViewer:p.isRootEntityViewer,isReport:p.isReport,tableIsReady:p.tableIsReady,reportIsReady:p.reportIsReady,externalCallback:p.updateTable,additionsStatus:p.additionsStatus,additionsState:p.additionsState,editorTemplate:p.editorTemplate,editorEntityId:p.editorEntityId,permission_selected_id:p.permission_selected_id,permission_selected_entity:p.permission_selected_entity},t.$apply()},0)},p.updateVm=function(e){console.log("options",e),setTimeout(function(){var n=Object.keys(e);n.forEach(function(t){p[t]=e[t]}),t.$apply()},0)},console.log("------------------------ EV scope -----------------------------",t),p.returnFullAttributes=function(t,e,n,i,a){var o=[];if(!t)return[];var r,s,c,d,l,u,m,g,y,v;for(r=0;r<t.length;r+=1)if(l=t[r],l.hasOwnProperty("id"))if(1==p.isReport)console.log("reportAttrs data is",p.reportAttrs),p.reportAttrs.map(function(t){l.r_entityType===t.r_entityType&&l.id===t.id&&(l.options&&(g=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(v=JSON.parse(JSON.stringify(l.report_settings))),l=t,l.options=g,l.report_settings=v,o.push(l))});else for(s=0;s<e.length;s+=1)u=e[s],l.id===u.id&&(console.log("fullattributes this isn't report"),l.options&&(g=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(v=JSON.parse(JSON.stringify(l.report_settings))),l=u,l.options=g,l.report_settings=v,o.push(l));else{for(c=0;c<n.length;c+=1)m=n[c],l.key===m.key&&(l.options&&(g=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(v=JSON.parse(JSON.stringify(l.report_settings))),l=m,l.options=g,l.report_settings=v,o.push(l));for(d=0;d<i.length;d+=1)y=i[d],l.key===y.key&&(l.options&&(g=JSON.parse(JSON.stringify(l.options))),l.report_settings&&(v=JSON.parse(JSON.stringify(l.report_settings))),l=y,l.options=g,l.report_settings=v,o.push(l))}return o},p.findFullAttributeForItem=function(t,e){if(t.hasOwnProperty("id")){var n;for(n=0;n<e.length;n+=1){var i=t.sort;t.id===e[n].id&&(t=e[n],t.sort=i)}}return t},p.checkReadyStatus=function(){return 1==p.tableIsReady&&1==p.readyStatus.uiView},p.getView=function(){var e=function(e){if(e.results.length)p.listView=e.results[0],p.oldListView=JSON.parse(JSON.stringify(p.listView)),p.table=e.results[0].data.table,p.columns=e.results[0].data.table.columns,p.columnsWidth=e.results[0].data.table.columnsWidth,p.grouping=e.results[0].data.table.grouping,p.folding=e.results[0].data.table.folding,p.filters=e.results[0].data.table.filters,p.sorting=e.results[0].data.table.sorting,n.collection("vm.columns",p.columns),p.additionsType=e.results[0].data.tableAdditions.additionsType,p.additionsStatus=e.results[0].data.tableAdditions.additionsStatus||{editor:!1,table:!1,permissionEditor:!1,extraFeatures:[]},p.additionsState=e.results[0].data.tableAdditions.additionsState,p.tableAdditions=e.results[0].data.tableAdditions,p.entityAdditionsColumns=e.results[0].data.tableAdditions.table.columns,p.entityAdditionsFilters=e.results[0].data.tableAdditions.table.filters,p.entityAdditionsSorting=e.results[0].data.tableAdditions.table.sorting,p.updateConfig();else{var i=m.getDefaultListLayout();p.listView=i[0],p.table=i[0].data.table,p.columns=i[0].data.table.columns,p.columnsWidth=i[0].data.table.columnsWidth,p.grouping=i[0].data.table.grouping,p.folding=i[0].data.table.folding,p.filters=i[0].data.table.filters,p.sorting=i[0].data.table.sorting,n.collection("vm.columns",p.columns),p.additionsType=i[0].data.tableAdditions.additionsType,p.additionsEntityType=i[0].data.tableAdditions.entityType,p.tableAdditions=i[0].data.tableAdditions,p.entityAdditionsColumns=i[0].data.tableAdditions.table.columns,p.entityAdditionsFilters=i[0].data.tableAdditions.table.filters,p.entityAdditionsSorting=i[0].data.tableAdditions.table.sorting,p.updateConfig()}p.readyStatus.uiView=!0,t.$apply()};return console.log("vm.uiLayoutId",p.uiLayoutId),null!==p.uiLayoutId&&void 0!==p.uiLayoutId?m.getListLayoutByKey(p.uiLayoutId).then(function(t){e({results:[t]})}):m.getActiveListLayout(p.entityType).then(e)},p.checkIfPermissionEditorAllowed=function(){return!0},p.transformViewAttributes=function(){p.columns=p.returnFullAttributes(p.columns,p.attrs,p.baseAttrs,p.entityAttrs,p.entityType),p.grouping=p.returnFullAttributes(p.grouping,p.attrs,p.baseAttrs,p.entityAttrs,p.entityType),p.filters=p.returnFullAttributes(p.filters,p.attrs,p.baseAttrs,p.entityAttrs,p.entityType),p.sorting.group=p.findFullAttributeForItem(p.sorting.group,p.attrs),p.sorting.column=p.findFullAttributeForItem(p.sorting.column,p.attrs),n.collection("vm.grouping",p.grouping),n.collection("vm.columns",p.columns),p.updateConfig()},p.getAttributes=function(){return i.getList(p.entityType).then(function(e){p.attrs=e.results,r.getEntitiesWithoutBaseAttrsList().indexOf(p.entityType)==-1&&(p.baseAttrs=r.getBaseAttrs()),p.entityAttrs=r.getEntityAttrs(p.entityType)||[],t.$apply()})},p.itemFilterHasOwnProperty=function(t,e){return!(!e.hasOwnProperty("key")||!t.hasOwnProperty(e.key))||!(!e.hasOwnProperty("id")||!t.hasOwnProperty(e.r_entityType+"_attribute_"+e.source_name))},p.getProjection=function(){return p.groupTableService.projection()},p.originalData=[],p.updateTable=function(e){var n=function(e){if(p.reportOptions=e,p.reportOptions.currency=e.report_currency,"SUCCESS"!==e.task_status)setTimeout(function(){p.updateTable()},1e3);else{p.originalData=JSON.parse(JSON.stringify(e)),console.log("vm.originalData1231312312",p.originalData),p.reportOptions.task_id=null;var n=e.items;n=p.groupTableService.extractDynamicAttributes(n);var i=!1,a=!1;if(p.filters.length>0&&(i=!0,p.filters.forEach(function(t){void 0!==t.options&&1==t.options.enabled&&("field"==t.value_type&&void 0!==t.options.query&&t.options.query.length>0&&(a=!0),"float"==t.value_type&&void 0!==t.options.query&&(t.options.query+"").length>0&&(a=!0),10==t.value_type&&void 0!==t.options.query&&(t.options.query+"").length>0&&(a=!0))})),1==i&&1==a){n=[];var r=e.items;p.filters.forEach(function(t,e){var n=[];void 0!==t.options&&1==t.options.enabled&&(r.forEach(function(e){if(p.itemFilterHasOwnProperty(e,t)){if("field"==t.value_type)if(void 0!==t.options.query&&t.options.query.length){var i=!1;t.options.query.forEach(function(n){e[t.key]==n&&(i=!0)}),i&&n.push(e)}else n.push(e);if("float"==t.value_type&&(void 0!==t.options.query?e[t.key]==parseFloat(t.options.query)&&n.push(e):n.push(e)),10==t.value_type){var a=t.r_entityType+"_attribute_"+t.source_name;void 0!==t.options.query?e[a].indexOf(t.options.query)!==-1&&n.push(e):n.push(e)}}}),r=n)}),n=r}o.transformItems(n,p.attrs).then(function(e){var n=e;p.reportIsReady=!0,"balance-report"==p.entityType&&(n=l.groupByAndCalc(n,p.reportOptions)),p.groupTableService.setItems(n),p.groupTableService.columns.setColumns(p.columns),p.groupTableService.grouping.setGroupsWithColumns(p.grouping,p.columns,p.entityType),p.groupTableService.folding.setFolds(p.folding),p.sorting.group=p.findFullAttributeForItem(p.sorting.group,p.attrs),p.groupTableService.sorting.group.sort(p.sorting.group),p.tableIsReady=!0,p.updateConfig(),t.$apply()})}},i=function(e){p.originalData=JSON.parse(JSON.stringify(e)),p.paginationItemsTotal=e.count,p.nextExist=!!e.next,p.previousExist=!!e.previous,e.results=e.results.map(function(t){return t.object_permissions_group=[],t.object_permissions_user=[],t.object_permissions.forEach(function(e){null==e.group&&t.object_permissions_user.push(e),null==e.member&&t.object_permissions_group.push(e)}),t}),o.transformItems(e.results,p.attrs).then(function(e){var n=e;n=n.map(function(t){return t.date_formatted=moment(new Date(t.created)).format("DD/MM/YYYY"),"audit-transaction"!=p.entityType&&"audit-instrument"!=p.entityType||(t.username=t.member.username),t}),p.groupTableService.setItems(n),p.groupTableService.columns.setColumns(p.columns),p.groupTableService.grouping.setGroups(p.grouping,p.entityType),p.groupTableService.folding.setFolds(p.folding),p.sorting.group=p.findFullAttributeForItem(p.sorting.group,p.attrs),p.groupTableService.sorting.group.sort(p.sorting.group),p.tableIsReady=!0,p.updateConfig(),t.$apply()})},a=function(t,e){return e=e||!1,1==e?(p.reportOptions.custom_fields=[],p.columns.forEach(function(t){t.hasOwnProperty("columnType")&&"custom-field"==t.columnType&&p.reportOptions.custom_fields.push(t.id)}),p.reportIsReady=!1,r):"audit-transaction"===p.entityType?(r={sort:{key:p.sorting.column.key,direction:p.sorting.column.sort},filters:{content_type:"transactions.transaction"},page:p.paginationPageCurrent,pageSize:p.paginationItemPerPage},p.reportIsReady=!0,p.filters.forEach(function(t){t.options&&t.options.enabled===!0&&(r.filters[t.key]=t.options.query)}),r):"audit-instrument"===p.entityType?(r={sort:{key:p.sorting.column.key,direction:p.sorting.column.sort},filters:{content_type:"instruments.instrument"},page:p.paginationPageCurrent,pageSize:p.paginationItemPerPage},p.reportIsReady=!0,p.filters.forEach(function(t){t.options&&t.options.enabled===!0&&(r.filters[t.key]=t.options.query)}),r):(r={sort:{key:p.sorting.column.key,direction:p.sorting.column.sort},filters:{},page:p.paginationPageCurrent,pageSize:p.paginationItemPerPage},p.reportIsReady=!0,p.filters.forEach(function(t){t.options&&t.options.enabled===!0&&(r.filters[t.key]=t.options.query)}),console.log("here",r),r)},r=a(p.entityType,p.isReport),c={redraw:!0,silent:!1,options:{}},d=Object.assign(c,e);p.updateVm(d.options),console.trace(),1==d.redraw?1==p.isReport?1==d.silent?n(p.originalData):s.getList(p.entityType,p.reportOptions).then(function(t){n(t)}):1==d.silent?i(p.originalData):s.getList(p.entityType,r).then(function(t){i(t)}):p.updateConfig()},p.addEntity=function(n){e.show({controller:"EntityViewerAddDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{parentScope:t}}).then(function(){p.updateTable({test:"ololo"})})},p.openCustomAdditionsView=function(t,e){p.additionsStatus.reportWizard=!1,p.additionsStatus.table=!1,p.additionsState=!0,p.additionsStatus.extraFeatures.forEach(function(t){t.isOpened=!1,t.id===e.id&&(t.isOpened=!0)}),console.log("vm.additionsStatus.extraFeatures",p.additionsStatus.extraFeatures),p.updateConfig()},p.openDataViewPanel=function(){p.additionsStatus.editor=!1,p.additionsStatus.permissionEditor=!1,p.additionsState=!0,p.additionsStatus.extraFeatures.forEach(function(t){t.isOpened=!1}),p.additionsStatus.reportWizard=!0,p.updateConfig()},p.openPermissionEditor=function(){p.additionsStatus.editor=!1,p.additionsStatus.reportWizard=!1,p.additionsState=!0,p.additionsStatus.extraFeatures.forEach(function(t){t.isOpened=!1}),p.additionsStatus.permissionEditor=!0,p.updateConfig()},p.openEditorViewPanel=function(){p.additionsStatus.editor=!0,p.additionsState=!0,p.additionsStatus.extraFeatures.forEach(function(t){t.isOpened=!1}),p.additionsStatus.reportWizard=!1,p.additionsStatus.permissionEditor=!1,p.updateConfig()},p.checkAdditionStatus=function(){return!(p.additionsStatus.reportWizard||p.additionsStatus.editor||p.additionsStatus.permissionEditor)},p.hideAdditions=function(){p.additionsState=!1,p.additionsStatus.reportWizard=!1,p.additionsStatus.editor=!1,p.additionsStatus.permissionEditor=!1,p.updateConfig()},p.getReport=function(){console.log("getReport, vm",p),u.getList().then(function(t){p.reportOptions={cost_method:1,pricing_policy:t.results[0].id},p.readyStatus.reportOptions=!0,p.getView().then(function(){p.getAttributes().then(function(){p.transformViewAttributes(),p.updateTable()})})})},p.checkOnBeforeLoadAction=function(){return!(!p.onBeforeLoadAction||0!=p.onBeforeLoadActionFinish)||(p.onBeforeLoadAction&&1==p.onBeforeLoadActionFinish,!1)},function(){t.$parent.options&&1==t.$parent.options.additionsState?!function(){p.oldListView=null,1==t.$parent.options.additionsStatus.reportWizard&&(p.onBeforeLoadAction="views/entity-viewer/report-wizard-view.html"),p.onBeforeLoadActionFinish=!1,p.paginationPageCurrent=1,p.paginationItemPerPage=20,p.paginationItemsTotal=0,p.isRootEntityViewer=!1,p.attrs=[],p.baseAttrs=[],p.layoutAttrs=[],p.entityAttrs=[],p.groupTableService=d.getInstance(!0,"child"),p.columns=[],p.columnsWidth=[],p.grouping=[],p.filters=[],p.sorting=[],p.permission_selected_id=null,p.permission_selected_entity=null,p.entityAdditions=[],p.additionsType="",p.additionsEntityType="",p.entityAdditionsColumns=[],p.entityAdditionsFilters=[],p.entityAdditionsSorting=[],p.tabs=[],p.table={},p.tableAdditions={},p.tableIsReady=!1,p.readyStatus={uiView:!1},p.editorTemplate="views/additions-editor-view.html",p.additionsStatus={editor:!1,table:!1,permissionEditor:!1,extraFeatures:[]},p.additionsState=!1,p.additionsStatus.extraFeatures=p.customButtons,p.reportIsReady=!1,p.reportAttrs=[],a.getDynamicAttributes().then(function(t){p.reportAttrs=t}),t.$on("$destroy",function(t){n.controller("EntityViewerController","destroyed")})}():!function(){p.oldListView=null,p.onBeforeLoadAction=!1,p.onBeforeLoadActionFinish=!0,$(".save-layout-as-btn").bind("click",function(t){for(var n=($(".g-columns-component"),$(".g-columns-component.g-thead").find(".g-cell")),i=[],a=0;a<n.length;a+=1){var o=$(n[a]).width();i.push(o)}p.listView.data.table.columnsWidth=i,p.listView.data.table=p.table,p.listView.data.table.columns=p.columns,p.listView.data.table.grouping=p.grouping,p.listView.data.table.folding=p.folding,
p.listView.data.table.filters=p.filters,p.listView.data.table.sorting=p.sorting,p.listView.data.additionsType=p.additionsType,p.listView.data.tableAdditions.entityType=p.additionsEntityType,p.listView.data.tableAdditions=p.tableAdditions,p.listView.data.tableAdditions.table.columns=p.entityAdditionsColumns,p.listView.data.tableAdditions.table.filters=p.entityAdditionsFilters,p.listView.data.tableAdditions.table.sorting=p.entityAdditionsSorting,p.listView.data.tableAdditions.additionsStatus=p.additionsStatus,p.listView.data.tableAdditions.additionsState=p.additionsState,e.show({controller:"UiLayoutSaveAsDialogController as vm",templateUrl:"views/dialogs/ui/ui-layout-save-as-view.html",parent:angular.element(document.body),targetEvent:t,locals:{options:{}},clickOutsideToClose:!1}).then(function(t){"agree"==t.status&&(p.oldListView?(p.oldListView.is_default=!1,m.updateListLayout(p.oldListView.id,p.oldListView).then(function(){}).then(function(){p.listView.name=t.data.name,p.listView.is_default=!0,m.createListLayout(p.entityType,p.listView).then(function(){p.getView()})})):(p.listView.name=t.data.name,p.listView.is_default=!0,m.createListLayout(p.entityType,p.listView).then(function(){p.getView()})))})}),$(".save-layout-btn").bind("click",function(t){for(var n=($(".g-columns-component"),$(".g-columns-component.g-thead").find(".g-cell")),i=[],a=0;a<n.length;a+=1){var o=$(n[a]).width();i.push(o)}p.listView.data.table.columnsWidth=i,p.listView.data.table=p.table,p.listView.data.table.columns=p.columns,p.listView.data.table.grouping=p.grouping,p.listView.data.table.folding=p.folding,p.listView.data.table.filters=p.filters,p.listView.data.table.sorting=p.sorting,p.listView.data.additionsType=p.additionsType,p.listView.data.tableAdditions.entityType=p.additionsEntityType,p.listView.data.tableAdditions=p.tableAdditions,p.listView.data.tableAdditions.table.columns=p.entityAdditionsColumns,p.listView.data.tableAdditions.table.filters=p.entityAdditionsFilters,p.listView.data.tableAdditions.table.sorting=p.entityAdditionsSorting,p.listView.data.tableAdditions.additionsStatus=p.additionsStatus,p.listView.data.tableAdditions.additionsState=p.additionsState,p.listView.hasOwnProperty("id")?m.updateListLayout(p.listView.id,p.listView).then(function(){}):m.createListLayout(p.entityType,p.listView).then(function(){}),e.show({controller:"SaveLayoutDialogController as vm",templateUrl:"views/save-layout-dialog-view.html",targetEvent:t,clickOutsideToClose:!0}).then(function(){p.getView()})}),p.paginationPageCurrent=1,p.paginationItemPerPage=20,p.paginationItemsTotal=0,p.isRootEntityViewer=!0,p.attrs=[],p.baseAttrs=[],p.layoutAttrs=[],p.entityAttrs=[],p.entityType=t.$parent.vm.entityType,p.isReport=t.$parent.vm.isReport||!1,p.customButtons=t.$parent.vm.entityViewer.extraFeatures,p.groupTableService=d.getInstance(!0,"root"),p.columns=[],p.columnsWidth=[],p.grouping=[],p.filters=[],p.sorting=[],p.permission_selected_id=null,p.permission_selected_entity=null,p.entityAdditions=[],p.additionsType="",p.additionsEntityType="",p.tabs=[],p.table={},p.tableAdditions={},p.tableIsReady=!1,p.readyStatus={uiView:!1},p.editorTemplate="views/additions-editor-view.html",p.additionsStatus={editor:!1,table:!1,permissionEditor:!1,extraFeatures:[]},p.additionsState=!1,p.additionsStatus.extraFeatures=p.customButtons,p.reportIsReady=!1,p.reportAttrs=[],a.getDynamicAttributes().then(function(t){p.reportAttrs=t}),1==p.isReport?u.getList().then(function(t){p.reportOptions={cost_method:1,pricing_policy:t.results[0].id},p.getView().then(function(){p.getAttributes().then(function(){p.transformViewAttributes(),p.updateTable()})})}):p.getView().then(function(){p.getAttributes().then(function(){p.transformViewAttributes(),p.updateTable()})}),p.tableParts=c.setTablePartsSettings(p.entityType),t.$on("$destroy",function(t){$(".save-layout-btn").unbind("click"),$(".save-layout-as-btn").unbind("click"),n.controller("EntityViewerController","destroyed")})}()}()}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/entityViewerDataResolver":233,"../../services/entityViewerHelperService":234,"../../services/groupTable/dynamicAttributesForReportsService":239,"../../services/groupTable/groupTableService":243,"../../services/groupTable/tablePartsService":246,"../../services/metaService":275,"../../services/pricingPolicyService":279,"../../services/reportSubtotalService":281,"../../services/uiService":296}],83:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/entityResolverService");e.exports=function(t,e,a,o){n.controller("EntityViewerDeleteDialogController","initialized");var r=this;console.log("vm.entity",a),r.entity=a,r.entityType=o,r.displayCaption=function(){return r.entity.name?r.entity.name:"item"},r.cancel=function(){e.cancel()},r["delete"]=function(){i.deleteByKey(r.entityType,r.entity.id).then(function(t){console.log("deleted!",t),e.hide({status:"agree"})})}}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":231}],84:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/attributeTypeService"),t("../../services/entityResolverService"));t("../../services/entityViewerHelperService"),t("../../services/usersService"),t("../../services/uiService"),t("../../services/gridHelperService"),t("../../services/metaService"),t("../../services/layoutService"),t("../../services/metaPermissionsService");e.exports=function(t,e,a,o,r){n.controller("EntityViewerEditDialogController","initialized");var s=this;s.entityType=a.entityType,console.log("entity edit dialog",a),s.evAction="update",s.entityId=o,s.saveCallback="",s.copyCallback="",s.cancel=function(){e.cancel()},s.editLayout=function(t){r.go("app.data-constructor",{entityType:s.entityType}),e.hide()},s.manageAttrs=function(t){r.go("app.attributesManager",{entityType:s.entityType}),e.hide()},s.copy=function(){s.copyCallback().then(function(){s.evAction="create",t.$apply()})},s.checkVisibility=function(){return!0},s.save=function(t){"create"==s.evAction?s.saveCallback().then(function(n){i.create(n.entityType,n.entity).then(function(n){200!=n.status&&201!=n.status||e.hide({res:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})}):s.saveCallback().then(function(n){i.update(n.entityType,n.entityId,n.entity).then(function(n){console.log("DATA",n),200!=n.status&&201!=n.status||e.hide({res:"agree"}),400==n.status&&e.show({controller:"ValidationDialogController as vm",templateUrl:"views/dialogs/validation-dialog-view.html",targetEvent:t,locals:{validationData:n.response},preserveScope:!0,autoWrap:!0,skipHide:!0})})})}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/entityResolverService":231,"../../services/entityViewerHelperService":234,"../../services/gridHelperService":237,"../../services/layoutService":268,"../../services/metaPermissionsService":273,"../../services/metaService":275,"../../services/uiService":296,"../../services/usersService":298}],85:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/usersService"),a=t("../../services/usersGroupService"),o=t("../../services/entityResolverService");e.exports=function(t){n.controller("EntityViewerPermissionEditorController","initialized");var e=this;e.readyStatus={users:!1,groups:!1},e.processing=!1,e.getUsers=function(){e.readyStatus.users=!1,i.getMemberList().then(function(n){e.users=n.results,e.readyStatus.users=!0,t.$apply()})},e.getGroups=function(){e.readyStatus.groups=!1,a.getList().then(function(n){e.groups=n.results,e.readyStatus.groups=!0,t.$apply()})},e.selectEntity=function(n,i){"user"==n?(e.users.forEach(function(t){t.isSelected=!1}),i.isSelected=!i.isSelected,1==i.isSelected&&t.$parent.options.externalCallback({silent:!0,options:{permission_selected_id:i.id,permission_selected_entity:"user"}})):(e.groups.forEach(function(t){t.isSelected=!1}),i.isSelected=!i.isSelected,1==i.isSelected&&t.$parent.options.externalCallback({silent:!0,options:{permission_selected_id:i.id,permission_selected_entity:"group"}}))},e.toggleManage=function(n){n.hasOwnProperty("manager_actions")||(n.manager_actions={manage:!1,change:!1});var i=[],a=t.$parent.options.entityType;t.$parent.items[0].hasOwnProperty("groups")?t.$parent.items.map(function(t){t.items.forEach(function(t){t.hasOwnProperty("selectedRow")&&1==t.selectedRow&&i.push(t)})}):t.$parent.items.forEach(function(t){t.hasOwnProperty("selectedRow")&&1==t.selectedRow&&i.push(t)}),n.manager_actions.manage=!n.manager_actions.manage,e.updateBulk(i,a,n)},e.toggleChange=function(n){n.hasOwnProperty("manager_actions")||(n.manager_actions={manage:!1,change:!1});var i=[],a=t.$parent.options.entityType;t.$parent.items[0].hasOwnProperty("groups")?t.$parent.items.map(function(t){t.items.forEach(function(t){t.hasOwnProperty("selectedRow")&&1==t.selectedRow&&i.push(t)})}):t.$parent.items.forEach(function(t){t.hasOwnProperty("selectedRow")&&1==t.selectedRow&&i.push(t)}),n.manager_actions.change=!n.manager_actions.change,e.updateBulk(i,a,n)},e.updateBulk=function(n,i,a){e.processing=!0;var r=n.map(function(t){return{id:t.id,object_permissions:t.object_permissions}});a.hasOwnProperty("first_name")?r.forEach(function(t){t.object_permissions.forEach(function(e,n){e.member==a.id&&null==e.group&&(t.object_permissions.splice(n,1),console.log("?here",t))}),t.hasOwnProperty("object_permissions")||(t.object_permissions=[]),a.hasOwnProperty("manager_actions")&&(1==a.manager_actions.change&&t.object_permissions.push({group:null,member:a.id,permission:"change_"+i.split("-").join("").toLowerCase()}),1==a.manager_actions.manage&&t.object_permissions.push({group:null,member:a.id,permission:"manage_"+i.split("-").join("").toLowerCase()}))}):r.forEach(function(t){t.object_permissions.forEach(function(e,n){e.group==a.id&&null==e.member&&t.object_permissions.splice(n,1)}),t.hasOwnProperty("object_permissions")||(t.object_permissions=[]),a.hasOwnProperty("manager_actions")&&(1==a.manager_actions.change&&t.object_permissions.push({group:a.id,member:null,permission:"change_"+i.split("-").join("").toLowerCase()}),1==a.manager_actions.manage&&t.object_permissions.push({group:a.id,member:null,permission:"manage_"+i.split("-").join("").toLowerCase()}))}),o.updateBulk(i,r).then(function(){e.processing=!1,t.$parent.options.externalCallback(),t.$apply()})},e.getUsers(),e.getGroups()}}()},{"../../../../../core/services/logService":2,"../../services/entityResolverService":231,"../../services/usersGroupService":297,"../../services/usersService":298}],86:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/uiService");e.exports=function(t){n.controller("ReportWizardController","initialized");var e=this;e.currentStep=1,e.readyStatus={layouts:!0},e.wizard={entityType:null,uiLayout:null},e.reportTypes=[{caption:"Balance report",entityType:"balance-report"},{caption:"Profit & Lost report",entityType:"pnl-report"},{caption:"Transaction report",entityType:"transaction-report"},{caption:"Cash flow projection report",entityType:"cash-flow-projection-report"},{caption:"Performance report",entityType:"performance-report"}],e.selectReport=function(t){e.reportTypes.forEach(function(t){t.selected=!1}),t.selected=!0,e.wizard.entityType=t.entityType,e.currentStep=e.currentStep+1,e.renderStep()},e.selectLayout=function(t){e.layouts.forEach(function(t){t.selected=!1}),t.selected=!0,e.wizard.uiLayout=t.id,e.currentStep=e.currentStep+1,e.renderStep()},e.checkDisabled=function(){return(1!=e.currentStep||null===e.wizard.entityType)&&(2!=e.currentStep||null===e.wizard.uiLayout)},e.checkReadyStatus=function(){return 1==e.readyStatus.layouts},e.getUiLayouts=function(){e.readyStatus.layouts=!1,i.getListLayout(e.wizard.entityType).then(function(n){e.layouts=n.results,e.readyStatus.layouts=!0,t.$apply()})},e.renderStep=function(){2==e.currentStep&&e.getUiLayouts(),3==e.currentStep&&(t.$parent.vm.entityType=e.wizard.entityType,t.$parent.vm.uiLayoutId=e.wizard.uiLayout,t.$parent.vm.isReport=!0,t.$parent.vm.onBeforeLoadActionFinish=!0,t.$parent.vm.getReport())},e.nextStep=function(){e.currentStep=e.currentStep+1,e.renderStep()},e.prevStep=function(){e.currentStep=e.currentStep-1,e.renderStep()}}}()},{"../../../../../../core/services/logService":2,"../../../services/uiService":296}],87:[function(t,e,n){!function(){"use strict";var n=t("../../services/reportService");e.exports=function(t){console.log('{"controller": "BalanceReportController", status: "initialized"}');var e=this;e.entityType="balance-report",e.entityRaw=[],e.isReport=!0,e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},e.readyStatus.content=!0,e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/reportService":280}],88:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/reports/balanceReportCustomAttrService");e.exports=function(t,e){n.controller("BalanceReportCustomAttributesController","initialized");var a=this;a.showHidden=!1,a.attrs=[],a.entityType="";var o=function(){i.getList(a.entityType).then(function(e){a.attrs=e.results,t.$apply(),console.log("balance custom attr",a.attrs)})};o(),a.addAttribute=function(t){e.show({controller:"BalanceReportDialogCustomAttrController as vm",templateUrl:"views/dialogs/balance-report-custom-attr-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{data:{editRestriction:!1}}}).then(function(t){"agree"===t.status&&(console.log(t.data.attribute),console.log("res",t.data),i.create(t.data.attribute).then(o))})},a.editAttr=function(t,n){e.show({controller:"BalanceReportDialogCustomAttrController as vm",templateUrl:"views/dialogs/balance-report-custom-attr-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{data:{attributeId:t.id,editRestriction:!0}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.update(t.data.attribute.id,t.data.attribute).then(o))})},a.checkIsHidden=function(t){return!0},a.deleteAttr=function(t,n){var a="Are you sure to delete attribute "+t.name+" ?";e.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{warning:{title:"Warning",description:a}}}).then(function(a){console.log("res",a),"agree"===a.status&&i.deleteByKey(t.id).then(function(t){"conflict"===t.status?e.show({controller:"InfoDialogController as vm",templateUrl:"views/info-dialog-view.html",parent:angular.element(document.body),targetEvent:n,clickOutsideToClose:!0,locals:{info:{title:"Notification",description:"You can not delete attributed that already in use"}}}):o()})})}}}()},{"../../../../../core/services/logService":2,"../../services/reports/balanceReportCustomAttrService":282}],89:[function(t,e,n){!function(){"use strict";var n=t("../../services/reportService");e.exports=function(t){console.log('{"controller": "CashFlowProjectionReportController", status: "initialized"}');var e=this;e.entityType="cash-flow-projection-report",e.entityRaw=[],e.isReport=!0,e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},e.readyStatus.content=!0,e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/reportService":280}],90:[function(t,e,n){!function(){"use strict";var n=t("../../services/reportService");e.exports=function(t){console.log('{"controller": "PerformanceReportController", status: "initialized"}');var e=this;e.entityType="performance-report",e.entityRaw=[],e.isReport=!0,e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},e.readyStatus.content=!0,e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/reportService":280}],91:[function(t,e,n){!function(){"use strict";var n=t("../../services/reportService");e.exports=function(t){console.log('{"controller": "ProfitAndLostReportController", status: "initialized"}');var e=this;e.entityType="pnl-report",e.entityRaw=[],e.readyStatus={content:!1},e.isReport=!0,e.entityViewer={extraFeatures:[]},e.readyStatus.content=!0,e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/reportService":280}],92:[function(t,e,n){!function(){"use strict";var n=t("../../services/reportService");e.exports=function(t){console.log('{"controller": "TransactionReportController", status: "initialized"}');var e=this;e.entityType="transaction-report",e.entityRaw=[],e.isReport=!0,e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},e.readyStatus.content=!0,e.getList=function(t){return n.getList(t).then(function(t){return t})}}}()},{"../../services/reportService":280}],93:[function(t,e,n){!function(){var n=t("../../../../../../core/services/logService"),i=t("../../../services/import/dataProvidersService");e.exports=function(t,e,a,o){n.controller("SettingsGeneralDataProvidersConfigController","initialized");var r=this;r.providerId=e.dataProviderId,r.provider=[],r.readyStatus={provider:!1},i.getConfig(r.providerId).then(function(e){r.provider=e.results[0],r.readyStatus.provider=!0,t.$apply()}),r.saveConfig=function(t){t.preventDefault(),t.stopPropagation();var e=new FormData;e.append("p12cert",r.provider.p12cert),e.append("password",r.provider.password),e.append("provider",r.provider.provider),i.setConfig(r.provider.id,e).then(function(e){console.log("test!",e),200!=e.status&&201!=e.status||a.show({controller:"SuccessDialogController as vm",templateUrl:"views/dialogs/success-dialog-view.html",targetEvent:t,locals:{success:{title:"",description:"You have you have successfully add sertificate"}},preserveScope:!0,autoWrap:!0,skipHide:!0}).then(function(){o.go("app.settings.general.data-providers")})})}}}()},{"../../../../../../core/services/logService":2,"../../../services/import/dataProvidersService":250}],94:[function(t,e,n){!function(){var n=t("../../../../../../core/services/logService"),i=t("../../../services/import/dataProvidersService");e.exports=function(t){n.controller("SettingsGeneralDataProvidersController","initialized");var e=this;e.dataProviders=[],e.readyStatus={dataProviders:!1},i.getList().then(function(n){e.dataProviders=n,e.readyStatus.dataProviders=!0,t.$apply()})}}()},{"../../../../../../core/services/logService":2,"../../../services/import/dataProvidersService":250}],95:[function(t,e,n){!function(){var n=t("../../../../../../core/services/logService"),i=t("../../../services/import/instrumentSchemeService");e.exports=function(t,e){n.controller("SettingsGeneralInstrumentImportController","initialized");var a=this;a.readyStatus={instrumentSchemes:!1},a.instrumentSchemes=[],a.getList=function(){a.readyStatus.instrumentSchemes=!1,i.getList().then(function(e){a.instrumentSchemes=e.results,a.readyStatus.instrumentSchemes=!0,t.$apply()})},a.getList(),a.addScheme=function(t){e.show({controller:"InstrumentMappingAddDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:t}).then(function(t){"agree"===t.status&&(console.log("res",t.data),a.getList())})},a.editScheme=function(n,o){console.log("what?"),e.show({controller:"InstrumentMappingEditDialogController as vm",templateUrl:"views/dialogs/instrument-mapping-dialog-view.html",targetEvent:n,locals:{schemeId:o.id}}).then(function(e){"agree"===e.status&&(console.log("res",e.data),i.update(o.id,e.data).then(function(){a.getList(),t.$apply()}))})},a.deleteScheme=function(t,n){e.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",targetEvent:t,locals:{warning:{title:"Warning!",description:"Are you sure to delete "+n.scheme_name}}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i.deleteByKey(n.id),setTimeout(function(){a.getList()},100))})}}}()},{"../../../../../../core/services/logService":2,"../../../services/import/instrumentSchemeService":256}],96:[function(t,e,n){!function(){var n=t("../../../../../../core/services/logService"),i=t("../../../services/timeZonesService"),a=t("../../../services/usersService");e.exports=function(t){n.controller("SettingsGeneralProfileController","initialized");var e=this;e.readyStatus={user:!1},e.timeZones=i.getList(),a.getByKey(0).then(function(n){e.user=n,e.readyStatus.user=!0,t.$apply()}),e.save=function(){a.update(0,e.user).then(function(){t.$apply()})}}}()},{"../../../../../../core/services/logService":2,"../../../services/timeZonesService":290,"../../../services/usersService":298}],97:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/importInstrumentService");e.exports=function(t){n.controller("SettingsBloomberImportInstrumentController","initialized");var e=this;e.readyStatus={content:!1},i.getInstrumentMappingList().then(function(n){e.mapping=n.results,e.readyStatus.content=!0,t.$apply()})}}()},{"../../../../../core/services/logService":2,"../../services/importInstrumentService":247}],98:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t,e){n.controller("SettingsFormDesignController","initialized");var i=this;i.goToState=function(t){e.go("app.data-constructor",{entityType:t})}}}()},{"../../../../../core/services/logService":2}],99:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");t("../../services/timeZonesService"),t("../../services/usersService");e.exports=function(t,e){n.controller("SettingsGeneralController","initialized");var i=this;t.$state=e,i.checkProviders=function(){return e.includes("app.settings.general.data-providers")||e.includes("app.settings.general.data-providers-config")}}}()},{"../../../../../core/services/logService":2,"../../services/timeZonesService":290,"../../services/usersService":298}],100:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/logService"),t("../../services/membersAndGroupsService"));e.exports=function(t,e){var i=this;i.members=[],i.groups=[],i.getList=function(){n.getList("members").then(function(e){console.log("members is",e),i.members=[],i.members=e.results,n.getList("groups").then(function(e){console.log("groups is",e),i.groups=e.results,i.members.map(function(t){var e=t.groups;e&&e.length>0&&(t.groupsName=[],e.map(function(e){i.groups.map(function(n){n.id===e&&t.groupsName.push(n.name)})}))}),t.$apply()})})},i.getGroupsList=function(){n.getList("groups").then(function(t){i.groups=t.results}),t.$apply()},i.deleteMemberGroupByKey=function(t,e){n.deleteByKey(t,e).then(function(){"members"===t?i.getList():"groups"===t&&i.getGroupsList()})},i.createMemberDialog=function(t){e.show({controller:"CreateMemberDialogController as vm",templateUrl:"views/dialogs/create-member-dialog-view.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){console.log("new members data is",t),n.create("members",{username:t.data.username,email:t.data.email}).then(function(){console.log("member has been created"),i.getList()})})},i.createGroupDialog=function(t){e.show({controller:"CreateGroupDialogController as vm",templateUrl:"views/dialogs/create-group-dialog-view.html",parent:angular.element(document.body),targetEvent:t}).then(function(t){console.log("new group's data is",t),n.create("groups",{name:t.data.name,members:t.data.members}).then(function(){i.getGroupsList(),console.log("group has been created")})})},i.manageMemberDialog=function(t,a){e.show({controller:"ManageMemberDialogController as vm",templateUrl:"views/dialogs/manage-member-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{memberId:a}}).then(function(t){n.update("members",a,{is_admin:t.data.isAdmin,groups:t.data.groups,join_date:t.data.join_date}).then(function(){i.getList(),console.log("member is updated")})})},i.manageGroupDialog=function(t,a){e.show({controller:"ManageGroupDialogController as vm",templateUrl:"views/dialogs/manage-group-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{groupId:a}}).then(function(t){n.update("groups",a,{name:t.data.name,members:t.data.members}).then(function(){i.getList(),console.log("member is updated")})})},i.getList()}}()},{"../../../../../core/services/logService":2,"../../services/membersAndGroupsService":269}],101:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../../../../core/services/cookieService"),a=t("../services/usersService"),o=t("../services/metaContentTypesService"),r=t("../services/notificationsService");e.exports=function(t,e,s,c){n.controller("ShellController","initialized",1);var d=this;d.logout=function(){console.log("Logged out"),a.logout(),window.location.pathname="/",i.deleteCookie()},a.getList().then(function(e){d.user=e.results[0],t.$apply()}),d.currentState=function(){return""},d.currentLocation=function(){switch(d.currentLocationShowBtns=!0,e.current.name){case"app.data.portfolio":return"PORTFOLIO";case"app.data.account":return"ACCOUNT";case"app.data.counterparty":return"COUNTERPARTY";case"app.data.responsible":return"RESPONSIBLE";case"app.data.instrument":return"INSTRUMENT";case"app.data.transaction":return"TRANSACTION";case"app.data.price-history":return"PRICE HISTORY";case"app.data.currency-history":return"CURRENCY HISTORY";case"app.data.strategy":return"STRATEGY";case"app.data.strategy-subgroup":return"STRATEGY SUBGROUP";case"app.data.strategy-group":return"STRATEGY GROUP";case"app.data.account-type":return"ACCOUNT TYPES";case"app.data.instrument-type":return"INSTRUMENT TYPES";case"app.data.pricing-policy":return"PRICING POLICY";case"app.data.transaction-type":return"TRANSACTION TYPE";case"app.data.currency":return"CURRENCY";case"app.data.complex-transaction":return"Transaction";case"app.reports.balance-report":return"BALANCE REPORT";case"app.reports.pnl-report":return"P&L REPORT";case"app.reports.transaction-report":return"TRANSACTION REPORT";case"app.reports.cash-flow-projection-report":return"CASH FLOW PROJECTION REPORT";case"app.reports.performance-report":return"PERFORMANCE REPORT";case"app.settings.users-groups":return d.currentLocationShowBtns=!1,"USERS & GROUPS";default:return d.currentLocationShowBtns=!1,""}},d.openLayoutList=function(t){var n=o.getContentTypeUIByState(e.current.name);c.show({controller:"UiLayoutListDialogController as vm",templateUrl:"views/dialogs/ui/ui-layout-list-view.html",parent:angular.element(document.body),targetEvent:t,locals:{options:{entityType:n}}}).then(function(t){"agree"==t.status&&e.reload(e.current.name)})},d.openNotificationsMenu=function(t){c.show({controller:"HeaderNotificationsDialogController as vm",templateUrl:"views/dialogs/header-notifications-dialog-view.html",parent:angular.element(document.body),targetEvent:t})},d.unreadedNotificationsAmount,r.getList(1,"unreaded").then(function(e){d.unreadedNotificationsAmount=e.count,t.$apply()}),s.$on("$stateChangeSuccess",function(){c.cancel()}),console.log("Curent state is ",e.current),d.logOutMethod=function(){a.logout().then(function(t){console.log("Logged out"),window.location.pathname="/",i.deleteCookie()})}}}()},{"../../../../core/services/cookieService":1,"../../../../core/services/logService":2,"../services/metaContentTypesService":270,"../services/notificationsService":276,"../services/usersService":298}],102:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/metaService");e.exports=function(t){n.controller("SideNavController","initialized");var e=this;e.sections=[],e.sideNavStatus="expand",e.resizeSideNav=function(t){if(e.sideNavStatus=t,"expand"==t)$("body").removeClass("sidenav-collapsed"),$("body").addClass("sidenav-expanded"),$(".sidenav-wrapper").unbind("mouseenter"),$(".sidenav-wrapper").unbind("mouseleave"),$(window).trigger("resize");else{$("body").removeClass("sidenav-expanded"),$("body").addClass("sidenav-collapsed"),$(".sidenav-wrapper").bind("mouseenter",function(){$(".sidenav-wrapper").width(200),$(".md-button.md-raised.side-nav-btn ").show(),$(".menu-toggle-list").show()}),setTimeout(function(){$(".sidenav-wrapper").width(55)},0);var n=setInterval(function(){$(window).trigger("resize")},50);setTimeout(function(){clearInterval(n)},300),$(".sidenav-wrapper").bind("mouseleave",function(){$(".sidenav-wrapper").width(55),$(".md-button.md-raised.side-nav-btn ").hide(),$(".menu-toggle-list").hide()})}},i.getMenu().then(function(n){e.sections=n,t.$apply()}),e.isOpen=function(t){var n=!1;return e.openedSection&&t.hasOwnProperty("pages")&&t.pages.forEach(function(t){t.title===e.openedSection.title&&(n=!0)}),!!n||e.openedSection===t},e.toggleOpen=function(t,n){e.openedSection=e.openedSection===n?null:n},e.autoFocusContent=!1}}()},{"../../../../core/services/logService":2,"../services/metaService":275}],103:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/portfolioService"),a=t("../../services/instrumentService"),o=t("../../services/transactionTypeService");e.exports=function(t){n.controller("complexTransactionSpecialRulesController","initialized");var e=this;e.complexTransactionOptions={portfolio:t.$parent.vm.complexTransactionOptions.portfolio,instrument:t.$parent.vm.complexTransactionOptions.instrument,transactionType:t.$parent.vm.complexTransactionOptions.transactionType},t.$parent.vm.specialRulesReady=!1,i.getList().then(function(n){e.portfolios=n.results,t.$apply()}),a.getList().then(function(n){e.instruments=n.results,t.$apply()}),o.getList().then(function(n){e.transactionTypes=n.results,t.$apply()}),e.loadTransactionTypes=function(){o.getList().then(function(n){e.transactionTypes=n.results,t.$apply()})},t.$parent.$watch("vm.complexTransactionOptions",function(){console.log("hererer?"),e.complexTransactionOptions=t.$parent.vm.complexTransactionOptions}),e.transactionTypeHandler=function(){t.$parent.vm.specialRulesReady=!1,setTimeout(function(){t.$parent.vm.complexTransactionOptions.transactionType=e.complexTransactionOptions.transactionType,t.$parent.vm.editLayoutEntityInstanceId=e.complexTransactionOptions.transactionType,t.$parent.vm.specialRulesReady=!0,t.$parent.vm.entity._transaction_type_id=e.complexTransactionOptions.transactionType,console.log("PARENT",t.$parent.vm),t.$parent.vm.getEditListByInstanceId(t.$parent.vm.entityType,e.complexTransactionOptions.transactionType),t.$apply()},200)}}}()},{"../../../../../core/services/logService":2,"../../services/instrumentService":261,"../../services/portfolioService":277,"../../services/transactionTypeService":292}],104:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/auditService");e.exports=function(t){function e(){a.instrumentCurrent=a.instrumentCurrent||1,a.readyStatus.instrument=!1,i.getList({filters:{content_type:"instruments.instrument"},page:a.instrumentCurrent}).then(function(e){a.instruments=e.results.map(function(t){return t.dateFormatted=moment(new Date(t.created)).format("DD/MM/YYYY"),t.timeFormatted=moment(new Date(t.created)).format("HH:ss"),t}),a.instrumentTotal=e.count,a.readyStatus.instrument=!0,t.$apply()})}n.controller("AuditController","initialized");var a=this;a.readyStatus={transaction:!1,instrument:!1},a.itemPerPage=20,a.checkActiveTab=function(t){return window.location.hash.split("tab=")[1]==t},a.setActiveTab=function(t){window.location.hash="#/system/audit?tab="+t,a.instrumentCurrent=1,a.transactionCurrent=1},a.changePage=function(t,n){"instrument"===t?(a.instrumentCurrent=n,e()):(getTransaction(),a.transactionCurrent=n),console.log("--------",t,n)},e()}}()},{"../../../../../core/services/logService":2,
"../../services/auditService":221}],105:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/auditService");e.exports=function(t){n.controller("AuditController","initialized");var e=this,e=this;e.entityType="audit-instrument",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},i.getList({filters:{content_type:"instruments.instrument"}}).then(function(n){e.entityRaw=n,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return i.getList(t).then(function(t){return t})}}}()},{"../../../../../core/services/logService":2,"../../services/auditService":221}],106:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/auditService");e.exports=function(t){n.controller("AuditController","initialized");var e=this,e=this;e.entityType="audit-transaction",e.entityRaw=[],e.readyStatus={content:!1},e.entityViewer={extraFeatures:[]},i.getList({filters:{content_type:"transactions.transaction"}}).then(function(n){e.entityRaw=n,e.readyStatus.content=!0,t.$apply()}),e.getList=function(t){return i.getList(t).then(function(t){return t})}}}()},{"../../../../../core/services/logService":2,"../../services/auditService":221}],107:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/notificationsService");e.exports=function(t,e,a){n.controller("NotificationsController","initialized");var o=this;o.itemPerPage=20,o.notificationsReady=!0,a.notificationsListType&&a.notificationsListType.length?o.notificationsListType=a.notificationsListType:o.notificationsListType="all",console.log("notification state",e,a),o.changePage=function(t){o.notificationsCurrent=t,o.getNotifications()},o.getNotifications=function(){o.notificationsCurrent=o.notificationsCurrent||1,o.notificationsReady=!1,i.getList(o.notificationsCurrent,o.notificationsListType).then(function(e){o.notificationsTotal=e.count,o.notifications=e.results,o.markNotificationAsReaded(o.notifications),o.notificationsReady=!0,t.$apply()})},o.getNotifications(),o.markNotificationAsReaded=function(t){t.map(function(t){var e=t.id,n={create_date:t.create_date,read_date:moment(new Date).format("YYYY-MM-DD[T]HH:mm:ssZZ")};null==t.read_date&&i.markAsReaded(e,n)})},o.markAllNotificationsAsReaded=function(){i.markAllAsReaded()},o.hideShowReadedNotifications=function(t){o.notificationsListType=t,o.notificationsCurrent=1,o.getNotifications()}}}()},{"../../../../../core/services/logService":2,"../../services/notificationsService":276}],108:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/transactionTypeService");e.exports=function(t){n.controller("BookTransactionActionsTabController","initialized");var e=this;e.entity=t.$parent.vm.entity,e.transactionTypeId=t.$parent.vm.editLayoutEntityInstanceId,e.readyStatus={transactionType:!1},e.beatufier=function(t){if(void 0!==t){var e=t.split("_").join(" ");return e}return t},i.getByKey(e.transactionTypeId).then(function(n){e.transactionType=n,e.transactionActions={action_order:[],action_type:[],action_notes:[],transaction_class:[],portfolio:[],instrument:[],account_cash:[],account_interim:[],account_position:[],accounting_date:[],carry_amount:[],carry_with_sign:[],cash_consideration:[],cash_date:[],counterparty:[],factor:[],overheads:[],overheads_with_sign:[],position_size_with_sign:[],principal_amount:[],principal_with_sign:[],responsible:[],settlement_currency:[],strategy1_cash:[],strategy1_position:[],strategy2_cash:[],strategy2_position:[],strategy3_cash:[],strategy3_position:[],trade_price:[],transaction_currency:[],accrued_currency:[],accrued_multiplier:[],daily_pricing_model:[],default_accrued:[],default_price:[],instrument_type:[],maturity_date:[],name:[],notes:[],payment_size_detail:[],price_download_scheme:[],price_multiplier:[],pricing_currency:[],public_name:[],reference_for_pricing:[],short_name:[],user_code:[],user_text_1:[],user_text_2:[],user_text_3:[]},e.transactionActionsKeys=Object.keys(e.transactionActions),console.log("vm.transactionType",e.transactionType),e.transactionType.actions.forEach(function(t,n){e.transactionActions.action_order.push(t.order),e.transactionActions.action_notes.push(t.action_notes),null!==t.instrument?(e.transactionActions.action_type.push("Instrument"),null!==t.instrument.accrued_currency_object?e.transactionActions.accrued_currency.push(t.instrument.accrued_currency_object.name):null!==t.instrument.accrued_currency_input?e.transactionActions.accrued_currency.push(t.instrument.accrued_currency_input):e.transactionActions.accrued_currency.push("-"),e.transactionActions.accrued_multiplier.push(t.instrument.accrued_multiplier),null!==t.instrument.daily_pricing_model_object?e.transactionActions.daily_pricing_model.push(t.instrument.daily_pricing_model_object.name):null!==t.instrument.daily_pricing_model_input?e.transactionActions.daily_pricing_model.push(t.instrument.daily_pricing_model_input):e.transactionActions.daily_pricing_model.push("-"),e.transactionActions.default_accrued.push(t.instrument.default_accrued),e.transactionActions.default_price.push(t.instrument.default_price),null!==t.instrument.payment_size_detail_object?e.transactionActions.payment_size_detail.push(t.instrument.payment_size_detail_object.name):null!==t.instrument.payment_size_detail_input?e.transactionActions.payment_size_detail.push(t.instrument.payment_size_detail_input):e.transactionActions.payment_size_detail.push("-"),e.transactionActions.maturity_date.push(t.instrument.maturity_date),e.transactionActions.name.push(t.instrument.name),e.transactionActions.notes.push(t.instrument.notes),null!==t.instrument.price_download_scheme_object?e.transactionActions.price_download_scheme.push(t.instrument.price_download_scheme_object.scheme_name):null!==t.instrument.price_download_scheme_input?e.transactionActions.price_download_scheme.push(t.instrument.price_download_scheme_input):e.transactionActions.price_download_scheme.push("-"),e.transactionActions.price_multiplier.push(t.instrument.price_multiplier),null!==t.instrument.pricing_currency_object?e.transactionActions.pricing_currency.push(t.instrument.pricing_currency_object.name):null!==t.instrument.pricing_currency_input?e.transactionActions.pricing_currency.push(t.instrument.pricing_currency_input):e.transactionActions.pricing_currency.push("-"),e.transactionActions.public_name.push(t.instrument.public_name),e.transactionActions.reference_for_pricing.push(t.instrument.reference_for_pricing),e.transactionActions.short_name.push(t.instrument.short_name),e.transactionActions.user_code.push(t.instrument.user_code),e.transactionActions.user_text_1.push(t.instrument.user_text_1),e.transactionActions.user_text_2.push(t.instrument.user_text_2),e.transactionActions.user_text_3.push(t.instrument.user_text_3),e.transactionActions.transaction_class.push("-"),e.transactionActions.portfolio.push("-"),e.transactionActions.instrument.push("-"),e.transactionActions.account_cash.push("-"),e.transactionActions.account_interim.push("-"),e.transactionActions.account_position.push("-"),e.transactionActions.accounting_date.push("-"),e.transactionActions.carry_amount.push("-"),e.transactionActions.carry_with_sign.push("-"),e.transactionActions.cash_consideration.push("-"),e.transactionActions.cash_date.push("-"),e.transactionActions.counterparty.push("-"),e.transactionActions.factor.push("-"),e.transactionActions.overheads.push("-"),e.transactionActions.overheads_with_sign.push("-"),e.transactionActions.position_size_with_sign.push("-"),e.transactionActions.principal_amount.push("-"),e.transactionActions.principal_with_sign.push("-"),e.transactionActions.responsible.push("-"),e.transactionActions.settlement_currency.push("-"),e.transactionActions.strategy1_cash.push("-"),e.transactionActions.strategy1_position.push("-"),e.transactionActions.strategy2_cash.push("-"),e.transactionActions.strategy2_position.push("-"),e.transactionActions.strategy3_cash.push("-"),e.transactionActions.strategy3_position.push("-"),e.transactionActions.trade_price.push("-"),e.transactionActions.transaction_currency.push("-")):(e.transactionActions.action_type.push("Transaction"),null!==t.transaction.transaction_class_object?e.transactionActions.transaction_class.push(t.transaction.transaction_class_object.name):e.transactionActions.transaction_class.push("-"),null!==t.transaction.portfolio_object?e.transactionActions.portfolio.push(t.transaction.portfolio_object.name):null!==t.transaction.portfolio_input?e.transactionActions.portfolio.push(t.transaction.portfolio_input):e.transactionActions.portfolio.push("-"),null!==t.transaction.instrument_phantom?e.transactionActions.instrument.push("Instrument Action #"+t.transaction.instrument_phantom):null!==t.transaction.instrument_object?e.transactionActions.instrument.push(t.transaction.instrument_object.name):null!==t.transaction.instrument_input?e.transactionActions.instrument.push(t.transaction.instrument_input):e.transactionActions.instrument.push("-"),null!==t.transaction.account_cash_object?e.transactionActions.account_cash.push(t.transaction.account_cash_object.name):null!==t.transaction.account_cash_input?e.transactionActions.account_cash.push(t.transaction.account_cash_input):e.transactionActions.account_cash.push("-"),null!==t.transaction.account_interim_object?e.transactionActions.account_interim.push(t.transaction.account_interim_object.name):null!==t.transaction.account_interim_input?e.transactionActions.account_interim.push(t.transaction.account_interim_input):e.transactionActions.account_interim.push("-"),null!==t.transaction.account_position_object?e.transactionActions.account_position.push(t.transaction.account_position_object.name):null!==t.transaction.account_position_input?e.transactionActions.account_position.push(t.transaction.account_position_input):e.transactionActions.account_position.push("-"),e.transactionActions.accounting_date.push(t.transaction.accounting_date),e.transactionActions.carry_amount.push(t.transaction.carry_amount),e.transactionActions.carry_with_sign.push(t.transaction.carry_with_sign),e.transactionActions.cash_consideration.push(t.transaction.cash_consideration),e.transactionActions.cash_date.push(t.transaction.cash_date),null!==t.transaction.counterparty_object?e.transactionActions.counterparty.push(t.transaction.counterparty_object.name):null!==t.transaction.counterparty_input?e.transactionActions.counterparty.push(t.transaction.counterparty_input):e.transactionActions.counterparty.push("-"),e.transactionActions.factor.push(t.transaction.factor),e.transactionActions.overheads.push(t.transaction.overheads),e.transactionActions.overheads_with_sign.push(t.transaction.overheads_with_sign),e.transactionActions.position_size_with_sign.push(t.transaction.position_size_with_sign),e.transactionActions.principal_amount.push(t.transaction.principal_amount),e.transactionActions.principal_with_sign.push(t.transaction.principal_with_sign),null!==t.transaction.responsible_object?e.transactionActions.responsible.push(t.transaction.responsible_object.name):null!==t.transaction.responsible_input?e.transactionActions.responsible.push(t.transaction.responsible_input):e.transactionActions.responsible.push("-"),null!==t.transaction.settlement_currency_object?e.transactionActions.settlement_currency.push(t.transaction.settlement_currency_object.name):null!==t.transaction.settlement_currency_input?e.transactionActions.settlement_currency.push(t.transaction.settlement_currency_input):e.transactionActions.settlement_currency.push("-"),null!==t.transaction.strategy1_cash_object?e.transactionActions.strategy1_cash.push(t.transaction.strategy1_cash_object.name):null!==t.transaction.strategy1_cash_input?e.transactionActions.strategy1_cash.push(t.transaction.strategy1_cash_input):e.transactionActions.strategy1_cash.push("-"),null!==t.transaction.strategy1_position_object?e.transactionActions.strategy1_position.push(t.transaction.strategy1_position_object.name):null!==t.transaction.strategy1_position_input?e.transactionActions.strategy1_position.push(t.transaction.strategy1_position_input):e.transactionActions.strategy1_position.push("-"),null!==t.transaction.strategy2_cash_object?e.transactionActions.strategy2_cash.push(t.transaction.strategy2_cash_object.name):null!==t.transaction.strategy2_cash_input?e.transactionActions.strategy2_cash.push(t.transaction.strategy2_cash_input):e.transactionActions.strategy2_cash.push("-"),null!==t.transaction.strategy2_position_object?e.transactionActions.strategy2_position.push(t.transaction.strategy2_position_object.name):null!==t.transaction.strategy2_position_input?e.transactionActions.strategy2_position.push(t.transaction.strategy2_position_input):e.transactionActions.strategy2_position.push("-"),null!==t.transaction.strategy3_cash_object?e.transactionActions.strategy3_cash.push(t.transaction.strategy3_cash_object.name):null!==t.transaction.strategy3_cash_input?e.transactionActions.strategy3_cash.push(t.transaction.strategy3_cash_input):e.transactionActions.strategy3_cash.push("-"),null!==t.transaction.strategy3_position_object?e.transactionActions.strategy3_position.push(t.transaction.strategy3_position_object.name):null!==t.transaction.strategy3_position_input?e.transactionActions.strategy3_position.push(t.transaction.strategy3_position_input):e.transactionActions.strategy3_position.push("-"),e.transactionActions.trade_price.push(t.transaction.trade_price),null!==t.transaction.transaction_currency_object?e.transactionActions.transaction_currency.push(t.transaction.transaction_currency_object.name):null!==t.transaction.transaction_currency_input?e.transactionActions.transaction_currency.push(t.transaction.transaction_currency_input):e.transactionActions.transaction_currency.push("-"),e.transactionActions.accrued_currency.push("-"),e.transactionActions.accrued_multiplier.push("-"),e.transactionActions.daily_pricing_model.push("-"),e.transactionActions.default_accrued.push("-"),e.transactionActions.default_price.push("-"),e.transactionActions.instrument_type.push("-"),e.transactionActions.maturity_date.push("-"),e.transactionActions.name.push("-"),e.transactionActions.notes.push("-"),e.transactionActions.payment_size_detail.push("-"),e.transactionActions.price_download_scheme.push("-"),e.transactionActions.price_multiplier.push("-"),e.transactionActions.public_name.push("-"),e.transactionActions.reference_for_pricing.push("-"),e.transactionActions.short_name.push("-"),e.transactionActions.user_code.push("-"),e.transactionActions.user_text_1.push("-"),e.transactionActions.user_text_2.push("-"),e.transactionActions.user_text_3.push("-"),e.transactionActions.pricing_currency.push("-"))}),console.log("vm.transactionActions",e.transactionActions),e.readyStatus.transactionType=!0,t.$apply()})}}()},{"../../../../../../core/services/logService":2,"../../../services/transactionTypeService":292}],109:[function(t,e,n){!function(){"use strict";e.exports=function(t,e){var n=this;n.transactions=t.$parent.vm.entity.transactions_object,console.log("complex transactions scope",t,n.transactions),n.editBaseTransaction=function(t,n){e.show({controller:"EntityViewerEditDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:t,locals:{parentScope:{entityType:"transaction"},entityId:n}}).then(function(t){t&&"agree"===t.res&&scope.externalCallback()})}}}()},{}],110:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/accrualCalculationModelService"),a=t("../../../services/instrumentPeriodicityService");e.exports=function(t){n.controller("AccrualCalculationSchedulesController","initialized");var e=this;e.entity=t.$parent.vm.entity,e.readyStatus={accrualModals:!1,periodicityItems:!1},i.getList().then(function(n){e.accrualModels=n,e.readyStatus.accrualModals=!0,t.$apply()}),a.getList().then(function(n){e.periodicityItems=n,e.readyStatus.periodicityItems=!0,t.$apply()}),e.checkReadyStatus=function(){return 1==e.readyStatus.accrualModals&&1==e.readyStatus.periodicityItems},e.toggleQuery=function(){e.queryStatus=!e.queryStatus,e.query={}},e.setSort=function(t){e.direction=e.sort===t&&!e.direction,e.sort=t},e.bindCalculationModel=function(t){var n;return e.accrualModels.forEach(function(e){t.accrual_calculation_model==e.id&&(t.calculation_model_name=e.name,n=e.name)}),n},e.bindPeriodicity=function(t){var n;return e.periodicityItems.forEach(function(e){t.periodicity==e.id&&(t.periodicity_name=e.name,n=e.name)}),n},e.newItem={accrual_start_date:new Date,first_payment_date:new Date,accrual_size:"",accrual_calculation_model:"",periodicity:"",periodicity_n:"",notes:""},e.editItem=function(t){t.editStatus=!0},e.saveItem=function(t){t.editStatus=!1},e.deleteItem=function(t,n){e.entity.accrual_calculation_schedules.splice(n,1)},e.addRow=function(){e.entity.accrual_calculation_schedules.push({accrual_start_date:moment(new Date(e.newItem.accrual_start_date)).format("YYYY-MM-DD"),first_payment_date:moment(new Date(e.newItem.first_payment_date)).format("YYYY-MM-DD"),accrual_size:e.newItem.accrual_size,accrual_calculation_model:e.newItem.accrual_calculation_model,periodicity:e.newItem.periodicity,periodicity_n:e.newItem.periodicity_n,notes:e.newItem.notes}),e.newItem={accrual_start_date:new Date,first_payment_date:new Date,accrual_size:"",accrual_calculation_model:"",periodicity:"",periodicity_n:"",notes:""}}}}()},{"../../../../../../core/services/logService":2,"../../../services/accrualCalculationModelService":219,"../../../services/instrumentPeriodicityService":260}],111:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/metaNotificationClassService"),a=t("../../../services/metaEventClassService"),o=t("../../../services/instrumentPeriodicityService");e.exports=function(t){n.controller("AccrualCalculationSchedulesController","initialized");var e=this;e.entity=t.$parent.vm.entity,e.readyStatus={notificationClasses:!1,eventClasses:!1},i.getList().then(function(n){e.notificationClasses=n,e.readyStatus.notificationClasses=!0,t.$apply()}),a.getList().then(function(n){e.eventClasses=n,e.readyStatus.eventClasses=!0,t.$apply()}),o.getList().then(function(n){e.periodicityItems=n,e.readyStatus.periodicityItems=!0,t.$apply()}),e.checkReadyStatus=function(){return e.readyStatus.notificationClasses&&e.readyStatus.eventClasses},e.toggleQuery=function(){e.queryStatus=!e.queryStatus,e.query={}},e.setSort=function(t){e.direction=e.sort===t&&!e.direction,e.sort=t},e.bindNotificationClass=function(t){var n;return e.notificationClasses.forEach(function(e){t.notification_class==e.id&&(t.notification_class_name=e.name,n=e.name)}),n},e.bindEventClass=function(t){var n;return e.eventClasses.forEach(function(e){t.event_class==e.id&&(t.event_class_name=e.name,n=e.name)}),n},e.bindPeriodicity=function(t){var n;return e.periodicityItems.forEach(function(e){t.periodicity==e.id&&(t.periodicity_name=e.name,n=e.name)}),n},e.newItem={name:"",description:"",notification_class:"",notify_in_n_days:"",periodicity:"",periodicity_n:"",action_is_sent_to_pending:null,action_is_book_automatic:null,actions:[],effective_date:null,final_date:null,event_class:null},e.editItem=function(t){t.editStatus=!0},e.saveItem=function(t){t.editStatus=!1},e.deleteItem=function(t,n){e.entity.event_schedules.splice(n,1)},e.addRow=function(){e.entity.event_schedules.push({name:e.newItem.name,description:e.newItem.description,notification_class:e.newItem.notification_class,notify_in_n_days:e.newItem.notify_in_n_days,action_text:e.newItem.action_text,event_class:e.newItem.event_class,action_is_sent_to_pending:e.newItem.action_is_sent_to_pending,action_is_book_automatic:e.newItem.action_is_book_automatic,effective_date:e.newItem.effective_date,final_date:e.newItem.final_date,periodicity:e.newItem.periodicity,periodicity_n:e.newItem.periodicity_n}),e.newItem={name:"",description:"",notification_class:"",notify_in_n_days:"",periodicity:"",periodicity_n:"",action_is_sent_to_pending:null,action_is_book_automatic:null,actions:[],effective_date:null,final_date:null,event_class:null}}}}()},{"../../../../../../core/services/logService":2,"../../../services/instrumentPeriodicityService":260,"../../../services/metaEventClassService":271,"../../../services/metaNotificationClassService":272}],112:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService");e.exports=function(t){n.controller("FactorScheduleTabController","initialized");var e=this;e.entity=t.$parent.vm.entity,console.log("----------------------------------",e.entity),e.newItem={},e.newItem.date=new Date,e.toggleQuery=function(){e.queryStatus=!e.queryStatus,e.query={}},e.setSort=function(t){e.direction=e.sort===t&&!e.direction,e.sort=t},e.editItem=function(t){t.editStatus=!0},e.saveItem=function(t){t.editStatus=!1},e.deleteItem=function(t,n){e.entity.factor_schedules.splice(n,1)},e.addRow=function(){e.entity.factor_schedules.push({factor_value:e.newItem.value,effective_date:moment(new Date(e.newItem.date)).format("YYYY-MM-DD")}),e.newItem.value=null,e.newItem.date=null}}}()},{"../../../../../../core/services/logService":2}],113:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/pricingPolicyService");e.exports=function(t){n.controller("ManualPricingFormulasTabController","initialized");var e=this;e.readyStatus={content:!1},e.entity=t.$parent.vm.entity,e.newItem={pricing_policy:"",expr:"",notes:""},i.getList().then(function(n){e.policies=n.results,e.readyStatus.content=!0,t.$apply()}),e.bindPricingPolicy=function(t){var n;return e.policies.forEach(function(e){t.pricing_policy==e.id&&(t.policy_name=e.name,n=e.name)}),n},e.toggleQuery=function(){e.queryStatus=!e.queryStatus,e.query={}},e.setSort=function(t){e.direction=e.sort===t&&!e.direction,e.sort=t},e.editItem=function(t){t.editStatus=!0},e.saveItem=function(t){t.editStatus=!1},e.deleteItem=function(t,n){e.entity.manual_pricing_formulas.splice(n,1)},e.addRow=function(){e.entity.manual_pricing_formulas.push({pricing_policy:e.newItem.pricing_policy,expr:e.newItem.expr,notes:e.newItem.notes}),e.newItem.pricing_policy=null,e.newItem.expr=null,e.newItem.notes=null}}}()},{"../../../../../../core/services/logService":2,"../../../services/pricingPolicyService":279}],114:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/fieldResolverService"),a=t("../../../services/metaContentTypesService");e.exports=function(t,e){n.controller("TransactionTypeActionsTabController","initialized");var o=this;o.entity=t.$parent.vm.entity,o.contentTypes=a.getListForTransactionTypeInputs(),o.toggleItem=function(t,e){t.toggle(),1==e.isPaneExpanded?e.isPaneExpanded=!1:e.isPaneExpanded=!0},o.openExpressionDialog=function(t,n,i){var a={expression:""};n&&(a={expression:JSON.parse(JSON.stringify(n))}),e.show({controller:"ExpressionEditorDialogController as vm",templateUrl:"views/dialogs/expression-editor-dialog-view.html",parent:angular.element(document.body),targetEvent:t,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{item:a}}).then(function(t){"agree"===t.status&&(console.log("res",t.data),i&&(i.obj[i.prop]=t.data.item.expression)),console.log("item",n)})},o.entity.actions.forEach(function(t){var e;null!==t.instrument?(e=Object.keys(t.instrument),e.forEach(function(e){t.instrument.hasOwnProperty(e+"_input")&&null!==t.instrument[e]&&(t.instrument[e+"_toggle"]=!0)})):(e=Object.keys(t.transaction),e.forEach(function(e){t.transaction.hasOwnProperty(e+"_input")&&null!==t.transaction[e]&&(t.transaction[e+"_toggle"]=!0)}))}),o.resetProperty=function(t,e,n){t[e][n]=null,t[e][n+"_input"]=null},o.resetPropertyBtn=function(t,e,n){t[e][n]=null,t[e][n+"_input"]=null,t[e][n+"_toggle"]=!t[e][n+"_toggle"]},o.findInputs=function(t){var e="",n=[];return o.contentTypes.forEach(function(n){n.entity===t&&(e=n.key)}),o.entity.inputs.forEach(function(t){t.content_type===e&&n.push(t)}),n},o.deletePane=function(n,i,a){var r="Are you sure to delete this action?";e.show({controller:"WarningDialogController as vm",templateUrl:"views/warning-dialog-view.html",parent:angular.element(document.body),targetEvent:a,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{warning:{title:"Warning",description:r}}}).then(function(e){"agree"===e.status&&o.entity.actions.splice(i,1),t.$apply()})},o.addAction=function(e){t.accordion.collapseAll(),"instrument"==e?o.entity.actions.push({isPaneExpanded:!0,instrument:{}}):o.entity.actions.push({isPaneExpanded:!0,transaction:{}}),o.findPhantoms()},o.relationItems={},o.moveDown=function(t,e){var n=JSON.parse(JSON.stringify(t));o.entity.actions[e]=o.entity.actions[e+1],o.entity.actions[e+1]=n,o.findPhantoms()},o.moveUp=function(t,e){var n=JSON.parse(JSON.stringify(t));o.entity.actions[e]=o.entity.actions[e-1],o.entity.actions[e-1]=n,o.findPhantoms()},o.resolveInstrumentProp=function(t){return null!==t.transaction.instrument_input?"instrument_input":"instrument_phantom"},o.setTransactionInstrumentInput=function(t,e){t.transaction.instrument_input=e,t.transaction.instrument_phantom=null,t.transaction.instrument=null},o.setTransactionInstrumentPhantom=function(t,e){t.transaction.instrument_input=null,t.transaction.instrument_phantom=e,t.transaction.instrument=null},o.findPhantoms=function(){var t=[];return o.entity.actions.forEach(function(e,n){e.positionOrder=n,null!==e.instrument&&t.push(e)}),t},o.loadRelation=function(t){return new Promise(function(e,n){o.relationItems[t]?e(o.relationItems[t]):i.getFields(t).then(function(n){o.relationItems[t]=n.data,e(o.relationItems[t])})})}}}()},{"../../../../../../core/services/logService":2,"../../../services/fieldResolverService":236,"../../../services/metaContentTypesService":270}],115:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/transaction/transactionTypeGroupService"),a=t("../../../services/portfolioService"),o=t("../../../services/instrumentTypeService"),r=t("../../../services/tagService");e.exports=function(t){n.controller("TransactionTypeGeneralTabController","initialized");var e=this;e.entity=t.$parent.vm.entity,e.entity.book_transaction_layout=e.entity.book_transaction_layout||"",e.entity.actions=e.entity.actions||[],e.entity.inputs=e.entity.inputs||[],e.readyStatus={transactionTypeGroups:!1,instrumentTypes:!1,portfolios:!1,tags:!1},e.getTransactionTypeGroups=function(){i.getList().then(function(n){e.transactionTypeGroups=n.results,e.readyStatus.transactionTypeGroups=!0,t.$apply()})},e.getPortfolios=function(){a.getList().then(function(n){e.portfolios=n.results,e.readyStatus.portfolios=!0,t.$apply()})},e.getInstrumentTypes=function(){o.getList().then(function(n){e.instrumentTypes=n.results,e.readyStatus.instrumentTypes=!0,t.$apply()})},e.getTags=function(){r.getListByContentType("transaction-type").then(function(n){e.tags=n.results,e.readyStatus.tags=!0,t.$apply()})},e.bindSelectedText=function(t,e){return t?"["+t.length+"]":e},e.getTransactionTypeGroups(),e.getPortfolios(),e.getInstrumentTypes(),e.getTags(),e.checkReadyStatus=function(){return 1==e.readyStatus.transactionTypeGroups&&1==e.readyStatus.portfolios&&1==e.readyStatus.instrumentTypes&&1==e.readyStatus.tags}}}()},{"../../../../../../core/services/logService":2,"../../../services/instrumentTypeService":262,"../../../services/portfolioService":277,"../../../services/tagService":289,"../../../services/transaction/transactionTypeGroupService":295}],116:[function(t,e,n){!function(){"use strict";var n=t("../../../../../../core/services/logService"),i=t("../../../services/metaContentTypesService"),a=t("../../../services/entityResolverService");e.exports=function(t){n.controller("TransactionTypeInputsTabController","initialized");var e=this;e.entity=t.$parent.vm.entity,e.relationItems={},e.newItem={content_type:null,account:null,instrument_type:null,instrument:null,currency:null,counterparty:null,responsible:null,portfolio:null,strategy1:null,strategy2:null,strategy3:null,daily_pricing_model:null,payment_size_detail:null,price_download_scheme:null},e.valueTypes=[{display_name:"Number",value:20},{display_name:"String",value:10},{display_name:"Date",value:40},{display_name:"Relation",value:100}],e.contentTypes=i.getListForTransactionTypeInputs(),e.bindValueType=function(t){var n;return e.valueTypes.forEach(function(e){t.value_type==e.value&&(t.value_type_name=e.display_name,n=e.display_name)}),n},e.bindContentType=function(t){var n;return e.contentTypes.forEach(function(e){t.content_type==e.key&&(t.content_type_name=e.name,n=e.name)}),n},e.resolveRelation=function(t){var n;return e.contentTypes.forEach(function(e){e.key==t.content_type&&(n=e.entity)}),n},e.resolveDefaultValue=function(t){var n="";if(e.contentTypes.forEach(function(e){t.content_type==e.key&&(n=e.entity)}),t[n+"_object"])return t[n+"_object"].name;var i="";return e.relationItems[n]&&e.relationItems[n].forEach(function(e){e.id==t[n]&&(i=e.name)}),i},e.loadRelation=function(t){return new Promise(function(n,i){e.relationItems[t]?n(e.relationItems[t]):a.getList(t).then(function(i){e.relationItems[t]=i.results,n(e.relationItems[t])})})},e.toggleQuery=function(){e.queryStatus=!e.queryStatus,e.query={}},e.setSort=function(t){e.direction=e.sort===t&&!e.direction,e.sort=t},e.editItem=function(t){t.editStatus=!0},e.saveItem=function(t){t.editStatus=!1},e.deleteItem=function(t,n){e.entity.inputs.splice(n,1)},e.addRow=function(){e.entity.inputs.push({name:e.newItem.name,verbose_name:e.newItem.verbose_name,value_type:e.newItem.value_type,content_type:e.newItem.content_type,is_fill_from_context:e.newItem.is_fill_from_context,account:e.newItem.account,instrument_type:e.newItem.instrument_type,instrument:e.newItem.instrument,currency:e.newItem.currency,counterparty:e.newItem.counterparty,responsible:e.newItem.responsible,portfolio:e.newItem.portfolio,strategy1:e.newItem.strategy1,strategy2:e.newItem.strategy2,strategy3:e.newItem.strategy3,daily_pricing_model:e.newItem.daily_pricing_model,payment_size_detail:e.newItem.payment_size_detail,price_download_scheme:e.newItem.price_download_scheme}),e.newItem.name=null,e.newItem.verbose_name=null,e.newItem.value_type=null,e.newItem.content_type=null,e.newItem.is_fill_from_context=null,e.newItem.account=null,e.newItem.instrument_type=null,e.newItem.instrument=null,e.newItem.currency=null,e.newItem.counterparty=null,e.newItem.responsible=null,e.newItem.portfolio=null,e.newItem.strategy1=null,e.newItem.strategy2=null,e.newItem.strategy3=null,e.newItem.daily_pricing_model=null,e.newItem.payment_size_detail=null,e.newItem.price_download_scheme=null}}}()},{"../../../../../../core/services/logService":2,"../../../services/entityResolverService":231,"../../../services/metaContentTypesService":270}],117:[function(t,e,n){!function(){"use strict";e.exports=function(t){return{scope:{tabs:"="},link:function(e,n){var i='<md-button class="ec-tab-add-btn"data-ng-click="vm.addTab()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button>',a=t(i)(e.$parent),o=n.find("md-pagination-wrapper");o.append(a)}}}}()},{}],118:[function(t,e,n){!function(){"use strict";var n=t("../services/metaService"),i=t("../services/layoutService"),a=t("../services/attributeTypeService");e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/bind-field-control-view.html",scope:{item:"="},link:function(t,e,o){function r(e){t.classifierId==e.id?t.node=e:e.children.length&&e.children.forEach(r)}function s(){return a.getByKey(t.entityType,t.item.id).then(function(e){return y=e,y.classifiers.forEach(r),t.node})}t.entityType=t.$parent.vm.entityType,t.readyStatus={classifier:!1},t.entity=t.$parent.vm.entity;var c=t.$parent.vm.attrs||[],d=t.$parent.vm.userInputs||[],l=n.getValueTypes()||[],u=n.getBaseAttrs()||[],m=n.getEntityAttrs(t.entityType)||[];
if(t.layoutAttrs=i.getLayoutAttrs(),t.item){t.fieldType=null,t.attribute=t.item;var p;for(p=0;p<l.length;p+=1)l[p].value===t.attribute.value_type&&(t.fieldType=l[p]);100==t.attribute.value_type&&(t.fieldType=l[5])}t.getName=function(){return t.item.options&&t.item.options.fieldName?t.item.options.fieldName:t.item.name},t.copyFromField=function(e){var n=JSON.parse(e);if(n.key&&(t.entity[t.getModelKey()]=t.entity[n.key],console.log(t.entity[t.getModelKey()])),n.id){var i=null;c.forEach(function(t){t.id===n.id&&(i=t)}),t.entity[t.getModelKey()]=t.entity[i.name]}},t.checkValid=function(){if(0==t.entity.$_isValid){var e=t.entity[t.getModelKey()];if(null==e||""==e||void 0==e)return!0}return!1},t.dateFormatter=function(){},t.getModelKey=function(){if(t.item){if(t.item.hasOwnProperty("id")&&null!==t.item.id)return t.item.name;var e,n,i,a;for(e=0;e<u.length;e+=1)if(t.item.name===u[e].name)return u[e].key;for(n=0;n<t.layoutAttrs.length;n+=1)if(t.item.name===t.layoutAttrs[n].name)return t.layoutAttrs[n].key;for(i=0;i<m.length;i+=1)if(t.item.name===m[i].name)return m[i].key;for(a=0;a<d.length;a+=1)if(t.item.name===d[a].name)return d[a].key}};var g=t.getModelKey();t.options={},"tags"==g?t.options={entityType:t.entityType}:n.getEntitiesWithSimpleFields().indexOf(t.entityType)!==-1&&(t.options={entityType:t.entityType,key:g}),t.setDateToday=function(){t.entity[t.getModelKey()]=new Date},t.setDatePlus=function(){t.entity[t.getModelKey()]=new Date((new Date).setDate(new Date(t.entity[t.getModelKey()]).getDate()+1))},t.setDateMinus=function(){t.entity[t.getModelKey()]=new Date((new Date).setDate(new Date(t.entity[t.getModelKey()]).getDate()-1))},t.node=t.node||null;var y;t.findNodeItem=function(){return t.readyStatus.classifier=!1,new Promise(function(e){s().then(function(n){t.readyStatus.classifier=!0,t.node=n,t.entity[t.getModelKey()]=t.classifierId,e(void 0)})})},t.fieldType&&30==t.fieldType.value&&t.entity&&(t.classifierId=t.entity[t.getModelKey()],t.findNodeItem().then(function(){t.$apply()})),t.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},t.changeClassifier=function(){y&&(t.classifierId=t.entity[t.getModelKey()],t.findNodeItem().then(function(){y.classifiers.forEach(r),t.$apply()}))}}}}}()},{"../services/attributeTypeService":220,"../services/layoutService":268,"../services/metaService":275}],119:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService");t("../services/attributeTypeService");e.exports=function(t){return{restrict:"A",require:"?ngModel",scope:{classifierAttr:"=",entityType:"=",classifierValue:"="},link:function(e,i,a,o){n.component("ClassifierModalResolver","initialize"),$(i).on("click",function(n){n.preventDefault(),n.stopPropagation(),setTimeout(function(){$(".md-select-backdrop")[0].dispatchEvent(new Event("click"))},400),t.show({controller:"ClassifierSelectDialogController as vm",templateUrl:"views/classifier-select-dialog-view.html",parent:angular.element(document.body),targetEvent:n,preserveScope:!0,autoWrap:!0,skipHide:!0,locals:{data:{ngModelCtrl:o,classifier:e.classifierAttr,classifierId:e.classifierValue,entityType:e.entityType}}}).then(function(t){"agree"===t.status&&(o.$setViewValue(t.data.item),o.$render(),console.log("ngModelCtrl",o))})})}}}}()},{"../../../../core/services/logService":2,"../services/attributeTypeService":220}],120:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",scope:{scrollY:"@",scrollSticky:"@"},link:function(t,e){if(t.scrollY&&"false"==t.scrollY){$(e).perfectScrollbar({suppressScrollY:!0});var n,i,a;$(e).on("ps-scroll-x",function(t){$(".ps-scrollbar-y-rail.sticky")&&(n=$(".ps-scrollbar-y-rail.sticky"),i=$(e).find("> .ps-scrollbar-x-rail"),a=parseInt(i.css("left").split("px")[0],10),a>0?$(n).css("left",$(".g-table-section").width()+a-21+"px"):$(n).css("left",$(".g-table-section").width()-21+"px"))})}else $(e).perfectScrollbar(),t.scrollSticky&&"true"==t.scrollSticky&&$(e).find(".ps-scrollbar-y-rail").addClass("sticky")}}}}()},{}],121:[function(t,e,n){!function(){"use strict";t("../../../../core/services/logService");e.exports=function(){return{restrict:"A",link:function(t,e,n){function i(t){s=t.pageX,r=t.pageY,console.log(l,u,s,r,c,d),o[0].style.left=s+c-l+"px",o[0].style.top=r+d-u+"px"}console.log("drag dialog working");var a=$(e).find("md-toolbar");console.log("drag element is",$(e),a);var o=$(e),r=0,s=0,c=0,d=0,l=0,u=0;a.bind("mousedown",function(t){return t.preventDefault(),t.stopPropagation(),console.log(o),l=t.clientX,u=t.clientY,c=o[0].offsetLeft,d=o[0].offsetTop,$(window).bind("mousemove",i),$(window).bind("mouseup",function(t){console.log("unbind"),$(window).unbind("mousemove")}),!1})}}}}()},{"../../../../core/services/logService":2}],122:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/fieldResolverService"),a=t("../helpers/bindFieldsHelper"),o=t("../services/metaService"),r=t("../services/tagService");e.exports=function(t){return{scope:{item:"=",entity:"=",content_type:"=",options:"="},templateUrl:"views/entity-viewer/field-resolver-view.html",link:function(t,e,s){n.component("EntityViewerFieldResolverController","initialized"),t.readyStatus={content:!1,tags:!1},t.type="",n.property("field scope",t.item),n.property("field entity",t.entity),n.property("field options",t.options),t.resolveMultiple=function(){return"instrument-type"!==t.$parent.entityType||"tags"==t.item.key},t.getFieldsGrouped=function(){if(o.getFieldsWithTagGrouping().indexOf(t.item.key)!==-1){var n=t.item.key.replace("_","-");console.log("ENTITYTYPE------------------------------------------",n),"transaction-types"===n&&(n="transaction-type"),r.getListByContentType(n).then(function(n){t.tags=n.results,t.groups=a.groupFieldsByTagsWithDuplicates(t.fields,t.tags),console.log("test?"),t.readyStatus.tags=!0,t.$apply(function(){setTimeout(function(){$(e).find(".md-select-search-pattern").on("keydown",function(t){t.stopPropagation()})},100)})})}},t.searchTerm="",i.getFields(t.item.key,t.options).then(function(i){n.collection("DATA",i),t.type=i.type,t.fields=i.data,t.readyStatus.content=!0,t.getFieldsGrouped(),t.$apply(function(){setTimeout(function(){$(e).find(".md-select-search-pattern").on("keydown",function(t){t.stopPropagation()})},100)})}),t.resolveSort=function(t){if(t){if(t.hasOwnProperty("name"))return t.name;if(t.hasOwnProperty("user_code"))return t.user_code;if(t.hasOwnProperty("public_name"))return t.public_name}},t.checkComplexEntityType=function(){return o.getFieldsWithTagGrouping().indexOf(t.item.key)!==-1},t.getName=function(){return t.item.options&&t.item.options.fieldName?t.item.options.fieldName:t.item.name},t.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},t.bindFormFields=function(){var e=t.entity[t.getModelKey()];if(e){var n,i;for(n=0;n<t.fields.length;n+=1)e==t.fields[n].id&&(i=t.fields[n]);if(t.item.options&&t.item.options.fieldsForm){var a="";return t.item.options.fieldsForm.forEach(function(e,n){n+1===t.item.options.fieldsForm.length?a+=i[e]:a=a+i[e]+" / "}),a}return i.name}return t.getName()},t.bindListFields=function(e){if(t.item.options&&t.item.options.fieldsList){var n="";return t.item.options.fieldsList.forEach(function(i,a){a+1===t.item.options.fieldsList.length?n+=e[i]:n=n+e[i]+" / "}),n}return e.name},t.bindMCField=function(e){return t.entity[t.getModelKey()]&&t.entity[t.getModelKey()].length>0?"["+t.entity[t.getModelKey()].length+"] selected":t.getName()},t.getModelKey=t.$parent.getModelKey}}}}()},{"../../../../core/services/logService":2,"../helpers/bindFieldsHelper":154,"../services/fieldResolverService":236,"../services/metaService":275,"../services/tagService":289}],123:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",scope:{fileRead:"="},link:function(t,e,n){console.log("scope?13124",t),e.bind("change",function(e){t.fileRead=e.target.files[0]})}}}}()},{}],124:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"A",scope:{onlyPositive:"@"},require:"?ngModel",link:function(t,e,n,i){i&&(i.$parsers.push(function(e){var n=e.replace(/[^-0-9\,]/g,""),a=n.split("-"),o=n.split(",");return angular.isUndefined(a[1])||(a[1]=a[1].slice(0,a[1].length),n=t.onlyPositive?a[1]:a[0]+"-"+a[1],a[0].length>0&&(n=a[0])),angular.isUndefined(o[1])||(o[1]=o[1].slice(0,o[1].length),n=o[0]+","+o[1]),e!==n&&(i.$setViewValue(n),i.$render()),n}),e.bind("keypress",function(t){32===t.keyCode&&t.preventDefault()}),e.bind("blur",function(){function t(t){var e=t.length%3;return(t.substr(0,e)+t.substr(e).replace(/(\d{3})/g," $1")).trim()}var n,i,a=e.val();0===a.indexOf(",")?(n=a.split(",")[0],i=a.split(",")[1],n=t(n),i=t(i),e.val(n+","+i)):e.val(t(a))}))}}}}()},{}],125:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",transclude:!0,templateUrl:"views/directives/groupTable/bind-report-row-view.html",link:function(t,e,n){}}}}()},{}],126:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"A",scope:{items:"=",columns:"="},link:function(t,e,i){n.component("groupClipboardHandlerComponent","initialized");var a=function(e){if(e){var n=[];if(t.items.forEach(function(t){t.hasOwnProperty("groups")?(t.selectedRow===!0&&n.push({type:"group",data:t.groups}),t.items.forEach(function(t){t.selectedRow===!0&&n.push(t)})):t.selectedRow===!0&&n.push(t)}),n.length){var i="<table>";n.forEach(function(e){var n="<tr>";e.hasOwnProperty("type")?n=n+"<td>"+e.data.map(function(t){return t.value}).join(" ")+"</td>":t.columns.forEach(function(t){n=t.hasOwnProperty("key")?n+"<td>"+e[t.key]+"</td>":n+"<td>"+e[t.name]+"</td>"}),n+="</tr>",i+=n}),i+="</table",console.log("result",i),e.clipboardData&&e.clipboardData.setData("text/html",i),console.log("e",e),e.preventDefault()}}};document.addEventListener("copy",a),$(document).bind("copy",a),t.$on("destroy",function(){n.component("groupClipboardHandlerComponent","destroyed"),$(document).unbind("copy"),document.removeEventListener("copy")})}}}}()},{"../../../../../core/services/logService":2}],127:[function(t,e,n){!function(){"use strict";var n=t("../../services/metaService");e.exports=function(){return{restrict:"A",scope:{columns:"="},link:function(t,e,i){var a=n.columnsWidthGroups(),o=function(){if(a.newColumnAdded){var n,i=e.find(".g-column"),o=i.length-1,r=i[o];switch(t.columns[o].value_type){case 10:n=a.groupThree;break;case 20:case 40:n=a.groupFive;break;case 30:n=a.groupOne}$(r).width(n)}};t.$watchCollection("columns",function(){o()})}}}}()},{"../../services/metaService":275}],128:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"A",scope:{items:"=",options:"="},link:function(t,e,i){function a(t,e){e<=c&&!t.hasClass("small-width")?t.addClass("small-width"):e>c&&t.hasClass("small-width")&&t.removeClass("small-width")}function o(){if(!d){var n=e.find(".g-column"),i=t.columnsWidth;if(n.length>0&&n.length===i.length){for(var a=0;a<n.length;a+=1)i[a]&&!isNaN(i[a])&&($(n[a]).width(i[a]),i[a]<=c&&$(n[a]).addClass("small-width"));d=!0}}}function r(){var t,n,i=0,a=16,o=400;for(t=e.find(".g-column"),n=0;n<t.length;n+=1)i=i+$(t[n]).width()+a;var r=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();r<i+o&&($(".g-scrollable-area").width(i+o),$(e).width(i+o+24))}function s(){function t(){var t,i,a=$(e).find(".g-thead"),o=a.find(".g-cell"),r=$(e).find(".g-row");for(t=0;t<r.length;t+=1)for(n=$(r[t]).find(".g-cell-wrap"),i=0;i<o.length;i+=1)!function(t){$(n[t]).css({width:$(o[t]).width()+"px"})}(i)}var n,i=$(e).find(".g-thead"),o=i.find(".g-cell"),s=($(e).find(".g-row"),o.find(".resize-slider")),c=function(){var t;for(t=0;t<o.length;t+=1)$(o[t]).attr("min-width")||$(o[t]).attr("min-width","20")};c(),$(s).bind("mousedown",function(e){e.preventDefault(),e.stopPropagation();var n,i=$(this).parents("md-card.g-cell.g-column"),o=i.width(),s=i.attr("min-width"),c=e.clientX;$(window).bind("mousemove",function(e){n=e.clientX-c,r(),t(),i.width(o+n),n+o>s&&i.width(o+n),a(i,i.width())}),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})}),setTimeout(function(){t()},100)}t.columnsWidth=t.options.columnsWidth,n.component("groupColumnResizer","initialized");var c=65,d=!1,l=($(".g-filter-sidebar.main-sidebar").width(),e.parents(".g-workarea-wrap"));l.width($(window).width()-$(".g-filter-sidebar.main-sidebar").width()-$("md-sidenav").width());var u=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();$(".g-scroll-wrapper").width(u),$(".g-scrollable-area").width(u);var m=function(){l.width($(window).width()-$(".g-filter-sidebar.main-sidebar").width()-$("md-sidenav").width());var t=$(".g-columns-component.g-thead").width()-$(".g-cell-select.all").width();$(".g-scroll-wrapper").width(t),$(".g-scrollable-area").width(t),r(),s()};t.$parent.triggerResize=s,$(window).on("resize",function(){m()}),$(".filter-area-size-btn").click(function(){var t=$(".g-filter-sidebar.main-sidebar");t.hasClass("min-filter")?(t.attr({"min-width":"20px",width:"20px"}),m(),t.addClass("min-filter")):(t.attr({"min-width":"239px",width:"235px"}),m(),t.removeClass("min-filter"))}),t.$watchCollection("items",function(){r(),s(),o()}),s()}}}}()},{"../../../../../core/services/logService":2}],129:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/metaService");e.exports=function(){return{restrict:"AE",scope:{items:"=",options:"="},templateUrl:"views/directives/groupTable/columns-view.html",link:function(t,e,a){t.grouping=t.options.grouping,t.filters=t.options.filters,t.columns=t.options.columns,t.entityType=t.options.entityType,t.externalCallback=t.options.externalCallback,t.isReport=t.options.isReport,n.component("groupColumnResizer","initialized");var o=[],r=[];i.getEntitiesWithoutBaseAttrsList().indexOf(t.entityType)===-1&&(o=i.getBaseAttrs()),r=i.getEntityAttrs(t.entityType),t.isAllSelected=!1,t.selectAllRows=function(){t.isAllSelected=!t.isAllSelected,t.items.forEach(function(e){e.hasOwnProperty("groups")?(e.selectedRow=t.isAllSelected,e.items.forEach(function(e){e.selectedRow=t.isAllSelected})):e.selectedRow=t.isAllSelected})},t.isColumnFloat=function(t){return"float"==t.value_type||20==t.value_type},t.sortHandler=function(e,n){var i;for(i=0;i<t.columns.length;i+=1)t.columns[i].options||(t.columns[i].options={}),t.columns[i].options.sort=null;e.options.sort=n,e.hasOwnProperty("id")?(t.sorting.column.id=e.id,t.sorting.column.key=null,t.sorting.column.sort=n):(t.sorting.column.id=null,t.sorting.column.key=e.key,t.sorting.column.sort=n),t.externalCallback({silent:!0,options:{columns:t.columns}})},t.selectSubtotalType=function(e,n){e.hasOwnProperty("report_settings")||(e.report_settings={}),e.report_settings.subtotal_formula_id==n?e.report_settings.subtotal_formula_id=null:e.report_settings.subtotal_formula_id=n,t.externalCallback({silent:!0,options:{columns:t.columns}})},t.checkSubtotalFormula=function(t,e){return!(!t.hasOwnProperty("report_settings")||!t.report_settings||t.report_settings.subtotal_formula_id!=e)},t.$watchCollection("columns",function(){1==t.isReport,setTimeout(function(){t.externalCallback({silent:!0,options:{columns:t.columns}}),t.$apply()},0)}),t.isSortable=function(t){var e,n;if(o&&o.length)for(e=0;e<o.length;e+=1)if(o[e].key===t.key&&"notes"!==o[e].key)return!0;if(r&&r.length)for(n=0;n<r.length;n+=1)if(r[n].key===t.key)return!0;return!1},t.removeColumn=function(e){e.id&&(t.columns=t.columns.map(function(t){return t.id!==e.id&&t.key!==e.key||(t=void 0),t}).filter(function(t){return!!t})),e.key&&(t.columns=t.columns.map(function(t){if(t.key!==e.key)return t}).filter(function(t){return!!t})),setTimeout(function(){t.externalCallback({silent:!0,options:{columns:t.columns}})},0)},t.reportHideSubtotal=function(t){t.hasOwnProperty("report_settings")||(t.report_settings={}),t.report_settings.hide_subtotal=!t.report_settings.hide_subtotal}}}}}()},{"../../../../../core/services/logService":2,"../../services/metaService":275}],130:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"A",link:function(t,e,i){function a(t){d=document.all?window.event.clientX:t.pageX,c=document.all?window.event.clientY:t.pageY,console.log(m,p),r[0].style.left=d+l-m+"px",r[0].style.top=c+u-p+"px"}n.component("gDialogDraggable","initialized");var o=$(e).find(".md-toolbar-tools"),r=$(e).parent(),s=$(e).parent(".md-dialog-container");s.addClass("viewConstructorDialog");var c=0,d=0,l=0,u=0,m=0,p=0;$(r).width(400),$(r).height($(e).height()),$(r).css({left:"65%"}),o.bind("mousedown",function(t){return t.preventDefault(),t.stopPropagation(),console.log(r),m=t.clientX,p=t.clientY,l=r[0].offsetLeft,u=r[0].offsetTop,$(window).bind("mousemove",a),$(window).bind("mouseup",function(t){console.log("unbind"),$(window).unbind("mousemove")}),!1})}}}}()},{"../../../../../core/services/logService":2}],131:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(t){return{restrict:"AE",scope:{options:"="},templateUrl:"views/directives/groupTable/grouping-view.html",link:function(e,i,a){e.grouping=e.options.grouping,e.filters=e.options.filters,e.columns=e.options.columns,e.sorting=e.options.sorting,e.folding=e.options.folding,e.entityType=e.options.entityType,e.externalCallback=e.options.externalCallback,e.isReport=e.options.isReport,n.component("groupGrouping","initialized"),console.log(" scope.grouping",e.grouping),e.sortHandler=function(t,n){var i;for(i=0;i<e.grouping.length;i+=1)e.grouping[i].options||(e.grouping[i].options={}),e.grouping[i].options.sort=null;t.options.sort=n,t.hasOwnProperty("id")?(e.sorting.group={},e.sorting.group.id=t.id,e.sorting.group.key=null,e.sorting.group.sort=n):(e.sorting.group={},e.sorting.group.id=null,e.sorting.group.key=t.key,e.sorting.group.sort=n),e.externalCallback({silent:!0,options:{grouping:e.grouping}})},e.openGroupSettings=function(t,e){t(e)},e.$watchCollection("grouping",function(){1==e.isReport&&e.grouping.forEach(function(t){t.hasOwnProperty("report_settings")||t.report_settings?void 0==t.report_settings.subtotal_type&&(t.report_settings.subtotal_type="area"):t.report_settings={subtotal_type:"area"}}),setTimeout(function(){e.externalCallback({silent:!0,options:{grouping:e.grouping}}),e.$apply()},0)}),e.toggleGroupFold=function(){e.folding=!e.folding,setTimeout(function(){e.externalCallback({silent:!0,options:{grouping:e.grouping}}),e.$apply()},0)},e.removeGroup=function(t){t.id&&(e.grouping=e.grouping.map(function(e){return e.id===t.id&&(e=void 0),e}).filter(function(t){return!!t})),t.name&&(e.grouping=e.grouping.map(function(e){return e.name===t.name&&(e=void 0),e}).filter(function(t){return!!t})),setTimeout(function(){e.externalCallback({silent:!0,options:{grouping:e.grouping}})},0)},e.reportSetSubtotalType=function(t,n,i){t.hasOwnProperty("report_settings")&&void 0!=t.report_settings||(t.report_settings={}),"area"==n&&e.grouping.forEach(function(t,e){e>i?(t.disableLineSubtotal=!0,console.log("group",t),t.hasOwnProperty("report_settings")&&"line"==t.report_settings.subtotal_type&&(t.report_settings.subtotal_type=!1)):e<i&&(t.disableLineSubtotal=!1)}),"line"==n&&e.grouping.forEach(function(t,e){e>i&&(t.disableLineSubtotal=!1)}),t.report_settings.subtotal_type==n?t.report_settings.subtotal_type=!1:t.report_settings.subtotal_type=n,e.externalCallback({silent:!0,options:{grouping:e.grouping}})},e.isReportGroupHaveExtSettings=function(t,n,i){var a=!1,o=0,r=0;return e.grouping.forEach(function(t,n){e.columns.length>n&&(t.hasOwnProperty("id")?t.id==e.columns[n-o].id?r=o:o+=1:t.hasOwnProperty("key")&&e.columns[n]&&e.columns[n].hasOwnProperty("key")&&t.key==e.columns[n-o].key?r=o:o+=1)}),e.columns.length>n&&(t.hasOwnProperty("id")&&e.columns[n-r]&&e.columns[n-r].hasOwnProperty("id")?t.id==e.columns[n-r].id&&(a=!0):t.hasOwnProperty("key")&&e.columns[n-r]&&e.columns[n-r].hasOwnProperty("key")&&t.key==e.columns[n-r].key&&(a=!0)),t.hasOwnProperty("disableLineSubtotal")&&1==t.disableLineSubtotal&&"line"==i&&(a=!1),a},e.openModalSettings=function(n){t.show({controller:"gModalController as vm",templateUrl:"views/directives/groupTable/modal-view.html",parent:angular.element(document.body),targetEvent:n,locals:{callback:e.externalCallback,parentScope:e}})}}}}}()},{"../../../../../core/services/logService":2}],132:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"A",scope:{options:"="},link:function(t,e,i){function a(){c=$(window).height()-$(".header").first().height(),d=c-$(".g-wrapper .g-grouping-section").first().height(),$(".g-filter-sidebar").first().height(c),$(".g-wrapper .g-table-section").first().height(d),$(".g-additions").first().height($(window).height()-c),$("group-table-body").first().css("height","auto")}function o(){c=Math.floor(($(window).height()-$(".header").height())/2),d=Math.floor(c-$(".g-wrapper .g-grouping-section").first().height()),$(".g-filter-sidebar").first().height(c),$(".g-wrapper .g-table-section").first().height(d),$(".g-additions").height(c),$(".g-additions-workarea .g-table-section").last().height(c),$(".g-additions-workarea .group-table-body").last().height(c),$(".g-height-slider").bind("mousedown",function(t){var n,i,a=$(".header").height(),o=$(".g-workarea.main-area .g-table-section").first(),r=$(".g-filter-sidebar.main-sidebar").first(),c=$(".g-wrapper .g-grouping-section").height(),d=$(".g-additions"),l=$(".g-additions-workarea .g-table-section").last(),u=$(".g-additions-workarea .g-filter-sidebar").last(),m=function(t){s=t,i=$(window).height()-a,n=t.clientY,$(e).find(".mCSB_scrollTools_vertical").css({position:"absolute",top:0,left:"auto"}),d.height(i-n+88-15),l.height(i-n+88),u.height(i-n+88),$(".g-workarea.main-area .group-table-body").first().height(n-$(".header").height()-$(".g-columns-component.g-thead").height()-88),$(".g-additions-workarea .group-table-body").last().height($(window).height()-n-$(".g-additions-workarea .g-columns-component.g-thead").height()),o.height(n-a-88),c<n+c-a-88&&r.height(n+c-a-88)};$(window).bind("mousemove",function(t){m(t),$(window).bind("mouseup",function(){$(window).unbind("mousemove")})})})}function r(){t.additionsStatus.reportWizard||t.additionsStatus.editor||t.additionsStatus.permissionEditor?setTimeout(function(){o()},100):t.additionsStatus.reportWizard||t.additionsStatus.editor||t.additionsStatus.permissionEditor||a()}var s=null;if(1==t.options.isRootEntityViewer){t.additionsStatus=t.options.additionsStatus,n.component("groupHeightAligner","initialized");var c,d;t.$watchCollection("additionsStatus",function(){console.log("scope.additionsStatus",t.additionsStatus),r()}),setInterval(function(){if($(".g-additions-workarea .g-filter-sidebar").length){var t,n,i=$(".header").height(),a=$(".g-workarea.main-area .g-table-section").first(),o=$(".g-filter-sidebar.main-sidebar").first(),r=$(".g-wrapper .g-grouping-section").height(),c=$(".g-additions"),d=$(".g-additions-workarea .g-table-section").last(),l=($(".g-additions-workarea .g-filter-sidebar").last(),function(s){n=$(window).height()-i,t=s.clientY,$(e).find(".mCSB_scrollTools_vertical").css({position:"absolute",top:0,left:"auto"}),c.height(n-t+88-15),d.height(n-t+88),$(".g-additions-workarea .g-filter-sidebar").last().height(n-t+88),$(".g-workarea.main-area .group-table-body").first().height(t-$(".header").height()-$(".g-columns-component.g-thead").height()-88),$(".g-additions-workarea .group-table-body").last().height($(window).height()-t-$(".g-additions-workarea .g-columns-component.g-thead").height()),a.height(t-i-88),r<t+r-i-88&&o.height(t+r-i-88)});null==s&&(s=new Event("mousemove"),s._is_default_event=!0),s.hasOwnProperty("_is_default_event")&&$(".g-additions-workarea .g-filter-sidebar").length&&(s.clientY=Math.floor(($(window).height()-$(".header").height())/2)),l(s)}else s=null},100),$(window).on("resize",function(){r()})}}}}}()},{"../../../../../core/services/logService":2}],133:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"A",scope:{},link:function(t,e,i){n.component("groupHorizontalScroll","initialized")}}}}()},{"../../../../../core/services/logService":2}],134:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=(t("../../services/uiService"),t("../../services/metaService")),a=t("../../services/attributeTypeService"),o=t("../../services/reports/balanceReportCustomAttrService"),r=t("../../services/groupTable/dynamicAttributesForReportsService");e.exports=function(t,e,s,c){function d(){function t(){var t,e;for(t=0;t<m.tabs.length;t+=1)if(!m.tabs[t].attrs)for(m.tabs[t].attrs=[],e=0;e<m.tabs[t].layout.fields.length;e+=1)"field"===m.tabs[t].layout.fields[e].type&&(m.tabs[t].layout.fields[e].hasOwnProperty("id")?m.tabs[t].attrs.push({id:m.tabs[t].layout.fields[e].id}):"field"===m.tabs[t].layout.fields[e].type&&"Labeled Line"!=m.tabs[t].layout.fields[e].name&&"Line"!=m.tabs[t].layout.fields[e].name&&m.tabs[t].attrs.push({name:m.tabs[t].layout.fields[e].name}))}function e(){var t,e,n,i,a,o,r,s,c,d,l;for(e=0;e<m.tabs.length;e+=1)for(o=m.tabs[e],n=0;n<o.attrs.length;n+=1)if(r=o.attrs[n],d=!1,r.hasOwnProperty("id")){for(t=0;t<m.attrs.length;t+=1)s=m.attrs[t],r.id===s.id&&(m.tabs[e].attrs[n]=s,d=!0);d||(m.tabs[e].attrs.splice(n,1),n-=1)}else{for(i=0;i<m.baseAttrs.length;i+=1)c=m.baseAttrs[i],r.name===c.name&&(m.tabs[e].attrs[n]=c,d=!0);for(a=0;a<m.entityAttrs.length;a+=1)l=m.entityAttrs[a],r.name===l.name&&(m.tabs[e].attrs[n]=l,d=!0);d||(m.tabs[e].attrs.splice(n,1),n-=1)}}t(),e(),m.tabAttrsReady=!0}function l(t){var e;for(e=0;e<t.length;e+=1)t[e].columns=!1,t[e].filters=!1,t[e].groups=!1,p.map(function(n){return t[e].name===n.name&&(t[e].columns=!0),n}),y.map(function(n){return t[e].name===n.name&&(t[e].filters=!0),n}),v.map(function(n){return n.hasOwnProperty("key")?t[e].key===n.key&&(t[e].groups=!0):t[e].name===n.name&&(t[e].groups=!0),n})}function u(t){var e,n,i,a,o,r,s;for(e=0;e<t.length;e+=1){for(o=!1,r=!1,s=!1,n=0;n<p.length;n+=1)t[e].hasOwnProperty("key")?t[e].key===p[n].key&&(o=!0,t[e].columns===!1&&(p.splice(n,1),n-=1)):t[e].name===p[n].name&&(o=!0,t[e].columns===!1&&(p.splice(n,1),n-=1));for(o||t[e].columns===!0&&p.push(t[e]),i=0;i<v.length;i+=1)t[e].hasOwnProperty("key")?t[e].key===v[i].key&&(r=!0,t[e].groups===!1&&(v.splice(i,1),i-=1)):t[e].id===v[i].id&&(r=!0,t[e].groups===!1&&(v.splice(i,1),i-=1));for(r||t[e].groups===!0&&v.push(t[e]),a=0;a<y.length;a+=1)t[e].hasOwnProperty("key")?t[e].key===y[a].key&&(s=!0,t[e].filters===!1&&(y.splice(a,1),a-=1)):t[e].name===y[a].name&&(s=!0,t[e].filters===!1&&(y.splice(a,1),a-=1));s||t[e].filters===!0&&y.push(t[e])}}n.controller("gModalController","initialized");var m=this;m.readyStatus={content:!1},m.tabs=[],m.entityType=s.entityType,console.log("parentScope",s),n.property("vm.entityType",m.entityType),m.general=[],m.attrs=[],m.baseAttrs=[],m.entityAttrs=[],m.custom=[],m.isReport=s.isReport,m.tabAttrsReady=!1;var p=s.columns,g=s.columns.length,y=s.filters,v=s.grouping,f=[];$("body").addClass("drag-dialog"),m.getAttributes=function(){return i.getEntitiesWithoutBaseAttrsList().indexOf(m.entityType)===-1&&(m.baseAttrs=i.getBaseAttrs()),m.entityAttrs=i.getEntityAttrs(m.entityType),o.getList().then(function(e){m.custom=e.results,m.custom.forEach(function(t){t.columnType="custom-field"}),d(),h(),t.$apply()}),1!=s.isReport?a.getList(m.entityType).then(function(e){m.attrs=e.results,f=m.attrs.concat(m.baseAttrs),f=f.concat(m.entityAttrs),d(),h(),m.readyStatus.content=!0,t.$apply()}):(m.attrs=[],void r.getDynamicAttributes().then(function(e){m.attrs=e,f=m.attrs.concat(m.baseAttrs),f=f.concat(m.entityAttrs),d(),h(),console.log("report balance new custom attr is",m.attrs),m.readyStatus.content=!0,t.$apply()}))},m.getAttributes(),m.checkAreaAccessibility=function(t,e){return"group"===e?["notes","accounts","responsibles","counterparties","transaction_types","portfolios","tags","content_types"].indexOf(t.key)!==-1:["notes"].indexOf(t.key)!==-1},s.$watch("options.columns",function(){m.tabAttrsReady&&(p=s.options.columns,h(),c({silent:!0}))}),s.$watch("options.filters",function(){m.tabAttrsReady&&(y=s.options.filters,h(),c({silent:!0}))}),s.$watch("options.grouping",function(){m.tabAttrsReady&&(v=s.options.grouping,h(),c({silent:!0}))});var h=function(){l(m.baseAttrs),l(m.entityAttrs),l(m.attrs),l(m.custom)},b=function(){console.log("gModalComponents columns ",p),u(m.baseAttrs),u(m.entityAttrs),u(m.attrs),u(m.custom),w()};m.updateAttrs=function(){b(),c({silent:!0})},m.cancel=function(){$("body").removeClass("drag-dialog"),e.cancel()};var _={init:function(){this.dragula(),this.eventListeners()},eventListeners:function(){var e=!1;this.dragula.on("over",function(t,e,n){$(e).addClass("active"),$(e).on("mouseleave",function(){$(this).removeClass("active")})}),this.dragula.on("drop",function(n,i){$(i).removeClass("active");var a,o=$(n).html();if(e=!1,i===document.querySelector("#columnsbag"))for(a=0;a<p.length;a+=1)p[a].name===o&&(e=!0);if(i===document.querySelector("#groupsbag"))for(a=0;a<v.length;a+=1)v[a].name===o&&(e=!0);if(i===document.querySelector("#filtersbag .drop-new-filter"))for(a=0;a<y.length;a+=1)y[a].name===o&&(e=!0);if(!e){var r;if(i===document.querySelector("#columnsbag")){for(r=0;r<f.length;r+=1)f[r].name===o&&p.push(f[r]);h(),c({silent:!0})}if(i===document.querySelector("#groupsbag")){for(r=0;r<f.length;r+=1)f[r].name===o&&v.push(f[r]);h(),c({silent:!0})}if(i===document.querySelector("#filtersbag .drop-new-filter")){for(r=0;r<f.length;r+=1)f[r].name===o&&y.push(f[r]);h(),c({silent:!0})}t.$apply()}t.$apply()}),this.dragula.on("dragend",function(e){t.$apply(),$(e).remove()})},dragula:function(){var t,e=[document.querySelector("#columnsbag"),document.querySelector("#groupsbag"),document.querySelector("#filtersbag .drop-new-filter")],n=document.querySelectorAll("#dialogbag .g-modal-draggable-card");for(t=0;t<n.length;t+=1)e.push(n[t]);this.dragula=dragula(e,{copy:!0})}},w=function(){g<p.length?i.columnsWidthGroups(!0):i.columnsWidthGroups(!1)};setTimeout(function(){_.init()},500),m.MABtnVisibility=function(t){return i.checkRestrictedEntityTypesForAM(t)}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/groupTable/dynamicAttributesForReportsService":239,"../../services/metaService":275,"../../services/reports/balanceReportCustomAttrService":282,"../../services/uiService":296}],135:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/report-settings-view.html",link:function(t,e,n){console.log("Report settings component")}}}}()},{}],136:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"A",scope:{},link:function(t,e,i){n.component("groupVerticalScroll","initialized")}}}}()},{"../../../../../core/services/logService":2}],137:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/fieldResolverService"),a=t("../../services/pricingPolicyService"),o=t("../../services/currencyService");e.exports=function(t){return{restrict:"AE",scope:{options:"="},templateUrl:"views/directives/groupTable/sidebar-filter-view.html",link:function(e,r,s){n.component("groupSidebarFilter","initialized"),e.filters=e.options.filters,e.isReport=e.options.isReport,e.entityType=e.options.entityType,e.externalCallback=e.options.externalCallback,e.fields={},e.reportOptions={},e.filters.forEach(function(t){!t.options}),1==e.isReport&&(a.getList().then(function(t){e.pricingPolicies=t.results,e.$apply()}),o.getList({page_size:200}).then(function(t){e.currencies=t.results,
e.$apply()})),e.openReportSettings=function(n){console.log("scope.reportOptions",e.reportOptions),t.show({controller:"GReportSettingsDialogController as vm",templateUrl:"views/dialogs/g-report-settings-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{reportOptions:e.reportOptions}}).then(function(t){console.log("res",t),"agree"==t.status&&(e.reportOptions=t.data)})},e.calculateReport=function(){console.log("calculate report"),e.reportOptions.task_id=void 0,e.externalCallback({silent:!1,options:{filters:e.filters}})},e.resizeFilterSideNav=function(t){"collapse"===t?($("body").addClass("filter-side-nav-collapsed"),e.sideNavCollapsed=!0):($("body").removeClass("filter-side-nav-collapsed"),e.sideNavCollapsed=!1);var n=setInterval(function(){$(window).trigger("resize")},50);setTimeout(function(){clearInterval(n)},300)},e.$watchCollection("filters",function(){var t=[];e.filters.forEach(function(n){e.fields.hasOwnProperty(n.key)||"mc_field"!=n.value_type&&"field"!=n.value_type||("tags"==n.key?t.push(i.getFields(n.key,{entityType:e.entityType})):t.push(i.getFields(n.key)))}),Promise.all(t).then(function(t){t.forEach(function(t){e.fields[t.key]=t.data}),e.$apply(function(){setTimeout(function(){$(r).find(".md-select-search-pattern").on("keydown",function(t){t.stopPropagation()})},100)})})}),e.openFilterSettings=function(t,e){t(e)},e.toggleFilterState=function(){1==e.isReport?e.externalCallback({silent:!0,options:{filters:e.filters}}):e.externalCallback({silent:!1,options:{filters:e.filters}})},e.filterChange=function(t){1==e.isReport?e.externalCallback({silent:!0,options:{filters:e.filters}}):e.externalCallback({silent:!1,options:{filters:e.filters}})},e.selectAll=function(){e.filters.forEach(function(t){t.options.enabled=!0}),1==e.isReport?e.externalCallback({silent:!0,options:{filters:e.filters}}):e.externalCallback({silent:!1,options:{filters:e.filters}})},e.clearAll=function(){e.filters.forEach(function(t){t.options.query=""}),1==e.isReport?e.externalCallback({silent:!0,options:{filters:e.filters}}):e.externalCallback({silent:!1,options:{filters:e.filters}})},e.deselectAll=function(){e.filters.forEach(function(t){t.options.enabled=!1}),1==e.isReport?e.externalCallback({silent:!0,options:{filters:e.filters}}):e.externalCallback({silent:!1,options:{filters:e.filters}})},0==e.options.isRootEntityViewer&&e.$on("rootEditorEntityIdDown",function(t,n){e.filters.forEach(function(t){console.log("item",t),t.hasOwnProperty("options")&&1==t.options.useFromAbove&&t.key==n.entityType&&(t.options.query=[n.editorEntityId])}),e.externalCallback({silent:!0,options:{filters:e.filters}})}),e.useFromAbove=function(t){t.hasOwnProperty("options")||(t.options={}),t.options.useFromAbove=!t.options.useFromAbove,e.externalCallback({silent:!0,options:{filters:e.filters}})},e.removeFilter=function(t){console.log("filter to remove is ",t),e.filters=e.filters.map(function(e){return e.name===t.name&&(e=void 0),console.log("filter in filters list",e),e}).filter(function(t){return!!t}),e.externalCallback({silent:!0,options:{filters:e.filters}})},e.getFilterType=function(t){switch(t){case"field":case"mc_field":return!0;default:return!1}}}}}}()},{"../../../../../core/services/logService":2,"../../services/currencyService":228,"../../services/fieldResolverService":236,"../../services/pricingPolicyService":279}],138:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService"),i=t("../../services/metaService"),a=t("../../services/attributeTypeService"),o=t("../../services/entityClassifierSingletonService"),r=t("../../services/bindCellService"),s=t("../../services/groupTable/groupTableReportService");e.exports=function(t){return{restrict:"AE",scope:{options:"=",items:"="},templateUrl:"views/directives/groupTable/table-body-view.html",link:function(e,c,d){function l(t,e){var n=[];return t.cellsCaptions.forEach(function(t,i){i<=e&&n.push(t.comparePattern)}),n.join("_-_")}function u(){return new Promise(function(t,n){var i,a,s=[],c=[],d=(e.items,!1),l=!1;for(i=0;i<e.items.length;i+=1)if(e.items[i].hasOwnProperty("groups"))for(a=0;a<e.items[i].groups.length;a+=1)d=!1,l=!1,"classifier"===e.items[i].groups[a].value_type&&(f.forEach(function(t){t==e.items[i].groups[a].key+"_"+e.items[i].groups[a].value&&(d=!0)}),d||(f.push(e.items[i].groups[a].key+"_"+e.items[i].groups[a].value),s.push(o.getByKey(e.entityType,e.items[i].groups[a].value)))),"field"===e.items[i].groups[a].value_type&&null!==e.items[i].groups[a].value&&(h.forEach(function(t){t==e.items[i].groups[a].key+"_"+e.items[i].groups[a].value&&(l=!0)}),l||(h.push(e.items[i].groups[a].key+"_"+e.items[i].groups[a].value),c.push(r.getByKey(e.items[i].groups[a].key,e.items[i].groups[a].value,{entityType:e.entityType}))));Promise.all(s).then(function(t){if(t.length){var n;for(n=0;n<t.length;n+=1)void 0===w[t[n].key]&&(w[t[n].key]={}),void 0!==t[n].data&&(w[t[n].key]=t[n].data)}e.readyStatus.classifiersReady=!0}).then(function(){e.$apply()}),Promise.all(c).then(function(n){if(n.length){var i;for(console.log("data",n),i=0;i<n.length;i+=1)void 0==_[n[i].key]&&(_[n[i].key]=[]),_[n[i].key].push(n[i].data)}e.readyStatus.cellsFirstReady=!0,t({status:"groups ready"})}).then(function(){e.$apply()})})}function m(){var t=[];t.push(k()),t.push(u()),Promise.all(t).then(function(){e.$apply()})}function p(){return new Promise(function(t,n){var i,a,o=[];for(i=0;i<e.items.length;i+=1)if(e.items[i].hasOwnProperty("groups"))for(a=0;a<e.items[i].groups.length;a+=1)if("field"===e.items[i].groups[a].value_type&&null!==e.items[i].groups[a].value){var s=!1;h.forEach(function(t){t==e.items[i].groups[a].key+"_"+e.items[i].groups[a].value&&(s=!0)}),s||(h.push(e.items[i].groups[a].key+"_"+e.items[i].groups[a].value),o.push(r.getByKey(e.items[i].groups[a].key,e.items[i].groups[a].value)))}Promise.all(o).then(function(n){n.forEach(function(t){t.key&&(void 0==_[t.key]&&(_[t.key]=[]),void 0!==t.data&&_[t.key].push(t.data))}),e.readyStatus.cellsSecondReady=!0,t({status:"entity field ready"})}).then(function(){e.$apply()})})}n.component("groupTableBody","initialized",1),e.externalCallback=e.options.externalCallback,e.grouping=e.options.grouping,e.columns=e.options.columns,e.entityType=e.options.entityType,e.reportIsReady=e.options.reportIsReady,e.isReport=e.options.isReport,e.readyStatus={cellsFirstReady:!1,cellsSecondReady:!1,attributeTypesReady:!1,classifiersReady:!1};var g=e.entityType,y=[],v=[],f=[],h=[],b=[],_={},w={};y=i.getBaseAttrs(),v=i.getEntityAttrs(g),setTimeout(function(){$(".g-table-section .custom-scrollbar")[0].dispatchEvent(new Event("scroll"))},1e3),e.toggleGroupFold=function(t,n){if(e.isReport){t.cellsCaptions[n].isFolded=!t.cellsCaptions[n].isFolded;var i=l(t,n),a=[];e.reportItems.forEach(function(e){var o=l(e,n);i==o&&(e.isFirstOfFolded=!1,e.cellsCaptions[n].isFolded=t.cellsCaptions[n].isFolded,a.push(e))}),a[0].isFirstOfFolded=!0,a.forEach(function(t){t.cellsCaptions.forEach(function(t,e){e>n&&(t.isFolded=!1)})})}else t.isFolded=!t.isFolded},e.itemIsFolded=function(t){var e=!0;return t.hasOwnProperty("cellsCaptions")&&1!=t.isFirstOfFolded&&t.cellsCaptions.forEach(function(t){t.hasOwnProperty("isFolded")&&1==t.isFolded&&(e=!1)}),e},e.openEntityMenu=function(t,e){t(e)},e.checkReportColumnCaption=function(t,e,n){return!(n>t.length-1)};var k=function(){return new Promise(function(t,n){var i,o=[];for(i=0;i<e.columns.length;i+=1){var s=!1;"field"==e.columns[i].value_type&&o.push(r.findEntities(e.columns[i].key,{entityType:g})),30==e.columns[i].value_type&&(b.forEach(function(t){t==e.columns[i].id&&(s=!0)}),s||(b.push(e.columns[i].id),o.push(a.getByKey(g,e.columns[i].id))))}p(),Promise.all(o).then(function(t){t.forEach(function(t){t.key?_[t.key]=t.data:_["classifier_"+t.id]=t}),e.readyStatus.attributeTypesReady=!0}).then(function(){e.$apply()})})};e.grouping&&e.grouping.length&&m(),1==e.isReport&&e.$watch("items",function(){e.reportItems=s.transformItems(e.items)}),e.reportItemsProjection=function(){return e.reportItems},e.isSubtotalHided=function(t){return!t.hasOwnProperty("report_settings")||!t.report_settings||1!=t.report_settings.hide_subtotal},e.resolveReportCellItemBackground=function(t,e,n,i){var a="";return e.hasOwnProperty("value_options")&&("area"==e.value_options.type&&(a="cell-area-bg-"+e.value_options.level),"subtotal-line"==t&&"line"==e.value_options.type&&(a="cell-line-bg-"+e.value_options.level)),a},e.resolveReportCellBackground=function(t,e,n,i){var a="";if(e.hasOwnProperty("cellsCaptions")){var o=e.cellsCaptions[i];o&&o.hasOwnProperty("level")&&o.hasOwnProperty("type")&&"empty"!==o.type&&("area"==o.type&&(a="cell-area-bg-"+o.level),"subtotal-line"==t&&"line"==o.type&&(a="cell-line-bg-"+o.level))}return a},e.resolveReportCellBorder=function(t,e,n,i){var a="";return"subtotal"==t&&(i<e.cellsCaptions.length?("Subtotal"==e.cellsCaptions[i]&&(a="r-c-border-left-border-bottom"),"Subtotal"==e.cellsCaptions[i+1]&&(a="r-c-border-left-border-right"),"Subtotal"==e.cellsCaptions[i-1]&&(a="r-c-border-right-border-bottom-border-top"),0==i&&(a="r-c-border-left-border-right")):a="r-c-border-right-border-bottom-border-top"),"normal"==t&&(a="r-c-border-right-border-bottom-border-top",i<e.cellsCaptions.length&&(a="r-c-border-left-border-right"),0==i&&(a="r-c-border-left-border-right")),"header"==t&&(a="r-c-border-right-border-bottom-border-top",i<e.cellsCaptions.length&&(a="r-c-border-left-border-right"),0==i&&(a="r-c-border-left-border-right")),a},e.checkRowSelection=function(t){return!(!t||!t.selectedRow&&!t.simpleSelect)},e.toggleSelectRow=function(t,n){1==n.simpleSelect&&(n.simpleSelect=!1),n.selectedRow=!n.selectedRow,e.isAllSelected===!0&&n.selectedRow===!1&&(e.isAllSelected=!1);var i=!0;e.items.forEach(function(t){t.hasOwnProperty("groups")?(!!t.selectedRow==!1&&(i=!1),t.items.forEach(function(t){!!t.selectedRow==!1&&(i=!1)})):!!t.selectedRow==!1&&(i=!1)}),i&&(e.isAllSelected=!0),t.stopPropagation()},e.checkReady=function(){return 1==e.readyStatus.cellsFirstReady&&1==e.readyStatus.cellsSecondReady&&1==e.readyStatus.classifiersReady&&1==e.options.reportIsReady&&1==e.readyStatus.attributeTypesReady&&(e.$parent.triggerResize(),!0)},e.$watchCollection("columns",function(){m(),1==e.isReport&&(e.reportItems=s.transformItems(e.items))}),e.$watchCollection("grouping",function(){m(),1==e.isReport&&(e.reportItems=s.transformItems(e.items))}),e.bindGroupValue=function(t){if(t.hasOwnProperty("r_entityType"))return t[t.r_entityType+"_attribute_"+t.source_name];var n="";if("classifier"===t.value_type&&e.readyStatus.cellsFirstReady&&w.hasOwnProperty(e.entityType+"_"+t.value)&&void 0!==w[e.entityType+"_"+t.value]&&w[e.entityType+"_"+t.value]&&void 0!==w[e.entityType+"_"+t.value]&&(n=w[e.entityType+"_"+t.value].name),"field"===t.value_type&&(!_.hasOwnProperty(t.key),1==e.readyStatus.cellsFirstReady&&_.hasOwnProperty(t.key)&&_[t.key]&&void 0!==_[t.key]&&_[t.key].length)){var i,a;for(i=0;i<_[t.key].length;i+=1)void 0!==t.value&&_[t.key][i].id===t.value&&(a=_[t.key][i]);a&&(n=n.hasOwnProperty("display_name")?a.display_name:n.hasOwnProperty("scheme_name")?a.scheme_name:a.name)}return"10"!=t.value_type&&"40"!=t.value_type&&"float"!=t.value_type&&"string"!=t.value_type&&"date"!=t.value_type&&"value_string"!=t.value_type&&"value_float"!=t.value_type&&"value_date"!=t.value_type||(n=t.value),n},e.bindCellSubTotal=function(t,e){var n="";if(e.hasOwnProperty("key")&&(n=t[e.key]),void 0!==n)return 20==e.value_type||"float"==e.value_type?n.toFixed(2)+"":n},e.bindCell=function(t,n){function i(e){t[n.name]==e.id?a=e:e.children.length&&e.children.forEach(i)}if(n.hasOwnProperty("r_entityType"))return t[n.r_entityType+"_attribute_"+n.source_name];if(n.hasOwnProperty("id")){if(30===n.value_type){var a;return _&&_["classifier_"+n.id]&&(_["classifier_"+n.id].classifiers.forEach(i),a)?a.display_name?a.display_name:a.name:""}return n.hasOwnProperty("columnType")&&"custom-field"==n.columnType?(c="",console.log("groupedItem",t),t.custom_fields.forEach(function(t){t.custom_field==n.id&&(c=t.value)}),c):t[n.name]}var o,r;for(o=0;o<y.length;o+=1)if(y[o].key===n.key)return t[y[o].key];for(r=0;r<v.length;r+=1)if(v[r].key===n.key){if("field"===n.value_type){var s=t[v[r].key];if(_[n.key])var c=_[n.key].filter(function(t){return t.id===s})[0];return c?"instrument"===n.key&&c.user_code?c.user_code:"price_download_scheme"===n.key?c.scheme_name:c.display_name?c.display_name:c.name:""}if("mc_field"===n.value_type){if("object_permissions_user"==n.key&&t[v[r].key].length&&"user"==e.options.permission_selected_entity){var d=[];return t[v[r].key].forEach(function(t){t.member==e.options.permission_selected_id&&(0==t.permission.indexOf("change")&&d.push("Change"),0==t.permission.indexOf("manage")&&d.push("Manage"))}),d.join(", ")}if("object_permissions_group"==n.key&&"group"==e.options.permission_selected_entity){var d=[];return t[v[r].key].forEach(function(t){t.group==e.options.permission_selected_id&&(0==t.permission.indexOf("change")&&d.push("Change"),0==t.permission.indexOf("manage")&&d.push("Manage"))}),d.join(", ")}if(t[v[r].key]&&t[v[r].key].length>=1)return"["+t[v[r].key].length+"]"}else if(null!==t[v[r].key])return 20==n.value_type||"float"==n.value_type?t[v[r].key].toFixed(2)+"":t[v[r].key]}},e.bindCellTitle=function(t,e){var n="";return t&&t.hasOwnProperty(e.key)&&(n="mc_field"===e.value_type?"["+t[e.key].length+"]":t[e.key]),n},e.rowCallback=function(t,n){e.options.editorEntityId=t.id;var i=!1;t.simpleSelect&&(i=JSON.parse(JSON.stringify(t.simpleSelect))),e.items.forEach(function(t){t.hasOwnProperty("groups")?(t.simpleSelect=!1,t.items.forEach(function(t){t.simpleSelect=!1})):t.simpleSelect=!1}),t.simpleSelect=!t.simpleSelect,1==i&&(t.simpleSelect=!1,e.options.editorEntityId=void 0),e.externalCallback({silent:!0,redraw:!1,options:{editorEntityId:e.options.editorEntityId}})},e.getAlign=function(t){switch(t.value_type){case 20:return"cell-right-align";case"float":return"cell-right-align";case 40:return"cell-center-align";default:return""}},e.deleteEntity=function(n,i){t.show({controller:"EntityViewerDeleteDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{entity:i,entityType:e.entityType}}).then(function(t){"agree"===t.status&&e.externalCallback()})},e.editEntity=function(n,i){t.show({controller:"EntityViewerEditDialogController as vm",templateUrl:"views/entity-viewer/entity-viewer-dialog-view.html",parent:angular.element(document.body),targetEvent:n,locals:{parentScope:e,entityId:i.id}}).then(function(t){t&&"agree"===t.res&&e.externalCallback()})},e.changePage=function(t){e.paginationPageCurrent=t,setTimeout(function(){e.externalCallback()},0)}}}}}()},{"../../../../../core/services/logService":2,"../../services/attributeTypeService":220,"../../services/bindCellService":223,"../../services/entityClassifierSingletonService":230,"../../services/groupTable/groupTableReportService":242,"../../services/metaService":275}],139:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/groupTable/group-table-shell-view.html",scope:{items:"=",options:"="},link:function(t,e,i){n.component("groupTable","initialized"),console.log("options12312321312",t.options),t.findSelectedFeature=function(){var e={isOpened:!1,templateUrl:""};return t.options.additionsStatus.extraFeatures.forEach(function(t){1==t.isOpened&&(e=t)}),e},t.triggerResize=function(){},1==t.options.isRootEntityViewer&&t.$watch("options.editorEntityId",function(e,n){t.$broadcast("rootEditorEntityIdDown",{editorEntityId:t.options.editorEntityId,entityType:t.options.entityType})}),t.checkAdditions=function(){return 1==t.options.additionsState&&1==t.options.isRootEntityViewer}}}}}()},{"../../../../../core/services/logService":2}],140:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/logService");e.exports=function(){return{restrict:"A",scope:{},link:function(t,e,i){n.component("groupVerticalScroll","initialized")}}}}()},{"../../../../../core/services/logService":2}],141:[function(t,e,n){!function(){"use strict";e.exports=function(t,e){return{scope:{options:"="},restrict:"AE",link:function(n,i,a){var o=t.get(n.options.editorTemplate),r=e(o)(n);$(i).append(r)}}}}()},{}],142:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restriction:"A",link:function(t,e,n){console.log("input file directive");$("input#providerConfigFile");$(e).on("change",function(){console.log("chosen file is 111",this.files)})}}}}()},{}],143:[function(t,e,n){!function(){"use strict";e.exports=function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,i,a){console.log("RESOLVER INSTRUMENT MODAL",a),$(n).on("click",function(e){e.preventDefault(),e.stopPropagation(),setTimeout(function(){$(".md-select-backdrop")[0].dispatchEvent(new Event("click"))},400),t.show({controller:"InstrumentEventActionsDialogController as vm",templateUrl:"views/dialogs/instrument-event-actions-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,clickOutsideToClose:!0,locals:{eventActions:a}}).then(function(t){"agree"===t.status&&(a.$setViewValue(t.data.item.id),a.$render(),console.log("ngModelCtrl",a))}),console.log("START MODAL!")})}}}}()},{}],144:[function(t,e,n){!function(){"use strict";e.exports=function(t){return{restrict:"A",require:"?ngModel",link:function(e,n,i,a){console.log("RESOLVER INSTRUMENT MODAL",a),$(n).on("click",function(e){e.preventDefault(),e.stopPropagation(),setTimeout(function(){$(".md-select-backdrop")[0].dispatchEvent(new Event("click"))},400),t.show({controller:"InstrumentSelectDialogController as vm",templateUrl:"views/instrument-select-dialog-view.html",parent:angular.element(document.body),targetEvent:e,preserveScope:!0,autoWrap:!0,skipHide:!0,clickOutsideToClose:!0,locals:{ngModelCtrl:a}}).then(function(t){"agree"===t.status&&(a.$setViewValue(t.data.item.id),a.$render(),console.log("ngModelCtrl",a))}),console.log("START MODAL!")})}}}}()},{}],145:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/logService"),i=t("../services/fieldResolverService"),a=t("../helpers/bindFieldsHelper"),o=t("../services/metaService"),r=t("../services/tagService");e.exports=function(t){return{scope:{item:"=",options:"="},templateUrl:"views/directives/instrument-scheme-manager-field-resolver-view.html",link:function(t,e,s){n.component("EntityViewerFieldResolverController","initialized"),t.readyStatus={content:!1,tags:!1},t.type="",n.property("field scope",t.item),n.property("field entity",t.entity),n.property("field options",t.options),t.getFieldsGrouped=function(){if(o.getFieldsWithTagGrouping().indexOf(t.item.key)!==-1){var n=t.item.key.replace("_","-");console.log("ENTITYTYPE------------------------------------------",n),r.getListByContentType(n).then(function(n){t.tags=n.results,t.groups=a.groupFieldsByTagsWithDuplicates(t.fields,t.tags),console.log("test?"),t.readyStatus.tags=!0,t.$apply(function(){setTimeout(function(){$(e).find(".md-select-search-pattern").on("keydown",function(t){t.stopPropagation()})},100)})})}},t.searchTerm="",i.getFields(t.item.key,t.options).then(function(i){n.collection("DATA",i),t.type=i.type,t.fields=i.data,t.readyStatus.content=!0,t.getFieldsGrouped(),t.$apply(function(){setTimeout(function(){$(e).find(".md-select-search-pattern").on("keydown",function(t){t.stopPropagation()})},100)})}),t.resolveSort=function(t){if(t){if(t.hasOwnProperty("name"))return t.name;if(t.hasOwnProperty("user_code"))return t.user_code;if(t.hasOwnProperty("public_name"))return t.public_name}},t.checkComplexEntityType=function(){return o.getFieldsWithTagGrouping().indexOf(t.item.key)!==-1},t.getName=function(){return t.item.options&&t.item.options.fieldName?t.item.options.fieldName:t.item.name},t.changeWatcher=function(){localStorage.setItem("entityIsChanged",!0)},t.bindFormFields=function(){var e=t.item.expression;if(e){var n,i;for(n=0;n<t.fields.length;n+=1)e==t.fields[n].id&&(i=t.fields[n]);if(t.item.options&&t.item.options.fieldsForm){var a="";return t.item.options.fieldsForm.forEach(function(e,n){n+1===t.item.options.fieldsForm.length?a+=i[e]:a=a+i[e]+" / "}),a}return i.name}return t.getName()},t.bindListFields=function(e){if(t.item.options&&t.item.options.fieldsList){var n="";return t.item.options.fieldsList.forEach(function(i,a){a+1===t.item.options.fieldsList.length?n+=e[i]:n=n+e[i]+" / "}),n}return e.name}}}}}()},{"../../../../core/services/logService":2,"../helpers/bindFieldsHelper":154,"../services/fieldResolverService":236,"../services/metaService":275,"../services/tagService":289}],146:[function(t,e,n){!function(){"use strict";var n=(t("../../../../core/services/logService"),t("../services/metaService")),i=t("../services/layoutService");e.exports=function(){return{restrict:"AE",templateUrl:"views/directives/layout-constructor-field-view.html",scope:{tab:"=",row:"=",column:"="},link:function(t,e,a){function o(){var e;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].row===t.row&&t.tab.layout.fields[e].column===t.column&&(t.item=t.tab.layout.fields[e],t.backupItem=JSON.parse(JSON.stringify(t.tab.layout.fields[e])))}function r(){var e;for(t.tab.layout.rows=t.tab.layout.rows+1,e=0;e<t.tab.layout.columns;e+=1)t.tab.layout.fields.push({row:t.tab.layout.rows,column:e+1,colspan:1,type:"empty"}),console.log("tab",t.tab)}function s(){var e,n,i,a=[];for(n=1;n<=t.tab.layout.rows;n+=1){for(i=!0,e=0;e<t.tab.layout.fields.length;e+=1)if(t.tab.layout.fields[e].row==n&&"field"===t.tab.layout.fields[e].type){i=!1;break}i&&a.push(n)}c(a)}function c(e){var n,i;for(n=t.tab.layout.rows;n>0;n-=1)for(i=e.length;i>0;i-=1)if(n===e[i]&&n-1===e[i-1]&&n!==e[0]){var a;for(a=0;a<t.tab.layout.fields.length;a+=1)t.tab.layout.fields[a].row==t.tab.layout.rows&&(t.tab.layout.fields.splice(a,1),a-=1);t.tab.layout.rows=t.tab.layout.rows-1}}function d(){var e,n,i,a,o;for(e=0;e<t.attrs.length;e+=1)if(t.attrs[e].id&&t.item.id)t.attrs[e].id===t.item.id&&(t.item.attribute=t.attrs[e],t.backupItem.attribute=t.attrs[e]);else{for(n=0;n<t.baseAttrs.length;n+=1)t.baseAttrs[n].name===t.item.name&&(t.item.attribute=t.baseAttrs[n],t.backupItem.attribute=t.baseAttrs[n]);for(a=0;a<t.entityAttrs.length;a+=1)t.entityAttrs[a].name===t.item.name&&(t.item.attribute=t.entityAttrs[a],t.backupItem.attribute=t.entityAttrs[a]);for(o=0;o<t.userInputs.length;o+=1)t.userInputs[o].name===t.item.name&&(t.item.attribute=t.userInputs[o],t.backupItem.attribute=t.userInputs[o]);if(!t.item.attribute)for(i=0;i<t.layoutAttrs.length;i+=1)t.layoutAttrs[i].name===t.item.name&&(t.item.attribute=t.layoutAttrs[i],t.backupItem.attribute=t.layoutAttrs[i])}}var l=n.getTypeCaptions();t.item={column:t.column,row:t.row,colspan:1,editMode:!1},t.specialOptionTemplate="",o(),t.fieldType=null,t.editMode=!1,t.entityType=t.$parent.vm.entityType,t.attrs=t.$parent.vm.attrs||[],t.baseAttrs=t.$parent.vm.baseAttrs||[],t.entityAttrs=t.$parent.vm.entityAttrs||[],t.userInputs=t.$parent.vm.userInputs||[],t.layoutAttrs=i.getLayoutAttrs();var u=[];t.baseAttrs.forEach(function(t){u.push(t.key)});var m=[];t.entityAttrs.forEach(function(t){m.push(t.key)});var p=[];t.layoutAttrs.forEach(function(t){p.push(t.key)});var g=t.$parent.vm.tabs;t.cancel=function(){t.item.name||t.item.id?(t.item=t.backupItem,t.item.colspan=t.backupItem.colspan):(t.item.attr=null,t.item.colspan=1),t.item.editMode=!1},t.toggleEditMode=function(){var e;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].editMode=!1;t.item.editMode=!0},t.saveField=function(){var e;for(e=0;e<t.tab.layout.fields.length;e+=1)t.tab.layout.fields[e].row===t.item.row&&t.tab.layout.fields[e].column===t.item.column&&(t.item.attribute.hasOwnProperty("id")?(t.tab.layout.fields[e].attribute_class="attr",t.tab.layout.fields[e].id=t.item.attribute.id):(t.tab.layout.fields[e].name=t.item.attribute.name,u.indexOf(t.item.attribute.key)!==-1?t.tab.layout.fields[e].attribute_class="baseAttr":m.indexOf(t.item.attribute.key)!==-1?t.tab.layout.fields[e].attribute_class="entityAttr":p.indexOf(t.item.attribute.key)!==-1?t.tab.layout.fields[e].attribute_class="decorationAttr":t.tab.layout.fields[e].attribute_class="userInput"),t.tab.layout.fields[e].type="field",t.tab.layout.fields[e].colspan=t.item.colspan,t.tab.layout.fields[e].attribute=t.item.attribute,t.tab.layout.fields[e].row==t.tab.layout.rows&&r());t.item.editMode=!1},t.getCols=function(){var e,n=1,i=[1];for(e=t.column;e<t.tab.layout.columns;e+=1)n+=1,i.push(n);return i},t.changeModel=function(e){t.item.attribute=e},t.deleteField=function(){var e;for(t.item.id=null,t.item.key=null,t.item.attribute=null,t.item.attribute_class=null,t.item.disabled=!1,t.item.options=null,t.item.colspan=1,e=0;e<t.tab.layout.fields.length;e+=1)if(t.tab.layout.fields[e].row==t.item.row&&t.tab.layout.fields[e].column==t.item.column){t.tab.layout.fields[e].id=null,t.tab.layout.fields[e].key=null,t.tab.layout.fields[e].attribute_class=null,t.tab.layout.fields[e].disabled=!1,t.tab.layout.fields[e].colspan=1,t.tab.layout.fields[e].name="",t.tab.layout.fields[e].type="empty",s();break}},d(),t.findAttrsLeft=function(){t.attrs.forEach(function(t){t.disabled=!1,g.forEach(function(e){e.layout.fields.forEach(function(e){"field"===e.type&&t.id===e.id&&(t.disabled=!0)})})}),t.baseAttrs.forEach(function(t){t.disabled=!1,g.forEach(function(e){e.layout.fields.forEach(function(e){"field"===e.type&&t.key===e.attribute.key&&(t.disabled=!0,console.log("baseAttr",t))})})}),t.entityAttrs.forEach(function(t){t.disabled=!1,g.forEach(function(e){e.layout.fields.forEach(function(e){"field"===e.type&&t.key===e.attribute.key&&(t.disabled=!0)})})}),t.userInputs.forEach(function(t){t.disabled=!1,g.forEach(function(e){e.layout.fields.forEach(function(e){"field"===e.type&&t.key===e.attribute.key&&(t.disabled=!0)})})})},t.bindTypeByValueType=function(t){var e;for(e=0;e<l.length;e+=1)if(t===l[e].value)return l[e].caption_name},t.findSelected=function(t,e){return!(!t||!e||t.join(" ")!==e.join(" "))},t.copyFromValue=function(t){return t.id?JSON.stringify({id:t.id}):JSON.stringify({key:t.key})},t.findStringAttributes=function(){var e,i,a,o=[];for(i=0;i<t.attrs.length;i+=1)10===t.attrs[i].value_type&&o.push(t.attrs[i]);if(n.getEntitiesWithoutBaseAttrsList().indexOf(t.entityType)===-1)for(e=0;e<t.baseAttrs.length;e+=1)10===t.baseAttrs[e].value_type&&o.push(t.baseAttrs[e]);for(a=0;a<t.entityAttrs.length;a+=1)10===t.entityAttrs[a].value_type&&o.push(t.entityAttrs[a]);return o},t.checkForSpecialOptions=function(){if(t.item.attribute){if("Notes"===t.item.attribute.name)return t.specialOptionTemplate="views/attribute-options/notes.html",!0;if(10==t.item.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/string.html",!0;if("field"===t.item.attribute.value_type&&n.getRestrictedEntitiesWithTypeField().indexOf(t.item.attribute.key)===-1)return t.specialOptionTemplate="views/attribute-options/field.html",!0;if(40==t.item.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/date.html",!0;if(20===t.item.attribute.value_type||"float"===t.item.attribute.value_type)return t.specialOptionTemplate="views/attribute-options/number.html",!0;if("decoration"===t.item.attribute.value_type&&"layoutLineWithLabel"===t.item.attribute.key)return t.specialOptionTemplate="views/attribute-options/labeled-line.html",!0}return!1}}}}}()},{"../../../../core/services/logService":2,"../services/layoutService":268,"../services/metaService":275}],147:[function(t,e,n){!function(){"use strict";t("../../../../core/services/logService");e.exports=function(){return{restrict:"A",scope:{rows:"=",columnsNames:"=",columns:"="},templateUrl:"views/directives/members-groups-table-view.html"}}}()},{"../../../../core/services/logService":2}],148:[function(t,e,n){!function(){"use strict";e.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-link-view.html",link:function(t,e){var n=e.parent().controller();t.focusSection=function(){$(".side-nav-dropdown").remove(),n.autoFocusContent=!0}}}}}()},{}],149:[function(t,e,n){!function(){"use strict";e.exports=function(){return{scope:{section:"="},templateUrl:"views/directives/menu-toggle-view.html",link:function(t,e){var n=e.parent().controller();t.isOpen=function(){return n.isOpen(t.section)},t.toggle=function(e){n.toggleOpen(e,t.section)}}}}}()},{}],150:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"E",scope:{allOptions:"=",selectedOptions:"="},templateUrl:"views/directives/two-fields-options-view.html",link:function(t,e,n){t.highlightOption=function(t){var e=t.currentTarget;$(e).hasClass("active-option")?$(e).removeClass("active-option"):$(e).addClass("active-option")},t.switchOptions=function(e,n,i){var a=$(e);a&&a.length>0&&a.each(function(){var e=$(this),a=parseInt(e.data("member-group-id"));n.map(function(e,o){e.id===a&&(n.splice(o,1),i.push(e),console.log("after select",t.allOptions,t.selectedOptions))})})}}}}}()},{}],151:[function(t,e,n){!function(){"use strict";e.exports=function(){return{restrict:"AE",scope:{position:"@"},require:"?ngModel",template:'<div class="pick-me-up"><input type="text" value=""></div>',link:function(t,e,n,i){var a=$(e).find("input"),o="right";t.position&&(o=t.position),setTimeout(function(){i.$modelValue?($(e).parent().addClass("md-input-has-value"),a.pickmeup({date:new Date(i.$modelValue),position:o,hide_on_select:!0,format:"Y-m-d",change:function(){i.$setViewValue(this.value)}})):a.pickmeup({position:o,hide_on_select:!0,format:"Y-m-d",change:function(){i.$setViewValue(this.value)}}),t.$watch(function(){i.$modelValue&&a.val(moment(new Date(i.$modelValue)).format("YYYY-MM-DD"))}),t.$apply()},0)}}}}()},{}],152:[function(t,e,n){!function(){"use strict";e.exports=function(t){return function(t,e,n,i){if(console.log("value",t),!t)return"";var a=t.$$unwrapTrustedValue();if(n=parseInt(n,10),!n)return t;if(a.length<=n)return a;if(a=a.substr(0,n),e){var o=a.lastIndexOf(" ");o!=-1&&("."!=a.charAt(o-1)&&","!=a.charAt(o-1)||(o-=1),a=a.substr(0,o))}return a+(i||" …")}}}()},{}],153:[function(t,e,n){!function(){"use strict";e.exports=function(t){return function(e){if(e)return t.trustAsHtml(e.toString())}}}()},{}],154:[function(t,e,n){!function(){"use strict";var t=function(t,e){return e&&e.length&&e.forEach(function(e){e.fields=[],t&&t.length&&t.forEach(function(t){t.tags.forEach(function(n){n==e.id&&e.fields.push(t)})})}),[{name:"No group",fields:t}]};e.exports={groupFieldsByTagsWithDuplicates:t}}()},{}],155:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(){return window.fetch(o+"accounts/account-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(i.configureUrl(o+"accounts/account/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"accounts/account/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t){return window.fetch(o+"accounts/account/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t,e){return window.fetch(o+"accounts/account/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"
},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t){return window.fetch(o+"accounts/account/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},m=function(t){return window.fetch(o+"accounts/account/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getTypeList:r,getList:s,getByKey:c,create:d,update:l,deleteByKey:m,updateBulk:u}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],156:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"accounts/account-type/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"accounts/account-type/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"accounts/account-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"accounts/account-type/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"accounts/account-type/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t){return window.fetch(o+"accounts/account-type/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:u,updateBulk:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],157:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=(t("../services/configureRepositoryUrlService"),t("../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"instruments/accrual-calculation-model/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],158:[function(t,e,n){!function(){"use strict";function n(t){switch(t){case"counterparty":return"counterparties/"+t+"-attribute-type/";case"responsible":return"counterparties/"+t+"-attribute-type/";case"currency":return"currencies/"+t+"-attribute-type/";default:return t+"s/"+t+"-attribute-type/"}}var i=t("../../../../core/services/cookieService"),a=(t("../services/configureRepositoryUrlService"),t("../services/metaRestrictionsService")),o=t("../services/baseUrlService"),r=o.resolve(),s=function(t){return a.getEntitiesWithoutDynamicAttrsList().indexOf(t)!==-1?new Promise(function(t){t({results:[]})}):window.fetch(r+n(t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(r+n(t)+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(r+n(t),{method:"POST",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t,e,a){return window.fetch(r+n(t)+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t,e){return window.fetch(r+n(t)+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(e,n){console.log("data",t),409===t.status&&e({status:"conflict"}),e({status:"success"})})})};e.exports={getList:s,getByKey:c,create:d,update:l,deleteByKey:u}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224,"../services/metaRestrictionsService":274}],159:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"audit/history/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"audit/history/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"audit/history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"audit/history/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"audit/history/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],160:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"counterparties/counterparty-group/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"counterparties/counterparty-group/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"counterparties/counterparty-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"counterparties/counterparty-group/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"counterparties/counterparty-group/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],161:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"counterparties/counterparty/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"counterparties/counterparty/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"counterparties/counterparty/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"counterparties/counterparty/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"counterparties/counterparty/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t){return window.fetch(o+"counterparties/counterparty/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:u,updateBulk:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],162:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"currencies/currency-history/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"currencies/currency-history/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"currencies/currency-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"currencies/currency-history/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"currencies/currency-history/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],163:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/baseUrlService"),a=i.resolve(),o=function(t){var e=200;return window.fetch(a+"currencies/currency/?page_size="+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"currencies/currency/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"currencies/currency/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},c=function(t,e){return window.fetch(a+"currencies/currency/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t){return window.fetch(a+"currencies/currency/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:o,getByKey:r,create:s,update:c,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],164:[function(t,e,n){!function(){"use strict";function n(t){switch(t){case"counterparty":return"counterparties/"+t+"-classifier/";case"responsible":return"counterparties/"+t+"-classifier/";default:return t+"s/"+t+"-classifier/"}}var i=t("../../../../core/services/cookieService"),a=(t("../services/configureRepositoryUrlService"),t("../services/metaRestrictionsService")),o=t("../services/baseUrlService"),r=o.resolve(),s=function(t){return a.getEntitiesWithoutDynamicAttrsList().indexOf(t)!==-1?new Promise(function(t){t({results:[]})}):window.fetch(r+n(t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(r+n(t)+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(r+n(t),{method:"POST",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t,e,a){return window.fetch(r+n(t)+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(a)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t,e){return window.fetch(r+n(t)+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":i.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(e,n){console.log("data",t),409===t.status&&e({status:"conflict"}),e({status:"success"})})})};e.exports={getList:s,getByKey:c,create:d,update:l,deleteByKey:u}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224,"../services/metaRestrictionsService":274}],165:[function(t,e,n){!function(){"use strict";var n=t("../services/baseUrlService"),i=n.resolve(),a=function(){return window.fetch(i+"instruments/daily-pricing-model/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},o=function(){return window.fetch(i+"instruments/payment-size-detail/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(){return new Promise(function(t,e){t([{value:"1",name:"Buy"},{value:"2",name:"Sell"},{value:"3",name:"FX Trade"},{value:"4",name:"Instrument PL"},{value:"5",name:"Transaction PL"},{value:"6",name:"Transfer"},{value:"7",name:"FX Transfer"},{value:"8",name:"Cash-Inflow"},{value:"9",name:"Cash-Outflow"}])})};e.exports={getDailyPricingModelChoices:a,getPaymentSizeDetailChoices:o,getTransactionClassList:r}}()},{"../services/baseUrlService":222}],166:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/baseUrlService"),a=i.resolve(),o=function(){return window.fetch(a+"instruments/generated-event/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"instruments/generated-event/"+t.eventId+"/book/?action="+t.actionId,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(a+"instruments/generated-event/"+t.eventId+"/book/?action="+t.actionId,{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})};e.exports={getList:o,getEventAction:r,putEventAction:s}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],167:[function(t,e,n){!function(){"use strict";var n=(t("../../../../core/services/cookieService"),t("../services/configureRepositoryUrlService"),t("../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"import/instruments/instrument/mapping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getInstrumentMappingList:a}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],168:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/accrual-calculation-model-mapping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"import/accrual-calculation-model-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"import/accrual-calculation-model-mapping/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(a+"import/accrual-calculation-model-mapping/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},d=function(t){return window.fetch(a+"import/accrual-calculation-model-mapping/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],169:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/currency-mapping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"import/currency-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"import/currency-mapping/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(a+"import/currency-mapping/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},d=function(t){return window.fetch(a+"import/currency-mapping/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],170:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/provider/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"import/config/?provider="+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(a+"import/config/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken")},body:e}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})};e.exports={getList:o,getConfig:r,setConfig:s}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],171:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(t){return window.fetch(a+"import/instrument/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})};e.exports={startImport:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],172:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/configureRepositoryUrlService"),a=t("../../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"import/price-download-scheme/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"import/price-download-scheme/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"import/price-download-scheme/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(o+"import/price-download-scheme/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){return window.fetch(o+"import/price-download-scheme/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],173:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(t){return window.fetch(a+"import/pricing/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})};e.exports={create:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],174:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/instrument-attribute-value-mapping/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"import/instrument-attribute-value-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"import/instrument-attribute-value-mapping/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(a+"import/instrument-attribute-value-mapping/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},d=function(t){return window.fetch(a+"import/instrument-attribute-value-mapping/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],175:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/periodicity-mapping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"import/periodicity-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"import/periodicity-mapping/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(a+"import/periodicity-mapping/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},d=function(t){return window.fetch(a+"import/periodicity-mapping/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],176:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(t){return window.fetch(a+"import/instrument-scheme/?provider"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"import/instrument-scheme/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,
status:t.status})})})})},s=function(t){return window.fetch(a+"import/instrument-scheme/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(a+"import/instrument-scheme/"+t+"/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t){return window.fetch(a+"import/instrument-scheme/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,create:r,getByKey:s,update:c,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],177:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"import/instrument-type-mapping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"import/instrument-type-mapping/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"import/instrument-type-mapping/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(a+"import/instrument-type-mapping/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},d=function(t){return window.fetch(a+"import/instrument-type-mapping/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o,getByKey:s,create:r,update:c,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],178:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=(t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),a=i.resolve(),o=function(t){return window.fetch(a+"import/pricing-automated-schedule/0/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},r=function(){return window.fetch(a+"import/pricing-automated-schedule/0/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={updateSchedule:o,getSchedule:r}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],179:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/cookieService"),t("../../services/configureRepositoryUrlService"),t("../../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"import/accrual-schedule-download-method/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},o=function(){return window.fetch(i+"import/factor-schedule-download-method/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getAccrualScheduleDownloadMethodList:a,getFactorScheduleDownloadMethodList:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],180:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=(t("../services/configureRepositoryUrlService"),t("../services/baseUrlService")),a=i.resolve(),o=function(){return window.fetch(a+"instruments/periodicity/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],181:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"instruments/instrument/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"instruments/instrument/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/instrument/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"instruments/instrument/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"instruments/instrument/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t){return window.fetch(o+"instruments/instrument/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:u,updateBulk:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],182:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/baseUrlService"),a=i.resolve(),o=function(){return window.fetch(a+"instruments/instrument-type/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"instruments/instrument-type/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"instruments/instrument-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},c=function(t,e){return window.fetch(a+"instruments/instrument-type/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t){return window.fetch(a+"instruments/instrument-type/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:o,getByKey:r,create:s,update:c,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],183:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/configureRepositoryUrlService"),a=t("../../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"instruments/instrument-attribute-type/",t),{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){var e="?value_type="+t[0];return window.fetch(o+"instruments/instrument-attribute-type/"+e+"&show_classifiers=1",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/instrument-attribute-type/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t){return window.fetch(o+"instruments/instrument-attribute-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},l=function(t,e){return window.fetch(o+"instruments/instrument-attribute-type/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},u=function(t){return window.fetch(o+"instruments/instrument-attribute-type/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getListByAttributeType:s,getByKey:c,create:d,update:l,deleteByKey:u}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],184:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/configureRepositoryUrlService"),a=t("../../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"instruments/instrument-class/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"instruments/instrument-class/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/instrument-class/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(o+"instruments/instrument-class/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){return window.fetch(o+"instruments/instrument-class/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],185:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/configureRepositoryUrlService"),a=t("../../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"instruments/daily-pricing-model/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"instruments/daily-pricing-model/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/daily-pricing-model/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(o+"instruments/daily-pricing-model/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){return window.fetch(o+"instruments/daily-pricing-model/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],186:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/configureRepositoryUrlService"),a=t("../../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"instruments/event-schedule-config/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"instruments/event-schedule-config/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/event-schedule-config/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(o+"instruments/event-schedule-config/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"instruments/event-schedule-config/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],187:[function(t,e,n){!function(){"use strict";var n=(t("../../../../../core/services/cookieService"),t("../../services/configureRepositoryUrlService")),i=t("../../services/baseUrlService"),a=i.resolve(),o=function(t){return window.fetch(n.configureUrl(a+"instruments/payment-size-detail/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],188:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/baseUrlService"),a=i.resolve(),o=function(t,e){return window.fetch(a+"instruments/instrument/recalculate-prices-accrued-price/?date_0="+t+"&date_1="+e,{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={recalculate:o}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222}],189:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/baseUrlService"),a=i.resolve(),o=function(t){var e="";return e="members"===t?"users/member/":"users/group/",window.fetch(a+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t,e){var n="";return n="members"===t?"users/member/":"users/group/",window.fetch(a+n+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t,e){var i="";return i="members"===t?"users/member/":"users/group/",console.log("url is",a+i),window.fetch(a+i,{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},c=function(t,e,i){var o="";return o="members"===t?"users/member/":"users/group/",window.fetch(a+o+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){var i="";return i="members"===t?"users/member/":"users/group/",window.fetch(a+i+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:o,getMemberOrGroupByKey:r,create:s,update:c,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],190:[function(t,e,n){!function(){"use strict";var t=function(){return[{name:"Account",entity:"account",key:"accounts.account"},{name:"Counterparty",entity:"counterparty",key:"counterparties.counterparty"},{name:"Responsible",entity:"responsible",key:"counterparties.responsible"},{name:"Currency",entity:"currency",key:"currencies.currency"},{name:"Instrument",entity:"instrument",key:"instruments.instrument"},{name:"Portfolio",entity:"portfolio",key:"portfolios.portfolio"},{name:"Instrument Type",entity:"instrument-type",key:"instruments.instrumenttype"},{name:"Strategy 1",entity:"strategy-1",key:"strategies.strategy1"},{name:"Strategy 2",entity:"strategy-2",key:"strategies.strategy2"},{name:"Strategy 3",entity:"strategy-3",key:"strategies.strategy3"},{name:"Daily pricing model",entity:"daily-pricing-model",key:"instruments.dailypricingmodel"},{name:"Payment size detail",entity:"payment-size-detail",key:"instruments.paymentsizedetail"},{name:"Price download scheme",entity:"price-download-scheme",key:"integrations.pricedownloadscheme"}]},n=function(){return[{name:"Account Type",entity:"type",key:"accounts.accounttype"},{name:"Account",entity:"account",key:"accounts.account"},{name:"Counterparty",entity:"counterparty",key:"counterparties.counterparty"},{name:"Responsible",entity:"responsible",key:"counterparties.responsible"},{name:"Currency",entity:"currency",key:"currencies.currency"},{name:"Instrument",entity:"instrument",key:"instruments.instrument"},{name:"Portfolio",entity:"portfolio",key:"portfolios.portfolio"},{name:"Thread",entity:"thread",key:"chats.thread"},{name:"Instrument Type",entity:"instrument-type",key:"instruments.instrumenttype"},{name:"Transaction Type",entity:"transaction-type",key:"transactions.transactiontype"},{name:"Transaction Type Group",entity:"transaction-type-group",key:"transactions.transactiontypegroup"},{name:"Strategy 1",entity:"strategy-1",key:"strategies.strategy1"},{name:"Strategy 2",entity:"strategy-2",key:"strategies.strategy2"},{name:"Strategy 3",entity:"strategy-3",key:"strategies.strategy3"},{name:"Thread group",entity:"thread-group",key:"chats.threadgroup"},{name:"Counterparty group",entity:"counterparty-group",key:"counterparties.counterpartygroup"},{name:"Responsible group",entity:"responsible-group",key:"counterparties.responsiblegroup"},{name:"Strategy 1 group",entity:"strategy-1-group",key:"strategies.strategy1group"},{name:"Strategy 2 group",entity:"strategy-2-group",key:"strategies.strategy2group"},{name:"Strategy 3 group",entity:"strategy-3-group",key:"strategies.strategy3group"},{name:"Strategy 1 subgroup",entity:"strategy-1-subgroup",key:"strategies.strategy1subgroup"},{name:"Strategy 2 subgroup",entity:"strategy-2-subgroup",key:"strategies.strategy2subgroup"},{name:"Strategy 3 subgroup",entity:"strategy-3-subgroup",key:"strategies.strategy3subgroup"}]},i=function(){return[{name:"Account Type",entity:"account-type",key:"accounts.accounttype"},{name:"Account",entity:"account",key:"accounts.account"},{name:"Counterparty",entity:"counterparty",key:"counterparties.counterparty"},{name:"Responsible",entity:"responsible",key:"counterparties.responsible"},{name:"Currency",entity:"currency",key:"currencies.currency"},{name:"Currency history",entity:"currency-history",key:"currencies.currencyhistory"},{name:"Instrument",entity:"instrument",key:"instruments.instrument"},{name:"Pricing Policy",entity:"pricing-policy",key:"instruments.pricingpolicy"},{name:"Price History",entity:"price-history",key:"instruments.pricehistory"},{name:"Portfolio",entity:"portfolio",key:"portfolios.portfolio"},{name:"Instrument Type",entity:"instrument-type",key:"instruments.instrumenttype"},{name:"Transaction",entity:"transaction",key:"transactions.transaction"},{name:"Transaction Type",entity:"transaction-type",key:"transactions.transactiontype"},{name:"Transaction Type Group",entity:"transaction-type-group",key:"transactions.transactiontypegroup"},{name:"Counterparty group",entity:"counterparty-group",key:"counterparties.counterpartygroup"},{name:"Responsible group",entity:"responsible-group",key:"counterparties.responsiblegroup"},{name:"Strategy 1",entity:"strategy-1",key:"strategies.strategy1"},{name:"Strategy 2",entity:"strategy-2",key:"strategies.strategy2"},{name:"Strategy 3",entity:"strategy-3",key:"strategies.strategy3"},{name:"Strategy 1 group",entity:"strategy-1-group",key:"strategies.strategy1group"},{name:"Strategy 2 group",entity:"strategy-2-group",key:"strategies.strategy2group"},{name:"Strategy 3 group",entity:"strategy-3-group",key:"strategies.strategy3group"},{name:"Strategy 1 subgroup",entity:"strategy-1-subgroup",key:"strategies.strategy1subgroup"},{name:"Strategy 2 subgroup",entity:"strategy-2-subgroup",key:"strategies.strategy1subgroup"},{name:"Strategy 3 subgroup",entity:"strategy-3-subgroup",key:"strategies.strategy1subgroup"},{name:"Tag",entity:"tag",key:"tags.tag"},{name:"Balance report",entity:"balance-report",key:"reports.balancereport"},{name:"P&L report",entity:"pnl-report",key:"reports.plreport"},{name:"Transaction report",entity:"transaction-report",key:"reports.transactionreport"},{name:"Cash flow projection report",entity:"cash-flow-projection-report",key:"reports.cashflowreport"},{name:"Performance report",entity:"performance-report",key:"reports.performancereport"},{name:"Transaction",entity:"complex-transaction",key:"transactions.complextransaction"}]};e.exports={getListForTags:n,getListForUi:i,getListForTransactionTypeInputs:t}}()},{}],191:[function(t,e,n){!function(){"use strict";var n=(t("../../../../core/services/cookieService"),t("../services/configureRepositoryUrlService"),t("../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"transactions/event-class/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:a}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],192:[function(t,e,n){!function(){"use strict";var n=(t("../../../../core/services/cookieService"),t("../services/configureRepositoryUrlService"),t("../services/baseUrlService")),i=n.resolve(),a=function(){return window.fetch(i+"transactions/notification-class/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={getList:a}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],193:[function(t,e,n){!function(){"use strict";var t=function(){return["transaction","price-history","currency-history","currency","complex-transaction","counterparty-group","responsible-group"]};e.exports={getEntitiesWithDisabledPermissions:t}}()},{}],194:[function(t,e,n){!function(){"use strict";var t=function(){return window.fetch("portal/content/json/menu.json").then(function(t){return t.json()})},n=function(){return[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"notes",name:"Notes",value_type:10}]},i=function(){return["price-history","currency-history","transaction","complex-transaction","transaction-report","cash-flow-projection-report","performance-report","balance-report","pnl-report","audit-transaction","audit-instrument"]},a=function(){return["price-history","currency-history","transaction","pricing-policy","strategy-1","strategy-2","strategy-3","strategy-1-group","strategy-2-group","strategy-3-group","strategy-1-subgroup","strategy-2-subgroup","strategy-3-subgroup","audit-transaction","audit-instrument"]},o=function(t){var e={portfolio:[{key:"user_code",name:"User code",value_type:10},{key:"accounts",name:"Accounts",value_type:"mc_field"},{key:"responsibles",name:"Responsibles",value_type:"mc_field"},{key:"counterparties",name:"Counterparties",value_type:"mc_field"},{key:"transaction_types",name:"Transaction types",value_type:"mc_field"}],"audit-transaction":[{key:"date_formatted",name:"Date",value_type:10},{key:"username",name:"Member",value_type:10},{key:"field_name",name:"Field",value_type:10},{key:"old_value",name:"Old value",value_type:10},{key:"value",name:"New value",value_type:10},{key:"message",name:"Message",value_type:10}],"audit-instrument":[{key:"date_formatted",name:"Date",value_type:10},{key:"username",name:"Member",value_type:10},{key:"field_name",name:"Field",value_type:10},{key:"old_value",name:"Old value",value_type:10},{key:"value",name:"New value",value_type:10},{key:"message",name:"Message",value_type:10}],account:[{key:"user_code",name:"User code",value_type:10},{key:"portfolios",name:"Portfolios",value_type:"mc_field"},{key:"type",name:"Type",value_type:"field"},{key:"public_name",name:"Public name",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],tag:[{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"content_types",name:"Content Types",value_type:"mc_field"}],"account-type":[{key:"public_name",name:"Public name",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"show_transaction_details",name:"Show transaction details",value_type:"boolean"},{key:"transaction_details_expr",name:"Transaction details expr",value_type:10},{key:"tags",name:"Tags",value_type:"mc_field"}],counterparty:[{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"portfolios",name:"Portfolios",value_type:"mc_field"}],"counterparty-group":[{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10}],responsible:[{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"portfolios",name:"Portfolios",value_type:"mc_field"}],"responsible-group":[{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10}],"pricing-policy":[{key:"expr",name:"Expression",value_type:10},{key:"user_code",name:"User code",value_type:10}],"instrument-type":[{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"is_active",name:"Is active",value_type:"boolean"},{key:"instrument_class",name:"Instrument class",value_type:"field"},{key:"one_off_event",name:"One off event",value_type:"field"},{key:"regular_event",name:"Regular event",value_type:"field"},{key:"factor_same",name:"Factor same",value_type:"field"},{key:"factor_up",name:"Factor up",value_type:"field"},{key:"factor_down",name:"Factor down",value_type:"field"},{key:"tags",name:"Tags",value_type:"mc_field"}],instrument:[{key:"user_code",name:"User code",value_type:10},{key:"instrument_type",name:"Instrument type",value_type:"field"},{key:"is_active",name:"Is active",value_type:"boolean"},{key:"reference_for_pricing",name:"Reference for pricing",value_type:10},{key:"price_download_scheme",name:"Price download scheme",value_type:"field"},{key:"pricing_currency",name:"Pricing currency",value_type:"field"},{key:"price_multiplier",name:"Price multiplier",value_type:"float"},{key:"accrued_currency",name:"Accrued currency",value_type:"field"},{key:"maturity_date",name:"Maturity date",value_type:40},{key:"accrued_multiplier",name:"Accrued multiplier",value_type:"float"},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"payment_size_detail",name:"Payment size detail",value_type:"field"},{key:"default_price",name:"Default price",value_type:"float"},{key:"default_accrued",name:"Default accrued",value_type:"float"},{key:"user_text_1",name:"User text 1",value_type:10},{key:"user_text_2",name:"User text 2",value_type:10},{key:"user_text_3",name:"User text 3",value_type:10},{key:"object_permissions_user",name:"Users permissions",value_type:"mc_field"},{key:"object_permissions_group",name:"Groups permissions",value_type:"mc_field"}],transaction:[{key:"transaction_code",name:"Transaction Code",value_type:20},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"position_size_with_sign",name:"Position Size with sign",value_type:"float"},{key:"settlement_currency",name:"Settlement currency",
value_type:"field"},{key:"cash_consideration",name:"Cash consideration",value_type:"float"},{key:"principal_with_sign",name:"Principal with sign",value_type:"float"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"accounting_date",name:"Accounting date",value_type:40},{key:"cash_date",name:"Cash date",value_type:40},{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"strategy1_position",name:"Strategy1 position",value_type:"field"},{key:"strategy1_cash",name:"Strategy1 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy2 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy2 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy3 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy3 cash",value_type:"field"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"is_locked",name:"Is locked",value_type:"boolean"},{key:"is_canceled",name:"Is canceled",value_type:"boolean"},{key:"factor",name:"Factor",value_type:"float"},{key:"principal_amount",name:"Principal amount",value_type:"float"},{key:"carry_amount",name:"Carry amount",value_type:"float"},{key:"overheads",name:"overheads",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"}],"transaction-type-group":[{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10}],"transaction-type":[{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"},{key:"display_expr",name:"Display Expression",value_type:10},{key:"instrument_types",name:"Instrument types",value_type:"mc_field"},{key:"portfolios",name:"Portfolios",value_type:"mc_field"},{key:"tags",name:"Tags",value_type:"mc_field"}],currency:[{key:"reference_for_pricing",name:"Reference for pricing",value_type:10},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"price_download_scheme",name:"Price download scheme",value_type:"field"}],"currency-history":[{key:"currency",name:"Currency",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"fx_rate",name:"Fx rate",value_type:"float"},{key:"pricing_policy",name:"Pricing policy",value_type:"field"}],"price-history":[{key:"instrument",name:"Instrument",value_type:"field"},{key:"date",name:"Date",value_type:40},{key:"pricing_policy",name:"Pricing policy",value_type:"field"},{key:"principal_price",name:"Principal price",value_type:"float"},{key:"accrued_price",name:"Accrued price",value_type:"float"}],"strategy-1":[{key:"user_code",name:"User code",value_type:10},{key:"subgroup",name:"Sub Group",value_type:"field"}],"strategy-2":[{key:"user_code",name:"User code",value_type:10},{key:"subgroup",name:"Sub Group",value_type:"field"}],"strategy-3":[{key:"user_code",name:"User code",value_type:10},{key:"subgroup",name:"Sub Group",value_type:"field"}],"strategy-1-subgroup":[{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"}],"strategy-2-subgroup":[{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"}],"strategy-3-subgroup":[{key:"user_code",name:"User code",value_type:10},{key:"group",name:"Group",value_type:"field"}],"strategy-1-group":[{key:"user_code",name:"User code",value_type:10}],"strategy-2-group":[{key:"user_code",name:"User code",value_type:10}],"strategy-3-group":[{key:"user_code",name:"User code",value_type:10}],"balance-report":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"account",name:"Account",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"currency",name:"Currency",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"strategy-1",name:"Strategy 1",value_type:"field"},{key:"strategy-2",name:"Strategy 2",value_type:"field"},{key:"strategy-3",name:"Strategy 3",value_type:"field"},{key:"position_size",name:"Position size",value_type:"float"},{key:"market_value",name:"Market value",value_type:"float"},{key:"exposure",name:"Exposure",value_type:"float"},{key:"market_value_percent",name:"Market value %",value_type:"float"},{key:"exposure_percent",name:"Exposure %",value_type:"float"}],"pnl-report":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short Name",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"account",name:"Account",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"currency",name:"Currency",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"strategy-1",name:"Strategy 1",value_type:"field"},{key:"strategy-2",name:"Strategy 2",value_type:"field"},{key:"strategy-3",name:"Strategy 3",value_type:"field"},{key:"carry",name:"Carry",value_type:"float"},{key:"carry_closed",name:"Carry closed",value_type:"float"},{key:"carry_fixed",name:"Carry fixed",value_type:"float"},{key:"carry_fixed_closed",name:"Carry fixed closed",value_type:"float"},{key:"carry_fixed_opened",name:"Carry fixed opened",value_type:"float"},{key:"carry_fx",name:"Carry FX",value_type:"float"},{key:"carry_fx_closed",name:"Carry FX closed",value_type:"float"},{key:"carry_fx_opened",name:"Carry FX opened",value_type:"float"},{key:"carry_opened",name:"Carry opened",value_type:"float"},{key:"overheads",name:"Overheads",value_type:"float"},{key:"overheads_closed",name:"Overheads closed",value_type:"float"},{key:"overheads_fixed",name:"Overheads fixed",value_type:"float"},{key:"overheads_fixed_closed",name:"Overheads fixed closed",value_type:"float"},{key:"overheads_fixed_opened",name:"Overheads fixed opened",value_type:"float"},{key:"overheads_fx",name:"Overheads FX",value_type:"float"},{key:"overheads_fx_closed",name:"Overheads FX closed",value_type:"float"},{key:"overheads_fx_opened",name:"Overheads FX opened",value_type:"float"},{key:"overheads_opened",name:"Overheads opened",value_type:"float"},{key:"principal",name:"Principal",value_type:"float"},{key:"principal_closed",name:"Principal closed",value_type:"float"},{key:"principal_fixed",name:"Principal fixed",value_type:"float"},{key:"principal_fixed_closed",name:"Principal fixed closed",value_type:"float"},{key:"principal_fixed_opened",name:"Principal fixed opened",value_type:"float"},{key:"principal_fx",name:"Principal FX",value_type:"float"},{key:"principal_fx_closed",name:"Principal FX closed",value_type:"float"},{key:"principal_fx_opened",name:"Principal FX opened",value_type:"float"},{key:"principal_opened",name:"Principal opened",value_type:"float"},{key:"total",name:"Total",value_type:"float"},{key:"total_closed",name:"Total closed",value_type:"float"},{key:"total_fixed",name:"Total fixed",value_type:"float"},{key:"total_fixed_closed",name:"Total fixed closed",value_type:"float"},{key:"total_fixed_opened",name:"Total fixed opened",value_type:"float"},{key:"total_fx",name:"Total FX",value_type:"float"},{key:"total_fx_closed",name:"Total FX closed",value_type:"float"},{key:"total_fx_opened",name:"Total FX opened",value_type:"float"},{key:"total_opened",name:"Total opened",value_type:"float"},{key:"total_real",name:"Total real",value_type:"float"},{key:"total_unreal",name:"Total unreal",value_type:"float"},{key:"market_value",name:"Market value",value_type:"float"},{key:"exposure",name:"Exposure",value_type:"float"},{key:"market_value_percent",name:"Market value %",value_type:"float"},{key:"exposure_percent",name:"Exposure %",value_type:"float"}],"transaction-report":[{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"account_date",name:"Account date",value_type:40},{key:"allocation_balance",name:"Allocation balance",value_type:"field"},{key:"allocation_pl",name:"Allocation pl",value_type:"field"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"cash_consideration",name:"Cash consideration",value_type:"float"},{key:"cash_date",name:"Cash date",value_type:40},{key:"complex-transaction",name:"Complex transaction",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"linked_instrument",name:"Linked Instrument",value_type:"field"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"principal_with_sign",name:"Principal with sign",value_type:"float"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"settlement_currency",name:"Settlement currency",value_type:"field"},{key:"strategy1_cash",name:"Strategy 1 cash",value_type:"field"},{key:"strategy1_position",name:"Strategy 1 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy 2 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy 2 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy 3 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy 3 position",value_type:"field"},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"transaction_code",name:"Transaction code",value_type:"float"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"transaction_date",name:"Transaction date",value_type:40}],"cash-flow-projection-report":[{key:"account_cash",name:"Account cash",value_type:"field"},{key:"account_interim",name:"Account interim",value_type:"field"},{key:"account_position",name:"Account position",value_type:"field"},{key:"allocation_balance",name:"Allocation balance",value_type:"field"},{key:"allocation_pl",name:"Allocation pl",value_type:"field"},{key:"carry_with_sign",name:"Carry with sign",value_type:"float"},{key:"cash_consideration",name:"Cash consideration",value_type:"float"},{key:"cash_consideration_after",name:"Cash consideration after",value_type:"float"},{key:"cash_consideration_before",name:"Cash consideration before",value_type:"float"},{key:"cash_date",name:"Cash date",value_type:40},{key:"complex-transaction",name:"Complex transaction",value_type:"field"},{key:"counterparty",name:"Counterparty",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"linked_instrument",name:"Linked Instrument",value_type:"field"},{key:"overheads_with_sign",name:"Overheads with sign",value_type:"float"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"reference_fx_rate",name:"Reference fx rate",value_type:"float"},{key:"responsible",name:"Responsible",value_type:"field"},{key:"settlement_currency",name:"Settlement currency",value_type:"field"},{key:"strategy1_cash",name:"Strategy 1 cash",value_type:"field"},{key:"strategy1_position",name:"Strategy 1 position",value_type:"field"},{key:"strategy2_cash",name:"Strategy 2 cash",value_type:"field"},{key:"strategy2_position",name:"Strategy 2 position",value_type:"field"},{key:"strategy3_cash",name:"Strategy 3 cash",value_type:"field"},{key:"strategy3_position",name:"Strategy 3 position",value_type:"field"},{key:"transaction_class",name:"Transaction class",value_type:"field"},{key:"transaction_code",name:"Transaction code",value_type:"float"},{key:"transaction_currency",name:"Transaction currency",value_type:"field"},{key:"transaction_date",name:"Transaction date",value_type:40}],"performance-report":[{key:"name",name:"Name",value_type:10},{key:"short_name",name:"Short name",value_type:10},{key:"user_code",name:"User code",value_type:10},{key:"account",name:"Account",value_type:"field"},{key:"instrument",name:"Instrument",value_type:"field"},{key:"currency",name:"Currency",value_type:"field"},{key:"portfolio",name:"Portfolio",value_type:"field"},{key:"strategy-1",name:"Strategy 1",value_type:"field"},{key:"strategy-2",name:"Strategy 2",value_type:"field"},{key:"strategy-3",name:"Strategy 3",value_type:"field"},{key:"position_size",name:"Position size",value_type:"float"},{key:"market_value",name:"Market value",value_type:"float"},{key:"exposure",name:"Exposure",value_type:"float"},{key:"market_value_percent",name:"Market value %",value_type:"float"},{key:"exposure_percent",name:"Exposure %",value_type:"float"}],"complex-transaction":[{key:"code",name:"Code",value_type:"float"},{key:"status",name:"Status",value_type:10},{key:"text",name:"Text",value_type:10}],"instrument-scheme":[{key:"reference_for_pricing",name:"Reference for pricing",value_type:10},{key:"factor_schedule_method",name:"Factor schedule method",type:"field"},{key:"accrual_calculation_schedule_method",name:"Accrual calculation schedule method",type:"field"},{key:"user_code",name:"User code",value_type:10},{key:"public_name",name:"Public name",value_type:10},{key:"instrument_type",name:"Instrument type",value_type:10},{key:"pricing_currency",name:"Pricing currency",value_type:10},{key:"price_multiplier",name:"Price multiplier",value_type:10},{key:"accrued_currency",name:"Accrued currency",value_type:10},{key:"accrued_multiplier",name:"Accrued multiplier",value_type:10},{key:"user_text_1",name:"User text 1",value_type:10},{key:"user_text_2",name:"User text 2",value_type:10},{key:"user_text_3",name:"User text 3",value_type:10},{key:"maturity_date",name:"Maturity date",value_type:10},{key:"payment_size_detail",name:"Payment size detail",value_type:"field"},{key:"daily_pricing_model",name:"Daily pricing model",value_type:"field"},{key:"price_download_scheme",name:"Price download scheme",value_type:"field"},{key:"default_price",name:"Default price",value_type:10},{key:"default_accrued",name:"Default accrued",value_type:10}]};return e[t]},r=function(){return[{value:20,display_name:"Number"},{value:10,display_name:"String"},{value:40,display_name:"Date"},{value:30,display_name:"Classifier"},{value:"decoration",display_name:"Decoration"},{value:"field",display_name:"Field"},{value:"mc_field",display_name:"Multiple choice field"},{value:"boolean",display_name:"Boolean"},{value:"float",display_name:"Float"}]},s=function(){return[{value:20,display_name:"Number"},{value:10,display_name:"String"},{value:40,display_name:"Date"},{value:30,display_name:"Classifier"}]},c=function(){return["daily_pricing_model","payment_size_detail","accrued_currency","pricing_currency"]},d=function(t){switch(t){case"instrument":return[{label:"Accruals",templateUrl:"views/tabs/instrument/accrual-calculation-schedules-view.html"},{label:"Events",templateUrl:"views/tabs/instrument/events-view.html"},{label:"Pricing",templateUrl:"views/tabs/instrument/manual-pricing-formulas-view.html"},{label:"Factors",templateUrl:"views/tabs/instrument/factor-schedule-view.html"}];case"complex-transaction":return[{label:"Actions",templateUrl:"views/tabs/complex-transaction/book-transaction-actions-tab-view.html"},{enabled:["update"],label:"Transactions",templateUrl:"views/tabs/complex-transaction/book-transaction-transactions-tab-view.html"}];case"transaction-type":return[{label:"General",templateUrl:"views/tabs/transaction-type/transaction-type-general-tab-view.html"},{label:"Inputs",templateUrl:"views/tabs/transaction-type/transaction-type-inputs-tab-view.html"},{label:"Actions",templateUrl:"views/tabs/transaction-type/transaction-type-actions-tab-view.html"}]}},l=function(){return["responsible","counterparty","strategy-1","strategy-2","strategy-3","transaction-type","transaction-type-group","strategy-1-group","strategy-2-group","strategy-3-group","strategy-1-subgroup","strategy-2-subgroup","strategy-3-subgroup"]},u=function(){return["instrument_type","type","transaction_type","instrument_types","transaction_types","account_types"]};e.exports={getMenu:t,getBaseAttrs:n,getEntityAttrs:o,getValueTypes:r,getDynamicAttrsValueTypes:s,getEntitiesWithoutDynAttrsList:a,getEntityTabs:d,getEntitiesWithoutBaseAttrsList:i,getRestrictedEntitiesWithTypeField:c,getEntitiesWithSimpleFields:l,getFieldsWithTagGrouping:u}}()},{}],195:[function(t,e,n){!function(){"use strict";var t=function(){return["price-history","currency-history","complex-transaction","transaction","balance-report","pnl-report","transaction-report","cash-flow-projection-report","performance-report","audit-transaction","audit-instrument"]},n=function(){return["price-history","currency-history","instrument-type","account-type","pricing-policy","strategy-1","strategy-2","strategy-3","transaction-type","strategy-1-group","strategy-2-group","strategy-3-group","complex-transaction","balance-report","pnl-report","transaction-report","cash-flow-projection-report","performance-report","counterparty-group","responsible-group","tag","transaction-type-group","strategy-1-subgroup","strategy-2-subgroup","strategy-3-subgroup","audit-transaction","audit-instrument"]},i=function(){return["daily_pricing_model","payment_size_detail","accrued_currency","pricing_currency"]};e.exports={getEntitiesWithoutDynamicAttrsList:n,getEntitiesWithoutBaseAttrsList:t,getRestrictedEntitiesWithTypeField:i}}()},{}],196:[function(t,e,n){!function(){"use strict";var n=t("../services/baseUrlService"),i=n.resolve(),a=t("../../../../core/services/cookieService"),o=function(t,e){var n="";switch(e){case"unreaded":n="?all=false&page="+t;break;default:n="?all=true&page="+t}return console.log("notification list url is",n),window.fetch(i+"notifications/notification/"+n,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t,e){return window.fetch(i+"notifications/notification/"+t+"/mark-as-read/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":a.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},s=function(){return window.fetch(i+"notifications/notification/mark-as-read/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":a.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({})}).then(function(t){return t.json()})};e.exports={getList:o,markAsReaded:r,markAllAsReaded:s}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],197:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(){return window.fetch(o+"portfolios/portfolio-classifier/node/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"portfolios/portfolio-classifier/node/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(){return window.fetch(o+"portfolios/portfolio-classifier/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t){return window.fetch(o+"portfolios/portfolio-classifier/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(t){return window.fetch(i.configureUrl(o+"portfolios/portfolio/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},u=function(t){return window.fetch(o+"portfolios/portfolio/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},m=function(t){return window.fetch(o+"portfolios/portfolio/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},p=function(t,e){return window.fetch(o+"portfolios/portfolio/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},g=function(t){return window.fetch(o+"portfolios/portfolio/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},y=function(t){return window.fetch(o+"portfolios/portfolio/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getClassifierNodeList:r,getClassifierNodeByKey:s,getClassifierList:c,getClassifierByKey:d,getList:l,getByKey:u,create:m,update:p,deleteByKey:y,updateBulk:g}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],198:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"instruments/price-history/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"instruments/price-history/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"instruments/price-history/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"instruments/price-history/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"instruments/price-history/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],199:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/baseUrlService"),a=i.resolve(),o=function(){return window.fetch(a+"instruments/pricing-policy/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"instruments/pricing-policy/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"instruments/pricing-policy/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},c=function(t,e){return window.fetch(a+"instruments/pricing-policy/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t){return window.fetch(a+"instruments/pricing-policy/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:o,getByKey:r,create:s,update:c,deleteByKey:d}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],200:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/baseUrlService"),a=i.resolve(),o=function(t){return window.fetch(a+"reports/report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+"reports/transaction-report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},s=function(t){return window.fetch(a+"reports/cash-flow-projection-report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})},c=function(t){return window.fetch(a+"reports/performance-report/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return t.json()})};e.exports={getList:o,getTransactionReport:r,getCashFlowProjectionReport:s,getPerformanceReport:c}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],201:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/baseUrlService"),a=i.resolve();a+="reports/custom-field/";var o=function(){return window.fetch(a,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},r=function(t){return window.fetch(a+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(a,{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},c=function(t,e){return window.fetch(a+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t){return window.fetch(a+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(e,n){console.log("data",t),409===t.status&&e({status:"conflict"}),e({status:"success"})})})};e.exports={getList:o,getByKey:r,create:s,update:c,deleteByKey:d}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222}],202:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"counterparties/responsible-group/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"counterparties/responsible-group/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"counterparties/responsible-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"counterparties/responsible-group/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"counterparties/responsible-group/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],203:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"counterparties/responsible/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"counterparties/responsible/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"counterparties/responsible/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"counterparties/responsible/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"counterparties/responsible/bulk-update/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t){return window.fetch(o+"counterparties/responsible/"+t+"/",{
method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:u,updateBulk:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],204:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t,e){return window.fetch(i.configureUrl(o+"strategies/"+t+"/group/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(o+"strategies/"+t+"/group/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(o+"strategies/"+t+"/group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e,i){return window.fetch(o+"strategies/"+t+"/group/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t,e){return window.fetch(o+"strategies/"+t+"/group/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],205:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t,e){return window.fetch(i.configureUrl(o+"strategies/"+t+"/strategy/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(o+"strategies/"+t+"/strategy/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(o+"strategies/"+t+"/strategy/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e,i){return window.fetch(o+"strategies/"+t+"/strategy/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t,e){return window.fetch(o+"strategies/"+t+"/strategy/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],206:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t,e){return window.fetch(i.configureUrl(o+"strategies/"+t+"/subgroup/",e),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t,e){return window.fetch(o+"strategies/"+t+"/subgroup/"+e+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return window.fetch(o+"strategies/"+t+"/subgroup/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e,i){return window.fetch(o+"strategies/"+t+"/subgroup/"+e+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t,e){return window.fetch(o+"strategies/"+t+"/subgroup/"+e+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],207:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/metaContentTypesService"),a=t("../services/configureRepositoryUrlService"),o=t("../services/baseUrlService"),r=o.resolve(),s=function(t){return window.fetch(a.configureUrl(r+"tags/tag/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){var e=i.findContentTypeByEntity(t,"tag");return console.log("content type is",e),window.fetch(r+"tags/tag/?content_type="+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(t){return window.fetch(r+"tags/tag/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(t){return window.fetch(r+"tags/tag/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},u=function(t,e){return window.fetch(r+"tags/tag/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},m=function(t){return window.fetch(r+"tags/tag/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:s,getListByContentType:c,getByKey:d,create:l,update:u,deleteByKey:m}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224,"../services/metaContentTypesService":270}],208:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"transactions/transaction/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"transactions/transaction/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"transactions/transaction/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"transactions/transaction/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"transactions/transaction/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],209:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"transactions/transaction-type/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"transactions/transaction-type/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"transactions/transaction-type/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"transactions/transaction-type/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"transactions/transaction-type/"+t+"/",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})},u=function(t){return window.fetch(o+"transactions/transaction-type/"+t._transaction_type_id+"/book/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l,bookTransaction:u}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],210:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/configureRepositoryUrlService"),a=t("../../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"transactions/complex-transaction/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"transactions/complex-transaction/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"transactions/complex-transaction/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"transactions/complex-transaction/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"transactions/complex-transaction/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})},u=function(t,e){return window.fetch(o+"transactions/complex-transaction/"+t+"/book",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l,bookComplexTransaction:u}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],211:[function(t,e,n){!function(){"use strict";var t=function(){return new Promise(function(t,e){t([{value:"1",name:"Buy"},{value:"2",name:"Sell"},{value:"3",name:"FX Trade"},{value:"4",name:"Instrument PL"},{value:"5",name:"Transaction PL"},{value:"6",name:"Transfer"},{value:"7",name:"FX Transfer"},{value:"8",name:"Cash-Inflow"},{value:"9",name:"Cash-Outflow"}])})};e.exports={getList:t}}()},{}],212:[function(t,e,n){!function(){"use strict";var n=t("../../../../../core/services/cookieService"),i=t("../../services/configureRepositoryUrlService"),a=t("../../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"transactions/transaction-type-group/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"transactions/transaction-type-group/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"transactions/transaction-type-group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"transactions/transaction-type-group/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"transactions/transaction-type-group/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../../core/services/cookieService":1,"../../services/baseUrlService":222,"../../services/configureRepositoryUrlService":224}],213:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/metaContentTypesService"),a=t("./metaRestrictionsRepository"),o=t("../services/baseUrlService"),r=o.resolve(),s=function(t){var e=i.findContentTypeByEntity(t,"ui");return window.fetch(r+"ui/edit-layout/?content_type="+e,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t,e){return e.content_type=i.findContentTypeByEntity(t,"ui"),window.fetch(r+"ui/edit-layout/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},d=function(t,e){return window.fetch(r+"ui/edit-layout/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},l=function(t){var e=i.findContentTypeByEntity(t,"ui");return window.fetch(r+"ui/list-layout/?content_type="+e,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},u=function(t){return window.fetch(r+"ui/list-layout/"+t+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},m=function(t){var e=i.findContentTypeByEntity(t,"ui");return window.fetch(r+"ui/list-layout/?is_default=2&content_type="+e,{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return console.log("ui repository data",t),t.json()})},p=function(t,e){return e.content_type=i.findContentTypeByEntity(t,"ui"),window.fetch(r+"ui/list-layout/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},g=function(t,e){return window.fetch(r+"ui/list-layout/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},y=function(t){return new Promise(function(e,i){window.fetch(r+"ui/list-layout/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){e(void 0)})})},v=function(t){var e;return e=a.getEntitiesWithoutBaseAttrsList().indexOf(t)!==-1?[]:[{row:1,colspan:"1",column:1,editMode:!1,id:null,name:"Name",disabled:!1,options:{notNull:!0},attribute:{value_type:10,name:"Name",key:"name",disabled:!0},type:"field",key:null}],[{data:[{name:"General",id:1,layout:{fields:e,rows:1,columns:1}}]}]},f=function(){return[{name:"default",data:{tableAdditions:{foreignEntityId:null,table:{sorting:{column:{sort:null,key:null}},columns:[],filters:[]},additionsType:"",entityType:null},table:{folding:!1,sorting:{group:{id:null,sort:"DESC",key:null},column:{id:null,sort:"ASC",key:null}},grouping:[],columns:[{value_type:10,name:"Name",key:"name"}],filters:[],columnsWidth:[238]},additionsType:""}}]},h=function(t,e){if("complex-transaction"==t)return window.fetch(r+"transactions/transaction-type/"+e+"/",{method:"GET",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},b=function(t,e,i){if("complex-transaction"==t)return window.fetch(r+"transactions/transaction-type/"+e+"/",{method:"PATCH",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(i)}).then(function(t){return t.json()})};e.exports={getDefaultEditLayout:v,getDefaultListLayout:f,getEditLayout:s,createEditLayout:c,updateEditLayout:d,getListLayout:l,getListLayoutByKey:u,createListLayout:p,updateListLayout:g,deleteListLayoutByKey:y,getEditLayoutByInstanceId:h,updateEditLayoutByInstanceId:b,getActiveListLayout:m}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/metaContentTypesService":270,"./metaRestrictionsRepository":195}],214:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/configureRepositoryUrlService"),a=t("../services/baseUrlService"),o=a.resolve(),r=function(t){return window.fetch(i.configureUrl(o+"users/group/",t),{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},s=function(t){return window.fetch(o+"users/group/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},c=function(t){return window.fetch(o+"users/group/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(t)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},d=function(t,e){return window.fetch(o+"users/group/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},l=function(t){return window.fetch(o+"users/group/"+t+"/",{method:"DELETE",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"}}).then(function(t){return new Promise(function(t,e){t({status:"deleted"})})})};e.exports={getList:r,getByKey:s,create:c,update:d,deleteByKey:l}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222,"../services/configureRepositoryUrlService":224}],215:[function(t,e,n){!function(){"use strict";var n=t("../../../../core/services/cookieService"),i=t("../services/baseUrlService"),a=i.resolve(),o=function(t){console.log("Method: "+t+". Cannot get data from server")},r=function(t,e){return window.fetch(a+"users/login/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({username:t,password:e})}).then(function(t){return t.json()})["catch"](function(){return o("login"),[]})},s=function(){return window.fetch(a+"users/logout/",{method:"POST",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify({})}).then(function(t){return t.json()})},c=function(){return window.fetch(a+"users/ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},d=function(){return window.fetch(a+"users/protected-ping/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},l=function(){return window.fetch(a+"users/user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},u=function(t){return window.fetch(a+"users/user/"+t+"/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},m=function(){return window.fetch(a+"users/user/0/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},p=function(t,e){return window.fetch(a+"users/user/"+t+"/",{method:"PUT",credentials:"include",headers:{"X-CSRFToken":n.getCookie("csrftoken"),Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return new Promise(function(e,n){t.json().then(function(n){e({response:n,status:t.status})})})})},g=function(t,e){return window.fetch(a+"users/user/"+t+"/",{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},y=function(t){return window.fetch(a+"users/user/"+t+"/",{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},v=function(){return window.fetch(a+"users/master-user/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},f=function(t){return window.fetch(a+"users/master-user/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},h=function(t,e){return window.fetch(a+"users/master-user/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},b=function(t,e){return window.fetch(a+"users/master-user/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},_=function(t){return window.fetch(a+"users/master-user/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},w=function(){return window.fetch(a+"users/member/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},k=function(t){return window.fetch(a+"users/member/"+t,{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},S=function(t,e){return window.fetch(a+"users/member/"+t,{method:"PUT",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},x=function(t,e){return window.fetch(a+"users/member/"+t,{method:"PATCH",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)}).then(function(t){return t.json()})},C=function(t){return window.fetch(a+"users/member/"+t,{method:"DELETE",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})},T=function(){return window.fetch(a+"users/group/",{method:"GET",credentials:"include",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(t){return t.json()})};e.exports={login:r,logout:s,ping:c,protectedPing:d,getList:l,getByKey:u,getMe:m,update:p,patch:g,deleteByKey:y,getMasterList:v,getMasterByKey:f,updateMaster:h,patchMaster:b,deleteMasterByKey:_,getMemberList:w,getMemberByKey:k,updateMember:S,patchMember:x,deleteMemberByKey:C,getGroupList:T}}()},{"../../../../core/services/cookieService":1,"../services/baseUrlService":222}],216:[function(t,e,n){!function(){e.exports=function(t,e){t.state("app",{url:"",templateUrl:"views/shell-view.html",controller:"ShellController as vm"}).state("app.attributesManager",{url:"/attributes/:entityType",templateUrl:"views/attributes-manager-view.html",controller:"AttributesManagerController as vm",params:{prevState:""}}),t.state("app.dashboard",{url:"/",templateUrl:"views/dashboard-view.html",controller:"DashboardController as vm"}),t.state("app.actions",{url:"/actions",templateUrl:"views/actions-view.html",controller:"ActionsController as vm"}),t.state("app.data-constructor",{url:"/layout/:entityType/:instanceId",params:{instanceId:null},templateUrl:"views/entity-data-constructor-view.html",controller:"EntityDataConstructorController as vm"}),e.otherwise("/"),t.state("app.data",{url:"/data","abstract":!0,template:"<div data-ui-view></div>"}).state("app.data.portfolio",{url:"/portfolios",templateUrl:"views/data/data-portfolio-view.html",controller:"DataPortfolioController as vm"}).state("app.data.tag",{url:"/tags",templateUrl:"views/data/data-tag-view.html",controller:"DataTagController as vm"}).state("app.data.account",{url:"/accounts",templateUrl:"views/data/data-account-view.html",controller:"DataAccountController as vm"}).state("app.data.account-type",{url:"/account-types",templateUrl:"views/data/data-account-type-view.html",controller:"DataAccountTypeController as vm"}).state("app.data.counterparty-group",{url:"/counterparty-group",templateUrl:"views/data/data-counterparty-group-view.html",controller:"DataCounterpartyGroupController as vm"}).state("app.data.counterparty",{url:"/counterparties",templateUrl:"views/data/data-counterparty-view.html",controller:"DataCounterpartyController as vm"}).state("app.data.responsible-group",{url:"/responsible-group",templateUrl:"views/data/data-responsible-group-view.html",controller:"DataResponsibleGroupController as vm"}).state("app.data.responsible",{url:"/responsibles",templateUrl:"views/data/data-responsible-view.html",controller:"DataResponsibleController as vm"}).state("app.data.instrument",{url:"/instruments",templateUrl:"views/data/data-instrument-view.html",controller:"DataInstrumentController as vm"}).state("app.data.instrument-type",{url:"/instrument-types",templateUrl:"views/data/data-instrument-type-view.html",controller:"DataInstrumentTypeController as vm"}).state("app.data.pricing-policy",{url:"/pricing-policy",templateUrl:"views/data/data-pricing-policy-view.html",controller:"DataPricingPolicyController as vm"}).state("app.data.complex-transaction",{url:"/complex-transactions",templateUrl:"views/data/data-complex-transaction-view.html",controller:"DataComplexTransactionController as vm"}).state("app.data.transaction",{url:"/transactions",templateUrl:"views/data/data-transaction-view.html",controller:"DataTransactionController as vm"}).state("app.data.transaction-type",{url:"/transaction-types",templateUrl:"views/data/data-transaction-type-view.html",controller:"DataTransactionTypeController as vm"}).state("app.data.transaction-type-group",{url:"/transaction-type-group",templateUrl:"views/data/data-transaction-type-group-view.html",controller:"DataTransactionTypeGroupController as vm"}).state("app.data.currency-history",{url:"/currencies",templateUrl:"views/data/data-currency-history-view.html",controller:"DataCurrencyHistoryController as vm"}).state("app.data.price-history",{url:"/pricing",templateUrl:"views/data/data-price-history-view.html",controller:"DataPriceHistoryController as vm"}).state("app.data.currency",{url:"/currency",templateUrl:"views/data/data-currency-view.html",controller:"DataCurrencyController as vm"
}).state("app.data.strategy-group",{url:"/strategy/:strategyNumber/group",templateUrl:"views/data/data-strategy-group-view.html",controller:"DataStrategyGroupController as vm"}).state("app.data.strategy-subgroup",{url:"/strategy/:strategyNumber/subgroup",templateUrl:"views/data/data-strategy-subgroup-view.html",controller:"DataStrategySubgroupController as vm"}).state("app.data.strategy",{url:"/strategy/:strategyNumber",templateUrl:"views/data/data-strategy-view.html",controller:"DataStrategyController as vm"}).state("app.reports",{url:"/reports","abstract":!0,template:"<div data-ui-view></div>"}).state("app.reports.balance-report",{url:"/balance",templateUrl:"views/reports/reports-balance-view.html",controller:"BalanceReportController as vm"}).state("app.reports.balanceCustomAttributesManager",{url:"/balance/customAttributes",templateUrl:"views/reports/reports-balance-custom-attr-view.html",controller:"BalanceReportCustomAttrController as vm",params:{prevState:""}}).state("app.reports.pnl-report",{url:"/profit-and-lost",templateUrl:"views/reports/reports-profit-and-lost-view.html",controller:"ProfitAndLostReportController as vm"}).state("app.reports.transaction-report",{url:"/transaction",templateUrl:"views/reports/reports-transaction-view.html",controller:"TransactionReportController as vm"}).state("app.reports.cash-flow-projection-report",{url:"/cash-flow-projection",templateUrl:"views/reports/reports-cash-flow-projection-view.html",controller:"CashFlowProjectionReportController as vm"}).state("app.reports.performance-report",{url:"/performance",templateUrl:"views/reports/reports-performance-view.html",controller:"PerformanceReportController as vm"}).state("app.settings",{"abstract":!0,url:"/settings",template:"<div data-ui-view></div>"}).state("app.settings.general",{"abstract":!0,url:"/general",templateUrl:"views/settings/general-view.html",controller:"SettingsGeneralController as vm"}).state("app.settings.general.profile",{url:"/profile",views:{profile:{templateUrl:"views/settings/profile-settings-view.html",controller:"SettingsGeneralProfileController as vm"}}}).state("app.settings.general.data-providers",{url:"/data-providers",views:{"data-providers":{templateUrl:"views/settings/data-providers-settings-view.html",controller:"SettingsGeneralDataProvidersController as vm"}}}).state("app.settings.general.data-providers-config",{url:"/data-providers/:dataProviderId",views:{"data-providers":{templateUrl:"views/settings/data-providers-config-settings-view.html",controller:"SettingsGeneralDataProvidersConfigController as vm"}}}).state("app.settings.general.instrument-import",{url:"/instrument-import",views:{"instrument-import":{templateUrl:"views/settings/instrument-import-settings-view.html",controller:"SettingsGeneralInstrumentImportController as vm"}}}).state("app.settings.form-design",{url:"/form",templateUrl:"views/settings/form-design-view.html",controller:"SettingsFormDesignController as vm"}).state("app.settings.users-groups",{url:"/users-and-groups",templateUrl:"views/settings/users-and-groups-view.html",controller:"SettingsMembersAndGroupsController as vm"}).state("app.system",{"abstract":!0,url:"/system",template:"<div data-ui-view></div>"}).state("app.system.notifications",{url:"/notifications",templateUrl:"views/system/notifications-view.html",controller:"NotificationsController as vm",params:{notificationsListType:"all"}}).state("app.system.transactions",{url:"/audit/transactions",templateUrl:"views/system/audit-transactions-view.html",controller:"TransactionsAuditController as vm"}).state("app.system.instruments",{url:"/audit/instruments",templateUrl:"views/system/audit-instruments-view.html",controller:"InstrumentsAuditController as vm"}).state("app.system.audit",{url:"/audit",templateUrl:"views/system/audit-view.html",controller:"AuditController as vm"})}}()},{}],217:[function(t,e,n){!function(){var n=t("../repositories/accountRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)},c=function(t){return n.updateBulk(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/accountRepository":155}],218:[function(t,e,n){!function(){var n=t("../repositories/accountTypeRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)},c=function(t){return n.updateBulk(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/accountTypeRepository":156}],219:[function(t,e,n){!function(){"use strict";var n=t("../repositories/accrualCalculationModelRepository"),i=function(){return n.getList()};e.exports={getList:i}}()},{"../repositories/accrualCalculationModelRepository":157}],220:[function(t,e,n){!function(){"use strict";var n=t("../repositories/attributeTypeRepository"),i=function(t){return n.getList(t)},a=function(t,e){return n.getByKey(t,e)},o=function(t,e){return n.create(t,e)},r=function(t,e,i){return n.update(t,e,i)},s=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/attributeTypeRepository":158}],221:[function(t,e,n){!function(){var n=t("../repositories/auditRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/auditRepository":159}],222:[function(t,e,n){!function(){"use strict";var t=function(){var t="";return"localhost"==window.location.hostname&&(t="http://"+window.location.host),"dev.finmars.com"==window.location.hostname&&(t="https://api.dev.finmars.com"),"finmars.com"==window.location.hostname&&(t="https://api.finmars.com"),t+="/api/v1/"};e.exports={resolve:t}}()},{}],223:[function(t,e,n){!function(){"use strict";var n=t("../repositories/instrumentRepository"),i=t("../repositories/pricingPolicyRepository"),a=t("../repositories/currencyRepository"),o=t("../repositories/accountRepository"),r=t("../repositories/accountTypeRepository"),s=t("../repositories/portfolioRepository"),c=t("../repositories/counterpartyRepository"),d=t("../repositories/counterpartyGroupRepository"),l=t("../repositories/responsibleRepository"),u=t("../repositories/responsibleGroupRepository"),m=t("../repositories/instrumentTypeRepository"),p=t("../repositories/strategyRepository"),g=t("../repositories/instrument/instrumentDailyPricingModelRepository"),y=t("../repositories/instrument/instrumentPaymentSizeDetailRepository"),v=t("../repositories/transactionTypeRepository"),f=t("../repositories/import/importPriceDownloadSchemeRepository"),h=t("./strategyService"),b=t("./strategyGroupService"),_=t("./strategySubgroupService"),w={},k={},S=function(t,e){return new Promise(function(c){if(!w[t]){if(e.entityType.indexOf("strategy")!==-1){var l=e.entityType.split("-"),y=l[1];return"group"===t?b.getList(y).then(function(e){w[t]=e.results,c({key:t,data:w[t]})}):"subgroup"===t?_.getList(y).then(function(e){w[t]=e.results,c({key:t,data:w[t]})}):h.getList(y).then(function(e){w[t]=e.results,c({key:t,data:w[t]})})}if(e.entityType.indexOf("responsible")!==-1){if("group"===t)return u.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})})}else if(e.entityType.indexOf("counterparty")!==-1){if("group"===t)return d.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})})}else switch(t){case"instrument":return n.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"portfolio":return s.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"account":return o.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"pricing_policy":return i.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"currency":return a.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"pricing_currency":return a.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"accrued_currency":return a.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"instrument_type":return m.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"daily_pricing_model":return g.getList().then(function(e){w[t]=e,c({key:t,data:w[t]})});case"price_download_scheme":return f.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"transaction_types":return v.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"type":return r.getList().then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"strategy-1":return p.getList(1).then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"strategy-2":return p.getList(2).then(function(e){w[t]=e.results,c({key:t,data:w[t]})});case"strategy-3":return p.getList(3).then(function(e){w[t]=e.results,c({key:t,data:w[t]})})}}c({key:t,data:w[t]})})},x=function(t,e,p){return new Promise(function(b){if(!k[t]){if(console.log("ENTITY",t),p&&p.hasOwnProperty("entityType")){if("responsible"==p.entityType)return u.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});if("counterparty"==p.entityType)return d.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})})}switch(t){case"instrument":return n.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"portfolio":return s.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"counterparty":return c.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"responsible":return l.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"account_cash":return o.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"account_position":return o.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"account_interim":return o.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"strategy1_position":return h.getByKey(1,e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"strategy1_cash":return h.getByKey(1,e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"strategy2_position":return h.getByKey(2,e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"strategy2_cash":return h.getByKey(2,e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"strategy3_position":return h.getByKey(3,e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"strategy3_cash":return h.getByKey(3,e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"pricing_policy":return i.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"currency":return a.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"transaction_currency":return a.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"settlement_currency":return a.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"pricing_currency":return a.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"accrued_currency":return a.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"instrument_type":return m.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"transaction_types":return v.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"daily_pricing_model":return g.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"payment_size_detail":return y.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"type":return r.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})});case"price_download_scheme":return f.getByKey(e).then(function(e){k[t]=e,b({key:t,data:k[t]})})}}b({key:t,data:k[t]})})};e.exports={findEntities:S,getByKey:x}}()},{"../repositories/accountRepository":155,"../repositories/accountTypeRepository":156,"../repositories/counterpartyGroupRepository":160,"../repositories/counterpartyRepository":161,"../repositories/currencyRepository":163,"../repositories/import/importPriceDownloadSchemeRepository":172,"../repositories/instrument/instrumentDailyPricingModelRepository":185,"../repositories/instrument/instrumentPaymentSizeDetailRepository":187,"../repositories/instrumentRepository":181,"../repositories/instrumentTypeRepository":182,"../repositories/portfolioRepository":197,"../repositories/pricingPolicyRepository":199,"../repositories/responsibleGroupRepository":202,"../repositories/responsibleRepository":203,"../repositories/strategyRepository":205,"../repositories/transactionTypeRepository":209,"./strategyGroupService":286,"./strategyService":287,"./strategySubgroupService":288}],224:[function(t,e,n){!function(){"use strict";function t(t){switch(t){case"instruments":return"instrument";case"accounts":return"account";case"portfolios":return"portfolio";case"responsibles":return"responsible";case"counterparties":return"counterparty";case"tags":return"tag";default:return t}}function n(e,n){if(n){e=e+"?page_size="+n.pageSize;var i=[];n.hasOwnProperty("filters")&&(i=Object.keys(n.filters),i.forEach(function(i){if(n.filters[i]){var a=n.filters[i];"string"==typeof a?e=e+"&"+t(i)+"="+a:a.map(function(n,a){e=e+"&"+t(i)+"="+n})}})),n.hasOwnProperty("sort")&&(e="ASC"===n.sort.direction?e+"&ordering="+n.sort.key:e+"&ordering=-"+n.sort.key),n.hasOwnProperty("page")&&(e=e+"&page="+n.page)}return e}e.exports={configureUrl:n}}()},{}],225:[function(t,e,n){!function(){var n=t("../repositories/counterpartyGroupRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/counterpartyGroupRepository":160}],226:[function(t,e,n){!function(){var n=t("../repositories/counterpartyRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)},c=function(t){return n.updateBulk(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/counterpartyRepository":161}],227:[function(t,e,n){!function(){var n=t("../repositories/currencyHistoryRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/currencyHistoryRepository":162}],228:[function(t,e,n){!function(){var n=t("../repositories/currencyRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/currencyRepository":163}],229:[function(t,e,n){!function(){"use strict";var n=t("../repositories/entityClassifierRepository"),i=function(t){return n.getList(t)},a=function(t,e){return n.getByKey(t,e)},o=function(t,e){return n.create(t,e)},r=function(t,e,i){return n.update(t,e,i)},s=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/entityClassifierRepository":164}],230:[function(t,e,n){!function(){"use strict";var n=t("./entityClassifierService"),i={},a=function(t){return n.getList(t)},o=function(t,e){return new Promise(function(a){i[t+"_"+e]?a({key:t+"_"+e,data:i[t+"_"+e]}):(i[t+"_"+e]={},n.getByKey(t,e).then(function(n){i[t+"_"+e]=n,a({key:t+"_"+e,data:i[t+"_"+e]})}))})},r=function(t,e){return n.create(t,e)},s=function(t,e,i){return n.update(t,e,i)},c=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"./entityClassifierService":229}],231:[function(t,e,n){!function(){"use strict";var n=t("./portfolioService"),i=t("./accountService"),a=t("./accountTypeService"),o=t("./responsibleService"),r=t("./responsibleGroupService"),s=t("./counterpartyService"),c=t("./counterpartyGroupService"),d=t("./instrumentService"),l=t("./currencyService"),u=t("./priceHistoryService"),m=t("./currencyHistoryService"),p=t("./transactionService"),g=t("./transactionTypeService"),y=(t("./transaction/transactionClassService"),t("./transaction/transactionTypeGroupService")),v=t("./transaction/complexTransactionService"),f=t("./pricingPolicyService"),h=t("./instrumentTypeService"),b=t("./accrualCalculationModelService"),_=t("./instrumentPeriodicityService"),w=t("./tagService"),k=t("./strategyService"),S=t("./strategyGroupService"),x=t("./strategySubgroupService"),C=function(t){switch(console.log("entityType",t),t){case"portfolio":return n.getList();case"account":return i.getList();case"responsible":return o.getList();case"counterparty":return s.getList();case"currency":return l.getList();case"instrument":return d.getList();case"instrument-type":return h.getList();case"periodicity":return _.getList();case"accrual-calculation-model":return b.getList();case"strategy-1":return k.getList(1);case"strategy-2":return k.getList(2);case"strategy-3":return k.getList(3)}},T=function(t,e){switch(t){case"portfolio":return n.getByKey(e);case"account":return i.getByKey(e);case"account-type":return a.getByKey(e);case"responsible":return o.getByKey(e);case"responsible-group":return r.getByKey(e);case"counterparty":return s.getByKey(e);case"counterparty-group":return c.getByKey(e);case"instrument":return d.getByKey(e);case"instrument-type":return h.getByKey(e);case"currency":return l.getByKey(e);case"complex-transaction":return v.getByKey(e);case"pricing-policy":return f.getByKey(e);case"transaction":return p.getByKey(e);case"transaction-type":return g.getByKey(e);case"transaction-type-group":return y.getByKey(e);case"price-history":return u.getByKey(e);case"currency-history":return m.getByKey(e);case"strategy-1":return k.getByKey(1,e);case"strategy-2":return k.getByKey(2,e);case"strategy-3":return k.getByKey(3,e);case"strategy-1-group":return S.getByKey(1,e);case"strategy-2-group":return S.getByKey(2,e);case"strategy-3-group":return S.getByKey(3,e);case"strategy-1-subgroup":return x.getByKey(1,e);case"strategy-2-subgroup":return x.getByKey(2,e);case"strategy-3-subgroup":return x.getByKey(3,e);case"tag":return w.getByKey(e)}},A=function(t,e){switch(t){case"portfolio":return e.counterparties=e.counterparties||[],e.accounts=e.accounts||[],e.responsibles=e.responsibles||[],e.transaction_types=e.transaction_types||[],n.create(e);case"account":return e.portfolios=e.portfolios||[],i.create(e);case"account-type":return a.create(e);case"responsible":return o.create(e);case"responsible-group":return r.create(e);case"counterparty":return s.create(e);case"counterparty-group":return c.create(e);case"instrument":return d.create(e);case"instrument-type":return h.create(e);case"currency":return l.create(e);case"pricing-policy":return f.create(e);case"transaction":return p.create(e);case"transaction-type":return g.create(e);case"transaction-type-group":return y.create(e);case"price-history":return u.create(e);case"currency-history":return m.create(e);case"strategy-1":return k.create(1,e);case"strategy-2":return k.create(2,e);case"strategy-3":return k.create(3,e);case"strategy-1-group":return S.create(1,e);case"strategy-2-group":return S.create(2,e);case"strategy-3-group":return S.create(3,e);case"strategy-1-subgroup":return x.create(1,e);case"strategy-2-subgroup":return x.create(2,e);case"strategy-3-subgroup":return x.create(3,e);case"complex-transaction":console.log("entity",e);return g.getBookTransaction(e).then(function(){return g.BookTransaction(e)});case"tag":return w.create(e)}},E=function(t,e,b){switch(t){case"portfolio":return n.update(e,b);case"currency":return l.update(e,b);case"account":return i.update(e,b);case"account-type":return a.update(e,b);case"responsible":return o.update(e,b);case"responsible-group":return r.update(e,b);case"counterparty":return s.update(e,b);case"counterparty-group":return c.update(e,b);case"instrument":return d.update(e,b);case"instrument-type":return h.update(e,b);case"transaction":return p.update(e,b);case"complex-transaction":return v.update(e,b);case"transaction-type":return g.bookComplexTransaction(e,b);case"transaction-type-group":return y.update(e,b);case"price-history":return u.update(e,b);case"pricing-policy":return f.update(e,b);case"currency-history":return m.update(e,b);case"strategy-1":return k.update(1,e,b);case"strategy-2":return k.update(2,e,b);case"strategy-3":return k.update(3,e,b);case"strategy-1-group":return S.update(1,e,b);case"strategy-2-group":return S.update(2,e,b);case"strategy-3-group":return S.update(3,e,b);case"strategy-1-subgroup":return x.update(1,e,b);case"strategy-2-subgroup":return x.update(2,e,b);case"strategy-3-subgroup":return x.update(3,e,b);case"tag":return w.update(e,b)}},I=function(t,e){switch(t){case"portfolio":return n.updateBulk(e);case"currency":break;case"account":return i.updateBulk(e);case"account-type":return a.updateBulk(e);case"responsible":return o.updateBulk(e);case"responsible-group":break;case"counterparty":return s.updateBulk(e);case"counterparty-group":break;case"instrument":return d.updateBulk(e);case"instrument-type":break;case"transaction":break;case"complex-transaction":break;case"transaction-type":break;case"transaction-type-group":break;case"price-history":break;case"pricing-policy":break;case"currency-history":break;case"strategy-1":break;case"strategy-2":break;case"strategy-3":break;case"strategy-1-group":break;case"strategy-2-group":break;case"strategy-3-group":break;case"strategy-1-subgroup":break;case"strategy-2-subgroup":break;case"strategy-3-subgroup":break;case"tag":}},j=function(t,e){switch(t){case"portfolio":return n.deleteByKey(e);case"account":return i.deleteByKey(e);case"account-type":return a.deleteByKey(e);case"responsible":return o.deleteByKey(e);case"responsible-group":return r.deleteByKey(e);case"counterparty":return s.deleteByKey(e);case"counterparty-group":return c.deleteByKey(e);case"instrument":return d.deleteByKey(e);case"instrument-type":return h.deleteByKey(e);case"transaction":return p.deleteByKey(e);case"transaction-type":return g.deleteByKey(e);case"transaction-type-group":return y.deleteByKey(e);case"price-history":return u.deleteByKey(e);case"pricing-policy":return f.deleteByKey(e);case"currency-history":return m.deleteByKey(e);case"strategy-1":return k.deleteByKey(1,e);case"strategy-2":return k.deleteByKey(2,e);case"strategy-3":return k.deleteByKey(3,e);case"strategy-1-group":return S.deleteByKey(1,e);case"strategy-2-group":return S.deleteByKey(2,e);case"strategy-3-group":return S.deleteByKey(3,e);case"strategy-1-subgroup":return x.deleteByKey(1,e);case"strategy-2-subgroup":return x.deleteByKey(2,e);case"strategy-3-subgroup":return x.deleteByKey(3,e);case"tag":return w.deleteByKey(e)}};e.exports={getList:C,getByKey:T,create:A,update:E,deleteByKey:j,updateBulk:I}}()},{"./accountService":217,"./accountTypeService":218,"./accrualCalculationModelService":219,"./counterpartyGroupService":225,"./counterpartyService":226,"./currencyHistoryService":227,"./currencyService":228,"./instrumentPeriodicityService":260,"./instrumentService":261,"./instrumentTypeService":262,"./portfolioService":277,"./priceHistoryService":278,"./pricingPolicyService":279,"./responsibleGroupService":283,"./responsibleService":284,"./strategyGroupService":286,"./strategyService":287,"./strategySubgroupService":288,"./tagService":289,"./transaction/complexTransactionService":293,"./transaction/transactionClassService":294,"./transaction/transactionTypeGroupService":295,"./transactionService":291,"./transactionTypeService":292}],232:[function(t,e,n){!function(){"use strict";var n=t("./import/currencyMappingService"),i=t("./import/instrumentTypeMappingService"),a=t("./import/accrualCalculationModelMappingService"),o=t("./import/instrumentPeriodicityMappingService"),r=t("./import/instrumentAttributeTypeMappingService"),s=function(t){switch(t){case"currency":return n.getList();case"instrument_type":return i.getList();case"accrual_calculation_model":return a.getList();case"periodicity":return o.getList();case"classifier":return r.getList()}},c=function(t,e){switch(t){case"currency":return n.getByKey(e);case"instrument_type":return i.getByKey(e);case"accrual_calculation_model":return a.getByKey(e);case"periodicity":return o.getByKey(e);case"classifier":return r.getByKey(e)}},d=function(t,e){switch(t){case"currency":return n.create(e);case"instrument_type":return i.create(e);case"accrual_calculation_model":return a.create(e);case"periodicity":return o.create(e);case"classifier":return r.create(e)}},l=function(t,e,s){switch(t){case"currency":return n.update(e,s);case"instrument_type":return i.update(e,s);case"accrual_calculation_model":return a.update(e,s);case"periodicity":return o.update(e,s);case"classifier":return r.update(e,s)}},u=function(t,e){switch(t){case"currency":return n.deleteByKey(e);case"instrument_type":return i.deleteByKey(e);case"accrual_calculation_model":return a.deleteByKey(e);case"periodicity":return o.deleteByKey(e);case"classifier":return r.deleteByKey(e)}};e.exports={getList:s,getByKey:c,create:d,update:l,deleteByKey:u}}()},{"./import/accrualCalculationModelMappingService":248,"./import/currencyMappingService":249,"./import/instrumentAttributeTypeMappingService":254,"./import/instrumentPeriodicityMappingService":255,"./import/instrumentTypeMappingService":257}],233:[function(t,e,n){!function(){var n=t("./portfolioService"),i=t("./accountService"),a=t("./accountTypeService"),o=t("./responsibleService"),r=t("./responsibleGroupService"),s=t("./counterpartyService"),c=t("./counterpartyGroupService"),d=t("./instrumentService"),l=t("./currencyService"),u=t("./priceHistoryService"),m=t("./currencyHistoryService"),p=t("./transactionService"),g=t("./transactionTypeService"),y=(t("./transaction/transactionClassService"),t("./transaction/transactionTypeGroupService")),v=t("./transaction/complexTransactionService"),f=t("./pricingPolicyService"),h=t("./instrumentTypeService"),b=(t("./accrualCalculationModelService"),t("./instrumentPeriodicityService"),t("./tagService")),_=t("./strategyService"),w=t("./strategyGroupService"),k=t("./strategySubgroupService"),S=t("./auditService"),x=t("./reportService"),C=function(t,e){switch(t){case"account":return i.getList(e);case"account-type":return a.getList(e);case"counterparty":return s.getList(e);case"counterparty-group":return c.getList(e);case"currency":return l.getList(e);case"currency-history":return m.getList(e);case"instrument":return d.getList(e);case"instrument-type":return h.getList(e);case"portfolio":return n.getList(e);case"price-history":return u.getList(e);case"pricing-policy":return f.getList(e);case"responsible":return o.getList(e);case"responsible-group":return r.getList(e);case"strategy-1":return _.getList(1,e);case"strategy-2":return _.getList(2,e);case"strategy-3":return _.getList(3,e);case"strategy-1-group":return w.getList(1,e);case"strategy-2-group":return w.getList(2,e);case"strategy-3-group":return w.getList(3,e);case"strategy-1-subgroup":return k.getList(1,e);case"strategy-2-subgroup":return k.getList(2,e);case"strategy-3-subgroup":return k.getList(3,e);case"tag":return b.getList(e);case"audit-transaction":return S.getList(e);case"audit-instrument":return S.getList(e);case"transaction":return p.getList(e);case"complex-transaction":return v.getList(e);case"transaction-type":return g.getList(e);case"transaction-type-group":return y.getList(e);case"balance-report":return x.getList(e);case"pnl-report":return x.getList(e);case"transaction-report":return x.getTransactionReport(e);case"cash-flow-projection-report":return x.getCashFlowProjectionReport(e);case"performance-report":return x.getPerformanceReport(e)}};e.exports={getList:C}}()},{"./accountService":217,"./accountTypeService":218,"./accrualCalculationModelService":219,"./auditService":221,"./counterpartyGroupService":225,"./counterpartyService":226,"./currencyHistoryService":227,"./currencyService":228,"./instrumentPeriodicityService":260,"./instrumentService":261,"./instrumentTypeService":262,"./portfolioService":277,"./priceHistoryService":278,"./pricingPolicyService":279,"./reportService":280,"./responsibleGroupService":283,"./responsibleService":284,"./strategyGroupService":286,"./strategyService":287,"./strategySubgroupService":288,"./tagService":289,"./transaction/complexTransactionService":293,"./transaction/transactionClassService":294,"./transaction/transactionTypeGroupService":295,"./transactionService":291,"./transactionTypeService":292}],234:[function(t,e,n){!function(){"use strict";var t=function(t,e){return new Promise(function(n,i){var a,o,r=[];t&&t.length&&(r=t.map(function(t){for(a=0;a<e.length;a+=1)for(o=0;o<t.attributes.length;o+=1)t.attributes[o].attribute_type===e[a].id&&(t.attributes[o].attribute_name=e[a].name,30==t.attributes[o].attribute_type_object.value_type?t[e[a].name]=t.attributes[o].classifier:40==t.attributes[o].attribute_type_object.value_type?t[e[a].name]=t.attributes[o].value_date:20==t.attributes[o].attribute_type_object.value_type?t[e[a].name]=t.attributes[o].value_float:t[e[a].name]=t.attributes[o].value_string);return t})),n(r)})};e.exports={transformItems:t}}()},{}],235:[function(t,e,n){!function(){var n=t("../repositories/eventsRepository"),i=function(){return n.getList()},a=function(t){return n.getEventAction(t)},o=function(t,e){return n.putEventAction(t,e)};e.exports={getList:i,getEventAction:a,putEventAction:o}}()},{"../repositories/eventsRepository":166}],236:[function(t,e,n){!function(){"use strict";var n=t("../repositories/entityFieldsRepository"),i=t("../repositories/accountRepository"),a=t("../repositories/accountTypeRepository"),o=t("../repositories/instrumentRepository"),r=t("../repositories/instrumentTypeRepository"),s=t("../repositories/import/importPriceDownloadSchemeRepository"),c=t("../repositories/instrument/instrumentClassRepository"),d=t("../repositories/pricingPolicyRepository"),l=t("../repositories/currencyRepository"),u=t("../repositories/portfolioRepository"),m=t("../repositories/counterpartyRepository"),p=t("../repositories/counterpartyGroupRepository"),g=t("../repositories/responsibleRepository"),y=t("../repositories/responsibleGroupRepository"),v=t("../repositories/transactionTypeRepository"),f=t("../repositories/transaction/transactionTypeGroupRepository"),h=t("../repositories/tagRepository"),b=t("../repositories/metaContentTypesRepository"),_=t("../repositories/strategyRepository"),w=t("../repositories/strategyGroupRepository"),k=t("../repositories/strategySubgroupRepository"),S=function(t,e){return new Promise(function(S,x){if(console.log("options",e),console.log("fieldKey",t),e&&e.hasOwnProperty("entityType")){var C=e.entityType.split("-"),T=C[0];if("transaction"===T&&"group"===e.key&&f.getList().then(function(t){S({type:"id",key:"group",data:t.results})}),"strategy"===T){var A=C[1];console.log("strategyNumber",A),"group"===e.key&&w.getList(A).then(function(t){S({type:"id",key:"group",data:t.results})}),"subgroup"===e.key&&k.getList(A).then(function(t){S({type:"id",key:"subgroup",data:t.results})})}"counterparty"===T&&"group"===e.key&&p.getList().then(function(t){S({type:"id",key:"group",data:t.results})}),"responsible"===T&&"group"===e.key&&y.getList().then(function(t){S({type:"id",key:"group",data:t.results})}),"tags"==t&&h.getListByContentType(e.entityType).then(function(t){S({type:"multiple-ids",key:"tags",data:t.results})})}switch(t){case"daily_pricing_model":n.getDailyPricingModelChoices().then(function(t){S({type:"id",key:"daily_pricing_model",data:t})});break;case"payment_size_detail":n.getPaymentSizeDetailChoices().then(function(t){S({type:"id",key:"payment_size_detail",data:t})});break;case"transaction_class":n.getTransactionClassList().then(function(t){S({type:"key-value",key:"transaction_class",
data:t})});break;case"instrument":o.getList().then(function(t){S({type:"id",key:"instrument",data:t.results})});break;case"pricing_policy":d.getList().then(function(t){S({type:"id",key:"pricing_policy",data:t.results})});break;case"price_download_scheme":s.getList().then(function(t){S({type:"id",key:"price_download_scheme",data:t.results})});break;case"instrument_type":r.getList().then(function(t){S({type:"id",key:"instrument_type",data:t.results})});break;case"instrument_class":c.getList().then(function(t){S({type:"id",key:"instrument_class",data:t})});break;case"accrued_currency":l.getList().then(function(t){S({type:"id",key:"accrued_currency",data:t.results})});break;case"pricing_currency":l.getList().then(function(t){S({type:"id",key:"pricing_currency",data:t.results})});break;case"transaction_currency":l.getList().then(function(t){S({type:"id",key:"transaction_currency",data:t.results})});break;case"settlement_currency":l.getList().then(function(t){S({type:"id",key:"settlement_currency",data:t.results})});break;case"currency":l.getList().then(function(t){S({type:"id",key:"currency",data:t.results})});break;case"portfolio":u.getList().then(function(t){S({type:"id",key:"portfolio",data:t.results})});break;case"account":i.getList().then(function(t){S({type:"id",key:"account",data:t.results})});break;case"counterparty":m.getList().then(function(t){S({type:"id",key:"counterparty",data:t.results})});break;case"responsible":g.getList().then(function(t){S({type:"id",key:"responsible",data:t.results})});break;case"type":a.getList().then(function(t){S({type:"id",key:"type",data:t.results})});break;case"account_cash":i.getList().then(function(t){S({type:"id",key:"account_cash",data:t.results})});break;case"account_position":i.getList().then(function(t){S({type:"id",key:"account_position",data:t.results})});break;case"account_interim":i.getList().then(function(t){S({type:"id",key:"account_interim",data:t.results})});break;case"strategy1_position":_.getList(1).then(function(t){S({type:"id",key:"strategy1_position",data:t.results})});break;case"strategy1_cash":_.getList(1).then(function(t){S({type:"id",key:"strategy1_cash",data:t.results})});break;case"strategy2_position":_.getList(2).then(function(t){S({type:"id",key:"strategy2_position",data:t.results})});break;case"strategy2_cash":_.getList(2).then(function(t){S({type:"id",key:"strategy2_cash",data:t.results})});break;case"strategy3_position":_.getList(3).then(function(t){S({type:"id",key:"strategy3_position",data:t.results})});break;case"strategy3_cash":_.getList(3).then(function(t){S({type:"id",key:"strategy3_cash",data:t.results})});break;case"portfolios":u.getList().then(function(t){S({type:"multiple-ids",key:"portfolios",data:t.results})});break;case"account_types":a.getList().then(function(t){S({type:"multiple-ids",key:"account_types",data:t.results})});break;case"transaction_types":v.getList().then(function(t){S({type:"multiple-ids",key:"transaction_types",data:t.results})});break;case"one_off_event":v.getList().then(function(t){S({type:"multiple-ids",key:"transaction_types",data:t.results})});break;case"regular_event":v.getList().then(function(t){S({type:"multiple-ids",key:"transaction_types",data:t.results})});break;case"factor_same":v.getList().then(function(t){S({type:"multiple-ids",key:"transaction_types",data:t.results})});break;case"factor_down":v.getList().then(function(t){S({type:"multiple-ids",key:"transaction_types",data:t.results})});break;case"factor_up":v.getList().then(function(t){S({type:"multiple-ids",key:"transaction_types",data:t.results})});break;case"instrument_types":r.getList().then(function(t){S({type:"multiple-ids",key:"instrument_types",data:t.results})});break;case"counterparties":m.getList().then(function(t){S({type:"multiple-ids",key:"counterparties",data:t.results})});break;case"accounts":i.getList().then(function(t){S({type:"multiple-ids",key:"accounts",data:t.results})});break;case"content_types":S({type:"multiple-ids",key:"content_types",data:b.getListForTags()});break;case"responsibles":g.getList().then(function(t){S({type:"multiple-ids",key:"responsibles",data:t.results})})}})},x=function(t,e){return new Promise(function(e,a){switch(t){case"instruments.dailypricingmodel":n.getDailyPricingModelChoices().then(function(t){e({type:"id",key:"instruments.dailypricingmodel",data:t})});break;case"instruments.paymentsizedetail":n.getPaymentSizeDetailChoices().then(function(t){e({type:"id",key:"instruments.paymentsizedetail",data:t})});break;case"instruments.instrument":o.getList().then(function(t){e({type:"id",key:"instruments.instrument",data:t.results})});break;case"integrations.pricedownloadscheme":s.getList().then(function(t){e({type:"id",key:"integrations.pricedownloadscheme",data:t.results})});break;case"instruments.instrumenttype":r.getList().then(function(t){e({type:"id",key:"instruments.instrumenttype",data:t})});break;case"currencies.currency":l.getList().then(function(t){e({type:"id",key:"currencies.currency",data:t.results})});break;case"portfolios.portfolio":u.getList().then(function(t){e({type:"id",key:"portfolios.portfolio",data:t.results})});break;case"counterparties.counterparty":m.getList().then(function(t){e({type:"id",key:"counterparties.counterparty",data:t.results})});break;case"counterparties.responsible":g.getList().then(function(t){e({type:"id",key:"counterparties.responsible",data:t.results})});break;case"accounts.account":i.getList().then(function(t){e({type:"id",key:"accounts.account",data:t.results})});break;case"strategies.strategy1":_.getList(1).then(function(t){e({type:"id",key:"strategies.strategy1",data:t.results})});break;case"strategies.strategy2":_.getList(2).then(function(t){e({type:"id",key:"strategies.strategy2",data:t.results})});break;case"strategies.strategy3":_.getList(3).then(function(t){e({type:"id",key:"strategies.strategy3",data:t.results})})}})};e.exports={getFields:S,getFieldsByContentType:x}}()},{"../repositories/accountRepository":155,"../repositories/accountTypeRepository":156,"../repositories/counterpartyGroupRepository":160,"../repositories/counterpartyRepository":161,"../repositories/currencyRepository":163,"../repositories/entityFieldsRepository":165,"../repositories/import/importPriceDownloadSchemeRepository":172,"../repositories/instrument/instrumentClassRepository":184,"../repositories/instrumentRepository":181,"../repositories/instrumentTypeRepository":182,"../repositories/metaContentTypesRepository":190,"../repositories/portfolioRepository":197,"../repositories/pricingPolicyRepository":199,"../repositories/responsibleGroupRepository":202,"../repositories/responsibleRepository":203,"../repositories/strategyGroupRepository":204,"../repositories/strategyRepository":205,"../repositories/strategySubgroupRepository":206,"../repositories/tagRepository":207,"../repositories/transaction/transactionTypeGroupRepository":212,"../repositories/transactionTypeRepository":209}],237:[function(t,e,n){!function(){"use strict";var t=function(t){var e,n=[];for(e=1;e<=t;e+=1)n.push(e);return n};e.exports={range:t}}()},{}],238:[function(t,e,n){!function(){"use strict";var t=function(t,e){return t};e.exports={setColumns:t}}()},{}],239:[function(t,e,n){!function(){"use strict";var n=t("../attributeTypeService"),i=function(t,e){console.log();var i=[],a=[];return i.push(n.getList("portfolio")),i.push(n.getList("account")),i.push(n.getList("instrument")),i.push(n.getList("currency")),Promise.all(i).then(function(t){return console.log("attributes in report",t),t.forEach(function(t,e){var n=t.results.map(function(t){return 0==e&&(t.r_entityType="portfolio",t.source_name=t.name,t.name="Portfolio: "+t.name),1==e&&(t.r_entityType="account",t.source_name=t.name,t.name="Account: "+t.name),2==e&&(t.r_entityType="instrument",t.source_name=t.name,t.name="Instrument: "+t.name),3==e&&(t.r_entityType="currency",t.source_name=t.name,t.name="Currency: "+t.name),t});a=a.concat(n)}),a})};e.exports={getDynamicAttributes:i}}()},{"../attributeTypeService":220}],240:[function(t,e,n){!function(){"use strict";var t=function(t,e){if(e.length){var n,i,a,o,r=[],s=!0;for(n=0;n<t.length;n+=1){for(a=t[n],s=!0,i=0;i<e.length;i+=1)o=e[i],o.options||(o.options={enabled:!0,query:""}),o.options.enabled&&o.options.query&&(o.key?a[o.key].toLocaleLowerCase().indexOf(o.options.query.toLocaleLowerCase())==-1&&(s=!1):a[o.name].toLocaleLowerCase().indexOf(o.options.query.toLocaleLowerCase())==-1&&(s=!1));s&&r.push(a)}return r}return t};e.exports={setFilters:t}}()},{}],241:[function(t,e,n){!function(){"use strict";var t=function(t,e){var n;for(n=0;n<t.length;n+=1)t[n].isFolded=e;return t};e.exports={setFolds:t}}()},{}],242:[function(t,e,n){!function(){"use strict";function t(t){this.type=t.type||"normal",this.cellsCaptions=t.cellsCaptions||[],this.value=t.value,this.isRootBootGroup=t.isRootBootGroup||!1,this.value_options=t.value_options||{}}function n(t){function e(t){n.push({groups:t.groups,items:t.items,level:t.level}),t.hasOwnProperty("_ancestor")&&e(t._ancestor)}var n=[];return t.hasOwnProperty("_ancestor")&&e(t._ancestor),n}function i(t,e,i,a){var o,r,s=i||"normal",c=[],d=[];if("subtotal"==s)if("area"==a.reportSettingsType){if(d=n(t),t.groups.length){var l="area";for(t.groups.length&&t.groups[0].report_settings.subtotal_type&&(l=t.groups[0].report_settings.subtotal_type),o=0;o<e;o+=1){if(o==e-1)r=JSON.parse(JSON.stringify(t.groups[0])),r.comparePattern=t.groups[0].comparePattern,r.type=l,r.level=e,r.value="Subtotal";else for(u=0;u<d.length;u+=1)d[u].level==o&&(r={},d[u].items[0]._lid==t.items[0]._lid&&(r=JSON.parse(JSON.stringify(d[u].groups[0]))),r.comparePattern=d[u].groups[0].comparePattern,r.type=l,r.level=o+1,r.value="");c.push(r)}}}else if("line"==a.reportSettingsType&&(e-=1,e>0))for(o=0;o<=e;o+=1)r={value:"",comparePattern:t.groups[0].comparePattern,type:t.groups[0].report_settings.subtotal_type},o==e&&(r.level=e+1),c.push(r);if("breadcrumb"==s){d=n(t);var u;for(o=0;o<e;o+=1){if(o==e-1)r=t.groups[0],r.comparePattern=t.groups[0].comparePattern,r.type=t.groups[0].report_settings.subtotal_type,r.level=e;else for(u=0;u<d.length;u+=1)d[u].level==o&&(r=d[u].groups[0],r.comparePattern=d[u].groups[0].comparePattern,r.type=d[u].groups[0].report_settings.subtotal_type,r.level=o+1);c.push(r)}}if("normal"==s)if(t.hasOwnProperty("breadcrumbs_level_0")&&t.breadcrumbs_level_0.length&&t.breadcrumbs_level_0[0].hasOwnProperty("groups"))for(o=1;o<=e;o+=1)r={value:"",comparePattern:t.groups[0].comparePattern,type:t.groups[0].report_settings.subtotal_type,level:o},o==e&&(r.level=e),c.push(r);else if(d=n(t),t.groups.length){var l="area";for(t.groups.length&&t.groups[0].report_settings.subtotal_type&&(l=t.groups[0].report_settings.subtotal_type),o=0;o<e;o+=1){if(o==e-1)r=JSON.parse(JSON.stringify(t.groups[0])),r.comparePattern=t.groups[0].comparePattern,r.type=l,r.level=e,0!=a.itemIndex&&(r.value="");else for(u=0;u<d.length;u+=1)d[u].level==o&&(r={},d[u].items[0]._lid==t.items[0]._lid&&(r=JSON.parse(JSON.stringify(d[u].groups[0]))),r.comparePattern=d[u].groups[0].comparePattern,r.type=l,r.level=o+1,0!=a.itemIndex&&(r.value=""));c.push(r)}}return c}function a(e,n,o){e.forEach(function(e){var r,s;e.hasOwnProperty("boot_level_"+n)||0==n&&(n+=1),e.hasOwnProperty("groups")&&e.groups.length&&e.groups[0].report_settings&&"line"==e.groups[0].report_settings.subtotal_type&&0!==n&&(r=i(e,n,"subtotal",{reportSettingsType:"line"}),s={cellsCaptions:r,value:e.subTotal,type:"subtotal-line",value_options:{type:e.groups[0].report_settings.subtotal_type,level:n}},o.push(new t(s))),0==n&&(r=i(e,n),s={cellsCaptions:r,value:e.groups,type:"preinit",value_options:{level:n}},o.push(new t(s))),e.hasOwnProperty("boot_level_"+n)?a(e["boot_level_"+n],n+1,o):e.hasOwnProperty("breadcrumbs_level_0")&&e.breadcrumbs_level_0[0].items?e.breadcrumbs_level_0.forEach(function(a,r){var s=i(e,n,"breadcrumb",{inGroupIndex:r}),c={cellsCaptions:s,value:a.groups,type:"breadcrumbs",value_options:{level:n}};o.push(new t(c)),a.items.forEach(function(a){var r=i(e,n,"normal"),s={cellsCaptions:r,value:a,value_options:{level:n}};o.push(new t(s))})}):e.hasOwnProperty("items")&&e.items.length&&e.items.forEach(function(a,r){var s=i(e,n,"normal",{itemIndex:r}),c={cellsCaptions:s,value:a,value_options:{level:n}};o.push(new t(c))}),e.hasOwnProperty("groups")&&e.groups.length&&e.groups[0].report_settings&&"area"==e.groups[0].report_settings.subtotal_type&&0!==n&&(r=i(e,n,"subtotal",{reportSettingsType:"area"}),s={cellsCaptions:r,value:e.subTotal,type:"subtotal",value_options:{type:e.groups[0].report_settings.subtotal_type,level:n}},o.push(new t(s)))})}var o=function(t){var e=0,n=[];return a(t,e,n),n};e.exports={transformItems:o}}()},{}],243:[function(t,e,n){!function(){"use strict";function n(){var t=this;this.setItems=function(t){this.items=t},this.extractDynamicAttributes=i.extractDynamicAttributes,this.columns={setColumns:function(e){t.items=r.setColumns(t.items,e)}},this.grouping={setGroups:function(e,n){console.log("this",t),t.items=i.setGroups(t.items,e,n)},setGroupsWithColumns:function(e,n,a){t.items=i.setGroupsWithColumns(t.items,e,n,a)}},this.filtering={setFilters:function(e){t.items=a.setFilters(t.items,e)}},this.folding={setFolds:function(e){t.items=s.setFolds(t.items,e)}},this.sorting={group:{sort:function(e){t.items=o.group.sort(t.items,e)}},column:{sort:function(e){t.items=o.column.sort(t.items,e)}}},this.projection=function(){return this.items}}var i=t("./groupingService"),a=t("./filteringService"),o=t("./sortingService"),r=t("./columnsService"),s=t("./foldingService"),c=function(t){return new n};e.exports={getInstance:c}}()},{"./columnsService":238,"./filteringService":240,"./foldingService":241,"./groupingService":244,"./sortingService":245}],244:[function(t,e,n){!function(){function n(t){return 30==t.attribute_type_object.value_type?t.classifier:40==t.attribute_type_object.value_type?t.value_date:20==t.attribute_type_object.value_type?t.value_float:10==t.attribute_type_object.value_type&&""!==t.value_string?t.value_string:null}function i(t,e,n,i){"boot"==n&&t["boot_level_"+e].forEach(function(n){var i=JSON.parse(JSON.stringify(t));e>0?i.level=e-1:i.level=e,delete i["boot_level_"+e],n._ancestor=i}),"breadcrumb"==n&&t["breadcrumbs_level_"+e].forEach(function(n){var a=JSON.parse(JSON.stringify(t));delete a["breadcrumbs_level_"+e],a.level=i.bootLevel,n._ancestor=a})}function a(t){return 30==t.attribute_type_object.value_type?"classifier":40==t.attribute_type_object.value_type?"value_date":20==t.attribute_type_object.value_type?"value_float":10==t.attribute_type_object.value_type?"value_string":null}function o(t,e,n,a){function o(t,e,n,a,r){var c={columns:r.columns};if(1==r.boot)if(e.bootsGroup[a])if(s.length)t.forEach(function(t){t["boot_level_"+a]=m(t.items,[e.bootsGroup[a]],n,c),i(t,a,"boot"),e.bootsGroup[a+1]&&o(t["boot_level_"+a],e,n,a+1,r)}),e.bootsGroup[a+1]||1==r.breadcrumbs&&e.linesGroup.length&&t.forEach(function(t){t["boot_level_"+a].forEach(function(t){t.breadcrumbs_level_0=m(t.items,e.linesGroup,n,c),i(t,0,"breadcrumb",{bootLevel:a})})});else{var d=m(t,[e.bootsGroup[a]],n,c);d.forEach(function(t){s.push(t)}),o(s,e,n,a+1,r)}else 1==r.breadcrumbs&&e.linesGroup.length&&t.forEach(function(t){t.breadcrumbs_level_0=m(t.items,e.linesGroup,n,c)})}var r=0,s=[];return o(t,e,n,r,a),s}function r(t,e,n){var i=!1;return e.forEach(function(e){e[n]==t[n]&&(i=!0)}),i}function s(t){return"id"in t.attribute_type_object&&"number"==typeof t.attribute_type_object.id&&!isNaN(t.attribute_type_object.id)}function c(t){var e=[],n={instrument:[],account:[],currency:[],portfolio:[]},i=[];return i=t.map(function(t){return t.hasOwnProperty("instrument_object")&&null!==t.instrument_object&&(n.instrument=n.instrument.concat(JSON.parse(JSON.stringify(t.instrument_object.attributes))).filter(s),t.instrument_object.attributes.forEach(function(n){var i="instrument_attribute_"+n.attribute_type_object.name;e.indexOf(i)==-1&&e.push(i),10==n.attribute_type_object.value_type&&(t[i]=n.value_string),20==n.attribute_type_object.value_type&&(t[i]=n.value_float),30==n.attribute_type_object.value_type&&(t[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(t[i]=n.value_date)})),t.hasOwnProperty("account_object")&&null!==t.account_object&&(n.account=n.account.concat(JSON.parse(JSON.stringify(t.account_object.attributes))).filter(s),t.account_object.attributes.forEach(function(n){var i="account_attribute_"+n.attribute_type_object.name;e.indexOf(i)==-1&&e.push(i),10==n.attribute_type_object.value_type&&(t[i]=n.value_string),20==n.attribute_type_object.value_type&&(t[i]=n.value_float),30==n.attribute_type_object.value_type&&(t[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(t[i]=n.value_date)})),t.hasOwnProperty("portfolio_object")&&null!==t.portfolio_object&&(n.portfolio=n.portfolio.concat(JSON.parse(JSON.stringify(t.portfolio_object.attributes))).filter(s),t.portfolio_object.attributes.forEach(function(n){var i="portfolio_attribute_"+n.attribute_type_object.name;e.indexOf(i)==-1&&e.push(i),10==n.attribute_type_object.value_type&&(t[i]=n.value_string),20==n.attribute_type_object.value_type&&(t[i]=n.value_float),30==n.attribute_type_object.value_type&&(t[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(t[i]=n.value_date)})),t.hasOwnProperty("currency_object")&&null!==t.currency_object&&(n.currency=n.currency.concat(JSON.parse(JSON.stringify(t.currency_object.attributes))).filter(s),t.currency_object.attributes.forEach(function(n){var i="currency_attribute_"+n.attribute_type_object.name;e.indexOf(i)==-1&&e.push(i),10==n.attribute_type_object.value_type&&(t[i]=n.value_string),20==n.attribute_type_object.value_type&&(t[i]=n.value_float),30==n.attribute_type_object.value_type&&(t[i]=n.classifier_object),40==n.attribute_type_object.value_type&&(t[i]=n.value_date)})),t}),Object.keys(n).forEach(function(t){n[t].forEach(function(t){t.value_string="Ungrouped"})}),i.map(function(t){return e.forEach(function(e){t.hasOwnProperty(e)||(t[e]="")}),t.hasOwnProperty("instrument_object")&&null==t.instrument_object&&(t.instrument_object={attributes:n.instrument}),t.hasOwnProperty("portfolio_object")&&null==t.portfolio_object&&(t.portfolio_object={attributes:n.portfolio}),t.hasOwnProperty("account_object")&&null==t.account_object&&(t.account_object={attributes:n.account}),t.hasOwnProperty("currency_object")&&null==t.currency_object&&(t.currency_object={attributes:n.currency}),t})}var d=t("../metaService"),l=t("../reportSubtotalService"),u=function(t){var e,n=[],i=Object.keys(t);for(e=0;e<i.length;e+=1)n.push(t[i[e]]);return n},m=function(t,e,i,o){function r(t){return""==t?null:t}function s(t,e,i){var o;if(t.hasOwnProperty("id"))if(t.hasOwnProperty("r_entityType")){if(t.id==i.attribute_type_object.id&&null!==n(i)){var s=t.r_entityType+"_attribute_"+t.source_name;o={comparePattern:"&["+r(s)+"}-{"+r(e[s])+"]",key:s,value:n(i),value_type:a(i)},t.hasOwnProperty("report_settings")&&(o.report_settings=t.report_settings),w.push(o)}}else t.id===i.attribute_type&&null!==n(i)&&(o={comparePattern:"&["+i.attribute_type+"}-{"+n(i)+"]",key:i.attribute_name.replace(" ","_"),value:n(i),value_type:a(i)},t.hasOwnProperty("report_settings")&&(o.report_settings=t.report_settings),w.push(o));else for(g=0;g<b.length;g+=1){var c,d=!1;if(t.key===b[g].key){for(c=0;c<w.length;c+=1)w[c].comparePattern.indexOf("&["+b[g].key+"}-{"+r(e[b[g].key])+"]")!==-1&&(d=!0);d||(o={comparePattern:"&["+b[g].key+"}-{"+r(e[b[g].key])+"]",key:b[g].key.replace(" ","_"),value:r(e[b[g].key]),value_type:b[g].value_type},t.hasOwnProperty("report_settings")&&(o.report_settings=t.report_settings),w.push(o))}}}var c,m,p,g,y=[],v=[],f=[],h=[];d&&(d.getEntitiesWithoutBaseAttrsList().indexOf(i)===-1&&(f=d.getBaseAttrs()),h=d.getEntityAttrs(i));var b=[];b=b.concat(f),b=b.concat(h);var _="",w=[];if(e.length){var k,S;for(c=0;c<t.length;c+=1){for(S=t[c],w=[],_="",m=0;m<e.length;m+=1)if(k=e[m],k.hasOwnProperty("key")){s(k,S);var x=Object.keys(t[c]);for(p=0;p<x.length;p+=1)_.indexOf("&["+r(k.key)+"}-{"+r(S[k.key])+"]")===-1&&(_=_+"&["+r(k.key)+"}-{"+r(S[k.key])+"]")}else if(k.hasOwnProperty("r_entityType")){if(S.hasOwnProperty("account_object")&&null!==S.account_object)for(p=0;p<S.account_object.attributes.length;p+=1){s(k,S,S.account_object.attributes[p]);var x=Object.keys(t[c]),C=k.r_entityType+"_attribute_"+k.source_name;for(p=0;p<x.length;p+=1)_.indexOf("&["+r(C)+"}-{"+r(S[C])+"]")===-1&&(_=_+"&["+r(C)+"}-{"+r(S[C])+"]")}if(S.hasOwnProperty("instrument_object")&&null!==S.instrument_object)for(p=0;p<S.instrument_object.attributes.length;p+=1){s(k,S,S.instrument_object.attributes[p]);var x=Object.keys(t[c]),C=k.r_entityType+"_attribute_"+k.source_name;for(p=0;p<x.length;p+=1)_.indexOf("&["+r(C)+"}-{"+r(S[C])+"]")===-1&&(_=_+"&["+r(C)+"}-{"+r(S[C])+"]")}if(S.hasOwnProperty("portfolio_object")&&null!==S.portfolio_object)for(p=0;p<S.portfolio_object.attributes.length;p+=1){s(k,S,S.portfolio_object.attributes[p]);var x=Object.keys(t[c]),C=k.r_entityType+"_attribute_"+k.source_name;for(p=0;p<x.length;p+=1)_.indexOf("&["+r(C)+"}-{"+r(S[C])+"]")===-1&&(_=_+"&["+r(C)+"}-{"+r(S[C])+"]")}if(S.hasOwnProperty("currency_object")&&null!==S.currency_object)for(p=0;p<S.currency_object.attributes.length;p+=1){s(k,S,S.currency_object.attributes[p]);var x=Object.keys(t[c]),C=k.r_entityType+"_attribute_"+k.source_name;for(p=0;p<x.length;p+=1)_.indexOf("&["+r(C)+"}-{"+r(S[C])+"]")===-1&&(_=_+"&["+r(C)+"}-{"+r(S[C])+"]")}}else if(S.hasOwnProperty("attributes"))for(console.log("item.attributes",S.attributes),p=0;p<S.attributes.length;p+=1)if(s(k,S,S.attributes[p]),k.hasOwnProperty("r_entityType")){if(null!==S[k.r_entityType+"_attribute_"+k.source_name]){var T=k.r_entityType+"_attribute_"+k.source_name;_.indexOf("&["+r(k.source_name)+"}-{"+r(S[T])+"]")===-1&&(_=_+"&["+r(k.source_name)+"}-{"+r(S[T])+"]")}}else null!==S[k.name]&&_.indexOf("&["+r(k.name)+"}-{"+r(S[k.name])+"]")===-1&&(_=_+"&["+r(k.name)+"}-{"+r(S[k.name])+"]");y[_]||(y[_]={groups:w,items:[]}),y[_].items.push(S),v=u(y)}return o&&v.forEach(function(t){t.subTotal=l.calcColumnSubTotal(t,o.columns)}),v}return t},p=function(t,e,n,i){function a(){e.forEach(function(t,e){n.forEach(function(n,i){t.hasOwnProperty("id")&&n.hasOwnProperty("id")?t.id==n.id&&(null==g?(g={groupIndex:e,columnIndex:i},l.push(t)):e-g.groupIndex==i-g.columnIndex&&l.push(t)):t.hasOwnProperty("key")&&n.hasOwnProperty("key")&&t.key==n.key&&(null==g?(g={groupIndex:e,columnIndex:i},l.push(t)):e-g.groupIndex==i-g.columnIndex&&l.push(t))})})}function s(){e.forEach(function(t,e){n.forEach(function(n,i){e==i&&e<g.groupIndex&&(t.hasOwnProperty("id")&&n.hasOwnProperty("id")?t.id!==n.id&&d.push(t):t.hasOwnProperty("key")&&n.hasOwnProperty("key")?t.key!==n.key&&d.push(t):d.push(t))})})}function c(){e.forEach(function(t,e){n.forEach(function(n,i){null!==g.groupIndex&&e>g.groupIndex+l.length-1&&(t.hasOwnProperty("id")?r(t,u,"id")||u.push(t):r(t,u,"key")||u.push(t))})})}var d=[],l=[],u=[],p=[],g=null;if(e.length){t.forEach(function(t,e){t._lid=e}),a(),s(),c();var e={};if(d.length){var y={columns:n};p=m(t,d,i,y),p.forEach(function(t){e={preInitGroups:d,bootsGroup:l,linesGroup:u},t.boot_level_0=o(t.items,e,i,{boot:!0,breadcrumbs:!0,columns:n})})}else e={preInitGroups:d,bootsGroup:l,linesGroup:u},p=o(t,e,i,{boot:!0,breadcrumbs:!0,columns:n});return p}return t};e.exports={setGroups:m,setGroupsWithColumns:p,extractDynamicAttributes:c}}()},{"../metaService":275,"../reportSubtotalService":281}],245:[function(t,e,n){!function(){"use strict";function t(t,e){return t.sort(function(t,n){var i=t[e.name].toLowerCase(),a=n[e.name].toLowerCase();return"DESC"===e.sort?i<a?-1:i>a?1:0:"ASC"===e.sort?i>a?-1:i<a?1:0:void 0})}function n(t,e){return t.sort(function(t,n){var i,a;return"number"==typeof t&&(i=t[e.key],a=n[e.key]),"string"==typeof t&&(i=t[e.key].toLowerCase(),a=n[e.key].toLowerCase()),"DESC"===e.sort?i<a?-1:i>a?1:0:"ASC"===e.sort?i>a?-1:i<a?1:0:void 0})}var i=function(t,e){var n,i,a,o;return t.length&&t[0].groups&&(t=t.sort(function(t,r){for(n=0;n<r.groups.length;n+=1)for(i=0;i<t.groups.length;i+=1)if((r.groups[n].key===e.key||r.groups[n].key===e.name&&t.groups[i].key===e.key||t.groups[i].key===e.name)&&null!==r.groups[n].value&&null!==!r.groups[n].value){if(a=t.groups[i].value+"",a=a.toLowerCase(),o=r.groups[n].value+"",o=o.toLowerCase(),"DESC"===e.sort)return a<o?-1:a>o?1:0;if("ASC"===e.sort)return a>o?-1:a<o?1:0}})),t},a=function(e,i){return i.id&&(e=t(e,i)),i.key&&(e=n(e,i)),e},o=function(e,i){var a;if(e.length&&e[0].groups){if(i.id)for(a=0;a<e.length;a+=1)e[a].items=t(e[a].items,i);if(i.key)for(a=0;a<e.length;a+=1)e[a].items=n(e[a].items,i)}else i.id&&(e=t(e,i)),i.key&&(e=n(e,i));return e};e.exports={group:{sort:i},column:{additions:{sort:a},sort:o}}}()},{}],246:[function(t,e,n){!function(){"use strict";var t={addEntityBtn:!0},n=function(e){return["transaction"].indexOf(e)!==-1||e.indexOf("audit")!==-1?t.addEntityBtn=!1:t.addEntityBtn=!0,t};e.exports={setTablePartsSettings:n}}()},{}],247:[function(t,e,n){!function(){"use strict";var n=t("../repositories/importInstrumentRepository"),i=function(){return n.getInstrumentMappingList()};e.exports={getInstrumentMappingList:i}}()},{"../repositories/importInstrumentRepository":167}],248:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/accrualCalculationModelMappingRepository"),i=function(){return n.getList()},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/accrualCalculationModelMappingRepository":168}],249:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/currencyMappingRepository"),i=function(){return n.getList()},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/currencyMappingRepository":169}],250:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/dataProvidersRepository"),i=function(){return n.getList()},a=function(t){return n.getConfig(t)},o=function(t,e){return n.setConfig(t,e)};e.exports={getList:i,getConfig:a,setConfig:o}}()},{"../../repositories/import/dataProvidersRepository":170}],251:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/importInstrumentRepository"),i=function(t){return n.startImport(t)};e.exports={startImport:i}}()},{"../../repositories/import/importInstrumentRepository":171}],252:[function(t,e,n){!function(){var n=t("../../repositories/import/importPriceDownloadSchemeRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/importPriceDownloadSchemeRepository":172}],253:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/importPricingRepository"),i=function(t){return n.create(t)};e.exports={create:i}}()},{"../../repositories/import/importPricingRepository":173}],254:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/instrumentAttributeTypeMappingRepository"),i=function(){return n.getList()},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentAttributeTypeMappingRepository":174}],255:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/instrumentPeriodicityMappingRepository"),i=function(){return n.getList()},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentPeriodicityMappingRepository":175}],256:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/instrumentSchemeRepository"),i=function(t){return n.getList(t)},a=function(t){return n.create(t)},o=function(t){return n.getByKey(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,create:a,getByKey:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentSchemeRepository":176}],257:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/instrumentTypeMappingRepository"),i=function(){return n.getList()},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/import/instrumentTypeMappingRepository":177}],258:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/pricingAutomatedScheduleRepository"),i=function(t){return n.updateSchedule(t)},a=function(){return n.getSchedule()};e.exports={getSchedule:a,updateSchedule:i}}()},{"../../repositories/import/pricingAutomatedScheduleRepository":178}],259:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/import/scheduleRepository"),i=function(){return n.getAccrualScheduleDownloadMethodList()},a=function(){return n.getFactorScheduleDownloadMethodList()};e.exports={getAccrualScheduleDownloadMethodList:i,getFactorScheduleDownloadMethodList:a}}()},{"../../repositories/import/scheduleRepository":179}],260:[function(t,e,n){!function(){"use strict";var n=t("../repositories/instrumentPeriodicityRepository"),i=function(){return n.getList()};e.exports={getList:i}}()},{"../repositories/instrumentPeriodicityRepository":180}],261:[function(t,e,n){!function(){var n=t("../repositories/instrumentRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)},c=function(t){return n.updateBulk(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/instrumentRepository":181}],262:[function(t,e,n){!function(){var n=t("../repositories/instrumentTypeRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/instrumentTypeRepository":182}],263:[function(t,e,n){!function(){var n=t("../../repositories/instrument/instrumentAttributeTypeRepository"),i={},a=function(t){return n.getList(t)},o=function(t){return n.getListByAttributeType(t)},r=function(t){return n.getByKey(t)},s=function(t){return i["id_"+t]?Promise(function(e,n){e(i["id_"+t])}):n.getByKey(t)},c=function(t){return n.create(t)},d=function(t,e){return n.update(t,e)},l=function(t){return n.deleteByKey(t)};e.exports={getList:a,getListByAttributeType:o,getByKey:r,create:c,update:d,deleteByKey:l,singleton:{getByKeyAttr:s}}}()},{"../../repositories/instrument/instrumentAttributeTypeRepository":183}],264:[function(t,e,n){!function(){var n=t("../../repositories/instrument/instrumentDailyPricingModelRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/instrument/instrumentDailyPricingModelRepository":185}],265:[function(t,e,n){!function(){var n=t("../../repositories/instrument/instrumentEventScheduleConfigRepository"),i=function(t){return n.getList(t);
},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/instrument/instrumentEventScheduleConfigRepository":186}],266:[function(t,e,n){!function(){var n=t("../../repositories/instrument/instrumentPaymentSizeDetailRepository"),i=function(t){return n.getList(t)};e.exports={getList:i}}()},{"../../repositories/instrument/instrumentPaymentSizeDetailRepository":187}],267:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/instrument/instrumentRecalculateAccruedPriceRepository"),i=function(t,e){return n.recalculate(t,e)};e.exports={recalculate:i}}()},{"../../repositories/instrument/instrumentRecalculateAccruedPriceRepository":188}],268:[function(t,e,n){!function(){"use strict";var t=function(){return[{key:"layoutLine",name:"Line",value_type:"decoration"},{key:"layoutLineWithLabel",name:"Labeled Line",value_type:"decoration"}]};e.exports={getLayoutAttrs:t}}()},{}],269:[function(t,e,n){!function(){"use strict";var n=t("../repositories/membersAndGroupsRepository"),i=function(t){return n.getList(t)},a=function(t,e){return n.getMemberOrGroupByKey(t,e)},o=function(t,e){return n.create(t,e)},r=function(t,e,i){return n.update(t,e,i)},s=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:i,getMemberOrGroupByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/membersAndGroupsRepository":189}],270:[function(t,e,n){!function(){var n=t("../repositories/metaContentTypesRepository"),i=function(t){return n.getListForTags(t)},a=function(){return n.getListForUi()},o=function(t,e){var n;"tag"==e?n=i():"ui"==e&&(n=a());var o=null;return n.forEach(function(e){e.entity==t&&(o=e.key)}),o},r=function(){return n.getListForTransactionTypeInputs()},s=function(t){var e="";return console.log("state",t),t.indexOf("app.data")===-1&&t.indexOf("app.reports")===-1||(e=t.split(".")[2]),console.log("result 3232",e),e};e.exports={getListForTags:i,getListForUi:a,findContentTypeByEntity:o,getListForTransactionTypeInputs:r,getContentTypeUIByState:s}}()},{"../repositories/metaContentTypesRepository":190}],271:[function(t,e,n){!function(){"use strict";var n=t("../repositories/metaEventClassRepository"),i=function(){return n.getList()};e.exports={getList:i}}()},{"../repositories/metaEventClassRepository":191}],272:[function(t,e,n){!function(){"use strict";var n=t("../repositories/metaNotificationClassRepository"),i=function(){return n.getList()};e.exports={getList:i}}()},{"../repositories/metaNotificationClassRepository":192}],273:[function(t,e,n){!function(){"use strict";var n=t("../repositories/metaPermissionsRepository"),i=function(){return n.getEntitiesWithDisabledPermissions()};e.exports={getEntitiesWithDisabledPermissions:i}}()},{"../repositories/metaPermissionsRepository":193}],274:[function(t,e,n){!function(){"use strict";var n=t("../repositories/metaRestrictionsRepository"),i=function(){return n.getEntitiesWithoutDynamicAttrsList()},a=function(){return n.getEntitiesWithoutBaseAttrsList()},o=function(){return n.getEntitiesWithoutBaseAttrsList()};e.exports={getEntitiesWithoutDynamicAttrsList:i,getEntitiesWithoutBaseAttrsList:a,getRestrictedEntitiesWithTypeField:o}}()},{"../repositories/metaRestrictionsRepository":195}],275:[function(t,e,n){!function(){var n=t("../repositories/metaRepository"),i=function(){return n.getMenu()},a=function(){return n.getBaseAttrs()},o=function(t){return n.getEntityAttrs(t)},r=function(){return n.getValueTypes()},s=function(){return n.getEntitiesWithoutBaseAttrsList()},c=function(){return n.getEntitiesWithoutDynAttrsList()},d=function(){return n.getRestrictedEntitiesWithTypeField()},l=function(){var t=r(),e=t.map(function(t){switch(t.display_name){case"Number":t.caption_name="Whole number";break;case"Float":t.caption_name="Number with decimals";break;case"Classifier":t.caption_name="Classification";break;case"Field":t.caption_name="Reference";break;case"String":t.caption_name="Text";break;case"Boolean":t.caption_name="True/False";break;case"Decoration":t.caption_name="Decoration";break;default:t.caption_name=t.display_name}return t});return e},u={groupOne:"400px",groupTwo:"600px",groupThree:"300px",groupFour:"450px",groupFive:"200px",newColumnAdded:!1},m=function(){return n.getDynamicAttrsValueTypes()},p=function(){var t=m(),e=t.map(function(t){switch(t.display_name){case"Number":t.caption_name="Number with decimals";break;case"Classifier":t.caption_name="Classification";break;case"Date":t.caption_name="Date";break;case"String":t.caption_name="Text"}return t});return e},g=function(t){return"boolean"!=typeof t?u:void(u.newColumnAdded=t)},y=function(t){switch(t){case"portfolio":case"account":case"counterparty":case"responsible":case"instrument":case"transaction":case"strategies":return!0;default:return!1}},v=function(t){return n.getEntityTabs(t)},f=function(){return n.getEntitiesWithSimpleFields()},h=function(){return n.getFieldsWithTagGrouping()};e.exports={getMenu:i,getBaseAttrs:a,getEntityAttrs:o,getValueTypes:r,getDynamicAttrsValueTypes:m,getDynamicAttrsValueTypesCaptions:p,getEntitiesWithoutBaseAttrsList:s,getEntitiesWithoutDynAttrsList:c,getRestrictedEntitiesWithTypeField:d,getTypeCaptions:l,columnsWidthGroups:g,getEntityTabs:v,getEntitiesWithSimpleFields:f,checkRestrictedEntityTypesForAM:y,getFieldsWithTagGrouping:h}}()},{"../repositories/metaRepository":194}],276:[function(t,e,n){!function(){"use strict";var n=t("../repositories/notificationsRepository"),i=function(t,e){return n.getList(t,e)},a=function(t,e){return n.markAsReaded(t,e)},o=function(){return n.markAllAsReaded()};e.exports={getList:i,markAsReaded:a,markAllAsReaded:o}}()},{"../repositories/notificationsRepository":196}],277:[function(t,e,n){!function(){var n=t("../repositories/portfolioRepository"),i=function(){return n.getClassifierNodeList()},a=function(t){return n.getClassifierNodeByKey(t)},o=function(){return n.getClassifierList()},r=function(t){return n.getClassifierByKey(t)},s=function(t){return n.getList(t)},c=function(t){return n.getByKey(t)},d=function(t){return n.create(t)},l=function(t,e){return n.update(t,e)},u=function(t){return n.deleteByKey(t)},m=function(t){return n.updateBulk(t)};e.exports={getClassifierNodeList:i,getClassifierNodeByKey:a,getClassifierList:o,getClassifierByKey:r,getList:s,getByKey:c,create:d,update:l,deleteByKey:u,updateBulk:m}}()},{"../repositories/portfolioRepository":197}],278:[function(t,e,n){!function(){var n=t("../repositories/priceHistoryRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/priceHistoryRepository":198}],279:[function(t,e,n){!function(){"use strict";var n=t("../repositories/pricingPolicyRepository"),i=function(){return n.getList()},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/pricingPolicyRepository":199}],280:[function(t,e,n){!function(){"use strict";var n=t("../repositories/reportRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getCashFlowProjectionReport(t)},o=function(t){return n.getTransactionReport(t)},r=function(t){return n.getPerformanceReport(t)};e.exports={getList:i,getCashFlowProjectionReport:a,getTransactionReport:o,getPerformanceReport:r}}()},{"../repositories/reportRepository":200}],281:[function(t,e,n){!function(){"use strict";function t(t,e,n){t[e.key]||(t[e.key]=0),n.items.forEach(function(n){t[e.key]=t[e.key]+parseFloat(n[e.key])})}function n(t,e,n){t[e.key]||(t[e.key]=0),n.items.forEach(function(n){n.market_value&&(t[e.key]=t[e.key]+parseFloat(n[e.key]*n.market_value))})}function i(t,e,n){t[e.key]||(t[e.key]=0),n.items.forEach(function(n){n.market_value_percent&&(t[e.key]=t[e.key]+parseFloat(n[e.key]*n.market_value_percent))})}function a(t,e,n){t[e.key]||(t[e.key]=0),n.items.forEach(function(n){n.exposure&&(t[e.key]=t[e.key]+parseFloat(n[e.key]*n.exposure))})}function o(t,e,n){t[e.key]||(t[e.key]=0),n.items.forEach(function(n){n.exposure_percent&&(t[e.key]=t[e.key]+parseFloat(n[e.key]*n.exposure_percent))})}function r(t,e,n){t[e.key]||(t[e.key]=0);var i=0;n.items.forEach(function(t){t.market_value&&(i+=t.market_value)}),n.items.forEach(function(n){if(n.market_value){var a=n.market_value/i;t[e.key]=t[e.key]+parseFloat(n[e.key]*a)}})}function s(t,e,n){t[e.key]||(t[e.key]=0);var i=0;n.items.forEach(function(t){t.market_value_percent&&(i+=t.market_value_percent)}),n.items.forEach(function(n){if(n.market_value_percent){var a=n.market_value_percent/i;t[e.key]=t[e.key]+parseFloat(n[e.key]*a)}})}function c(t,e,n){t[e.key]||(t[e.key]=0);var i=0;n.items.forEach(function(t){t.exposure&&(i+=t.exposure)}),n.items.forEach(function(n){if(n.exposure){var a=n.exposure/i;t[e.key]=t[e.key]+parseFloat(n[e.key]*a)}})}function d(t,e,n){t[e.key]||(t[e.key]=0);var i=0;n.items.forEach(function(t){t.exposure_percent&&(i+=t.exposure_percent)}),n.items.forEach(function(n){if(n.exposure_percent){var a=n.exposure_percent/i;t[e.key]=t[e.key]+parseFloat(n[e.key]*a)}})}function l(e,l,u){if(l.report_settings&&l.report_settings.subtotal_formula_id)switch(l.report_settings.subtotal_formula_id){case 1:t(e,l,u);break;case 2:n(e,l,u);break;case 3:i(e,l,u);break;case 4:a(e,l,u);break;case 5:o(e,l,u);break;case 6:r(e,l,u);break;case 7:s(e,l,u);break;case 8:c(e,l,u);break;case 9:d(e,l,u)}}var u=function(t,e){var n={};return e.forEach(function(e){"float"==e.value_type&&l(n,e,t)}),n},m=function(t,e){var n=[];return e.calculationGroup?t.forEach(function(t){if(n.length){var i=!1;n.forEach(function(n){n.name==e.calculationGroup+"_"+t[e.calculationGroup+"_object"].id&&(n.items.push(t),i=!0)}),i||n.push({name:e.calculationGroup+"_"+t[e.calculationGroup+"_object"].id,items:[t]})}else n.push({name:e.calculationGroup+"_"+t[e.calculationGroup+"_object"].id,items:[t]})}):n.push({name:"",items:t}),n.forEach(function(t){var e=0,n=0;t.items.forEach(function(t){e+=t.market_value,n+=t.exposure}),t.items.forEach(function(t){e>0?t.market_value_percent=t.market_value/e*100:t.market_value_percent=0,n>0?t.exposure_percent=t.exposure/n*100:t.exposure_percent=0})}),t};e.exports={calcColumnSubTotal:u,groupByAndCalc:m}}()},{}],282:[function(t,e,n){!function(){var n=t("../../repositories/reports/balanceReportCustomAttrRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/reports/balanceReportCustomAttrRepository":201}],283:[function(t,e,n){!function(){var n=t("../repositories/responsibleGroupRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/responsibleGroupRepository":202}],284:[function(t,e,n){!function(){var n=t("../repositories/responsibleRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)},c=function(t){return n.updateBulk(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,updateBulk:c}}()},{"../repositories/responsibleRepository":203}],285:[function(t,e,n){!function(){"use strict";var t=function(t,e){var n="",i={};if(e.indexOf("strategy")!==-1){var a=e.split("-");n=t+a[0]+"-"+a[2],i={strategyNumber:a[1]}}else n=t+e;return{state:n,options:i}};e.exports={findExistingState:t}}()},{}],286:[function(t,e,n){!function(){"use strict";var n=t("../repositories/strategyGroupRepository"),i=function(t,e){return n.getList(t,e)},a=function(t,e){return n.getByKey(t,e)},o=function(t,e){return n.create(t,e)},r=function(t,e,i){return n.update(t,e,i)},s=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/strategyGroupRepository":204}],287:[function(t,e,n){!function(){"use strict";var n=t("../repositories/strategyRepository"),i=function(t,e){return n.getList(t,e)},a=function(t,e){return n.getByKey(t,e)},o=function(t,e){return n.create(t,e)},r=function(t,e,i){return n.update(t,e,i)},s=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/strategyRepository":205}],288:[function(t,e,n){!function(){"use strict";var n=t("../repositories/strategySubgroupRepository"),i=function(t,e){return n.getList(t,e)},a=function(t,e){return n.getByKey(t,e)},o=function(t,e){return n.create(t,e)},r=function(t,e,i){return n.update(t,e,i)},s=function(t,e){return n.deleteByKey(t,e)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/strategySubgroupRepository":206}],289:[function(t,e,n){!function(){var n=t("../repositories/tagRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getListByContentType(t)},o=function(t){return n.getByKey(t)},r=function(t){return n.create(t)},s=function(t,e){return n.update(t,e)},c=function(t){return n.deleteByKey(t)};e.exports={getList:i,getListByContentType:a,getByKey:o,create:r,update:s,deleteByKey:c}}()},{"../repositories/tagRepository":207}],290:[function(t,e,n){!function(){"use strict";var t=function(){return[{id:"1",cca2:"AD",name:"Europe/Andorra"},{id:"2",cca2:"AE",name:"Asia/Dubai"},{id:"3",cca2:"AF",name:"Asia/Kabul"},{id:"4",cca2:"AG",name:"America/Antigua"},{id:"5",cca2:"AI",name:"America/Anguilla"},{id:"6",cca2:"AL",name:"Europe/Tirane"},{id:"7",cca2:"AM",name:"Asia/Yerevan"},{id:"8",cca2:"AO",name:"Africa/Luanda"},{id:"9",cca2:"AQ",name:"Antarctica/McMurdo"},{id:"10",cca2:"AQ",name:"Antarctica/Rothera"},{id:"11",cca2:"AQ",name:"Antarctica/Palmer"},{id:"12",cca2:"AQ",name:"Antarctica/Mawson"},{id:"13",cca2:"AQ",name:"Antarctica/Davis"},{id:"14",cca2:"AQ",name:"Antarctica/Casey"},{id:"15",cca2:"AQ",name:"Antarctica/Vostok"},{id:"16",cca2:"AQ",name:"Antarctica/DumontDUrville"},{id:"17",cca2:"AQ",name:"Antarctica/Syowa"},{id:"18",cca2:"AQ",name:"Antarctica/Troll"},{id:"19",cca2:"AR",name:"America/Argentina/Buenos_Aires"},{id:"20",cca2:"AR",name:"America/Argentina/Cordoba"},{id:"21",cca2:"AR",name:"America/Argentina/Salta"},{id:"22",cca2:"AR",name:"America/Argentina/Jujuy"},{id:"23",cca2:"AR",name:"America/Argentina/Tucuman"},{id:"24",cca2:"AR",name:"America/Argentina/Catamarca"},{id:"25",cca2:"AR",name:"America/Argentina/La_Rioja"},{id:"26",cca2:"AR",name:"America/Argentina/San_Juan"},{id:"27",cca2:"AR",name:"America/Argentina/Mendoza"},{id:"28",cca2:"AR",name:"America/Argentina/San_Luis"},{id:"29",cca2:"AR",name:"America/Argentina/Rio_Gallegos"},{id:"30",cca2:"AR",name:"America/Argentina/Ushuaia"},{id:"31",cca2:"AS",name:"Pacific/Pago_Pago"},{id:"32",cca2:"AT",name:"Europe/Vienna"},{id:"33",cca2:"AU",name:"Australia/Lord_Howe"},{id:"34",cca2:"AU",name:"Antarctica/Macquarie"},{id:"35",cca2:"AU",name:"Australia/Hobart"},{id:"36",cca2:"AU",name:"Australia/Currie"},{id:"37",cca2:"AU",name:"Australia/Melbourne"},{id:"38",cca2:"AU",name:"Australia/Sydney"},{id:"39",cca2:"AU",name:"Australia/Broken_Hill"},{id:"40",cca2:"AU",name:"Australia/Brisbane"},{id:"41",cca2:"AU",name:"Australia/Lindeman"},{id:"42",cca2:"AU",name:"Australia/Adelaide"},{id:"43",cca2:"AU",name:"Australia/Darwin"},{id:"44",cca2:"AU",name:"Australia/Perth"},{id:"45",cca2:"AU",name:"Australia/Eucla"},{id:"46",cca2:"AW",name:"America/Aruba"},{id:"47",cca2:"AX",name:"Europe/Mariehamn"},{id:"48",cca2:"AZ",name:"Asia/Baku"},{id:"49",cca2:"BA",name:"Europe/Sarajevo"},{id:"50",cca2:"BB",name:"America/Barbados"},{id:"51",cca2:"BD",name:"Asia/Dhaka"},{id:"52",cca2:"BE",name:"Europe/Brussels"},{id:"53",cca2:"BF",name:"Africa/Ouagadougou"},{id:"54",cca2:"BG",name:"Europe/Sofia"},{id:"55",cca2:"BH",name:"Asia/Bahrain"},{id:"56",cca2:"BI",name:"Africa/Bujumbura"},{id:"57",cca2:"BJ",name:"Africa/Porto-Novo"},{id:"58",cca2:"BL",name:"America/St_Barthelemy"},{id:"59",cca2:"BM",name:"Atlantic/Bermuda"},{id:"60",cca2:"BN",name:"Asia/Brunei"},{id:"61",cca2:"BO",name:"America/La_Paz"},{id:"62",cca2:"BQ",name:"America/Kralendijk"},{id:"63",cca2:"BR",name:"America/Noronha"},{id:"64",cca2:"BR",name:"America/Belem"},{id:"65",cca2:"BR",name:"America/Fortaleza"},{id:"66",cca2:"BR",name:"America/Recife"},{id:"67",cca2:"BR",name:"America/Araguaina"},{id:"68",cca2:"BR",name:"America/Maceio"},{id:"69",cca2:"BR",name:"America/Bahia"},{id:"70",cca2:"BR",name:"America/Sao_Paulo"},{id:"71",cca2:"BR",name:"America/Campo_Grande"},{id:"72",cca2:"BR",name:"America/Cuiaba"},{id:"73",cca2:"BR",name:"America/Santarem"},{id:"74",cca2:"BR",name:"America/Porto_Velho"},{id:"75",cca2:"BR",name:"America/Boa_Vista"},{id:"76",cca2:"BR",name:"America/Manaus"},{id:"77",cca2:"BR",name:"America/Eirunepe"},{id:"78",cca2:"BR",name:"America/Rio_Branco"},{id:"79",cca2:"BS",name:"America/Nassau"},{id:"80",cca2:"BT",name:"Asia/Thimphu"},{id:"81",cca2:"BW",name:"Africa/Gaborone"},{id:"82",cca2:"BY",name:"Europe/Minsk"},{id:"83",cca2:"BZ",name:"America/Belize"},{id:"84",cca2:"CA",name:"America/St_Johns"},{id:"85",cca2:"CA",name:"America/Halifax"},{id:"86",cca2:"CA",name:"America/Glace_Bay"},{id:"87",cca2:"CA",name:"America/Moncton"},{id:"88",cca2:"CA",name:"America/Goose_Bay"},{id:"89",cca2:"CA",name:"America/Blanc-Sablon"},{id:"90",cca2:"CA",name:"America/Toronto"},{id:"91",cca2:"CA",name:"America/Nipigon"},{id:"92",cca2:"CA",name:"America/Thunder_Bay"},{id:"93",cca2:"CA",name:"America/Iqaluit"},{id:"94",cca2:"CA",name:"America/Pangnirtung"},{id:"95",cca2:"CA",name:"America/Resolute"},{id:"96",cca2:"CA",name:"America/Atikokan"},{id:"97",cca2:"CA",name:"America/Rankin_Inlet"},{id:"98",cca2:"CA",name:"America/Winnipeg"},{id:"99",cca2:"CA",name:"America/Rainy_River"},{id:"100",cca2:"CA",name:"America/Regina"},{id:"101",cca2:"CA",name:"America/Swift_Current"},{id:"102",cca2:"CA",name:"America/Edmonton"},{id:"103",cca2:"CA",name:"America/Cambridge_Bay"},{id:"104",cca2:"CA",name:"America/Yellowknife"},{id:"105",cca2:"CA",name:"America/Inuvik"},{id:"106",cca2:"CA",name:"America/Creston"},{id:"107",cca2:"CA",name:"America/Dawson_Creek"},{id:"108",cca2:"CA",name:"America/Vancouver"},{id:"109",cca2:"CA",name:"America/Whitehorse"},{id:"110",cca2:"CA",name:"America/Dawson"},{id:"111",cca2:"CC",name:"Indian/Cocos"},{id:"112",cca2:"CD",name:"Africa/Kinshasa"},{id:"113",cca2:"CD",name:"Africa/Lubumbashi"},{id:"114",cca2:"CF",name:"Africa/Bangui"},{id:"115",cca2:"CG",name:"Africa/Brazzaville"},{id:"116",cca2:"CH",name:"Europe/Zurich"},{id:"117",cca2:"CI",name:"Africa/Abidjan"},{id:"118",cca2:"CK",name:"Pacific/Rarotonga"},{id:"119",cca2:"CL",name:"America/Santiago"},{id:"120",cca2:"CL",name:"Pacific/Easter"},{id:"121",cca2:"CM",name:"Africa/Douala"},{id:"122",cca2:"CN",name:"Asia/Shanghai"},{id:"123",cca2:"CN",name:"Asia/Harbin"},{id:"124",cca2:"CN",name:"Asia/Chongqing"},{id:"125",cca2:"CN",name:"Asia/Urumqi"},{id:"126",cca2:"CN",name:"Asia/Kashgar"},{id:"127",cca2:"CO",name:"America/Bogota"},{id:"128",cca2:"CR",name:"America/Costa_Rica"},{id:"129",cca2:"CU",name:"America/Havana"},{id:"130",cca2:"CV",name:"Atlantic/Cape_Verde"},{id:"131",cca2:"CW",name:"America/Curacao"},{id:"132",cca2:"CX",name:"Indian/Christmas"},{id:"133",cca2:"CY",name:"Asia/Nicosia"},{id:"134",cca2:"CZ",name:"Europe/Prague"},{id:"135",cca2:"DE",name:"Europe/Berlin"},{id:"136",cca2:"DE",name:"Europe/Busingen"},{id:"137",cca2:"DJ",name:"Africa/Djibouti"},{id:"138",cca2:"DK",name:"Europe/Copenhagen"},{id:"139",cca2:"DM",name:"America/Dominica"},{id:"140",cca2:"DO",name:"America/Santo_Domingo"},{id:"141",cca2:"DZ",name:"Africa/Algiers"},{id:"142",cca2:"EC",name:"America/Guayaquil"},{id:"143",cca2:"EC",name:"Pacific/Galapagos"},{id:"144",cca2:"EE",name:"Europe/Tallinn"},{id:"145",cca2:"EG",name:"Africa/Cairo"},{id:"146",cca2:"EH",name:"Africa/El_Aaiun"},{id:"147",cca2:"ER",name:"Africa/Asmara"},{id:"148",cca2:"ES",name:"Europe/Madrid"},{id:"149",cca2:"ES",name:"Africa/Ceuta"},{id:"150",cca2:"ES",name:"Atlantic/Canary"},{id:"151",cca2:"ET",name:"Africa/Addis_Ababa"},{id:"152",cca2:"FI",name:"Europe/Helsinki"},{id:"153",cca2:"FJ",name:"Pacific/Fiji"},{id:"154",cca2:"FK",name:"Atlantic/Stanley"},{id:"155",cca2:"FM",name:"Pacific/Chuuk"},{id:"156",cca2:"FM",name:"Pacific/Pohnpei"},{id:"157",cca2:"FM",name:"Pacific/Kosrae"},{id:"158",cca2:"FO",name:"Atlantic/Faroe"},{id:"159",cca2:"FR",name:"Europe/Paris"},{id:"160",cca2:"GA",name:"Africa/Libreville"},{id:"161",cca2:"GB",name:"Europe/London"},{id:"162",cca2:"GD",name:"America/Grenada"},{id:"163",cca2:"GE",name:"Asia/Tbilisi"},{id:"164",cca2:"GF",name:"America/Cayenne"},{id:"165",cca2:"GG",name:"Europe/Guernsey"},{id:"166",cca2:"GH",name:"Africa/Accra"},{id:"167",cca2:"GI",name:"Europe/Gibraltar"},{id:"168",cca2:"GL",name:"America/Godthab"},{id:"169",cca2:"GL",name:"America/Danmarkshavn"},{id:"170",cca2:"GL",name:"America/Scoresbysund"},{id:"171",cca2:"GL",name:"America/Thule"},{id:"172",cca2:"GM",name:"Africa/Banjul"},{id:"173",cca2:"GN",name:"Africa/Conakry"},{id:"174",cca2:"GP",name:"America/Guadeloupe"},{id:"175",cca2:"GQ",name:"Africa/Malabo"},{id:"176",cca2:"GR",name:"Europe/Athens"},{id:"177",cca2:"GS",name:"Atlantic/South_Georgia"},{id:"178",cca2:"GT",name:"America/Guatemala"},{id:"179",cca2:"GU",name:"Pacific/Guam"},{id:"180",cca2:"GW",name:"Africa/Bissau"},{id:"181",cca2:"GY",name:"America/Guyana"},{id:"182",cca2:"HK",name:"Asia/Hong_Kong"},{id:"183",cca2:"HN",name:"America/Tegucigalpa"},{id:"184",cca2:"HR",name:"Europe/Zagreb"},{id:"185",cca2:"HT",name:"America/Port-au-Prince"},{id:"186",cca2:"HU",name:"Europe/Budapest"},{id:"187",cca2:"ID",name:"Asia/Jakarta"},{id:"188",cca2:"ID",name:"Asia/Pontianak"},{id:"189",cca2:"ID",name:"Asia/Makassar"},{id:"190",cca2:"ID",name:"Asia/Jayapura"},{id:"191",cca2:"IE",name:"Europe/Dublin"},{id:"192",cca2:"IL",name:"Asia/Jerusalem"},{id:"193",cca2:"IM",name:"Europe/Isle_of_Man"},{id:"194",cca2:"IN",name:"Asia/Kolkata"},{id:"195",cca2:"IO",name:"Indian/Chagos"},{id:"196",cca2:"IQ",name:"Asia/Baghdad"},{id:"197",cca2:"IR",name:"Asia/Tehran"},{id:"198",cca2:"IS",name:"Atlantic/Reykjavik"},{id:"199",cca2:"IT",name:"Europe/Rome"},{id:"200",cca2:"JE",name:"Europe/Jersey"},{id:"201",cca2:"JM",name:"America/Jamaica"},{id:"202",cca2:"JO",name:"Asia/Amman"},{id:"203",cca2:"JP",name:"Asia/Tokyo"},{id:"204",cca2:"KE",name:"Africa/Nairobi"},{id:"205",cca2:"KG",name:"Asia/Bishkek"},{id:"206",cca2:"KH",name:"Asia/Phnom_Penh"},{id:"207",cca2:"KI",name:"Pacific/Tarawa"},{id:"208",cca2:"KI",name:"Pacific/Enderbury"},{id:"209",cca2:"KI",name:"Pacific/Kiritimati"},{id:"210",cca2:"KM",name:"Indian/Comoro"},{id:"211",cca2:"KN",name:"America/St_Kitts"},{id:"212",cca2:"KP",name:"Asia/Pyongyang"},{id:"213",cca2:"KR",name:"Asia/Seoul"},{id:"214",cca2:"KW",name:"Asia/Kuwait"},{id:"215",cca2:"KY",name:"America/Cayman"},{id:"216",cca2:"KZ",name:"Asia/Almaty"},{id:"217",cca2:"KZ",name:"Asia/Qyzylorda"},{id:"218",cca2:"KZ",name:"Asia/Aqtobe"},{id:"219",cca2:"KZ",name:"Asia/Aqtau"},{id:"220",cca2:"KZ",name:"Asia/Oral"},{id:"221",cca2:"LA",name:"Asia/Vientiane"},{id:"222",cca2:"LB",name:"Asia/Beirut"},{id:"223",cca2:"LC",name:"America/St_Lucia"},{id:"224",cca2:"LI",name:"Europe/Vaduz"},{id:"225",cca2:"LK",name:"Asia/Colombo"},{id:"226",cca2:"LR",name:"Africa/Monrovia"},{id:"227",cca2:"LS",name:"Africa/Maseru"},{id:"228",cca2:"LT",name:"Europe/Vilnius"},{id:"229",cca2:"LU",name:"Europe/Luxembourg"},{id:"230",cca2:"LV",name:"Europe/Riga"},{id:"231",cca2:"LY",name:"Africa/Tripoli"},{id:"232",cca2:"MA",name:"Africa/Casablanca"},{id:"233",cca2:"MC",name:"Europe/Monaco"},{id:"234",cca2:"MD",name:"Europe/Chisinau"},{id:"235",cca2:"ME",name:"Europe/Podgorica"},{id:"236",cca2:"MF",name:"America/Marigot"},{id:"237",cca2:"MG",name:"Indian/Antananarivo"},{id:"238",cca2:"MH",name:"Pacific/Majuro"},{id:"239",cca2:"MH",name:"Pacific/Kwajalein"},{id:"240",cca2:"MK",name:"Europe/Skopje"},{id:"241",cca2:"ML",name:"Africa/Bamako"},{id:"242",cca2:"MM",name:"Asia/Rangoon"},{id:"243",cca2:"MN",name:"Asia/Ulaanbaatar"},{id:"244",cca2:"MN",name:"Asia/Hovd"},{id:"245",cca2:"MN",name:"Asia/Choibalsan"},{id:"246",cca2:"MO",name:"Asia/Macau"},{id:"247",cca2:"MP",name:"Pacific/Saipan"},{id:"248",cca2:"MQ",name:"America/Martinique"},{id:"249",cca2:"MR",name:"Africa/Nouakchott"},{id:"250",cca2:"MS",name:"America/Montserrat"},{id:"251",cca2:"MT",name:"Europe/Malta"},{id:"252",cca2:"MU",name:"Indian/Mauritius"},{id:"253",cca2:"MV",name:"Indian/Maldives"},{id:"254",cca2:"MW",name:"Africa/Blantyre"},{id:"255",cca2:"MX",name:"America/Mexico_City"},{id:"256",cca2:"MX",name:"America/Cancun"},{id:"257",cca2:"MX",name:"America/Merida"},{id:"258",cca2:"MX",name:"America/Monterrey"},{id:"259",cca2:"MX",name:"America/Matamoros"},{id:"260",cca2:"MX",name:"America/Mazatlan"},{id:"261",cca2:"MX",name:"America/Chihuahua"},{id:"262",cca2:"MX",name:"America/Ojinaga"},{id:"263",cca2:"MX",name:"America/Hermosillo"},{id:"264",cca2:"MX",name:"America/Tijuana"},{id:"265",cca2:"MX",name:"America/Santa_Isabel"},{id:"266",cca2:"MX",name:"America/Bahia_Banderas"},{id:"267",cca2:"MY",name:"Asia/Kuala_Lumpur"},{id:"268",cca2:"MY",name:"Asia/Kuching"},{id:"269",cca2:"MZ",name:"Africa/Maputo"},{id:"270",cca2:"NA",name:"Africa/Windhoek"},{id:"271",cca2:"NC",name:"Pacific/Noumea"},{id:"272",cca2:"NE",name:"Africa/Niamey"},{id:"273",cca2:"NF",name:"Pacific/Norfolk"},{id:"274",cca2:"NG",name:"Africa/Lagos"},{id:"275",cca2:"NI",name:"America/Managua"},{id:"276",cca2:"NL",name:"Europe/Amsterdam"},{id:"277",cca2:"NO",name:"Europe/Oslo"},{id:"278",cca2:"NP",name:"Asia/Kathmandu"},{id:"279",cca2:"NR",name:"Pacific/Nauru"},{id:"280",cca2:"NU",name:"Pacific/Niue"},{id:"281",cca2:"NZ",name:"Pacific/Auckland"},{id:"282",cca2:"NZ",name:"Pacific/Chatham"},{id:"283",cca2:"OM",name:"Asia/Muscat"},{id:"284",cca2:"PA",name:"America/Panama"},{id:"285",cca2:"PE",name:"America/Lima"},{id:"286",cca2:"PF",name:"Pacific/Tahiti"},{id:"287",cca2:"PF",name:"Pacific/Marquesas"},{id:"288",cca2:"PF",name:"Pacific/Gambier"},{id:"289",cca2:"PG",name:"Pacific/Port_Moresby"},{id:"290",cca2:"PH",name:"Asia/Manila"},{id:"291",cca2:"PK",name:"Asia/Karachi"},{id:"292",cca2:"PL",name:"Europe/Warsaw"},{id:"293",cca2:"PM",name:"America/Miquelon"},{id:"294",cca2:"PN",name:"Pacific/Pitcairn"},{id:"295",cca2:"PR",name:"America/Puerto_Rico"},{id:"296",cca2:"PS",name:"Asia/Gaza"},{id:"297",cca2:"PS",name:"Asia/Hebron"},{id:"298",cca2:"PT",name:"Europe/Lisbon"},{id:"299",cca2:"PT",name:"Atlantic/Madeira"},{id:"300",cca2:"PT",name:"Atlantic/Azores"},{id:"301",cca2:"PW",name:"Pacific/Palau"},{id:"302",cca2:"PY",name:"America/Asuncion"},{id:"303",cca2:"QA",name:"Asia/Qatar"},{id:"304",cca2:"RE",name:"Indian/Reunion"},{id:"305",cca2:"RO",name:"Europe/Bucharest"},{id:"306",cca2:"RS",name:"Europe/Belgrade"},{id:"307",cca2:"RU",name:"Europe/Kaliningrad"},{id:"308",cca2:"RU",name:"Europe/Moscow"},{id:"309",cca2:"RU",name:"Europe/Volgograd"},{id:"310",cca2:"RU",name:"Europe/Samara"},{id:"311",cca2:"RU",name:"Europe/Simferopol"},{id:"312",cca2:"RU",name:"Asia/Yekaterinburg"},{id:"313",cca2:"RU",name:"Asia/Omsk"},{id:"314",cca2:"RU",name:"Asia/Novosibirsk"},{id:"315",cca2:"RU",name:"Asia/Novokuznetsk"},{id:"316",cca2:"RU",name:"Asia/Krasnoyarsk"},{id:"317",cca2:"RU",name:"Asia/Irkutsk"},{id:"318",cca2:"RU",name:"Asia/Yakutsk"},{id:"319",cca2:"RU",name:"Asia/Khandyga"},{id:"320",cca2:"RU",name:"Asia/Vladivostok"},{id:"321",cca2:"RU",name:"Asia/Sakhalin"},{id:"322",cca2:"RU",name:"Asia/Ust-Nera"},{id:"323",cca2:"RU",name:"Asia/Magadan"},{id:"324",cca2:"RU",name:"Asia/Kamchatka"},{id:"325",cca2:"RU",name:"Asia/Anadyr"},{id:"326",cca2:"RW",name:"Africa/Kigali"},{id:"327",cca2:"SA",name:"Asia/Riyadh"},{id:"328",cca2:"SB",name:"Pacific/Guadalcanal"},{id:"329",cca2:"SC",name:"Indian/Mahe"},{id:"330",cca2:"SD",name:"Africa/Khartoum"},{id:"331",cca2:"SE",name:"Europe/Stockholm"},{id:"332",cca2:"SG",name:"Asia/Singapore"},{id:"333",cca2:"SH",name:"Atlantic/St_Helena"},{id:"334",cca2:"SI",name:"Europe/Ljubljana"},{id:"335",cca2:"SJ",name:"Arctic/Longyearbyen"},{id:"336",cca2:"SK",name:"Europe/Bratislava"},{id:"337",cca2:"SL",name:"Africa/Freetown"},{id:"338",cca2:"SM",name:"Europe/San_Marino"},{id:"339",cca2:"SN",name:"Africa/Dakar"},{id:"340",cca2:"SO",name:"Africa/Mogadishu"},{id:"341",cca2:"SR",name:"America/Paramaribo"},{id:"342",cca2:"SS",name:"Africa/Juba"},{id:"343",cca2:"ST",name:"Africa/Sao_Tome"},{id:"344",cca2:"SV",name:"America/El_Salvador"},{id:"345",cca2:"SX",name:"America/Lower_Princes"},{id:"346",cca2:"SY",name:"Asia/Damascus"},{id:"347",cca2:"SZ",name:"Africa/Mbabane"},{id:"348",cca2:"TC",name:"America/Grand_Turk"},{id:"349",cca2:"TD",name:"Africa/Ndjamena"},{id:"350",cca2:"TF",name:"Indian/Kerguelen"},{id:"351",cca2:"TG",name:"Africa/Lome"},{id:"352",cca2:"TH",name:"Asia/Bangkok"},{id:"353",cca2:"TJ",name:"Asia/Dushanbe"},{id:"354",cca2:"TK",name:"Pacific/Fakaofo"},{id:"355",cca2:"TL",name:"Asia/Dili"},{id:"356",cca2:"TM",name:"Asia/Ashgabat"},{id:"357",cca2:"TN",name:"Africa/Tunis"},{id:"358",cca2:"TO",name:"Pacific/Tongatapu"},{id:"359",cca2:"TR",name:"Europe/Istanbul"},{id:"360",cca2:"TT",name:"America/Port_of_Spain"},{id:"361",cca2:"TV",name:"Pacific/Funafuti"},{id:"362",cca2:"TW",name:"Asia/Taipei"},{id:"363",cca2:"TZ",name:"Africa/Dar_es_Salaam"},{id:"364",cca2:"UA",name:"Europe/Kiev"},{id:"365",cca2:"UA",name:"Europe/Uzhgorod"},{id:"366",cca2:"UA",name:"Europe/Zaporozhye"},{id:"367",cca2:"UG",name:"Africa/Kampala"},{id:"368",cca2:"UM",name:"Pacific/Johnston"},{id:"369",cca2:"UM",name:"Pacific/Midway"},{id:"370",cca2:"UM",name:"Pacific/Wake"},{id:"371",cca2:"US",name:"America/New_York"},{id:"372",cca2:"US",name:"America/Detroit"},{id:"373",cca2:"US",name:"America/Kentucky/Louisville"},{id:"374",cca2:"US",name:"America/Kentucky/Monticello"},{id:"375",cca2:"US",name:"America/Indiana/Indianapolis"},{id:"376",cca2:"US",name:"America/Indiana/Vincennes"},{id:"377",cca2:"US",name:"America/Indiana/Winamac"},{id:"378",cca2:"US",name:"America/Indiana/Marengo"},{id:"379",cca2:"US",name:"America/Indiana/Petersburg"},{id:"380",cca2:"US",name:"America/Indiana/Vevay"},{id:"381",cca2:"US",name:"America/Chicago"},{id:"382",cca2:"US",name:"America/Indiana/Tell_City"},{id:"383",cca2:"US",name:"America/Indiana/Knox"},{id:"384",cca2:"US",name:"America/Menominee"},{id:"385",cca2:"US",name:"America/North_Dakota/Center"},{id:"386",cca2:"US",name:"America/North_Dakota/New_Salem"},{id:"387",cca2:"US",name:"America/North_Dakota/Beulah"},{id:"388",cca2:"US",name:"America/Denver"},{id:"389",cca2:"US",name:"America/Boise"},{id:"390",cca2:"US",name:"America/Phoenix"},{id:"391",cca2:"US",name:"America/Los_Angeles"},{id:"392",cca2:"US",name:"America/Anchorage"},{id:"393",cca2:"US",name:"America/Juneau"},{id:"394",cca2:"US",name:"America/Sitka"},{id:"395",cca2:"US",name:"America/Yakutat"},{id:"396",cca2:"US",name:"America/Nome"},{id:"397",cca2:"US",name:"America/Adak"},{id:"398",cca2:"US",name:"America/Metlakatla"},{id:"399",cca2:"US",name:"Pacific/Honolulu"},{id:"400",cca2:"UY",name:"America/Montevideo"},{id:"401",cca2:"UZ",name:"Asia/Samarkand"},{id:"402",cca2:"UZ",name:"Asia/Tashkent"},{id:"403",cca2:"VA",name:"Europe/Vatican"},{id:"404",cca2:"VC",name:"America/St_Vincent"},{id:"405",cca2:"VE",name:"America/Caracas"},{id:"406",cca2:"VG",name:"America/Tortola"},{id:"407",cca2:"VI",name:"America/St_Thomas"},{id:"408",cca2:"VN",name:"Asia/Ho_Chi_Minh"},{id:"409",cca2:"VU",name:"Pacific/Efate"},{id:"410",cca2:"WF",name:"Pacific/Wallis"},{id:"411",cca2:"WS",name:"Pacific/Apia"},{id:"412",cca2:"YE",
name:"Asia/Aden"},{id:"413",cca2:"YT",name:"Indian/Mayotte"},{id:"414",cca2:"ZA",name:"Africa/Johannesburg"},{id:"415",cca2:"ZM",name:"Africa/Lusaka"},{id:"416",cca2:"ZW",name:"Africa/Harare"},{id:"417",cca2:"CA",name:"America/Montreal"}]};e.exports={getList:t}}()},{}],291:[function(t,e,n){!function(){var n=t("../repositories/transactionRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/transactionRepository":208}],292:[function(t,e,n){!function(){var n=t("../repositories/transactionTypeRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)},c=function(t){return n.bookTransaction(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,bookTransaction:c}}()},{"../repositories/transactionTypeRepository":209}],293:[function(t,e,n){!function(){var n=t("../../repositories/transaction/complexTransactionRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)},c=function(t,e){return n.bookComplexTransaction(t,e)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s,bookComplexTransaction:c}}()},{"../../repositories/transaction/complexTransactionRepository":210}],294:[function(t,e,n){!function(){"use strict";var n=t("../../repositories/transaction/transactionClassRepository"),i=function(){return n.getList()};e.exports={getList:i}}()},{"../../repositories/transaction/transactionClassRepository":211}],295:[function(t,e,n){!function(){var n=t("../../repositories/transaction/transactionTypeGroupRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../../repositories/transaction/transactionTypeGroupRepository":212}],296:[function(t,e,n){!function(){"use strict";var n=t("../repositories/uiRepository"),i=function(t){return n.getEditLayout(t)},a=function(t,e){return n.createEditLayout(t,e)},o=function(t,e){return n.updateEditLayout(t,e)},r=function(t){return n.getListLayout(t)},s=function(t){return n.getListLayoutByKey(t)},c=function(t){return n.getActiveListLayout(t)},d=function(t,e){return n.createListLayout(t,e)},l=function(t,e){return n.updateListLayout(t,e)},u=function(t){return n.deleteListLayoutByKey(t)},m=function(){return n.getDefaultListLayout()},p=function(t){return n.getDefaultEditLayout(t)},g=function(t,e){return n.getEditLayoutByInstanceId(t,e).then(function(e){if("complex-transaction"==t)return e.book_transaction_layout})},y=function(t,e,i){if("complex-transaction"==t)return n.updateEditLayoutByInstanceId(t,e,{book_transaction_layout:i})};e.exports={getDefaultListLayout:m,getDefaultEditLayout:p,getEditLayout:i,createEditLayout:a,updateEditLayout:o,getListLayout:r,getListLayoutByKey:s,createListLayout:d,updateListLayout:l,getEditLayoutByInstanceId:g,updateEditLayoutByInstanceId:y,getActiveListLayout:c,deleteListLayoutByKey:u}}()},{"../repositories/uiRepository":213}],297:[function(t,e,n){!function(){var n=t("../repositories/usersGroupRepository"),i=function(t){return n.getList(t)},a=function(t){return n.getByKey(t)},o=function(t){return n.create(t)},r=function(t,e){return n.update(t,e)},s=function(t){return n.deleteByKey(t)};e.exports={getList:i,getByKey:a,create:o,update:r,deleteByKey:s}}()},{"../repositories/usersGroupRepository":214}],298:[function(t,e,n){!function(){"use strict";var n=t("../repositories/usersRepository"),i=function(t,e){return n.login(t,e)},a=function(){return n.logout()},o=function(){return n.ping()},r=function(){return n.protectedPing()},s=function(){return n.getList()},c=function(t){return n.getByKey(t)},d=function(){return n.getMe()},l=function(t,e){return n.update(t,e)},u=function(t,e){return n.patch(t,e)},m=function(t){return n.deleteByKey(t)},p=function(){return n.getMasterList()},g=function(t){return n.getMasterByKey(t)},y=function(t,e){return n.updateMaster(t,e)},v=function(t,e){return n.patchMaster(t,e)},f=function(t){return n.deleteMasterByKey(t)},h=function(){return n.getMemberList()},b=function(t){return n.getMemberByKey(t)},_=function(t,e){return n.updateMember(t,e)},w=function(t,e){return n.patchMember(t,e)},k=function(t){return n.deleteMemberByKey(t)},S=function(){return n.getGroupList()};e.exports={login:i,logout:a,ping:o,protectedPing:r,getList:s,getByKey:c,getMe:d,update:l,patch:u,deleteByKey:m,getMasterList:p,getMasterByKey:g,updateMaster:y,patchMaster:v,deleteMasterByKey:f,getMemberList:h,getMemberByKey:b,updateMember:_,patchMember:w,deleteMemberByKey:k,getGroupList:S}}()},{"../repositories/usersRepository":215}],299:[function(t,e,n){"use strict";t("../../forum/scripts/main.js");var i=angular.module("portal",["ngAria","ngMaterial","ngMessages","ngMdIcons","ngResource","ngSanitize","ui.router","vAccordion","mdPickers","bw.paging","io.dennis.contextmenu",angularDragula(angular),"forum"]);i.config(["$stateProvider","$urlRouterProvider",t("./app/router.js")]),i.config(["$mdDateLocaleProvider",function(t){t.formatDate=function(t){return moment(t).format("YYYY-MM-DD")}}]),i.run(["$rootScope",function(t){console.log("App initialized"),localStorage.setItem("entityIsChanged",!1),t.$on("$stateChangeStart",function(){setTimeout(function(){$(window).trigger("resize")},300)})}]),i.controller("ShellController",["$scope","$state","$rootScope","$mdDialog",t("./app/controllers/shellController")]),i.controller("SideNavController",["$scope",t("./app/controllers/sideNavController")]),i.controller("DashboardController",["$scope","$mdDialog",t("./app/controllers/dashboardController")]),i.controller("ActionsController",["$scope","$mdDialog",t("./app/controllers/actionsController")]),i.controller("ImportInstrumentDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/importInstrumentDialogController")]),i.controller("AutomatedUploadsHistoryDialogController",["$scope","$mdDialog","$mdpTimePicker",t("./app/controllers/dialogs/automatedUploadsHistoryDialogController")]),i.controller("FillPriceHistoryDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/fillPriceHistoryDialogController")]),i.controller("EventScheduleConfigDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/eventScheduleConfigDialogController")]),i.controller("FillPriceManuallyInstrumentDialogController",["$scope","$mdDialog","data",t("./app/controllers/dialogs/fillPriceManuallyInstrumentDialogController")]),i.controller("PriceDownloadSchemeAddDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/priceDownloadSchemeAddDialogController")]),i.controller("EventDialogController",["$scope","$mdDialog","data",t("./app/controllers/dialogs/eventDialogController")]),i.controller("AttributesManagerController",["$scope","$state","$stateParams","$mdDialog",t("./app/controllers/attributesManagerController")]),i.controller("AttributesManagerEditDialogController",["$scope","$mdDialog","data",t("./app/controllers/dialogs/attributesManagerEditDialogController")]),i.controller("AttributesManagerAddDialogController",["$scope","$mdDialog","data",t("./app/controllers/dialogs/attributesManagerAddDialogController")]),i.controller("ClassificationEditorDialogController",["$scope","$mdDialog","data",t("./app/controllers/dialogs/classificationEditorDialogController")]),i.controller("InstrumentMappingAddDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/instrumentMappingAddDialogController")]),i.controller("InstrumentMappingEditDialogController",["$scope","$mdDialog","schemeId",t("./app/controllers/dialogs/instrumentMappingEditDialogController")]),i.controller("EntityTypeMappingDialogController",["$scope","$mdDialog","mapItem",t("./app/controllers/dialogs/entityTypeMappingDialogController")]),i.controller("EntityViewerController",["$scope","$mdDialog",t("./app/controllers/entityViewer/entityViewerController")]),i.controller("EntityViewerAddDialogController",["$scope","$mdDialog","parentScope","$state",t("./app/controllers/entityViewer/entityViewerAddDialogController")]),i.controller("EntityViewerEditDialogController",["$scope","$mdDialog","parentScope","entityId","$state",t("./app/controllers/entityViewer/entityViewerEditDialogController")]),i.controller("EntityViewerDeleteDialogController",["$scope","$mdDialog","entity","entityType",t("./app/controllers/entityViewer/entityViewerDeleteDialogController")]),i.controller("ReportWizardController",["$scope",t("./app/controllers/entityViewer/onBeforeLoadActions/reportWizardController")]),i.controller("EntityEditorController",["$scope","$state",t("./app/controllers/entityEditorController")]),i.controller("EntityViewerPermissionEditorController",["$scope",t("./app/controllers/entityViewer/entityViewerPermissionEditorController")]),i.controller("ComplexTransactionSpecialRulesController",["$scope",t("./app/controllers/special-rules/complexTransactionSpecialRulesController")]),i.controller("BookTransactionActionsTabController",["$scope",t("./app/controllers/tabs/complex-transaction/bookTransactionActionsTabController")]),i.controller("BookTransactionTransactionsTabController",["$scope","$mdDialog",t("./app/controllers/tabs/complex-transaction/bookTransactionTransactionsTabController")]),i.controller("ComplexTransactionsTransactionEditDialogController",["$scope","$mdDialog","entityId",t("./app/controllers/entityViewer/complexTransactionsTransactionEditDialogController")]),i.controller("TransactionTypeActionsTabController",["$scope","$mdDialog",t("./app/controllers/tabs/transaction-type/transactionTypeActionsTabController")]),i.controller("TransactionTypeGeneralTabController",["$scope",t("./app/controllers/tabs/transaction-type/transactionTypeGeneralTabController")]),i.controller("TransactionTypeInputsTabController",["$scope",t("./app/controllers/tabs/transaction-type/transactionTypeInputsTabController")]),i.controller("AccrualCalculationSchedulesTabController",["$scope",t("./app/controllers/tabs/instrument/accrualCalculationSchedulesController")]),i.controller("EventSchedulesTabController",["$scope",t("./app/controllers/tabs/instrument/eventSchedulesController")]),i.controller("FactorScheduleTabController",["$scope",t("./app/controllers/tabs/instrument/factorScheduleTabController")]),i.controller("ManualPricingFormulasTabController",["$scope",t("./app/controllers/tabs/instrument/manualPricingFormulasTabController")]),i.controller("InstrumentEventActionsDialogController",["$scope","$mdDialog","eventActions",t("./app/controllers/dialogs/instrumentEventActionsDialogController")]),i.controller("DataPortfolioController",["$scope",t("./app/controllers/data/dataPortfolioController")]),i.controller("DataTagController",["$scope",t("./app/controllers/data/dataTagController")]),i.controller("DataAccountController",["$scope",t("./app/controllers/data/dataAccountController")]),i.controller("DataAccountTypeController",["$scope",t("./app/controllers/data/dataAccountTypeController")]),i.controller("DataCounterpartyController",["$scope",t("./app/controllers/data/dataCounterpartyController")]),i.controller("DataCounterpartyGroupController",["$scope",t("./app/controllers/data/dataCounterpartyGroupController")]),i.controller("DataResponsibleController",["$scope",t("./app/controllers/data/dataResponsibleController")]),i.controller("DataResponsibleGroupController",["$scope",t("./app/controllers/data/dataResponsibleGroupController")]),i.controller("DataInstrumentController",["$scope",t("./app/controllers/data/dataInstrumentController")]),i.controller("DataInstrumentTypeController",["$scope",t("./app/controllers/data/dataInstrumentTypeController")]),i.controller("DataPricingPolicyController",["$scope",t("./app/controllers/data/dataPricingPolicyController")]),i.controller("DataTransactionController",["$scope",t("./app/controllers/data/dataTransactionController")]),i.controller("DataComplexTransactionController",["$scope",t("./app/controllers/data/dataComplexTransactionController")]),i.controller("DataTransactionTypeController",["$scope",t("./app/controllers/data/dataTransactionTypeController")]),i.controller("DataTransactionTypeGroupController",["$scope",t("./app/controllers/data/dataTransactionTypeGroupController")]),i.controller("DataPriceHistoryController",["$scope",t("./app/controllers/data/dataPriceHistoryController")]),i.controller("DataCurrencyHistoryController",["$scope",t("./app/controllers/data/dataCurrencyHistoryController")]),i.controller("DataCurrencyController",["$scope",t("./app/controllers/data/dataCurrencyController")]),i.controller("DataStrategyController",["$scope","$stateParams",t("./app/controllers/data/dataStrategyController")]),i.controller("DataStrategyGroupController",["$scope","$stateParams",t("./app/controllers/data/dataStrategyGroupController")]),i.controller("DataStrategySubgroupController",["$scope","$stateParams",t("./app/controllers/data/dataStrategySubgroupController")]),i.controller("TransactionsAuditController",["$scope","$stateParams",t("./app/controllers/system/auditTransactionsController")]),i.controller("InstrumentsAuditController",["$scope","$stateParams",t("./app/controllers/system/auditInstrumentsController")]),i.controller("BalanceReportController",["$scope",t("./app/controllers/reports/balanceReportController")]),i.controller("BalanceReportCustomAttrController",["$scope","$mdDialog",t("./app/controllers/reports/balanceReportCustomAttrController")]),i.controller("BalanceReportDialogCustomAttrController",["$scope","$mdDialog","data",t("./app/controllers/dialogs/balanceReportAddDialogCustomAttrController")]),i.controller("ProfitAndLostReportController",["$scope",t("./app/controllers/reports/profitAndLostReportController")]),i.controller("TransactionReportController",["$scope",t("./app/controllers/reports/transactionReportController")]),i.controller("CashFlowProjectionReportController",["$scope",t("./app/controllers/reports/cashFlowProjectionReportController")]),i.controller("PerformanceReportController",["$scope",t("./app/controllers/reports/performanceReportController")]),i.controller("EntityDataConstructorController",["$scope","$stateParams","$state","$mdDialog",t("./app/controllers/entityDataConstructorController")]),i.controller("AdditionsEditorEntityEditController",["$scope","$state","$mdDialog",t("./app/controllers/additionsEditorEntityEditController")]),i.controller("WarningDialogController",["$scope","$mdDialog","warning",t("./app/controllers/dialogs/warningDialogController")]),i.controller("SuccessDialogController",["$scope","$mdDialog","success",t("./app/controllers/dialogs/successDialogController")]),i.controller("ValidationDialogController",["$scope","$mdDialog","validationData",t("./app/controllers/dialogs/validationDialogController")]),i.controller("ExpressionEditorDialogController",["$scope","$mdDialog","item",t("./app/controllers/dialogs/expressionEditorDialogController")]),i.controller("InfoDialogController",["$scope","$mdDialog","info",t("./app/controllers/dialogs/infoDialogController")]),i.controller("InstrumentSelectDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/instrumentSelectDialogController")]),i.controller("ClassifierSelectDialogController",["$scope","$mdDialog","data",t("./app/controllers/dialogs/classifierSelectDialogController")]),i.controller("SaveLayoutDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/saveLayoutDialogController")]),i.controller("AuditController",["$scope",t("./app/controllers/system/auditController")]),i.controller("NotificationsController",["$scope","$state","$stateParams",t("./app/controllers/system/notificationsController")]),i.controller("HeaderNotificationsDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/HeaderNotificationsDialogController")]),i.controller("SettingsGeneralController",["$scope","$state",t("./app/controllers/settings/settingsGeneralController")]),i.controller("SettingsGeneralProfileController",["$scope",t("./app/controllers/settings/general/settingsGeneralProfileController")]),i.controller("SettingsGeneralDataProvidersController",["$scope",t("./app/controllers/settings/general/settingsGeneralDataProvidersController")]),i.controller("SettingsGeneralDataProvidersConfigController",["$scope","$stateParams","$mdDialog","$state",t("./app/controllers/settings/general/settingsGeneralDataProvidersConfigController")]),i.controller("SettingsGeneralInstrumentImportController",["$scope","$mdDialog",t("./app/controllers/settings/general/settingsGeneralInstrumentImportController")]),i.controller("SettingsFormDesignController",["$scope","$state",t("./app/controllers/settings/settingsFormDesignController")]),i.controller("SettingBloombergImportInstrumentController",["$scope","$state",t("./app/controllers/settings/settingBloombergImportInstrumentController")]),i.controller("SettingsMembersAndGroupsController",["$scope","$mdDialog",t("./app/controllers/settings/settingsMembersAndGroupsController")]),i.controller("CreateMemberDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/createMemberDialogController")]),i.controller("ManageMemberDialogController",["$scope","$mdDialog","memberId",t("./app/controllers/dialogs/manageMemberDialogController")]),i.controller("ManageGroupDialogController",["$scope","$mdDialog","groupId",t("./app/controllers/dialogs/manageGroupDialogController")]),i.controller("CreateGroupDialogController",["$scope","$mdDialog",t("./app/controllers/dialogs/createGroupDialogController")]),i.controller("UiLayoutListDialogController",["$scope","$mdDialog","options",t("./app/controllers/dialogs/ui/uiLayoutListDialogController")]),i.controller("UiLayoutSaveAsDialogController",["$scope","$mdDialog","options",t("./app/controllers/dialogs/ui/uiLayoutSaveAsDialogController")]),i.directive("menuToggle",[t("./app/directives/menuToggleDirective")]),i.directive("menuLink",[t("./app/directives/menuLinkDirective")]),i.directive("bindFieldControl",[t("./app/directives/bindFieldControlDirective")]),i.directive("layoutConstructorField",[t("./app/directives/layoutConstructorFieldDirective")]),i.directive("addTabEc",["$compile",t("./app/directives/addTabEcDirective")]),i.directive("fileRead",[t("./app/directives/fileReadDirective")]),i.directive("groupTable",[t("./app/directives/groupTable/gTableComponent")]),i.directive("groupTableBody",["$mdDialog",t("./app/directives/groupTable/gTableBodyComponent")]),i.directive("groupSidebarFilter",["$mdDialog",t("./app/directives/groupTable/gSidebarFilterComponent")]),i.directive("groupReportSettings",[t("./app/directives/groupTable/gReportSettingsComponent")]),i.directive("groupGrouping",["$mdDialog",t("./app/directives/groupTable/gGroupingComponent")]),i.directive("groupColumns",[t("./app/directives/groupTable/gColumnsComponent")]),i.directive("groupClipboardHandler",[t("./app/directives/groupTable/gClipboardHandlerComponent")]),i.directive("groupColumnResizer",[t("./app/directives/groupTable/gColumnResizerComponent")]),i.directive("gDialogDraggable",[t("./app/directives/groupTable/gDialogDraggableComponent")]),i.directive("groupHeightAligner",[t("./app/directives/groupTable/gHeightAlignerComponent")]),i.directive("groupVerticalScroll",[t("./app/directives/groupTable/gVerticalScrollComponent")]),i.directive("groupHorizontalScroll",[t("./app/directives/groupTable/gHorizontalScrollComponent")]),i.directive("groupSecondVerticalScroll",[t("./app/directives/groupTable/gSecondVerticalScrollComponent")]),i.directive("groupEditorBinder",["$templateCache","$compile",t("./app/directives/groupTable/groupEditorBinderComponent")]),i.directive("groupColumnInitWidth",[t("./app/directives/groupTable/gColumnInitWidthComponent.js")]),i.directive("groupBindReportRow",[t("./app/directives/groupTable/gBindReportRowDirective.js")]),i.controller("GReportSettingsDialogController",["$scope","$mdDialog","reportOptions",t("./app/controllers/dialogs/gReportSettingsDialogController")]),i.controller("gModalController",["$scope","$mdDialog","parentScope","callback",t("./app/directives/groupTable/gModalComponent")]),i.directive("evFieldResolver",[t("./app/directives/entityViewerFieldResolverDirective")]),i.directive("ismFieldResolver",[t("./app/directives/instrumentSchemeManagerFieldResolverDirective")]),i.directive("floatNumbers",[t("./app/directives/floatNumbersDirective")]),i.directive("instrumentModalResolver",["$mdDialog",t("./app/directives/instrumentModalResolverDirective")]),i.directive("instrumentEventActionResolver",["$mdDialog",t("./app/directives/instrumentEventActionResolverDirective")]),i.directive("classifierModalResolver",["$mdDialog",t("./app/directives/classifierModalResolverDirective")]),i.directive("zhDatePicker",["$mdDialog",t("./app/directives/zhDatePickerDirective")]),i.directive("customScroll",[t("./app/directives/customScrollDirective")]),i.directive("dragDialog",[t("./app/directives/dragDialogDirective")]),i.directive("membersGroupsTable",[t("./app/directives/membersGroupsTableDirective")]),i.directive("twoFieldsOptions",[t("./app/directives/twoFieldsOptionsDirective")]),i.directive("inputFileDirective",[t("./app/directives/inputFileDirective")]),i.filter("trustAsHtml",["$sce",t("./app/filters/trustAsHtmlFilter")]),i.filter("strLimit",["$filter",t("./app/filters/strLimitFilter")]),i.directive("ngRightClick",["$parse",function(t){return function(e,n,i){var a=t(i.ngRightClick);n.bind("contextmenu",function(t){e.$apply(function(){t.preventDefault(),a(e,{$event:t})})})}}]),t("./templates.min.js")},{"../../forum/scripts/main.js":20,"./app/controllers/actionsController":22,"./app/controllers/additionsEditorEntityEditController":23,"./app/controllers/attributesManagerController":24,"./app/controllers/dashboardController":25,"./app/controllers/data/dataAccountController":26,"./app/controllers/data/dataAccountTypeController":27,"./app/controllers/data/dataComplexTransactionController":28,"./app/controllers/data/dataCounterpartyController":29,"./app/controllers/data/dataCounterpartyGroupController":30,"./app/controllers/data/dataCurrencyController":31,"./app/controllers/data/dataCurrencyHistoryController":32,"./app/controllers/data/dataInstrumentController":33,"./app/controllers/data/dataInstrumentTypeController":34,"./app/controllers/data/dataPortfolioController":35,"./app/controllers/data/dataPriceHistoryController":36,"./app/controllers/data/dataPricingPolicyController":37,"./app/controllers/data/dataResponsibleController":38,"./app/controllers/data/dataResponsibleGroupController":39,"./app/controllers/data/dataStrategyController":40,"./app/controllers/data/dataStrategyGroupController":41,"./app/controllers/data/dataStrategySubgroupController":42,"./app/controllers/data/dataTagController":43,"./app/controllers/data/dataTransactionController":44,"./app/controllers/data/dataTransactionTypeController":45,"./app/controllers/data/dataTransactionTypeGroupController":46,"./app/controllers/dialogs/HeaderNotificationsDialogController":47,"./app/controllers/dialogs/attributesManagerAddDialogController":48,"./app/controllers/dialogs/attributesManagerEditDialogController":49,"./app/controllers/dialogs/automatedUploadsHistoryDialogController":50,"./app/controllers/dialogs/balanceReportAddDialogCustomAttrController":51,"./app/controllers/dialogs/classificationEditorDialogController":52,"./app/controllers/dialogs/classifierSelectDialogController":53,"./app/controllers/dialogs/createGroupDialogController":54,"./app/controllers/dialogs/createMemberDialogController":55,"./app/controllers/dialogs/entityTypeMappingDialogController":56,"./app/controllers/dialogs/eventDialogController":57,"./app/controllers/dialogs/eventScheduleConfigDialogController":58,"./app/controllers/dialogs/expressionEditorDialogController":59,"./app/controllers/dialogs/fillPriceHistoryDialogController":60,"./app/controllers/dialogs/fillPriceManuallyInstrumentDialogController":61,"./app/controllers/dialogs/gReportSettingsDialogController":62,"./app/controllers/dialogs/importInstrumentDialogController":63,"./app/controllers/dialogs/infoDialogController":64,"./app/controllers/dialogs/instrumentEventActionsDialogController":65,"./app/controllers/dialogs/instrumentMappingAddDialogController":66,"./app/controllers/dialogs/instrumentMappingEditDialogController":67,"./app/controllers/dialogs/instrumentSelectDialogController":68,"./app/controllers/dialogs/manageGroupDialogController":69,"./app/controllers/dialogs/manageMemberDialogController":70,"./app/controllers/dialogs/priceDownloadSchemeAddDialogController":71,"./app/controllers/dialogs/saveLayoutDialogController":72,"./app/controllers/dialogs/successDialogController":73,"./app/controllers/dialogs/ui/uiLayoutListDialogController":74,"./app/controllers/dialogs/ui/uiLayoutSaveAsDialogController":75,"./app/controllers/dialogs/validationDialogController":76,"./app/controllers/dialogs/warningDialogController":77,"./app/controllers/entityDataConstructorController":78,"./app/controllers/entityEditorController":79,"./app/controllers/entityViewer/complexTransactionsTransactionEditDialogController":80,"./app/controllers/entityViewer/entityViewerAddDialogController":81,"./app/controllers/entityViewer/entityViewerController":82,"./app/controllers/entityViewer/entityViewerDeleteDialogController":83,"./app/controllers/entityViewer/entityViewerEditDialogController":84,"./app/controllers/entityViewer/entityViewerPermissionEditorController":85,"./app/controllers/entityViewer/onBeforeLoadActions/reportWizardController":86,"./app/controllers/reports/balanceReportController":87,"./app/controllers/reports/balanceReportCustomAttrController":88,"./app/controllers/reports/cashFlowProjectionReportController":89,"./app/controllers/reports/performanceReportController":90,"./app/controllers/reports/profitAndLostReportController":91,"./app/controllers/reports/transactionReportController":92,"./app/controllers/settings/general/settingsGeneralDataProvidersConfigController":93,"./app/controllers/settings/general/settingsGeneralDataProvidersController":94,"./app/controllers/settings/general/settingsGeneralInstrumentImportController":95,"./app/controllers/settings/general/settingsGeneralProfileController":96,"./app/controllers/settings/settingBloombergImportInstrumentController":97,"./app/controllers/settings/settingsFormDesignController":98,"./app/controllers/settings/settingsGeneralController":99,"./app/controllers/settings/settingsMembersAndGroupsController":100,"./app/controllers/shellController":101,"./app/controllers/sideNavController":102,"./app/controllers/special-rules/complexTransactionSpecialRulesController":103,"./app/controllers/system/auditController":104,"./app/controllers/system/auditInstrumentsController":105,"./app/controllers/system/auditTransactionsController":106,"./app/controllers/system/notificationsController":107,"./app/controllers/tabs/complex-transaction/bookTransactionActionsTabController":108,"./app/controllers/tabs/complex-transaction/bookTransactionTransactionsTabController":109,"./app/controllers/tabs/instrument/accrualCalculationSchedulesController":110,"./app/controllers/tabs/instrument/eventSchedulesController":111,"./app/controllers/tabs/instrument/factorScheduleTabController":112,"./app/controllers/tabs/instrument/manualPricingFormulasTabController":113,"./app/controllers/tabs/transaction-type/transactionTypeActionsTabController":114,"./app/controllers/tabs/transaction-type/transactionTypeGeneralTabController":115,"./app/controllers/tabs/transaction-type/transactionTypeInputsTabController":116,"./app/directives/addTabEcDirective":117,"./app/directives/bindFieldControlDirective":118,"./app/directives/classifierModalResolverDirective":119,"./app/directives/customScrollDirective":120,"./app/directives/dragDialogDirective":121,"./app/directives/entityViewerFieldResolverDirective":122,"./app/directives/fileReadDirective":123,"./app/directives/floatNumbersDirective":124,"./app/directives/groupTable/gBindReportRowDirective.js":125,"./app/directives/groupTable/gClipboardHandlerComponent":126,"./app/directives/groupTable/gColumnInitWidthComponent.js":127,"./app/directives/groupTable/gColumnResizerComponent":128,"./app/directives/groupTable/gColumnsComponent":129,"./app/directives/groupTable/gDialogDraggableComponent":130,"./app/directives/groupTable/gGroupingComponent":131,"./app/directives/groupTable/gHeightAlignerComponent":132,"./app/directives/groupTable/gHorizontalScrollComponent":133,"./app/directives/groupTable/gModalComponent":134,"./app/directives/groupTable/gReportSettingsComponent":135,"./app/directives/groupTable/gSecondVerticalScrollComponent":136,"./app/directives/groupTable/gSidebarFilterComponent":137,"./app/directives/groupTable/gTableBodyComponent":138,"./app/directives/groupTable/gTableComponent":139,"./app/directives/groupTable/gVerticalScrollComponent":140,"./app/directives/groupTable/groupEditorBinderComponent":141,"./app/directives/inputFileDirective":142,"./app/directives/instrumentEventActionResolverDirective":143,"./app/directives/instrumentModalResolverDirective":144,"./app/directives/instrumentSchemeManagerFieldResolverDirective":145,"./app/directives/layoutConstructorFieldDirective":146,"./app/directives/membersGroupsTableDirective":147,"./app/directives/menuLinkDirective":148,"./app/directives/menuToggleDirective":149,"./app/directives/twoFieldsOptionsDirective":150,"./app/directives/zhDatePickerDirective":151,"./app/filters/strLimitFilter":152,"./app/filters/trustAsHtmlFilter":153,"./app/router.js":216,"./templates.min.js":300}],300:[function(t,e,n){!function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/actions-view.html",'<div><div><md-button data-ng-click="vm.importInstrument($event)" class="md-primary md-raised">Import instrument</md-button></div><div><md-button data-ng-click="vm.fillPriceHistory($event)" class="md-primary md-raised">Fill price history</md-button></div><div><md-button data-ng-click="vm.automatedUploads($event)" class="md-primary md-raised">Automated uploads</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'currency\'})" class="md-primary md-raised">Currency mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'instrument_type\'})" class="md-primary md-raised">Instrument type mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity: \'accrual_calculation_model\'})" class="md-primary md-raised">Accrual calculation model mapping</md-button></div><div><md-button data-ng-click="vm.openMapping($event, {complexExpressionEntity:\'periodicity\'})" class="md-primary md-raised">Periodicity mapping</md-button></div><div><md-button class="md-raised md-primary" data-ng-click="vm.addScheme($event)">Create instrument import scheme</md-button></div><div><md-button class="md-raised md-primary" data-ng-click="vm.addPriceDownloadScheme($event)">Create price download scheme</md-button></div><div><md-button class="md-raised md-primary" data-ng-click="vm.eventScheduleConfig()">Configure event schedule</md-button></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/additions-editor-view.html",'<div data-ng-controller="AdditionsEditorEntityEditController as vm" class="min-height"><div data-custom-scroll class="custom-scrollbar"><div data-ng-if="vm.readyStatus.entityId" data-ng-include="\'views/entity-editor-view.html\'"></div><div layout="row" layout-align="space-between center"><div layout="row"><md-button ng-click="vm.editLayout()" class="md-raised md-primary" style="margin-left: 27px; height: 36px">Edit Form</md-button><md-button ng-click="vm.manageAttrs()" class="md-raised md-primary" style="height: 36px">Manage attributes</md-button><md-button data-ng-if="vm.evAction === \'update\'" class="md-raised" ng-click="vm.copy()" style="margin-right: 25px; height: 36px">Make a copy</md-button><md-button data-ng-if="vm.evAction === \'update\'" class="md-raised" ng-click="vm.cancel()" style="height: 36px">Cancel</md-button></div><div layout="row" style="height: 48px"><md-button class="md-raised" ng-click="vm.save()" style="margin-bottom: 80px; margin-right:20px"><span data-ng-if="vm.evAction === \'create\'">Add </span><span data-ng-if="vm.evAction === \'update\'">Save</span></md-button></div></div></div></div>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attribute-manager-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view" style="width: 60%"><md-toolbar><div class="md-toolbar-tools"><h2>Attribute manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><div data-ng-if="vm.readyStatus.attribute" style="width: 100%"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab><md-tab-label>General</md-tab-label><md-tab-body><div class="a-m-tab-content"><md-input-container class="md-block" flex-gt-sm><label>Attribute name</label><input data-ng-model="vm.attribute.name"></md-input-container><div data-ng-if="vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']" disabled="disabled"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div><div data-ng-if="!vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute type</label><md-select ng-model="vm.attribute[\'value_type\']"><md-option ng-repeat="valueType in vm.valueTypes" value="{{valueType.value}}">{{valueType[\'caption_name\']}}</md-option></md-select></md-input-container></div><md-input-container class="md-block" flex-gt-sm style="margin-top: 10px"><md-checkbox data-ng-model="vm.attribute.is_hidden" aria-label="checkbox"><label style="width: 100%; position: relative">Is hidden</label></md-checkbox></md-input-container></div></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.attribute" style="width: 100%"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attributes-manager-view.html",'<div class="attributes-manager-view" style="height: 100%"><md-content style="height: 100%"><!--<md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addAttribute($event)">--><!--<ng-md-icon icon="add"></ng-md-icon>--><!--</md-button>--><div><h2 class="am-header"><span data-ng-bind="vm.entityType"></span><ng-md-icon icon="keyboard_arrow_right"></ng-md-icon>MANAGE ATTRIBUTES<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></h2></div><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button class="md-raised" data-ng-click="vm.addAttribute($event)">ADD NEW</md-button></div><div layout="row" flex="50" layout-align="end center"><md-button class="md-raised" data-ng-click="vm.toggleHidden($event)"><span data-ng-show="!vm.showHidden">SHOW HIDDEN ATTRIBUTES </span><span data-ng-show="vm.showHidden">HIDE ATTRIBUTES</span></md-button><md-button class="md-raised md-primary" data-ui-sref="app.data.{{vm.entityType}}">RETURN TO VIEW</md-button><md-button class="md-raised md-primary" data-ui-sref="app.data-constructor({entityType: vm.entityType})">RETURN TO FORM EDITOR</md-button></div></div><div data-ng-if="vm.attrs.length"><md-card data-ng-repeat="item in vm.attrs" class="am-attr-card" data-ng-if="vm.checkIsHidden(item)"><div><b data-ng-bind="item.name"></b> (<span data-ng-bind="vm.bindType(item)"></span>)<div class="am-attr-misc"><md-button data-ng-if="item[\'value_type\'] === 30" class="am-attr-btn" data-ng-click="vm.editTreeAttr(item, $event)"><ng-md-icon icon="format_align_right"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.editAttr(item, $event)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.deleteAttr(item, $event)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!vm.attrs.length"><!-- <div layout="row" layout-sm="column" layout-align="space-around">\n                <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n            </div> --><div layout="row" class="add-more-tip" layout-sm="column" layout-align="center center"><h1>You could add new user attributes here</h1></div></div></md-content></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/classification-editor-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="classifier-editor-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Classifier editor</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><md-button data-ng-click="vm.createNode()">Insert item</md-button><md-button data-ng-click="vm.renameNode()">Rename item</md-button><md-button data-ng-click="vm.deleteNode()">Delete item</md-button></div><div layout="row"><div id="jstree_demo" style="width: 100%; overflow: hidden"></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/classifier-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="classifier-select-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Select classifier</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><div data-ng-show="vm.tree.length" class="js-tree-holder-dialog-select"><div id="js-tree-select-wrapper" class="js-tree-select" style="width: 100%; overflow: hidden"></div></div><div data-ng-if="!vm.tree.length" style="width: 100%"><p style="text-align: center; width: 100%">Press Edit to create Classification</p></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised md-primary" ng-click="vm.edit($event)">Edit</md-button><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dashboard-view.html",'<div class="row"><md-button class="md-raised md-primary" data-ng-click="vm.checkForEvents($event)">CHECK FOR EVENTS</md-button></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-data-constructor-view.html",'<div class="entity-constructor"><div data-ng-if="vm.readyStatus.constructor" class="ec-tabs-holder" data-add-tab-ec data-tabs="vm.tabs"><h1 class="ec-breadcrumbs"><span class="ec-entity-type">{{vm.entityType}}<ng-md-icon icon="chevron_right" size="24" style="fill:#8B8B8B"></ng-md-icon></span>INPUT FORM EDITOR</h1><md-tabs md-border-bottom md-dynamic-height><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><div data-ng-if="!tab.editState"><span class="ec-tab-item-name">{{tab.name}}</span><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.deleteTab(tab)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div><div data-ng-if="tab.editState"><md-input-container class="ec-tab-item-edit"><label>Tab name</label><input ng-model="tab.captionName"></md-input-container><md-button class="ec-tab-btn" data-ng-click="vm.saveEditedTab(tab)"><ng-md-icon icon="save"></ng-md-icon></md-button><md-button class="ec-tab-btn" data-ng-click="vm.toggleEditTab(tab, \'back\', $index)"><ng-md-icon icon="cancel"></ng-md-icon></md-button></div></md-tab-label><md-tab-body><div class="ec-md-content ec-layout-tab"><div class="ec-layout-box"><span class="select-layout-caption">Select layout</span><md-button class="{{tab.layout.columns === item ? \'active\' : \'\' }} ec-layout-btn" data-ng-click="vm.setLayoutColumns(tab, item, $event)" data-ng-repeat="item in vm.boxColumns"><ng-md-icon icon="stop" data-ng-repeat="icon in vm.range(item)"></ng-md-icon></md-button></div><div class="ec-layout"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div data-ng-repeat="column in vm.range(tab.layout.columns)" flex="{{vm.bindFlex(tab, row, column)}}" data-ng-if="vm.checkColspan(tab, row, column)"><layout-constructor-field tab="tab" row="row" column="column"></layout-constructor-field></div></div></div></div></md-tab-body></md-tab></md-tabs><div layout="row" layout-align="space-between center"><div><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary manage-attrs-btn" data-ui-sref="app.attributesManager({entityType: vm.entityType})">Manage attributes</md-button></div><div style="padding-right: 10px"><md-button ng-click="vm.cancel()" class="md-raised">Cancel</md-button><md-button ng-click="vm.saveLayout()" class="md-raised">Save & Return</md-button></div></div></div><div data-ng-if="!vm.readyStatus.constructor"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="120"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-editor-view.html",'<div data-ng-controller="EntityEditorController as vm"><div class="entity-editor-special-rules-holder" data-ng-if="vm.entitySpecialRules"><div data-ng-include="vm.resolveSpecialRules()"></div></div><div data-ng-if="vm.specialRulesReady"><div data-ng-if="vm.checkReadyStatus()"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><span>{{tab.name}}</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field {{field.attribute[\'value_type\'] === \'decoration\' ? \'decoration-label-line\' : \'\'}}" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab-body></md-tab><md-tab data-ng-repeat="tab in vm.entityTabs" data-ng-if="vm.checkViewState(tab)"><md-tab-lable><span class="grey-tab">{{tab.label}}</span></md-tab-lable><md-tab-body><md-content class="md-padding p-t-26"><div data-ng-include="tab.templateUrl"></div></md-content></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/info-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.info.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content><div class="warning-text"><p>{{vm.info.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><!--<md-button ng-click="vm.cancel()">--><!--Cancel--><!--</md-button>--><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/instrument-select-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-select-dialog-view"><md-toolbar><div class="md-toolbar-tools"><h2>Search instrument</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="column"><div><table class="bordered"><thead><tr><th><md-input-container class="md-block"><label>Name</label><input data-ng-model="vm.search[\'name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block"><label>Short name</label><input data-ng-model="vm.search[\'short_name\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block"><label>User code</label><input data-ng-model="vm.search[\'user_code\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block bind-field-input"><label>User text 1</label><input data-ng-model="vm.search[\'user_text_1\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block bind-field-input"><label>User text 2</label><input data-ng-model="vm.search[\'user_text_2\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th><th><md-input-container class="md-block bind-field-input"><label>User text 3</label><input data-ng-model="vm.search[\'user_text_3\']" data-ng-model-options="{debounce: 1000}" data-ng-change="vm.updateTable()"></md-input-container></th></tr></thead><tbody><tr data-ng-click="vm.selectRow(item)" ng-dblclick="vm.selectAndSave(item)" data-ng-repeat="item in vm.instruments" class="{{item.active ? \'active\' : \'\'}}" style="height: 40px"><td data-ng-bind="item[\'name\']"></td><td data-ng-bind="item[\'short_name\']"></td><td data-ng-bind="item[\'user_code\']"></td><td data-ng-bind="item[\'user_text_1\']"></td><td data-ng-bind="item[\'user_text_2\']"></td><td data-ng-bind="item[\'user_text_3\']"></td></tr></tbody></table></div><div data-ng-if="!vm.instruments.length" style="text-align: center; margin-top: 20px">No result found</div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/save-layout-dialog-view.html",'<md-dialog aria-label=""><div layout="column" layout-align="center center"><h3>Page was saved.</h3><div><md-button class="md-raised" data-ng-click="vm.cancel()">Close</md-button></div></div></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/shell-view.html",'<div layout="row" class="min-height"><div layout="row" class="sidenav-wrapper" data-ng-controller="SideNavController as vm" data-ng-include="\'views/side-nav-view.html\'"></div><div layout="column" class="relative" layout-fill role="main"><md-toolbar ng-show="!showSearch" class="header" layout="columns"><div class="md-toolbar-tools" flex="70" layout="start center"><h2 data-ng-if="vm.currentLocation().length > 0" data-ng-bind="vm.currentLocation()"></h2><div data-ng-if="vm.currentLocationShowBtns"><md-menu><md-button class="md-button header-cloud-layout-btn" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="cloud" size="36"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button data-ng-click="vm.openLayoutList($event)">Open layout</md-button></md-menu-item><md-menu-item><md-button class="save-layout-btn">Save</md-button></md-menu-item><md-menu-item><md-button class="save-layout-as-btn">Save as</md-button></md-menu-item></md-menu-content></md-menu></div></div><div class="md-toolbar-tools" flex="30" layout-align="end end"><div class="header-misc" layout="row"><!--<md-button data-ui-sref="app.system.notifications" aria-label="Notifications">--><!--<ng-md-icon icon="mail_outline"></ng-md-icon>--><!--</md-button>--><md-button data-ui-sref="app.system.notifications({notificationsListType: \'unreaded\'})" aria-label="Notifications"><ng-md-icon icon="flag"></ng-md-icon><span data-ng-bind="vm.unreadedNotificationsAmount" class="unreaded-notifications-number"></span></md-button><div class="header-profile"><md-menu><md-button class="md-button header-account-btn" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="account_circle" size="48"></ng-md-icon><span class="header-profile-name" data-ng-bind="vm.user.username"></span></md-button><md-menu-content><md-menu-item><md-button data-ng-click="vm.logOutMethod()">Log Out</md-button></md-menu-item></md-menu-content></md-menu></div></div><!--<a href="#" data-ng-click="vm.logout()">Log out</a>--></div></md-toolbar><md-content flex data-custom-scroll class="app-md-content custom-scrollbar"><div data-ui-view class="shell-view"></div></md-content></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/side-nav-view.html",'<md-sidenav class="md-sidenav-left md-whiteframe-z1" md-component-id="left" md-is-locked-open="true"><md-toolbar md-scroll-shrink><div class="md-toolbar-tools"><img src="portal/content/img/finmars_logo.png" alt="" height="40" class="sidenav-logo"><div class="side-nav-btn-resize-holder"><md-button data-ng-show="vm.sideNavStatus == \'expand\'" aria-label="resize" class="to-small-btn side-nav-btn fab md-raised" data-ng-click="vm.resizeSideNav(\'collapse\')"><ng-md-icon icon="chevron_left"></ng-md-icon></md-button><md-button data-ng-show="vm.sideNavStatus == \'collapse\'" aria-label="resize" class="to-small-btn side-nav-btn fab md-raised" data-ng-click="vm.resizeSideNav(\'expand\')"><ng-md-icon icon="chevron_right"></ng-md-icon></md-button></div></div></md-toolbar><md-content flex role="navigation"><div style="overflow: hidden; height: 100%; display: block"><div data-custom-scroll class="custom-scrollbar"><ul class="side-menu"><li data-ng-repeat="section in vm.sections" class="parent-list-item" data-ng-class="{\'parentActive\' : vm.isSectionSelected(section)}"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul></div></div></md-content></md-sidenav>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/warning-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.warning.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="warning-text"><p>{{vm.warning.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/date.html",'<div data-ng-if="item"><fieldset class="standard" style="padding-top: 15px"><legend>Add buttons</legend><md-checkbox data-ng-model="item.options.dateTodayMinus" aria-label="checkbox">T - 1</md-checkbox><md-checkbox data-ng-model="item.options.dateToday" aria-label="checkbox">T</md-checkbox><md-checkbox data-ng-model="item.options.dateTodayPlus" aria-label="checkbox">T + 1</md-checkbox></fieldset></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/field.html","<div data-ng-if=\"item\"><md-input-container class=\"md-block\" data-ng-if=\"item.attribute.key !== 'instrument'\"><label>Display fields in list</label><md-select ng-model=\"item.options.fieldsList\"><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsList, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container><md-input-container class=\"md-block\"><label>Display fields on form</label><md-select ng-model=\"item.options.fieldsForm\"><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name','short_name','user_code'])}}\" ng-value=\"['name','short_name','user_code']\">Long / Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name','user_code'])}}\" ng-value=\"['short_name','user_code']\">Short / User code</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['short_name'])}}\" ng-value=\"['short_name']\">Short</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['name'])}}\" ng-value=\"['name']\">Long</md-option><md-option ng-selected=\"{{findSelected(item.options.fieldsForm, ['user_code'])}}\" ng-value=\"['user_code']\">User code</md-option></md-select></md-input-container></div>")}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/labeled-line.html",'<div><md-input-container class="md-block"><label>Label text</label><input data-ng-model="item.options.labelText"></md-input-container></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/notes.html",'<div><md-input-container class="md-block"><label>Row count</label><input data-ng-model="item.options.rowCount" type="number"></md-input-container><!--<md-input-container class="md-block" flex-gt-sm>--><!--<label>Frame</label>--><!--<md-select ng-model="item.options.frame">--><!--<md-option value="0">--><!--No border--><!--</md-option>--><!--<md-option value="1">--><!--Border--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/number.html",'<div><md-checkbox data-ng-model="item.options.onlyPositive" aria-label="checkbox">Only positive</md-checkbox></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/attribute-options/string.html",'<div><md-input-container class="md-block"><label>Copy text from</label><md-select ng-model="item.options.copyFrom"><md-option data-ng-repeat="attr in findStringAttributes()" ng-value="copyFromValue(attr)">{{attr.name}}</md-option></md-select></md-input-container><md-checkbox data-ng-model="item.options.notNull" aria-label="checkbox">Not null</md-checkbox></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-account-type-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-account-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-complex-transaction-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-counterparty-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-counterparty-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-currency-history-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-currency-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-instrument-type-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-instrument-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-portfolio-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-price-history-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-pricing-policy-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-responsible-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-responsible-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-strategy-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-strategy-subgroup-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-strategy-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-tag-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-transaction-type-group-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-transaction-type-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/data/data-transaction-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/automated-uploads-history-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="automated-uploads-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Automatic uploads manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.schedule" layout="column"><md-card><md-card-content><div><md-input-container><label for="">Upload periodicity</label><md-select data-ng-model="vm.cron.periodicity" data-ng-change="vm.resetCronExpr()"><md-option value="1">Daily</md-option><md-option value="2">Weekly</md-option><md-option value="3">Monthly</md-option></md-select></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div data-ng-show="vm.cron.periodicity == 2"><div style="padding-left: 14px"><p><b>Weekly</b></p><div><md-checkbox ng-model="vm.days[0].status" data-ng-click="vm.setDay(1)" aria-label="monday">Monday</md-checkbox><md-checkbox ng-model="vm.days[1].status" data-ng-click="vm.setDay(2)" aria-label="tuesday">Tuesday</md-checkbox><md-checkbox ng-model="vm.days[2].status" data-ng-click="vm.setDay(3)" aria-label="wednesday">Wednesday</md-checkbox><md-checkbox ng-model="vm.days[3].status" data-ng-click="vm.setDay(4)" aria-label="thursday">Thursday</md-checkbox><md-checkbox ng-model="vm.days[4].status" data-ng-click="vm.setDay(5)" aria-label="friday">Friday</md-checkbox><md-checkbox ng-model="vm.days[5].status" data-ng-click="vm.setDay(6)" aria-label="sat">Sat</md-checkbox><md-checkbox ng-model="vm.days[6].status" data-ng-click="vm.setDay(7)" aria-label="sun">Sun</md-checkbox></div></div></div><div data-ng-show="vm.cron.periodicity == 3"><div layout="row" style="padding-top: 14px"><md-input-container><label for="">Month</label><md-select data-ng-model="vm.cron.month" multiple="multiple"><md-option value="1">January</md-option><md-option value="2">February</md-option><md-option value="3">March</md-option><md-option value="4">April</md-option><md-option value="5">May</md-option><md-option value="6">June</md-option><md-option value="7">Jule</md-option><md-option value="8">August</md-option><md-option value="9">September</md-option><md-option value="10">November</md-option><md-option value="11">October</md-option><md-option value="12">December</md-option></md-select></md-input-container><md-input-container><label for="">Day</label><md-select data-ng-model="vm.cron.day" multiple="multiple"><md-option value="{{item + 1}}" data-ng-repeat="item in vm.getRange(31)">{{item + 1}}</md-option></md-select></md-input-container></div></div><div><md-input-container style="padding-left: 0; padding-top: 16px"><label for="">Time</label><mdp-time-picker class="custom-time-picker" data-ng-model="vm.cron.time"></mdp-time-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777; margin-left: 8px"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div><md-input-container><label for="">Days to load</label><input type="text" data-ng-model="vm.schedule.load_days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div><md-input-container><label for="">Portfolio balance days</label><input type="text" data-ng-model="vm.schedule.balance_day" placeholder="days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div style="margin-bottom: 18px"><md-checkbox style="margin-left: 12px" ng-model="vm.schedule.override_existed" aria-label="override">Override old prices</md-checkbox><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div><md-input-container><label for="">Roll prices for N days forward</label><input type="text" data-ng-model="vm.schedule.fill_days" placeholder="days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.schedule"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/balance-report-custom-attr-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="attribute-manager-dialog-view" style="width: 60%"><md-toolbar><div class="md-toolbar-tools"><h2>Attribute manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div layout="row"><div data-ng-if="vm.readyStatus.attribute" style="width: 100%"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab><md-tab-label>General</md-tab-label><md-tab-body><div class="a-m-tab-content"><md-input-container class="md-block" flex-gt-sm><label>Attribute name</label><input data-ng-model="vm.attribute.name" placeholder="{{vm.attribute.name}}"></md-input-container><div data-ng-if="vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute expression</label><input data-ng-model="vm.attribute.expr" palceholder="{{vm.attribute.expr}}"></md-input-container></div><div data-ng-if="!vm.editRestriction" flex-gt-sm><md-input-container class="md-block"><label>Attribute expression</label><input data-ng-model="vm.attribute.expr"></md-input-container></div><!-- <md-input-container class="md-block" flex-gt-sm style="margin-top: 10px">\n                                    <md-checkbox data-ng-model="vm.attribute.is_hidden"\n                                                 aria-label="checkbox">\n                                        <label style="width: 100%; position: relative">Is hidden</label>\n                                    </md-checkbox>\n                                </md-input-container> --></div></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.attribute" style="width: 100%"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised md-primary" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/complex-transactions-transaction-edit-dialog-view.html",'<md-dialog aria-label="entity edit" ng-cloak class="add-portfolio-dialog draggable-dialog" drag-dialog><md-dialog-content data-custom-scroll class="custom-scrollbar"><!-- <div data-ng-include="\'views/entity-editor-view.html\'"></div> --><div class="entity-editor-special-rules-holder" data-ng-if="vm.entitySpecialRules"><div data-ng-include="vm.resolveSpecialRules()"></div></div><div data-ng-if="vm.specialRulesReady"><div data-ng-if="vm.checkReadyStatus()"><md-tabs md-dynamic-height md-border-bottom class="tabs-colored"><md-tab data-ng-repeat="tab in vm.tabs"><md-tab-label><span>{{tab.name}}</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><div layout="row" data-ng-repeat="row in vm.range(tab.layout.rows)"><div class="ev-data-field {{field.attribute[\'value_type\'] === \'decoration\' ? \'decoration-label-line\' : \'\'}}" data-ng-repeat="field in tab.layout.fields" flex="{{vm.bindFlex(tab, row, field)}}" data-ng-if="vm.checkFieldRender(tab, row, field)"><bind-field-control item="vm.bindField(tab, field)"></bind-field-control></div></div></md-content></md-tab-body></md-tab><md-tab data-ng-repeat="tab in vm.entityTabs" data-ng-if="vm.checkViewState(tab)"><md-tab-lable><span class="grey-tab">{{tab.label}}</span></md-tab-lable><md-tab-body><md-content class="md-padding p-t-26"><div data-ng-include="tab.templateUrl"></div></md-content></md-tab-body></md-tab><md-tab data-ng-if="vm.checkPermissions()"><md-tab-label><span class="colored-tab">Permissions</span></md-tab-label><md-tab-body><md-content class="md-padding p-t-26"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.permissions"><md-tabs md-dynamic-height md-border-bottom><md-tab label="User permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">User name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="member in vm.members" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ member["display_name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="member.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab><md-tab label="Group permissions"><md-content><div><div layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-header"><div><div class="permissions-columns">Group name</div></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div class="permissions-columns" flex="50">Delegate<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div class="permissions-columns" flex="50">Read/Write<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_2" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div></div></div><md-divider></md-divider></div><div data-ng-repeat="group in vm.groups" layout="column"><div layout="row" layout-align="space-between center" class="permissions-table-row"><div><p>{{ group["name"] }}</p></div><div layout="row" class="permissions-checkbox-holder" flex="30" layout-align="space-between center"><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.manage"></md-checkbox></div><div flex="50" layout="center center"><md-checkbox class="md-secondary" ng-model="group.objectPermissions.change"></md-checkbox></div></div></div><md-divider></md-divider></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.permissions"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-content></md-tab-body></md-tab></md-tabs></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div><!--            ************************************8        --></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><div><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.save()" style="margin-right:20px">Save</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/create-group-dialog-view.html",'<md-dialog class="create-member-group-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Add new group</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="create-member-dialog-content custom-scrollbar"><div layout="column"><md-input-container><label>Group name</label><textarea data-ng-model="vm.groupName"></textarea></md-input-container></div></md-dialog-content><md-dialog-actions layout="row" layout-align="start center"><div flex="70"><md-button class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></div><div flex="30"><md-button class="md-raised md-primary" data-ng-click="vm.agree()">Create</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/create-member-dialog-view.html",'<md-dialog class="create-member-group-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Add new member</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="create-member-dialog-content custom-scrollbar"><div layout="column"><md-input-container><label>Member name</label><textarea data-ng-model="vm.memberName"></textarea></md-input-container><md-input-container><label>Email</label><textarea data-ng-model="vm.memberEmail"></textarea></md-input-container></div></md-dialog-content><md-dialog-actions layout="row" layout-align="start center"><div flex="70"><md-button class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></div><div flex="30"><md-button class="md-raised md-primary" data-ng-click="vm.agree()">Create</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/entity-type-mapping-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="entity-type-mapping-dialog-view draggable-dialog" style="width: 50%" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Entity type mapping</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.content"><md-card><md-card-content style="padding-top: 16px; padding-bottom: 0"><div data-ng-if="vm.mapEntityType == \'classifier\'"><div layout="row" style="margin-bottom: 20px"><div flex="50" data-ng-click="vm.setSort(\'mapping.value\')"><b>Your value </b><span class="sortorder" data-ng-show="vm.sort === \'mapping.value\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="40" data-ng-click="vm.setSort(\'name\')"><b>Map on {{vm.fancyEntity()}} </b><span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="10"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></div></div><div layout="row" style="margin-bottom: 20px" data-ng-if="vm.queryStatus" class="filter-row-holder"><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mapping.value"></md-input-container></div><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></div></div><div data-ng-repeat="item in vm.entityItems | filter:vm.query | orderBy:vm.sort:vm.direction"><div layout="row"><div flex="50"><md-input-container><label for="">Value</label><input type="text" data-ng-model="item.mapping.value"></md-input-container></div><div flex="50"><p data-ng-bind="item.name"></p></div></div></div></div><div data-ng-if="vm.mapEntityType != \'classifier\'"><div layout="row" style="margin-bottom: 20px"><div flex="50" data-ng-click="vm.setSort(\'mapping.value\')"><b>Your value </b><span class="sortorder" data-ng-show="vm.sort === \'mapping.value\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="40" data-ng-click="vm.setSort(\'name\')"><b>Map on {{vm.fancyEntity()}} </b><span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></div><div flex="10"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></div></div><div layout="row" style="margin-bottom: 20px" data-ng-if="vm.queryStatus" class="filter-row-holder"><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mapping.value"></md-input-container></div><div flex="50"><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></div></div><div data-ng-repeat="item in vm.entityItems | filter:vm.query | orderBy:vm.sort:vm.direction"><div layout="row"><div flex="50"><md-input-container><label for="">Value</label><input type="text" data-ng-model="item.mapping.value"></md-input-container></div><div flex="50"><p data-ng-bind="item.name"></p></div></div></div></div></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/event-dialog-view.html",'<md-dialog aria-label="event"><md-toolbar><div class="md-toolbar-tools"><h2>Event</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar md-padding"><div layout="row"><md-button aria-label="event button" data-ng-repeat="button in vm.actionsBtns" class="md-raised" data-ng-bind="button.display_text" data-ng-click="vm.eventAction(button.id)"></md-button></div></md-dialog-content><md-dialog-actions layout="row"><md-button aria-label="cancel" class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/event-schedule-config-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="event-schedule-dialog-view draggable-dialog" drag-dialog style="width: 50%"><md-toolbar><div class="md-toolbar-tools"><h2>Event schedule config</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.checkReadyStatus()" layout="column"><md-card><md-card-content><md-input-container class="md-block"><label for="">Name</label><input type="text" data-ng-model="vm.config.name"></md-input-container><md-input-container class="md-block"><label for="">Description</label><input type="text" data-ng-model="vm.config.description"></md-input-container><md-input-container class="md-block" style="margin-bottom: 20px"><label for="">Notification class</label><md-select data-ng-model="vm.config.notification_class"><md-option data-ng-repeat="item in vm.notificationClasses" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container class="md-block"><label for="">Notify in N days</label><input type="text" data-ng-model="vm.config.notify_in_n_days"></md-input-container><md-input-container class="md-block"><label for="">Action text</label><input type="text" data-ng-model="vm.config.action_text"></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.config.action_is_sent_to_pending" aria-label="">Action is sent to pending</md-checkbox></md-input-container><md-input-container class="md-block"><md-checkbox ng-model="vm.config.action_is_book_automatic" aria-label="">Action is book automatic</md-checkbox></md-input-container></md-card-content></md-card></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" data-ng-click="vm.cancel()">Close</md-button><md-button class="md-raised" data-ng-click="vm.agree()">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/expression-editor-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog draggable-dialog" drag-dialog style="width: 50%"><md-toolbar><div class="md-toolbar-tools"><h2>Expression editor</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><md-content><div class="i-p-20"><md-input-container class="md-block"><label for="">Expression</label><input type="text" data-ng-model="vm.item.expression"></md-input-container></div></md-content></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/fill-price-history-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="fill-price-history-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Price history manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div layout="column"><md-tabs md-dynamic-height md-border-bottom><md-tab label="Prices"><md-card><md-card-content><div><md-checkbox ng-model="vm.priceSettings.isRange" aria-label="override">Date range</md-checkbox></div><div data-ng-if="!vm.price.isRange"><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="vm.price.date_both"></zh-date-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div data-ng-if="vm.price.isRange"><md-input-container><label for="">Date from</label><zh-date-picker data-ng-model="vm.price.date_from"></zh-date-picker></md-input-container><md-input-container><label for="">Date to</label><zh-date-picker data-ng-model="vm.price.date_to"></zh-date-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div data-ng-if="vm.price.isRange"><md-input-container><label for="">Portfolio balance date</label><zh-date-picker data-ng-model="vm.price.balance_date"></zh-date-picker></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div style="border: 1px solid #ccc; padding: 10px; padding-top: 26px"><div><md-input-container style="width: 60%"><label for="">Roll prices for N days forward</label><input type="text" data-ng-model="vm.price.fill_days" placeholder="days"></md-input-container><ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></div><div style="padding-left: 12px"><md-checkbox ng-model="vm.price.override_existed" aria-label="override">Override old prices<ng-md-icon class="tooltip-inline-block" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></md-checkbox></div></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.uploadPrice()" style="margin-left: 0">Download</md-button><md-button class="md-raised" data-ng-click="vm.automatedUploads($event)">Automatic downloads</md-button><div style="padding-top: 10px"><md-progress-circular data-ng-if="vm.readyStatus.processing" md-mode="indeterminate" md-diameter="32"></md-progress-circular></div></div></md-card-content></md-card></md-tab><md-tab label="Accruals"><md-card><md-card-content style="padding-top: 20px"><div><md-input-container><label for="">Date from</label><zh-date-picker data-ng-model="vm.recalculate.date_from"></zh-date-picker></md-input-container><md-input-container><label for="">Date to</label><zh-date-picker data-ng-model="vm.recalculate.date_to"></zh-date-picker></md-input-container></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.startRecalculation()">Recalculate</md-button><div data-ng-if="vm.readyStatus.recalculationProcessing"><md-progress-circular md-mode="indeterminate" md-diameter="48"></md-progress-circular></div><span data-ng-if="vm.readyStatus.recalculationDone" style="padding-top: 12px;fill: green"><ng-md-icon icon="check_circle"></ng-md-icon></span><span data-ng-if="vm.readyStatus.recalculationError" style="padding-top: 12px;fill: red"><ng-md-icon icon="block"></ng-md-icon></span></div></md-card-content></md-card></md-tab></md-tabs></div><!--<div data-ng-if="!vm.readyStatus.mapping">--><!--<div layout="row" layout-sm="column" layout-align="space-around" class="m-large">--><!--<md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular>--><!--</div>--><!--</div>--></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Close</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/fill-price-manually-instrument-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Missed price history</h2><span flex></span></div></md-toolbar><md-dialog-content><div><md-tabs md-dynamic-height md-border-bottom><md-tab label="Instruments" data-ng-if="vm.instruments.length"><div data-ng-if="vm.checkReadyStatus()" style="padding: 20px"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'policy_name\')">Pricing policy<span class="sortorder" data-ng-show="vm.sort === \'policy_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'instrument_name\')">Instrument<span class="sortorder" data-ng-show="vm.sort === \'instrument_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'date\')">Date<span class="sortorder" data-ng-show="vm.sort === \'date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'accrued_price\')">Accrued price<span class="sortorder" data-ng-show="vm.sort === \'accrued_price\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'principal_price\')">Principal price<span class="sortorder" data-ng-show="vm.sort === \'principal_price\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.policy_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.instrument_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrued_price"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.principal_price"></md-input-container></th></tr></thead><tbody><tr data-ng-repeat="item in vm.instrumentsPrices | filter:vm.query"><td data-ng-bind="vm.bindPricingPolicy(item)"></td><td data-ng-bind="vm.bindInstrument(item)"></td><td data-ng-bind="item.date"></td><td><md-input-container><input type="text" data-ng-model="item.accrued_price"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="item.principal_price"></md-input-container></td><td></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-tab><md-tab label="Currencies" data-ng-if="vm.currencies.length"><div data-ng-if="vm.checkReadyStatus()" style="padding: 20px"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'policy_name\')">Pricing policy<span class="sortorder" data-ng-show="vm.sort === \'policy_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'currency_name\')">Currency<span class="sortorder" data-ng-show="vm.sort === \'currency_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'date\')">Date<span class="sortorder" data-ng-show="vm.sort === \'date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'fx_rate\')">FX rate<span class="sortorder" data-ng-show="vm.sort === \'fx_rate\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.policy_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.instrument_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrued_price"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.principal_price"></md-input-container></th></tr></thead><tbody><tr data-ng-repeat="item in vm.currenciesPrices | filter:vm.query"><td data-ng-bind="vm.bindPricingPolicy(item)"></td><td data-ng-bind="vm.bindCurrency(item)"></td><td data-ng-bind="item.date"></td><td><md-input-container><input type="text" data-ng-model="item.fx_rate"></md-input-container></td><td></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-tab></md-tabs></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/g-report-settings-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="g-report-settings-dialog-view draggable-dialog" drag-dialog style="width: 75%"><md-toolbar><div class="md-toolbar-tools"><h2>Report settings</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><md-card style="margin-top: 10px"><md-card-content><div data-ng-if="vm.checkReadyStatus()"><h2>General Settings</h2><div layout="row"><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="vm.reportOptions.report_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">Pricing Policy</label><md-select data-ng-model="vm.reportOptions.pricing_policy"><md-option data-ng-repeat="item in vm.pricingPolicies" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><hr><div layout="row"><md-input-container><label for="">Currency</label><md-select data-ng-model="vm.reportOptions.report_currency"><md-option data-ng-repeat="item in vm.currencies" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Cost method</label><md-select data-ng-model="vm.reportOptions.report_currency"><md-option ng-value="1">AVCO</md-option><md-option ng-value="2">FIFO</md-option><!--<md-option ng-value="3">LIFO--><!--</md-option>--></md-select></md-input-container></div><hr><h2>Advanced Settings</h2><div layout="row"><div layout="column" class="m-r-16"><md-checkbox data-ng-model="vm.reportOptions.portfolio_mode">Portfolio mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.account_mode">Account mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.show_transaction_details">Detail by transaction details</md-checkbox></div><div layout="column"><md-checkbox data-ng-model="vm.reportOptions.strategy1_mode">Strategy 1 mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.strategy2_mode">Strategy 2 mode</md-checkbox><md-checkbox data-ng-model="vm.reportOptions.strategy3_mode">Strategy 3 mode</md-checkbox></div></div><hr><h2>Filters</h2><div layout="row"><md-input-container><label for="">Portfolios</label><md-select data-ng-model="vm.reportOptions.portfolios"><md-option data-ng-repeat="item in vm.portfolios" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Accounts</label><md-select data-ng-model="vm.reportOptions.accounts"><md-option data-ng-repeat="item in vm.accounts" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row"><md-input-container><label for="">Strategies 1</label><md-select data-ng-model="vm.reportOptions.strategies1"><md-option data-ng-repeat="item in vm.strategies1" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Strategies 2</label><md-select data-ng-model="vm.reportOptions.strategies2"><md-option data-ng-repeat="item in vm.strategies2" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Strategies 3</label><md-select data-ng-model="vm.reportOptions.strategies3"><md-option data-ng-repeat="item in vm.strategies3" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><h2>Grouping</h2><div layout="row"><md-radio-group ng-model="vm.reportOptions.calculationGroup" layout="row"><md-radio-button value="portfolio" class="md-primary">Portfolio</md-radio-button><md-radio-button value="account">Account</md-radio-button><md-radio-button value="strategy1">Strategy 1</md-radio-button><md-radio-button value="strategy2">Strategy 2</md-radio-button><md-radio-button value="strategy3">Strategy 3</md-radio-button></md-radio-group></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-card-content></md-card></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Close</md-button><md-button class="md-raised" ng-click="vm.saveSettings()">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/header-notifications-dialog-view.html",'<md-dialog class="create-member-group-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Notifications</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="create-member-dialog-content custom-scrollbar"><div layout="column"><md-button class="md-raised">Unread notifications</md-button><md-button data-ui-sref="app.system.notifications" class="md-raised" data-ng-click="">All notifications</md-button></div></md-dialog-content><md-dialog-actions layout="row" layout-align="start center"><div flex="70"><md-button class="md-raised" data-ng-click="vm.cancel()">Cancel</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/import-instrument-dialog-view.html","<md-dialog aria-label=\"\" ng-cloak class=\"instrument-import-manager-dialog-view draggable-dialog\" drag-dialog><md-toolbar><div class=\"md-toolbar-tools\"><h2>Instrument import manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class=\"custom-scrollbar\" style=\"background: #E5E5E5\"><div data-ng-if=\"vm.readyStatus.mapping\" layout=\"column\"><div layout=\"row\"><md-card style=\"width: 100%\"><md-card-content class=\"p-t-26\"><div layout=\"row\"><div layout=\"column\"><md-input-container flex=\"40\" style=\"margin-bottom: 0\"><label for=\"\">ESIN</label><input type=\"text\" data-ng-model=\"vm.config.instrument_code\"></md-input-container><div layout=\"row\" layout-align=\"begin center\"><md-button class=\"md-raised md-sm-btn\" data-ng-click=\"vm.appendString('Equity')\">Equity</md-button><md-button class=\"md-raised md-sm-btn\" data-ng-click=\"vm.appendString('Corp')\">Corp</md-button><md-button class=\"md-raised md-sm-btn\" data-ng-click=\"vm.appendString('Index')\">Index</md-button></div><div layout=\"row\" layout-align=\"begin center\"><md-button class=\"md-raised md-sm-btn\" data-ng-click=\"vm.appendString('Govt')\">Govt</md-button><md-button class=\"md-raised md-sm-btn\" data-ng-click=\"vm.appendString('Curncy')\">Curncy</md-button><md-button class=\"md-raised md-sm-btn\" data-ng-click=\"vm.appendString('Comdty')\">Comdty</md-button></div></div><div layout=\"row\"><md-input-container><label for=\"\">Import scheme</label><md-select style=\"width: 200px\" data-ng-model=\"vm.config.instrument_download_scheme\"><md-option data-ng-repeat=\"item in vm.instrumentSchemes\" ng-value=\"item.id\">{{item.scheme_name}}</md-option></md-select></md-input-container><md-button class=\"instrument-mapping-btn md-fab {{vm.loadIsAvailable() ? '' : 'disabled-btn' }}\" data-ng-click=\"vm.openEditMapping($event)\"><ng-md-icon icon=\"functions\" size=\"24\" style=\"fill:rgb(63,81,181)\"></ng-md-icon><md-tooltip class=\"tooltip_1\" md-direction=\"top\">Edit mapping</md-tooltip></md-button></div><div layout=\"row\"><md-button class=\"md-raised colored-btn instrument-load-btn {{vm.loadIsAvailable() ? '' : 'disabled-btn' }}\" data-ng-click=\"vm.load($event)\">Load</md-button><div data-ng-if=\"vm.readyStatus.processing\"><md-progress-circular md-mode=\"indeterminate\" md-diameter=\"48\"></md-progress-circular></div></div></div></md-card-content></md-card></div><div layout=\"row\" data-ng-if=\"vm.dataIsImported\"><div flex=\"40\"><h2 class=\"title-padding\">Received data</h2><md-card class=\"{{vm.dataIsImported ? '' : 'card-opacity'}}\"><md-card-content><div data-ng-repeat=\"item in vm.mappedFields\" layout=\"row\"><div flex=\"50\"><p data-ng-bind=\"item.key\"></p></div><div flex=\"50\"><md-input-container><label for=\"\">Value</label><input type=\"text\" data-ng-model=\"item.value\"></md-input-container></div></div></md-card-content></md-card></div><div flex=\"60\"><div layout=\"column\"><h2 class=\"title-padding\">Instrument data</h2><div layout=\"row\"><md-button class=\"md-raised\" data-ng-click=\"vm.recalculate()\">Recalculate</md-button><md-button class=\"md-raised\" ng-click=\"vm.agree()\" style=\"margin-right:20px\">Add to database</md-button></div></div><md-card><md-card-content class=\"p-t-26\"><md-input-container class=\"md-block {{vm.findError('name', 'entityAttr', 'class') ? 'error' : ''}}\"><label for=\"\">Name</label><input type=\"text\" data-ng-model=\"vm.config.instrument.name\"><div data-ng-show=\"vm.findError('name', 'entityAttr', 'class')\">{{vm.findError('name', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('user_code', 'entityAttr', 'class') ? 'error' : ''}}\"><label for=\"\">User code</label><input type=\"text\" data-ng-model=\"vm.config.instrument.user_code\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('user_code', 'entityAttr', 'class')\">{{vm.findError('user_code', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('instrument_type', 'entityAttr', 'class') ? 'error' : ''}}\" style=\"min-height: 64px\"><label for=\"\">Instrument type</label><md-select data-ng-model=\"vm.config.instrument.instrument_type\"><md-option data-ng-repeat=\"item in vm.instrumentTypes\" ng-value=\"item.id\">{{item.name}}</md-option></md-select><div class=\"md-input-error\" data-ng-show=\"vm.findError('instrument_type', 'entityAttr', 'class')\">{{vm.findError('instrument_type', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('reference_for_pricing', 'entityAttr', 'class') ? 'error' : ''}}\"><label for=\"\">Reference for pricing</label><input type=\"text\" data-ng-model=\"vm.config.instrument.reference_for_pricing\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('reference_for_pricing', 'entityAttr', 'class')\">{{vm.findError('reference_for_pricing', 'entityAttr', 'message')}}</div></md-input-container><div class=\"bordered-with-color\" style=\"padding-top: 30px; padding-bottom: 30px; margin-bottom: 20px\"><md-input-container class=\"md-block {{vm.findError('daily_pricing_model', 'entityAttr', 'class') ? 'error' : ''}}\" style=\"min-height: 64px\"><label for=\"\">Pricing model</label><md-select data-ng-model=\"vm.config.instrument.daily_pricing_model\"><md-option data-ng-repeat=\"item in vm.dailyModels\" ng-value=\"item.id\">{{item.name}}</md-option></md-select><div class=\"md-input-error\" data-ng-show=\"vm.findError('daily_pricing_model', 'entityAttr', 'class')\">{{vm.findError('daily_pricing_model', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('price_download_scheme', 'entityAttr', 'class') ? 'error' : ''}}\" style=\"min-height: 64px\"><label for=\"\">Price download scheme</label><md-select data-ng-model=\"vm.config.instrument.price_download_scheme\"><md-option data-ng-repeat=\"item in vm.priceDownloadSchemes\" ng-value=\"item.id\">{{item.scheme_name}}</md-option></md-select><div class=\"md-input-error\" data-ng-show=\"vm.findError('price_download_scheme', 'entityAttr', 'class')\">{{vm.findError('price_download_scheme', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('default_price', 'entityAttr', 'class') ? 'error' : ''}}\"><label for=\"\">Default price</label><input type=\"text\" data-ng-model=\"vm.config.instrument.default_price\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('default_price', 'entityAttr', 'class')\">{{vm.findError('default_price', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('default_accrued', 'entityAttr', 'class') ? 'error' : ''}}\"><label for=\"\">Default accrued</label><input type=\"text\" data-ng-model=\"vm.config.instrument.default_accrued\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('default_accrued', 'entityAttr', 'class')\">{{vm.findError('default_accrued', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('payment_size_detail', 'entityAttr', 'class') ? 'error' : ''}}\"><label for=\"\">Payment size default</label><md-select data-ng-model=\"vm.config.instrument.payment_size_detail\"><md-option data-ng-repeat=\"item in vm.paymentSizeDefaults\" ng-value=\"item.id\">{{item.name}}</md-option></md-select><div class=\"md-input-error\" data-ng-show=\"vm.findError('payment_size_detail', 'entityAttr', 'class')\">{{vm.findError('payment_size_detail', 'entityAttr', 'message')}}</div></md-input-container></div><md-input-container class=\"md-block {{vm.findError('pricing_currency', 'entityAttr', 'class') ? 'error' : ''}}\" style=\"min-height: 64px\"><label for=\"\">Pricing currency</label><md-select data-ng-model=\"vm.config.instrument.pricing_currency\"><md-option data-ng-repeat=\"item in vm.currencies\" ng-value=\"item.id\">{{item.name}}</md-option></md-select><div class=\"md-input-error\" data-ng-show=\"vm.findError('pricing_currency', 'entityAttr', 'class')\">{{vm.findError('pricing_currency', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('accrued_currency', 'entityAttr', 'class') ? 'error' : ''}}\" style=\"min-height: 64px\"><label for=\"\">Accrued currency</label><md-select data-ng-model=\"vm.config.instrument.accrued_currency\"><md-option data-ng-repeat=\"item in vm.currencies\" ng-value=\"item.id\">{{item.name}}</md-option></md-select><div class=\"md-input-error\" data-ng-show=\"vm.findError('accrued_currency', 'entityAttr', 'class')\">{{vm.findError('accrued_currency', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('short_name', 'entityAttr', 'class') ? 'error' : ''}}\"><label for=\"\">Short name</label><input type=\"text\" data-ng-model=\"vm.config.instrument.short_name\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('short_name', 'entityAttr', 'class')\">{{vm.findError('short_name', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block\"><label for=\"\">Public name</label><input type=\"text\" data-ng-model=\"vm.config.instrument.public_name\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('public_name', 'entityAttr', 'class')\">{{vm.findError('public_name', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('notes', 'entityAttr', 'class') ? 'error' : ''}}\" data-ng-if=\"vm.config.instrument.notes != ''\"><label for=\"\">Notes</label><input type=\"text\" data-ng-model=\"vm.config.instrument.notes\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('notes', 'entityAttr', 'class')\">{{vm.findError('notes', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('maturity_date', 'entityAttr', 'class') ? 'error' : ''}}\" data-ng-if=\"vm.config.instrument.maturity_date != ''\"><label for=\"\">Maturity date</label><zh-date-picker ng-model=\"vm.config.instrument.maturity_date\"></zh-date-picker><div class=\"md-input-error\" data-ng-show=\"vm.findError('maturity_date', 'entityAttr', 'class')\">{{vm.findError('maturity_date', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('user_text_1', 'entityAttr', 'class') ? 'error' : ''}}\" data-ng-if=\"vm.config.instrument.user_text_1 != ''\"><label for=\"\">User text 1</label><input type=\"text\" data-ng-model=\"vm.config.instrument.user_text_1\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('user_text_1', 'entityAttr', 'class')\">{{vm.findError('user_text_1', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('user_text_2', 'entityAttr', 'class') ? 'error' : ''}}\" data-ng-if=\"vm.config.instrument.user_text_2 != ''\"><label for=\"\">User text 2</label><input type=\"text\" data-ng-model=\"vm.config.instrument.user_text_2\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('user_text_2', 'entityAttr', 'class')\">{{vm.findError('user_text_2', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('user_text_3', 'entityAttr', 'class') ? 'error' : ''}}\" data-ng-if=\"vm.config.instrument.user_text_3 != ''\"><label for=\"\">User text 3</label><input type=\"text\" data-ng-model=\"vm.config.instrument.user_text_3\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('user_text_3', 'entityAttr', 'class')\">{{vm.findError('user_text_3', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('price_multiplier', 'entityAttr', 'class') ? 'error' : ''}}\" data-ng-if=\"vm.config.instrument.price_multiplier != ''\"><label for=\"\">Price multiplier</label><input type=\"text\" data-ng-model=\"vm.config.instrument.price_multiplier\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('price_multiplier', 'entityAttr', 'class')\">{{vm.findError('price_multiplier', 'entityAttr', 'message')}}</div></md-input-container><md-input-container class=\"md-block {{vm.findError('accrued_multiplier', 'entityAttr', 'class') ? 'error' : ''}}\" data-ng-if=\"vm.config.instrument.accrued_multiplier != ''\"><label for=\"\">Accrued multiplier</label><input type=\"text\" data-ng-model=\"vm.config.instrument.accrued_multiplier\"><div class=\"md-input-error\" data-ng-show=\"vm.findError('accrued_multiplier', 'entityAttr', 'class')\">{{vm.findError('accrued_multiplier', 'entityAttr', 'message')}}</div></md-input-container><div data-ng-repeat=\"item in vm.config.instrument.attributes\"><div data-ng-if=\"item.attribute_type_object.value_type == 10\"><md-input-container class=\"md-block {{vm.findError(item, 'dynAttr', 'class') ? 'error' : ''}}\"><label for=\"\">{{item.attribute_type_object.name}}</label><input type=\"text\" data-ng-model=\"item.value_string\"><div class=\"md-input-error\" data-ng-show=\"vm.findError(item, 'dynAttr', 'class')\">{{vm.findError(item, 'dynAttr', 'message')}}</div></md-input-container></div><div data-ng-if=\"item.attribute_type_object.value_type == 20\"><md-input-container class=\"md-block {{vm.findError(item, 'dynAttr', 'class') ? 'error' : ''}}\"><label for=\"\">{{item.attribute_type_object.name}}</label><input type=\"text\" data-ng-model=\"item.value_float\"><div class=\"md-input-error\" data-ng-show=\"vm.findError(item, 'dynAttr', 'class')\">{{vm.findError(item, 'dynAttr', 'message')}}</div></md-input-container></div><div data-ng-if=\"item.attribute_type_object.value_type == 30\"><md-input-container class=\"md-block {{vm.findError(item, 'dynAttr', 'class') ? 'error' : ''}}\" style=\"margin-bottom: 20px\"><label for=\"\">{{item.attribute_type_object.name}}</label><md-select data-ng-model=\"item.classifier\" data-classifier-modal-resolver data-classifier-attr=\"item.attribute_type_object\" data-classifier-value=\"item.classifier\" md-container-class=\"h-classifier-select\" data-entity-type=\"'instrument'\"><md-option ng-value=\"item.classifier\" selected=\"selected\">{{vm.resolveAttributeNode(item)}}</md-option></md-select><div class=\"md-input-error\" data-ng-show=\"vm.findError(item, 'dynAttr', 'class')\">{{vm.findError(item, 'dynAttr', 'message')}}</div></md-input-container></div><div data-ng-if=\"item.attribute_type_object.value_type == 40\"><md-input-container class=\"md-block {{vm.findError(item, 'dynAttr', 'class') ? 'error' : ''}}\"><label for=\"\">{{item.attribute_type_object.name}}</label><zh-date-picker data-ng-model=\"item.value_date\"></zh-date-picker><div class=\"md-input-error\" data-ng-show=\"vm.findError(item, 'dynAttr', 'class')\">{{vm.findError(item, 'dynAttr', 'message')}}</div></md-input-container></div></div></md-card-content></md-card></div></div></div><div data-ng-if=\"!vm.readyStatus.mapping\"><div layout=\"row\" layout-sm=\"column\" layout-align=\"space-around\" class=\"m-large\"><md-progress-circular md-mode=\"indeterminate\" md-diameter=\"96\"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout=\"row\"><md-button class=\"md-raised\" ng-click=\"vm.cancel()\">Cancel</md-button></md-dialog-actions></md-dialog>");
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/instrument-event-actions-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-event-actions-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Actions</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><md-content style="background: #fff; padding: 20px"><div data-ng-if="vm.checkReadyStatus()"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'transaction_type_name\')">Transaction type<span class="sortorder" data-ng-show="vm.sort === \'transaction_type\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'text\')">Text<span class="sortorder" data-ng-show="vm.sort === \'text\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'is_sent_to_pending\')">Action is sent to pending<span class="sortorder" data-ng-show="vm.sort === \'action_is_sent_to_pending\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'is_book_automatic\')">Action is book automatic<span class="sortorder" data-ng-show="vm.sort === \'action_is_book_automatic\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'button_position\')">Button position<span class="sortorder" data-ng-show="vm.sort === \'button_position\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.transaction_type_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.text"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.is_sent_to_pending"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.is_book_automatic"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.button_position"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.eventActions | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindTransactionType(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.text"></td><td data-ng-if="!item.editStatus"><span class="bool-table-view" data-ng-if="item.is_sent_to_pending"><ng-md-icon icon="check_circle" size="16" style="fill:rgb(0,0,0)"></ng-md-icon></span></td><td data-ng-if="!item.editStatus"><span class="bool-table-view" data-ng-if="item.is_book_automatic"><ng-md-icon icon="check_circle" size="16" style="fill:rgb(0,0,0)"></ng-md-icon></span></td><td data-ng-if="!item.editStatus" data-ng-bind="item.button_position"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Transaction Type</label><md-select data-ng-model="item.transaction_type"><md-option data-ng-repeat="model in vm.transactionTypes" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Text</label><input type="text" data-ng-model="item.text"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><md-checkbox data-ng-model="item.is_sent_to_pending" aria-label="checkbox"><!--<label>Action is sent to pending</label>--></md-checkbox></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><md-checkbox data-ng-model="item.is_book_automatic" aria-label="checkbox"><!--<label>Action is book automatic</label>--></md-checkbox></md-input-container></td><td data-ng-if="item.editStatus"><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="item.button_position"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.transaction_type"><md-option data-ng-repeat="model in vm.transactionTypes" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.text"></md-input-container></td><td><md-input-container><md-checkbox data-ng-model="vm.newItem.is_sent_to_pending" aria-label="checkbox"><!--<label>Action is sent to pending</label>--></md-checkbox></md-input-container></td><td><md-input-container><md-checkbox data-ng-model="vm.newItem.is_book_automatic" aria-label="checkbox"><!--<label>Action is book automatic</label>--></md-checkbox></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.button_position"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-content></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/instrument-mapping-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-scheme-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Instrument scheme manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.scheme"><div layout="row" layout-align="center center"><md-card flex="50" class="inm-card-special"><md-card-content><md-input-container class="md-block"><label for="">Scheme name</label><input type="text" data-ng-model="vm.schemeName"></md-input-container></md-card-content></md-card><md-card flex="50" class="inm-card-special"><md-card-content><md-input-container class="md-block" flex-gt-sm><label>Provider</label><md-select data-ng-model="vm.schemeProvider" data-ng-if="vm.readyStatus.dataProviders"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><div data-ng-if="!vm.readyStatus.dataProviders"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-card-content></md-card></div><div layout="row"><div layout="column" flex="25"><div layout="row"><h4 style="padding-left: 10px">Fields to load</h4></div><div layout="column"><md-card><md-card-content><div data-ng-repeat="item in vm.providerFields track by $index" flex="100"><div class="fields-holder" layout="row"><div class="iscm-item"><md-input-container><label for="">Field</label><input type="text" data-ng-model="item.name"></md-input-container></div><div><md-button style="min-width: 40px" data-ng-click="vm.removeProviderField(item, $index)" class="md-raised">x</md-button></div></div></div></md-card-content></md-card></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.addProviderField()">Add field</md-button></div></div><div layout="column" flex="75"><div layout="row"><h4 style="padding-left: 10px">Map on instrument fields:</h4></div><div layout="column"><md-card flex="100"><md-card-content class="instrument-scheme-fields-holder"><div data-ng-repeat="item in vm.mapFields" layout="row" flex="100"><div layout="row" flex="100"><div class="field-name" flex="40">{{vm.beatufier(item[vm.getModelKey(item)])}}<!--{{item[vm.getModelKey(item)]}}--><!--<md-input-container>--><!--<md-select data-ng-model="item[vm.getModelKey(item)]"--><!--data-ng-focus="vm.checkAttrs()">--><!--<md-option data-ng-repeat="item in vm.baseAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.entityAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.attrs" ng-value="item.id"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--></div><div flex="50"><div data-ng-if="item.complexExpressionEntity == false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button></div></div><div data-ng-if="item.complexExpressionEntity != false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50" layout="row"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button><md-button class="md-raised md-primary complex-expr-btn" data-ng-click="vm.openMapping($event, item)">Edit mapping</md-button></div></div></div><div flex="10"><md-button class="custom-small-icon-btn md-raised" data-ng-click="vm.removeMappingField(item, $index)" data-ng-if="!item.required" class="md-raised">x</md-button></div></div></div><div style="background: #ffeee8; padding: 10px; margin-bottom: 20px"><div data-ng-repeat="item in vm.mappedFieldsDefaults" layout="row" flex="100"><div layout="row" flex="100"><div class="field-name" flex="40">{{vm.beatufier(item[vm.getModelKey(item)])}}<!--{{item[vm.getModelKey(item)]}}--><!--<md-input-container>--><!--<md-select data-ng-model="item[vm.getModelKey(item)]"--><!--data-ng-focus="vm.checkAttrs()">--><!--<md-option data-ng-repeat="item in vm.baseAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.entityAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.attrs" ng-value="item.id"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--></div><div flex="50"><div layout="row"><div flex="50"><div data-ng-if="item.value_type == 10"><md-input-container><label for="">Default value</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div data-ng-if="item.value_type == \'field\'"><div data-ism-field-resolver data-item="item" data-options="options"></div></div></div></div></div><div flex="10"></div></div></div></div><div data-ng-repeat="item in vm.mappedFieldsSecond" layout="row" flex="100"><div layout="row" flex="100"><div class="field-name" flex="40">{{vm.beatufier(item[vm.getModelKey(item)])}}<!--{{item[vm.getModelKey(item)]}}--><!--<md-input-container>--><!--<md-select data-ng-model="item[vm.getModelKey(item)]"--><!--data-ng-focus="vm.checkAttrs()">--><!--<md-option data-ng-repeat="item in vm.baseAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.entityAttrs"--><!--ng-value="item.key"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--<md-option data-ng-repeat="item in vm.attrs" ng-value="item.id"--><!--class="{{item.disabled ? \'disabled\' : \'\'}}">--><!--{{item.name}}--><!--</md-option>--><!--</md-select>--><!--</md-input-container>--></div><div flex="50"><div data-ng-if="item.complexExpressionEntity == false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button></div></div><div data-ng-if="item.complexExpressionEntity != false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expression"></md-input-container></div><div flex="50" layout="row"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item)">...</md-button><md-button class="md-raised md-primary complex-expr-btn" data-ng-click="vm.openMapping($event, item)">Edit mapping</md-button></div></div></div><div flex="10"><md-button class="custom-small-icon-btn md-raised" data-ng-click="vm.removeMappingField(item, $index)" data-ng-if="!item.required" class="md-raised">x</md-button></div></div></div><div data-ng-repeat="field in vm.mappedDynamic" layout="row" flex="100"><div layout="row" flex="100"><div class="field-name" flex="40"><md-input-container><md-select data-ng-model="field.value" data-ng-change="vm.resolveFieldType(field)" data-ng-focus="vm.checkAttrs()"><md-option data-ng-repeat="item in vm.baseAttrs" ng-value="item" class="{{item.disabled ? \'disabled\' : \'\'}}">{{item.name}}</md-option><md-option data-ng-repeat="item in vm.entityAttrs" ng-value="item" class="{{item.disabled ? \'disabled\' : \'\'}}">{{item.name}}</md-option><md-option data-ng-repeat="item in vm.attrs" ng-value="item" class="{{item.disabled ? \'disabled\' : \'\'}}">{{item.name}}</md-option></md-select></md-input-container></div><div flex="50"><div data-ng-if="field.complexExpressionEntity == false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="field.expression"></md-input-container></div><div flex="50"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, field)">...</md-button></div></div><div data-ng-if="field.complexExpressionEntity != false" layout="row"><div flex="50"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="field.expression"></md-input-container></div><div flex="50" layout="row"><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, field)">...</md-button><md-button class="md-raised md-primary complex-expr-btn" data-ng-click="vm.openMapping($event, field)">Edit mapping</md-button></div></div></div><div flex="10"><md-button class="custom-small-icon-btn md-raised" data-ng-click="vm.removeMappingField(item, $index)" data-ng-if="!item.required" class="md-raised">x</md-button></div></div></div></md-card-content></md-card></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.addMapField()">Add field</md-button></div></div></div><md-divider style="margin: 20px"></md-divider><div><div data-ng-if="vm.checkSchedules()"><div layout="row"><div layout="row" flex="50"><md-card flex="100"><md-card-content><md-input-container style="width: 100%"><label for="">Factor upload method</label><md-select data-ng-model="vm.factorScheduleMethod"><md-option data-ng-repeat="item in vm.factorSchedule" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></md-card-content></md-card></div><div layout="row" flex="50"><md-card flex="100"><md-card-content><md-input-container style="width: 100%"><label for="">Accrual schedule upload</label><md-select data-ng-model="vm.accrualCalculation"><md-option data-ng-repeat="item in vm.accrualSchedule" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></md-card-content></md-card></div></div></div><div data-ng-if="!vm.checkSchedules()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div></div><div data-ng-if="!vm.readyStatus.scheme"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/manage-group-dialog-view.html",'<md-dialog aria-label="" class="draggable-dialog manage-member-group" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit group "{{vm.groups.name}}"</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="manage-member-dialog-content custom-scrollbar"><div layout="column"><two-fields-options all-options="vm.membersList" selected-options="vm.assignedMembersList"></two-fields-options></div></md-dialog-content><md-dialog-actions layout="row"><div flex="75"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button></div><div flex><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/manage-member-dialog-view.html",'<md-dialog aria-label="" class="draggable-dialog manage-member-group" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Edit member "{{vm.members.display_name}}"</h2></div></md-toolbar><md-dialog-content data-custom-scroll class="manage-member-dialog-content custom-scrollbar"><div layout="column"><two-fields-options all-options="vm.groupsList" selected-options="vm.assignedGroupsList"></two-fields-options><md-checkbox data-ng-model="vm.memberIsAdmin" aria-label="member permission">This member is Admin</md-checkbox></div></md-dialog-content><md-dialog-actions layout="row"><div flex="75"><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button></div><div flex><md-button class="md-raised" ng-click="vm.agree()" style="margin-right:20px">Save</md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/price-download-scheme-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="instrument-scheme-manager-dialog-view draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Price download scheme manager</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar" style="background: #E5E5E5"><div data-ng-if="vm.readyStatus.providers"><md-card><md-card-content><md-tabs md-dynamic-height md-border-bottom><md-tab label="Yesterday Price"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'scheme_name\')">Pricing Model<span class="sortorder" data-ng-show="vm.sort === \'scheme_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'provider_name\')">Provider<span class="sortorder" data-ng-show="vm.sort === \'provider_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid0\')">Bid<span class="sortorder" data-ng-show="vm.sort === \'bid0\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid1\')">Bid 2<span class="sortorder" data-ng-show="vm.sort === \'bid1\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid2\')">Bid 3<span class="sortorder" data-ng-show="vm.sort === \'bid2\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid_multiplier\')">Bid mul tiplier<span class="sortorder" data-ng-show="vm.sort === \'bid_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask0\')">Ask<span class="sortorder" data-ng-show="vm.sort === \'ask0\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask1\')">Ask 2<span class="sortorder" data-ng-show="vm.sort === \'ask1\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask2\')">Ask 3<span class="sortorder" data-ng-show="vm.sort === \'ask2\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask_multiplier\')">Ask multiplier<span class="sortorder" data-ng-show="vm.sort === \'ask_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last\')">Last<span class="sortorder" data-ng-show="vm.sort === \'last\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last_multiplier\')">Last multiplier<span class="sortorder" data-ng-show="vm.sort === \'last_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid\')">Mid<span class="sortorder" data-ng-show="vm.sort === \'columns\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid_multiplier\')">Mid multiplier<span class="sortorder" data-ng-show="vm.sort === \'mid_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.scheme_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.provider_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid0"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid1"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid2"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask0"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask1"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask2"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid_multiplier"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.items | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.scheme_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.provider_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid0" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid1" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid2" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask0" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask1" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask2" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.scheme_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container class="md-block" flex-gt-sm><md-select data-ng-model="item.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid0"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid1"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid2"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask0"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask1"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask2"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.scheme_name"></md-input-container></td><td style="padding-top: 0"><md-input-container class="md-block" flex-gt-sm><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid0"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid1"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid2"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask0"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask1"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask2"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid_multiplier"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></md-tab><md-tab label="Historical Price"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'scheme_name\')">Pricing Model<span class="sortorder" data-ng-show="vm.sort === \'scheme_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'provider_name\')">Provider<span class="sortorder" data-ng-show="vm.sort === \'provider_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid_history\')">Bid History<span class="sortorder" data-ng-show="vm.sort === \'bid_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask_history\')">Ask History<span class="sortorder" data-ng-show="vm.sort === \'ask_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last_history\')">Last History<span class="sortorder" data-ng-show="vm.sort === \'last_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid_history\')">Mid history<span class="sortorder" data-ng-show="vm.sort === \'mid_history\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'bid_history_multiplier\')">Bid History multiplier<span class="sortorder" data-ng-show="vm.sort === \'bid_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'ask_history_multiplier\')">Ask History multiplier<span class="sortorder" data-ng-show="vm.sort === \'ask_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'last_history_multiplier\')">Last History multiplier<span class="sortorder" data-ng-show="vm.sort === \'last_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'mid_history_multiplier\')">Mid history multiplier<span class="sortorder" data-ng-show="vm.sort === \'mid_history_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.scheme_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.provider_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid_history"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.bid_history_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.ask_history_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.last_history_multiplier"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.mid_history_multiplier"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.items | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.scheme_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.provider_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid_history" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.bid_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.ask_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.last_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.mid_history_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.scheme_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container class="md-block" flex-gt-sm><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid_history"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.bid_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.ask_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.last_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.mid_history_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.scheme_name"></md-input-container></td><td style="padding-top: 0"><md-input-container><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid_history"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.bid_history_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.ask_history_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.last_history_multiplier"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.mid_history_multiplier"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></md-tab><md-tab label="Currency"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'scheme_name\')">Pricing Model<span class="sortorder" data-ng-show="vm.sort === \'scheme_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'provider_name\')">Provider<span class="sortorder" data-ng-show="vm.sort === \'provider_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'currency_fxrate\')">Currency FX Rate<span class="sortorder" data-ng-show="vm.sort === \'currency_fxrate\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'currency_fxrate_multiplier\')">FX Rate Multiplier<span class="sortorder" data-ng-show="vm.sort === \'currency_fxrate_multiplier\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><input type="text" data-ng-model="vm.query.scheme_name"></md-input-container></th><th><md-input-container><input type="text" data-ng-model="vm.query.provider_name"></md-input-container></th><th><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate"></md-input-container></th><th><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate_multiplier"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.items | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.scheme_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.provider_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.currency_fxrate" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.currency_fxrate_multiplier" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.scheme_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.currency_fxrate"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><input type="text" data-ng-model="item.currency_fxrate_multiplier"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.scheme_name"></md-input-container></td><td style="padding-top: 0"><md-input-container><md-select data-ng-model="vm.newItem.provider"><md-option data-ng-repeat="item in vm.dataProviders" data-ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.query.currency_fxrate_multiplier"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></md-tab></md-tabs></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.providers"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button class="md-raised" ng-click="vm.cancel()">Close</md-button></md-dialog-actions></md-dialog>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/success-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="success-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>{{vm.success.title}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="success-text"><p>{{vm.success.description}}</p></div></md-dialog-content><md-dialog-actions layout="row"><!--<md-button ng-click="vm.cancel()">--><!--Cancel--><!--</md-button>--><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/validation-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="warning-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Input form error</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="warning-text"><p data-ng-repeat="item in vm.errorKeys"><b data-ng-bind="item.caption" data-ng-if="item.caption != \'non field errors\'"></b> - <span data-ng-bind="item.value"></span></p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/bind-field-control-view.html",'<div><div data-ng-if="fieldType[\'display_name\'] === \'Number\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" type="number" data-ng-if="!item.options.onlyPositive"> <input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" type="number" min="0" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'String\'"><div data-ng-if="getModelKey() === \'notes\' "><md-input-container class="md-block textarea-bind-field"><label data-ng-bind="getName()"></label><textarea data-ng-change="changeWatcher()" class="{{item.options.frame == 1 ? \'bordered\' : \'\' }}" data-ng-model="entity[getModelKey()]" cols="30" rows="{{item.options.rowCount}}"></textarea></md-input-container></div><div data-ng-if="getModelKey() !== \'notes\' "><md-input-container class="md-block bind-field-input {{item.options.copyFrom ? \'with-button\' : \'\'}} {{checkValid() ? \'mdc-error\' : \'\'}} {{entity[getModelKey()] != \'\' ? \'md-input-has-value\' : \'\'}}"><label data-ng-bind="getName()"></label><input type="text" data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]"><md-button data-ng-if="item.options.copyFrom" class="bf-copy-btn" data-ng-click="copyFromField(item.options.copyFrom)"><ng-md-icon icon="content_copy"></ng-md-icon></md-button></md-input-container></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Float\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" data-float-numbers data-ng-if="!item.options.onlyPositive"> <input data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" data-float-numbers data-only-positive="true" data-ng-if="item.options.onlyPositive"></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Field\'"><div data-ev-field-resolver data-item="item" data-entity="entity" data-options="options"></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Multiple choice field\'"><div data-ev-field-resolver data-item="item" data-entity="entity" data-options="options"></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Date\'" class="field-date-pick"><!-- <label data-ng-bind="getName()"></label> --><md-input-container class="field-date-pick-holder"><label data-ng-bind="getName()"></label><zh-date-picker data-ng-change="changeWatcher()" ng-model="entity[getModelKey()]"></zh-date-picker><!--<mdp-date-picker mdp-placeholder="Enter date" ng-model="entity[getModelKey()]" mdp-format="YYYY/MM/DD" data-ng-change="dateFormatter()"></mdp-date-picker>--><!--<md-datepicker ng-model="entity[getModelKey()]" md-placeholder="Enter date" data-ng-change="dateFormatter()"></md-datepicker>--><div class="date-pick-buttons-block"><md-button data-ng-if="item.options.dateTodayMinus" data-ng-click="setDateMinus()">T - 1</md-button><md-button data-ng-if="item.options.dateToday" data-ng-click="setDateToday()">T</md-button><md-button data-ng-if="item.options.dateTodayPlus" data-ng-click="setDatePlus()">T + 1</md-button></div></md-input-container></div><div data-ng-if="fieldType[\'display_name\'] === \'Boolean\'"><md-checkbox class="checkbox-bind-field" data-ng-change="changeWatcher()" data-ng-model="entity[getModelKey()]" aria-label="checkbox"><label data-ng-bind="getName()"></label></md-checkbox></div><div data-ng-if="fieldType[\'display_name\'] === \'Classifier\'"><div data-ng-if="readyStatus.classifier"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><!--{{item}}--><md-select data-ng-model="entity[getModelKey()]" data-classifier-modal-resolver data-classifier-attr="item" data-classifier-value="entity[getModelKey()]" data-ng-change="changeClassifier()" md-container-class="h-classifier-select" data-entity-type="entityType"><md-option ng-value="node.id" selected="selected">{{node.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!readyStatus.classifier"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div><div data-ng-if="fieldType[\'display_name\'] === \'Decoration\'"><span class="ec-decoration line" data-ng-if="!item.options.labelText"></span> <span class="ec-decoration labeled" data-ng-if="item.options.labelText"><span class="w-rp" data-ng-bind="item.options.labelText"></span></span></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/instrument-scheme-manager-field-resolver-view.html",'<div><div data-ng-if="readyStatus.content"><div data-ng-if="type === \'key-value\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="item.expression" md-on-close="searchTerm = \'\'" data-ng-change="changeWatcher()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.name | filter:{name: searchTerm}" ng-value="field.value">{{field.name}}</md-option></md-select></md-input-container></div><div data-ng-if="type === \'id\'"><div data-ng-if="item.key !== \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="item.expression" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id " ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="item.key  == \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="item.expression"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.scheme_name | filter:{scheme_name:searchTerm} track by field.id " ng-value="field.id">{{field[\'scheme_name\']}}</md-option></md-select></md-input-container></div></div></div><div data-ng-if="!readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/layout-constructor-field-view.html",'<div><div data-ng-if="!item.editMode"><div data-ng-if="item.attribute"><md-card class="ec-attr-card"><div layout="row"><p class="name-holder" flex="60"><b><span data-ng-bind="item.attribute.name"></span></b> (<span data-ng-bind="bindTypeByValueType(item.attribute[\'value_type\'])"></span>)</p><div class="options-holder" flex="40"><md-button aria-label="delete attribute" data-ng-click="deleteField()"><ng-md-icon icon="delete"></ng-md-icon></md-button><md-button aria-label="edit attribute" data-ng-click="toggleEditMode()"><ng-md-icon icon="mode_edit"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!item.attribute"><md-card class="ec-attr-card"><md-button aria-label="add field" data-ng-click="toggleEditMode()"><ng-md-icon icon="add_circle"></ng-md-icon></md-button></md-card></div></div><div data-ng-if="item.editMode"><md-card class="ec-attr-card {{item.editMode ? \'active\' : \'\'}}"><md-input-container class="md-block" flex-gt-sm><label>Please select Element</label><!--{{item.attribute}}--><md-select ng-model="item.attribute" ng-change="changeModel(item.attribute)" ng-focus="findAttrsLeft()"><md-optgroup label="System" class="bold-field-select"><md-option ng-repeat="attr in baseAttrs" data-ng-if="baseAttrs.length" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}">{{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option><md-option ng-repeat="attr in entityAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option></md-optgroup><!--<md-optgroup label="Specific">--><!--<md-option ng-repeat="attr in entityAttrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}">--><!--&lt;!&ndash;{{attr}}&ndash;&gt;--><!--{{attr.name}}--><!--</md-option>                        --><!--</md-optgroup>--><md-optgroup label="User attributes" class="bold-field-select" data-ng-if="attrs.length"><md-option ng-repeat="attr in attrs" ng-value="attr" class="{{attr.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option></md-optgroup><md-optgroup label="Inputs" class="bold-field-select" data-ng-if="userInputs.length"><md-option ng-repeat="userInput in userInputs" ng-value="userInput" class="{{userInput.disabled ? \'disabled\' : \'\'}}"><!--{{attr}}--> {{userInput.name}} ({{bindTypeByValueType(userInput[\'value_type\'])}})</md-option></md-optgroup><md-optgroup label="Layout" class="bold-field-select"><md-option ng-repeat="attr in layoutAttrs" ng-value="attr">{{attr.name}} ({{bindTypeByValueType(attr[\'value_type\'])}})</md-option></md-optgroup></md-select></md-input-container><md-input-container class="md-block" flex-gt-sm><!--<label>Colspan</label>--><label>Element width</label><md-select ng-model="item.colspan"><md-option ng-repeat="colspan in getCols()" value="{{colspan}}">{{colspan}} column(s)</md-option></md-select></md-input-container><md-input-container class="md-block" data-ng-if="item.attribute.value_type != \'decoration\'"><label>Custom label</label><input data-ng-model="item.options.fieldName"></md-input-container><div data-ng-if="checkForSpecialOptions()"><div data-ng-include="specialOptionTemplate"></div></div><md-divider></md-divider><div layout="row" layout-align="space-between center" class="constructor-card-actions"><md-button aria-label="cancel" data-ng-click="cancel()">Cancel</md-button><md-button class="ec-field-btn {{item.attribute ? \'\' : \'disabled\'}}" aria-label="save layout" data-ng-click="saveField()"><span>Ok</span></md-button></div></md-card></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/members-groups-table-view.html",'<!-- <div class="g-column-component g-thead">\n\t<md-card data-ng-repeat="name in columnsNames">\n\t\t<div class="g-column-content">\n\t\t\t<div class="column-left-content">\n\t\t\t\t<div class="sort" data-ng-if="isSortable(column)">\n\t\t\t\t\t<md-button class="column-sort column-btns" data-ng-show="column.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')">\n\t\t\t\t\t\t<ng-md-icon icon="keyboard_arrow_down"></ng-md-icon>\n\t\t\t\t\t</md-button>\n\t\t\t\t\t<md-button class="column-sort-up column-btns" data-ng-show="column.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'ASC\')">\n\t\t\t\t\t\t<ng-md-icon icon="keyboard_arrow_up"></ng-md-icon>\n\t\t\t\t\t</md-button>\n\t\t\t\t\t<md-button class="column-sort column-both-sorted column-btns" data-ng-show="!column.options.sort" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')">\n\t\t\t\t\t\t<ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon>\n\t\t\t\t\t\t<ng-md-icon class="c-down"  icon="keyboard_arrow_down"></ng-md-icon>\n\t\t\t\t\t</md-button>\n\t\t\t\t</div>\n\t\t\t\t<div class="caption">\n\t\t\t\t\t{{name}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="column-left-content">\n\t\t\t\t<div class="caption">\n\t\t\t\t\t{{name}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</md-card>\n</div> --><div><table class="bordered"><thead><tr><th>Member name</th><th>User role</th><th>Date Joined</th><th>Assigned to groups</th></tr></thead></table></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/menu-link-view.html",'<md-button ui-sref-active="active" class="sidemenu-btn" ui-sref="{{section.state}}" ng-click="focusSection()"><span data-ng-if="section.icon" class="side-nav-icon"><ng-md-icon icon="{{section.icon}}" size="24"></ng-md-icon></span><span class="side-nav-title">{{section.title}}</span> <span class="md-visually-hidden" data-ng-if="isSelected()">current page</span></md-button>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/menu-toggle-view.html",'<md-button class="md-button-toggle sidemenu-btn" ng-click="toggle($event)" aria-controls="side-menu-{{section.title}}" flex layout="row" aria-expanded="{{isOpen()}}"><span data-ng-if="section.icon" class="side-nav-icon"><ng-md-icon icon="{{section.icon}}" size="24"></ng-md-icon></span><span class="side-nav-title">{{section.title}}</span><ng-md-icon icon="expand_more" class="dropdown-icon" data-ng-if="!isOpen()"></ng-md-icon><ng-md-icon icon="expand_less" class="dropdown-icon" data-ng-if="isOpen()"></ng-md-icon><!--<span aria-hidden="true" class="pull-right fa fa-chevron-down md-toggle-icon" data-ng-class="{\'toggled\' : isOpen()}"></span>--></md-button><ul data-ng-show="isOpen()" id="side-menu-{{section.title}}" class="menu-toggle-list"><li data-ng-repeat="section in section.pages"><menu-link section="section" ng-if="section.type === \'link\'"></menu-link><menu-toggle section="section" ng-if="section.type === \'toggle\'"></menu-toggle></li></ul>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/two-fields-options-view.html",'<div layout="row" class="two-fields-options-content" layout-align="center center"><div><p data-ng-if="allOptions[0].name">Available groups</p><p data-ng-if="allOptions[0].display_name">Available members</p><div class="all-options-field two-fields-options"><p data-ng-repeat="option in allOptions" data-ng-if="option.name" data-ng-bind="option.name" class="two-fields-available-option" data-member-group-id="{{option.id}}" data-ng-click="highlightOption($event)"></p><p data-ng-repeat="option in allOptions" data-ng-if="option.display_name" data-ng-bind="option.display_name" class="two-fields-available-option" data-member-group-id="{{option.id}}" data-ng-click="highlightOption($event)"></p></div></div><div class="two-fields-buttons" layout="column" layout-align="center center"><md-button class="two-fields-select-btn two-fields-btn md-raised" data-ng-disable="" data-ng-click="switchOptions(\'p.two-fields-available-option.active-option\', allOptions, selectedOptions)"><ng-md-icon icon="chevron_right" size="25"></ng-md-icon></md-button><md-button class="two-fields-select-btn two-fields-btn md-raised" data-ng-disable="" data-ng-click="switchOptions(\'p.two-fields-selected-option.active-option\', selectedOptions, allOptions)"><ng-md-icon icon="chevron_left" size="25"></ng-md-icon></md-button></div><div><p data-ng-if="allOptions[0].name">Assigned groups</p><p data-ng-if="allOptions[0].display_name">Assigned members</p><div class="selected-options-field two-fields-options"><p data-ng-repeat="sOption in selectedOptions" data-ng-if="sOption.name" data-ng-bind="sOption.name" class="two-fields-selected-option" data-member-group-id="{{sOption.id}}" data-ng-click="highlightOption($event)"></p><p data-ng-repeat="sOption in selectedOptions" data-ng-if="sOption.display_name" data-ng-bind="sOption.display_name" class="two-fields-selected-option" data-member-group-id="{{sOption.id}}" data-ng-click="highlightOption($event)"></p></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/complex-transactions-transaction-edit-dialog-view.html",'<md-dialog aria-label="entity edit" ng-cloak class="add-portfolio-dialog draggable-dialog" drag-dialog><md-dialog-content data-custom-scroll class="custom-scrollbar"><div data-ng-include="\'views/entity-editor-view.html\'"></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><div><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.save()" style="margin-right:20px"><span>Save</span></md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/entity-viewer-dialog-view.html",'<md-dialog aria-label="entity edit" ng-cloak class="add-portfolio-dialog draggable-dialog" drag-dialog><md-toolbar><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'create\'"><h2>Add {{vm.entityType}}</h2><span flex></span></div><div class="md-toolbar-tools" data-ng-if="vm.evAction === \'update\'"><h2>Edit {{vm.entityType}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div data-ng-include="\'views/entity-editor-view.html\'"></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><div><md-button ng-click="vm.editLayout()" class="md-raised md-primary" data-ng-if="vm.checkVisibility(\'edit-form-btn\')">Edit Form</md-button><md-button ng-click="vm.manageAttrs()" class="md-raised md-primary">Manage attributes</md-button></div><div><md-button data-ng-if="vm.evAction === \'update\'" class="md-raised" ng-click="vm.copy()" style="margin-right: 25px">Make a copy</md-button><md-button class="md-raised" ng-click="vm.cancel()">Cancel</md-button><md-button class="md-raised" ng-click="vm.save()" style="margin-right:20px"><span data-ng-if="vm.evAction === \'create\'">Add </span><span data-ng-if="vm.evAction === \'update\'">Save</span></md-button></div></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/entity-viewer-entity-delete-dialog-view.html",'<md-dialog aria-label="" ng-cloak class="delete-portfolio-dialog"><md-toolbar><div class="md-toolbar-tools"><h2>Delete {{vm.displayCaption()}}</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div class="warning-text"><p>Are you sure to delete this <b>{{vm.displayCaption()}}?</b></p></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.delete()" style="margin-right:20px">Delete</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/entity-viewer-view.html",'<div data-ng-controller="EntityViewerController as vm" class="entity-viewer-holder"><div data-ng-if="vm.checkOnBeforeLoadAction()" class="min-height"><div data-ng-include="vm.onBeforeLoadAction" class="min-height"></div></div><div data-ng-if="!vm.checkOnBeforeLoadAction()"><div data-ng-if="!vm.isReport"><md-button aria-label="add entity" class="md-fab md-fab-bottom-right" data-ng-click="vm.addEntity($event)" data-ng-if="vm.tableParts.addEntityBtn"><ng-md-icon icon="add"></ng-md-icon></md-button><div class="lock-size g-table-dial" layout="row" layout-align="center center"><md-fab-speed-dial md-direction="up" md-open="false" class="md-scale"><md-fab-trigger><md-button aria-label="menu" class="md-fab" data-ng-if="vm.checkAdditionStatus()"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button aria-label="menu" class="md-fab" data-ng-if="!vm.checkAdditionStatus()" data-ng-click="vm.hideAdditions()"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button></md-fab-trigger><md-fab-actions><md-button aria-label="" data-ng-if="vm.checkIfPermissionEditorAllowed()" class="md-fab md-raised md-mini" data-ng-click="vm.openPermissionEditor()"><ng-md-icon icon="perm_identity"></ng-md-icon><md-tooltip md-direction="right">Open permission editor</md-tooltip></md-button><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openDataViewPanel()"><ng-md-icon icon="work"></ng-md-icon><md-tooltip md-direction="right">Open data view panel</md-tooltip></md-button><md-button aria-label="" class="md-fab md-raised md-mini" data-ng-click="vm.openEditorViewPanel()"><ng-md-icon icon="view_stream"></ng-md-icon><md-tooltip md-direction="right">Open editor split panel</md-tooltip></md-button><md-button aria-label="" data-ng-repeat="customButton in vm.customButtons" class="md-fab md-raised md-mini" data-ng-click="vm.openCustomAdditionsView($event, customButton)"><ng-md-icon icon="{{customButton.icon}}"></ng-md-icon><md-tooltip md-direction="right">{{customButton.caption}}</md-tooltip></md-button></md-fab-actions></md-fab-speed-dial></div></div><div data-ng-if="vm.checkReadyStatus()" class="g-group-table-holder"><group-table items="vm.getProjection()" options="vm.options"></group-table></div><div data-ng-if="!vm.checkReadyStatus()"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/field-resolver-view.html",'<div><div data-ng-if="readyStatus.content"><div data-ng-if="type === \'key-value\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="entity[getModelKey()]" md-on-close="searchTerm = \'\'" data-ng-change="changeWatcher()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.name | filter:{name: searchTerm}" ng-value="field.value">{{field.name}}</md-option></md-select></md-input-container></div><div data-ng-if="type === \'id\'"><div data-ng-if="getModelKey() === \'instrument\' "><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="entity[getModelKey()]" data-ng-change="changeWatcher()" md-container-class="h-instrument-select" data-instrument-modal-resolver md-selected-text="bindFormFields()"><md-option data-ng-repeat="field in fields track by field.id" ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="getModelKey() !== \'instrument\'"><div data-ng-if="checkComplexEntityType()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><div data-ng-if="readyStatus.tags"><md-select data-ng-change="changeWatcher()" md-on-clonse="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-optgroup data-ng-if="group.fields.length" label="{{group.name}}" data-ng-repeat="group in groups | orderBy:\'-\'+group.name track by group.id"><md-option data-ng-repeat="field in group.fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by $index" ng-value="field.id">{{bindListFields(field)}}</md-option></md-optgroup></md-select></div><div data-ng-if="!readyStatus.tags"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-input-container></div><div data-ng-if="!checkComplexEntityType()"><div data-ng-if="getModelKey() !== \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id " ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="getModelKey() == \'price_download_scheme\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.scheme_name | filter:{scheme_name:searchTerm} track by field.id " ng-value="field.id">{{field[\'scheme_name\']}}</md-option></md-select></md-input-container></div></div></div></div><div data-ng-if="type === \'multiple-ids\'"><div data-ng-if="checkComplexEntityType()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" multiple="true"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-optgroup label="{{group.name}}" data-ng-repeat="group in groups | orderBy:\'-\'+group.name track by group.id"><md-option data-ng-repeat="field in group.fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm}" ng-value="field.id">{{bindListFields(field)}}</md-option></md-optgroup></md-select></md-input-container></div><div data-ng-if="!checkComplexEntityType()"><div data-ng-if="getModelKey() !== \'content_types\'"><div data-ng-if="resolveMultiple()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindMCField()" multiple="true"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id" ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div><div data-ng-if="!resolveMultiple()"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindFormFields()"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+resolveSort(field) | filter:{name: searchTerm} track by field.id" ng-value="field.id">{{bindListFields(field)}}</md-option></md-select></md-input-container></div></div><div data-ng-if="getModelKey() === \'content_types\'"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-change="changeWatcher()" md-on-close="searchTerm = \'\'" data-ng-model="entity[getModelKey()]" md-selected-text="bindMCField()" multiple="true"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields | orderBy:\'-\'+field.name | filter:{name: searchTerm}" ng-value="field.key">{{field.name}}</md-option></md-select></md-input-container></div></div></div></div><div data-ng-if="!readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/permission-editor-view.html",'<div data-ng-controller="EntityViewerPermissionEditorController as vm"><div layout="row" layout-align="center center"><h3>Permission manager</h3></div><md-tabs md-dynamic-height md-border-bottom><md-tab label="Users"><md-content class="md-padding"><div layout="row" layout-align="space-between center" style="margin-bottom: 8px; padding: 0 16px"><div layout="row" layout-align="begin center">Username</div><div layout="row" layout-align="center center"><div layout="row" layout-align="center center" style="width: 105px">Manage</div><div layout="row" layout-align="center center" style="width: 105px">Change</div></div></div><div layout="column" class="ev-permission-editor-item"><div layout="row" layout-align="space-between" class="{{user.isSelected ? \'selected\' : \'\'}}" data-ng-repeat="user in vm.users" data-ng-click="vm.selectEntity(\'user\', user)"><div layout="row" layout-align="begin center"><span data-ng-bind="user.username"></span></div><div layout="row" layout-align="center center"><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleManage(user)"><span data-ng-show="user.manager_actions.manage">Disable</span> <span data-ng-show="!user.manager_actions.manage">Enable</span></md-button><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleChange(user)"><span data-ng-show="user.manager_actions.change">Disable</span> <span data-ng-show="!user.manager_actions.change">Enable</span></md-button></div></div></div></md-content></md-tab><md-tab label="Groups"><md-content class="md-padding"><div layout="row" layout-align="space-between center" style="margin-bottom: 8px; padding: 0 16px"><div layout="row" layout-align="begin center">Group</div><div layout="row" layout-align="center center"><div layout="row" layout-align="center center" style="width: 105px">Manage</div><div layout="row" layout-align="center center" style="width: 105px">Change</div></div></div><div layout="column" class="ev-permission-editor-item"><div layout="row" layout-align="space-between" class="{{group.isSelected ? \'selected\' : \'\'}}" data-ng-repeat="group in vm.groups" data-ng-click="vm.selectEntity(\'group\', group)"><div layout="row" layout-align="begin center"><span data-ng-bind="group.name"></span></div><div layout="row" layout-align="center center"><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleManage(group)"><span data-ng-show="group.manager_actions.manage">Disable</span> <span data-ng-show="!group.manager_actions.manage">Enable</span></md-button><md-button class="md-raised {{vm.processing ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.toggleChange(group)"><span data-ng-show="group.manager_actions.change">Disable</span> <span data-ng-show="!group.manager_actions.change">Enable</span></md-button></div></div></div></md-content></md-tab></md-tabs></div>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/entity-viewer/report-wizard-view.html",'<div data-ng-controller="ReportWizardController as vm" class="report-wizard"><div data-ng-if="vm.checkReadyStatus()" class="custom-scrollbar" data-custom-scroll><div data-ng-if="vm.currentStep == 1"><div layout="row" layout-align="center center"><h3>Choose report type</h3></div><div layout="column"><div data-ng-repeat="item in vm.reportTypes"><md-button class="md-raised" data-ng-click="vm.selectReport(item)">{{item.caption}}</md-button></div></div><!--<div layout="row" layout-align="end center">--><!--<md-button class="md-raised {{vm.checkDisabled() ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.nextStep()">--><!--Next--><!--</md-button>--><!--</div>--></div><div data-ng-if="vm.currentStep == 2"><div layout="row" layout-align="center center"><h3>Choose layout</h3></div><div layout="column"><div data-ng-repeat="item in vm.layouts"><md-button class="md-raised" data-ng-click="vm.selectLayout(item)">{{item.name}}</md-button></div></div><div layout="row" layout-align="begin center"><md-button class="md-raised" data-ng-click="vm.prevStep()">Back</md-button></div><!--<div layout="row" layout-align="space-between center">--><!--<md-button class="md-raised" data-ng-click="vm.prevStep()">Back</md-button>--><!--<md-button class="md-raised {{vm.checkDisabled() ? \'disabled-btn\' : \'\'}}" data-ng-click="vm.nextStep()">--><!--Finish--><!--</md-button>--><!--</div>--></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/reports/reports-balance-custom-attr-view.html",'<div class="attributes-manager-view" style="height: 100%"><md-content style="height: 100%"><!--<md-button class="md-fab md-fab-bottom-right" data-ng-click="vm.addAttribute($event)">--><!--<ng-md-icon icon="add"></ng-md-icon>--><!--</md-button>--><div><h2 class="am-header"><span data-ng-bind="vm.entityType"></span> BALANCE REPORT CUSTOM ATTRIBUTES<!-- <ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777">\n                    <md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip>\n                </ng-md-icon> --></h2></div><div layout="row"><div layout="row" flex="50" layout-align="start center"><md-button class="md-raised" data-ng-click="vm.addAttribute($event)">ADD NEW</md-button></div><div layout="row" flex="50" layout-align="end center"><!-- <md-button class="md-raised" data-ng-click="vm.toggleHidden($event)">\n                    <span data-ng-show="!vm.showHidden">\n                        SHOW HIDDEN ATTRIBUTES\n                    </span>\n                    <span data-ng-show="vm.showHidden">\n                        HIDE ATTRIBUTES\n                    </span>\n                </md-button> --><md-button class="md-raised md-primary" data-ui-sref="app.reports.balance-report">RETURN TO VIEW</md-button><!-- <md-button class="md-raised md-primary"\n                           data-ui-sref="app.data-constructor({entityType: vm.entityType})">\n                    RETURN TO FORM EDITOR\n                </md-button> --></div></div><div data-ng-if="vm.attrs.length"><md-card data-ng-repeat="item in vm.attrs" class="am-attr-card" data-ng-if="vm.checkIsHidden(item)"><div><b data-ng-bind="item.name"></b><div class="am-attr-misc"><md-button data-ng-if="item[\'value_type\'] === 30" class="am-attr-btn" data-ng-click="vm.editTreeAttr(item, $event)"><ng-md-icon icon="format_align_right"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.editAttr(item, $event)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button class="am-attr-btn" data-ng-click="vm.deleteAttr(item, $event)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card></div><div data-ng-if="!vm.attrs.length"><!-- <div layout="row" layout-sm="column" layout-align="space-around">\n                <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n            </div> --><div layout="row" class="add-more-tip" layout-sm="column" layout-align="center center"><h1>You could add new custom attributes here</h1></div></div></md-content></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/reports/reports-balance-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/reports/reports-cash-flow-projection-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/reports/reports-profit-and-lost-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/reports/reports-transaction-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/bloomber-import-settings-view.html",'<div data-ng-controller="SettingBloombergImportInstrumentController as vm">Mapping name User code Name Short name Public name Notes Instrument type Pricing currency Price multiplier Accrued currency Accrued multiplier Daily pricing model Payment size detail Default price Default accrued User text 1 User text 2 User text 3 Price download mode</div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/data-providers-config-settings-view.html",'<div><div data-ng-if="vm.readyStatus.provider"><md-card><form action="" data-ng-submit="vm.saveConfig($event)" name="sertForm"><md-card-content><!-- <md-input-container class="md-block"> --><div class="sett-data-prov-choose-file"><h4>Certificate</h4><input type="file" id="providerConfigFile" file-read="vm.provider.p12cert" input-file-directive><label for="providerConfigFile" class="md-button md-raised md-primary">Choose a file</label><p>No chosen files</p></div><!-- </md-input-container> --><md-input-container class="md-block"><label>Password</label><input type="password" data-ng-model="vm.provider.password"></md-input-container></md-card-content><md-card-actions><div layout="row" layout-align="end center"><md-button class="md-raised" type="submit">Save</md-button></div></md-card-actions></form></md-card></div><div data-ng-if="!vm.readyStatus.provider"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/data-providers-settings-view.html",'<div><div data-ng-if="vm.readyStatus.dataProviders"><md-card data-ng-repeat="dataProvider in vm.dataProviders"><md-card-content><div layout="row" layout-align="space-between"><div layout="row" layout-align="begin center">{{dataProvider.name}}</div><div layout="row" layout-align="end center"><md-button class="md-raised data-provider-btn-sref" data-ui-sref="app.settings.general.data-providers-config({dataProviderId: dataProvider.id})"><ng-md-icon icon="keyboard_arrow_right"></ng-md-icon></md-button></div></div></md-card-content></md-card></div><div data-ng-if="!vm.readyStatus.dataProviders"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/form-design-view.html",'<div><md-list flex><md-list-item class="md-3-line" ng-click="vm.goToState(\'portfolio\')">Portfolios</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'account\')">Accounts</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'counterparty\')">Counterparties</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'responsible\')">Responsibles</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'instrument\')">Instruments</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'transaction\')">Transactions</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'price-history\')">Price history</md-list-item><md-divider></md-divider><md-list-item class="md-3-line" ng-click="vm.goToState(\'currency-history\')">Currency history</md-list-item><md-divider></md-divider></md-list></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/general-view.html",'<div><md-tabs md-dynamic-height md-border-bottom><md-tab label="Profile" data-ui-sref="app.settings.general.profile" md-active="$state.includes(\'app.settings.general.profile\')"><md-content class="md-padding"><div data-ui-view="profile"></div></md-content></md-tab><md-tab label="Data providers" data-ui-sref="app.settings.general.data-providers" md-active="vm.checkProviders()"><md-content class="md-padding"><div data-ui-view="data-providers"></div></md-content></md-tab><md-tab label="Instrument import" data-ui-sref="app.settings.general.instrument-import" md-active="$state.includes(\'app.settings.general.instrument-import\')"><md-content class="md-padding"><div data-ui-view="instrument-import"></div></md-content></md-tab></md-tabs></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/instrument-import-settings-view.html",'<div><div data-ng-if="vm.readyStatus.instrumentSchemes"><div layout="row" layout-align="end center"><md-button class="md-raised md-primary" data-ng-click="vm.addScheme($event)">Create scheme</md-button></div><div layout="column" data-ng-if="vm.instrumentSchemes.length"><div layout="row"><h4 style="padding-left: 20px">Scheme name</h4></div><div layout="column"><md-card data-ng-repeat="item in vm.instrumentSchemes" flex="100"><md-card-content><div layout="row" layout-align="space-between center"><div><span data-ng-bind="item[\'scheme_name\']"></span></div><div><md-button style="min-width: 42px" data-ng-click="vm.editScheme($event, item)"><ng-md-icon icon="edit"></ng-md-icon></md-button><md-button style="min-width: 42px" data-ng-click="vm.deleteScheme($event, item)"><ng-md-icon icon="delete"></ng-md-icon></md-button></div></div></md-card-content></md-card></div></div><div layout="row" data-ng-if="!vm.instrumentSchemes.length" layout-align="center center"><h3>Import schemes do not exist</h3></div></div><div data-ng-if="!vm.readyStatus.instrumentSchemes"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/profile-settings-view.html",'<div flex="50" data-ng-if="vm.readyStatus.user"><md-input-container class="md-block"><label>First name</label><input data-ng-model="vm.user[\'first_name\']"></md-input-container><md-input-container class="md-block"><label>First name</label><input data-ng-model="vm.user[\'last_name\']"></md-input-container><md-input-container class="md-block"><label>Email</label><input data-ng-model="vm.user.email" type="email"></md-input-container><md-input-container class="md-block" style="height: 64px"><label>Language</label><md-select data-ng-model="vm.user.profile.language"><md-option value="ru">Russian</md-option><md-option value="en">English</md-option><md-option value="es">Spanish</md-option><md-option value="de">Deutsch</md-option></md-select></md-input-container><md-input-container class="md-block" style="height: 64px"><label>Timezone</label><md-select data-ng-model="vm.user.profile.timezone"><md-option data-ng-repeat="item in vm.timeZones" ng-value="item.name">{{item.name}}</md-option></md-select></md-input-container><md-button class="md-raised" data-ng-click="vm.save()">Save</md-button></div><div data-ng-if="!vm.readyStatus.user"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/settings/users-and-groups-view.html",'<div class="members-groups-content"><md-tabs md-dynamic-height><md-tab label="Members"><div data-ng-if="vm.members && vm.members.length > 0"><table class="members-groups-table"><thead class="members-groups-thead"><tr><th>Member name</th><th>User role</th><th>Date Joined</th><th>Assigned to groups</th><th></th></tr></thead><tbody class="members-groups-tbody"><tr data-ng-repeat="member in vm.members"><td><md-button class="members-groups-name" data-ng-bind="member.display_name" data-ng-click="vm.manageMemberDialog($event, member.id)"></md-button></td><td><span data-ng-if="member.is_admin">Admin</span> <span data-ng-if="!member.is_admin">Member</span></td><td data-ng-bind="member.join_date | date: \'yyyy/MM/dd\'"></td><td><span data-ng-repeat="groupName in member.groupsName" data-ng-bind="(groupName + \',\')"></span></td><td class="members-groups-delete"><md-button class="members-groups-delete-btn" data-ng-click="vm.deleteMemberGroupByKey(\'members\', member.id)"><ng-md-icon icon="close" style="fill:#000000" size="20"></ng-md-icon></md-button></td></tr></tbody></table><div class="add-member-row" layout="row" layout-align="start center"><div flex="95"><md-button class="add-member-btn" data-ng-click="vm.createMemberDialog($event)">Add member</md-button></div></div></div><div data-ng-if="!vm.members || vm.members.length === 0"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-tab><md-tab label="Groups"><div data-ng-if="vm.groups && vm.groups.length > 0"><table class="members-groups-table"><thead class="members-groups-thead"><tr><th>Group name</th><th></th></tr></thead><tbody class="members-groups-tbody"><tr data-ng-repeat="group in vm.groups"><td><md-button class="members-groups-name" data-ng-bind="group.name" data-ng-click="vm.manageGroupDialog($event, group.id)"></md-button></td><td class="members-groups-delete"><md-button class="members-groups-delete-btn" data-ng-click="vm.deleteMemberGroupByKey(\'groups\', group.id)"><ng-md-icon icon="close" style="fill:#000000" size="20"></ng-md-icon></md-button></td></tr></tbody></table><div class="add-member-row" layout="row" layout-align="start center"><div flex="95"><md-button class="add-member-btn" data-ng-click="vm.createGroupDialog($event)">Add group</md-button></div></div></div><div data-ng-if="!vm.groups || vm.groups.length === 0"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></md-tab></md-tabs></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/special-rules/complex-transaction-special-rules-view.html",'<div class="special-rules-view complex-transaction-sr" data-ng-controller="ComplexTransactionSpecialRulesController as vm"><div layout="row"><div layout="row" flex="50"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="vm.complexTransactionOptions.portfolio"><md-option data-ng-repeat="item in vm.portfolios" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row" flex="50"><md-input-container><label for="">Instrument</label><md-select data-ng-model="vm.complexTransactionOptions.instrument"><md-option data-ng-repeat="item in vm.instruments" ng-value="item.id">{{item.user_code}}</md-option></md-select></md-input-container></div></div><div layout="row"><md-input-container><label for="">Transaction type</label><!--<md-select data-ng-model="vm.transactionType" md-on-open="vm.loadTransactionTypes()" ng-disabled="!vm.portfolioId && !vm.instrumentId">--><md-select data-ng-model="vm.complexTransactionOptions.transactionType" md-on-open="vm.loadTransactionTypes()" data-ng-change="vm.transactionTypeHandler()"><md-option data-ng-repeat="item in vm.transactionTypes" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/system/audit-instruments-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/system/audit-transactions-view.html",'<div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/system/audit-view.html",'<md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="Transaction" md-active="vm.checkActiveTab(\'transaction\')" data-ng-click="vm.setActiveTab(\'transaction\')"><md-content><div><div data-ng-if="vm.readyStatus.content"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'"></div></div><div data-ng-if="!vm.readyStatus.content"><div class="e-data-loader" layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-diameter="100" md-mode="indeterminate"></md-progress-circular></div></div></div></md-content></md-tab><md-tab label="Instrument" md-active="vm.checkActiveTab(\'instrument\')" data-ng-click="vm.setActiveTab(\'instrument\')"><md-content class="md-padding"><div data-ng-if="vm.readyStatus.instrument" class="audit-wrapper"><div layout="column"><div flex layout="row"><div flex="10" layout="row" class="audit-cell"><span class="no-select">Date</span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell"><span class="no-select">Time</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Member</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">User code</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Field</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Old value</span></div><md-divider></md-divider><div flex="10" flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">New value</span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select">Action</span></div></div><md-divider></md-divider></div><div layout="column" data-ng-repeat="item in vm.instruments"><div layout="row"><div flex layout="row"><div flex="10" layout="row" class="audit-cell"><span class="no-select" data-ng-bind="item.dateFormatted"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell"><span class="no-select" data-ng-bind="item.timeFormatted"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.member.username"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.object_repr"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item[\'field_name\']"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item[\'old_value\']"></span></div><md-divider></md-divider><div flex="10" layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item[\'value\']"></span></div><md-divider></md-divider><div flex layout="row" class="audit-cell" layout-align="center center"><span class="no-select" data-ng-bind="item.message"></span></div></div></div><md-divider></md-divider></div><div layout="row"><div paging page="vm.instrumentCurrent" page-size="vm.itemPerPage" total="vm.instrumentTotal" paging-action="vm.changePage(\'instrument\', page)" class="global-pagination-div"></div></div></div><div data-ng-if="!vm.readyStatus.instrument" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-content></md-tab></md-tabs>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/system/notifications-view.html",'<div class="notifications-view"><div data-ng-if="vm.notifications.length && vm.notificationsReady"><md-card class="nf-head-card"><div layout="row"><div flex="15">Date</div><div flex="10">From</div><div flex="75">Notification</div></div></md-card><md-card data-ng-repeat="item in vm.notifications"><div layout="row"><div flex="15">{{item[\'create_date\'] | date:\'dd/MM/yyyy HH:mm\'}}</div><div flex="10">System</div><div flex="75">{{item.message}}</div></div></md-card><div layout="row"><div paging page="vm.notificationsCurrent" page-size="vm.itemPerPage" total="vm.notificationsTotal" paging-action="vm.changePage(page)" class="global-pagination-div"></div></div></div><div layout="row"><md-button class="md-raised" data-ng-click="vm.markAllNotificationsAsReaded()">Mark all as readed</md-button><md-button data-ng-if="vm.notificationsListType == \'all\'" class="md-raised" data-ng-click="vm.hideShowReadedNotifications(\'unreaded\')">Hide readed</md-button><md-button data-ng-if="vm.notificationsListType == \'unreaded\'" class="md-raised" data-ng-click="vm.hideShowReadedNotifications(\'all\')">Show readed</md-button></div><div data-ng-if="!vm.notifications.length && !vm.notificationsReady"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/ui/ui-layout-list-view.html",'<md-dialog aria-label="" ng-cloak class="list-layouts-dialog" style="width: 50%" drag-dialog><md-toolbar><div class="md-toolbar-tools"><h2>Layouts</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div data-ng-if="vm.readyStatus.items"><div data-ng-repeat="item in vm.items" class="ll-layout-item {{item.is_default ? \'active\' : \'\'}}" style="padding: 10px" layout="row" layout-align="space-between center"><div layout="row" class="ll-name" data-ng-click="vm.selectLayout(item)">{{item.name}}</div><div><md-button class="md-button ll-delete-btn" ng-click="vm.deleteItem($event, item)"><ng-md-icon icon="delete" size="24"></ng-md-icon></md-button></div></div></div><div data-ng-if="!vm.readyStatus.items" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/dialogs/ui/ui-layout-save-as-view.html",'<md-dialog aria-label="" ng-cloak class="save-as-layouts-dialog" style="width: 50%"><md-toolbar><div class="md-toolbar-tools"><h2>Layouts</h2><span flex></span></div></md-toolbar><md-dialog-content data-custom-scroll class="custom-scrollbar"><div style="padding: 20px"><md-input-container style="width: 100%"><label for="">Layout name</label><input type="text" data-ng-model="vm.layoutName"></md-input-container></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">Cancel</md-button><md-button ng-click="vm.agree()" style="margin-right:20px">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/bind-report-row-view.html",'<div data-ng-show="itemIsFolded(item)"><div data-ng-if="item.type == \'preinit\'" class="g-row report-preinit-row"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div data-ng-repeat="group in item.value track by $index" class="g-group"><span data-ng-bind="::bindGroupValue(group)"></span></div></div><div data-ng-if="item.type == \'init\'" class="g-row report-init-row"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div data-ng-repeat="group in item.value track by $index" class="g-group"><span data-ng-bind="::bindGroupValue(group)"></span></div></div><div data-ng-if="item.type == \'breadcrumbs\'" class="g-row report-breacrumbs-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in item.cellsCaptions track by $index"><div class="g-cell {{resolveReportCellBackground(\'header\', item, column, $index)}} {{resolveReportCellBorder(\'header\', item, column, $index)}}">{{::bindGroupValue(item.cellsCaptions[$index])}}</div></div><div class="g-cell g-cell-group"><div data-ng-repeat="group in item.value track by $index"><span data-ng-bind="::bindGroupValue(group)"></span></div></div></div></div><div data-ng-if="item.type == \'header\'" class="g-row report-header-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'header\', item, column, $index)}} {{resolveReportCellBorder(\'header\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><!--{{item.cellsCaptions[$index][\'comparePattern\']}}--> {{::bindGroupValue(item.cellsCaptions[$index])}}</div><div class="g-cell {{getAlign(column)}} {{resolveReportCellBorder(\'header\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><span title="{{::bindCellTitle(item, column)}}" data-ng-bind-html="::bindCell(item.value, column) | trustAsHtml"></span></div></div></div></div><div data-ng-if="item.type == \'normal\'" class="g-row report-normal-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'normal\', item, column, $index)}} {{resolveReportCellBorder(\'normal\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><md-card class="group-row-fold-holder _md" data-ng-if="bindGroupValue(item.cellsCaptions[$index]) != \'\'"><div><md-button class="" aria-label="hide/show grouping" data-ng-show="item.cellsCaptions[$index].isFolded" data-ng-click="toggleGroupFold(item, $index)"><ng-md-icon icon="add"></ng-md-icon></md-button><md-button class="" aria-label="hide/show grouping" data-ng-show="!item.cellsCaptions[$index].isFolded" data-ng-click="toggleGroupFold(item, $index)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></md-card>{{::bindGroupValue(item.cellsCaptions[$index])}}</div><div class="g-cell {{getAlign(column)}} {{resolveReportCellBorder(\'normal\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><span title="{{::bindCellTitle(item.value, column)}}" data-ng-bind-html="::bindCell(item.value, column) | trustAsHtml"></span></div></div></div></div><div data-ng-if="item.type == \'subtotal-line\'" class="g-row report-subtotal-line-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'subtotal-line\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><b data-ng-if="$index !== 0"><span data-ng-if="isSubtotalHided(column)" title="{{::bindCellTitle(item.value, column)}}" data-ng-bind-html="::bindCellSubTotal(item.value, column) | trustAsHtml"></span></b></div><div class="g-cell {{getAlign(column)}} {{resolveReportCellItemBackground(\'subtotal-line\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><b><span title="{{::bindCellTitle(item.value, column)}}" data-ng-if="isSubtotalHided(column)" data-ng-bind-html="::bindCellSubTotal(item.value, column) | trustAsHtml"></span></b></div></div></div></div><div data-ng-if="item.type == \'subtotal\'" class="g-row report-subtotal-row"><div><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns track by $index"><div class="g-cell {{resolveReportCellBackground(\'subtotal\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="checkReportColumnCaption(item.cellsCaptions, column, $index)"><span data-ng-if="isSubtotalHided(column)">{{item.cellsCaptions[$index].value}}</span></div><div class="g-cell {{getAlign(column)}} {{resolveReportCellItemBackground(\'subtotal\', item, column, $index)}} {{resolveReportCellBorder(\'subtotal\', item, column, $index)}}" data-ng-if="!checkReportColumnCaption(item.cellsCaptions, column, $index)"><b><span title="{{::bindCellTitle(item.value, column)}}" data-ng-if="isSubtotalHided(column)" data-ng-bind-html="::bindCellSubTotal(item.value, column) | trustAsHtml"></span></b></div></div></div></div></div>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/columns-view.html",'<div class="g-columns-component g-thead" group-column-init-width columns="columns"><div class="g-column-title-row" layout="row"><p class="g-column-title"><span class="g-meta-circle red">C</span>OLUMN AREA<ng-md-icon style="fill: #fff" class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p></div><div class="g-cell-select all {{isAllSelected ? \'active\' : \'\'}}" data-ng-click="selectAllRows()"><ng-md-icon icon="signal_cellular_0_bar"></ng-md-icon></div><div class="g-scroll-wrapper" group-column-width-set init-width=""><div class="g-scrollable-area"><div dragula="\'columns-bag\'" dragula-model="columns" class="g-columns-holder"><md-card class="g-cell g-column" data-ng-repeat="column in columns"><div class="g-column-content"><div class="column-left-content"><div class="sort" data-ng-if="isSortable(column)"><md-button class="column-sort column-btns" data-ng-show="column.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="column-sort-up column-btns" data-ng-show="column.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(column, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="column-sort column-both-sorted column-btns" data-ng-show="!column.options.sort" aria-label="open settings" data-ng-click="sortHandler(column, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{column.name}}</div></div><div class="settings-btn"><md-menu data-ng-if="options.isReport && isColumnFloat(column)"><md-button aria-label="Open phone interactions menu" class="md-icon-button column-btns" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-menu><md-button ng-click="selectSubtotalType(column, 1)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 1)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 1)" class="z-menu-icon"></ng-md-icon><span>Subtotal SUM</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button aria-label="Open phone interactions menu" class="" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="done" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><span>Subtotal Weighted</span><ng-md-icon icon="arrow_drop_up" class="z-dropdown-icon"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="selectSubtotalType(column, 2)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 2)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 2)" class="z-menu-icon"></ng-md-icon><span>Market Value</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 3)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 3)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 3)" class="z-menu-icon"></ng-md-icon><span>Market Value %</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 4)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 4)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 4)" class="z-menu-icon"></ng-md-icon><span>Exposure</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 5)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 5)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 5)" class="z-menu-icon"></ng-md-icon><span>Exposure %</span></md-button></md-menu-item></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button aria-label="Open phone interactions menu" class="" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="done" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><span>Subtotal Avg. Weighted</span><ng-md-icon icon="arrow_drop_up" class="z-dropdown-icon"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="selectSubtotalType(column, 6)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 6)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 6)" class="z-menu-icon"></ng-md-icon><span>Market Value</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 7)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 7)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 7)" class="z-menu-icon"></ng-md-icon><span>Market Value %</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 8)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 8)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 8)" class="z-menu-icon"></ng-md-icon><span>Exposure</span></md-button></md-menu-item><md-menu-item><md-button ng-click="selectSubtotalType(column, 9)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="!checkSubtotalFormula(column, 9)" class="z-menu-icon" style="visibility: hidden"></ng-md-icon><ng-md-icon icon="done" data-ng-show="checkSubtotalFormula(column, 9)" class="z-menu-icon"></ng-md-icon><span>Exposure %</span></md-button></md-menu-item></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button ng-click="reportHideSubtotal(column)" class="g-settings-option-btn"><ng-md-icon icon="done" style="visibility: hidden"></ng-md-icon><span data-ng-show="!column.report_settings.hide_subtotal">Hide subtotal</span><span data-ng-show="column.report_settings.hide_subtotal">Show subtotal</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item><md-menu-item><md-menu><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="options.isReport && !isColumnFloat(column)"><md-button aria-label="Open phone interactions menu" class="md-icon-button column-btns" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-menu><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button><md-menu-content style="display: none"></md-menu-content></md-menu></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="!options.isReport"><md-button aria-label="Open phone interactions menu" class="md-icon-button column-btns" ng-click="$mdOpenMenu($event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeColumn(column)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div><div class="column-name-tooltip-wrap"><div class="column-name-tooltip-content"><span data-ng-bind="column.name"></span></div></div></div><div class="resize-slider"></div></md-card></div><div class="drop-new-field" id="columnsbag" data-ng-if="!isItemAddition">Drop New Column</div></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/group-table-shell-view.html",'<div class="g-wrapper" data-group-height-aligner data-options="options"><div class="g-workarea-wrap"><div class="g-workarea main-area" data-group-clipboard-handler data-items="items" data-columns="columns"><div class="g-grouping-section"><group-grouping options="options"></group-grouping></div><div class="g-table-section"><div data-custom-scroll class="custom-scrollbar" data-scroll-y="false"><div class="g-table-wrap" data-group-column-resizer data-items="items" data-options="options"><group-columns options="options" items="items"></group-columns><group-table-body class="group-table-body" options="options" items="items"></group-table-body></div></div></div></div></div><div class="g-filter-sidebar main-sidebar"><div data-custom-scroll class="custom-scrollbar"><div class="g-filter" id="filtersbag"><group-sidebar-filter options="options"></group-sidebar-filter></div></div></div><div class="g-additions" data-ng-if="checkAdditions()"><div class="g-height-slider"></div><div class="g-additions-data-editor min-height" data-ng-show="options.additionsStatus.editor"><div data-ng-show="!options.editorEntityId"><div class="g-additions-editor-caption">Select row to start</div></div><div data-ng-show="options.editorEntityId" class="min-height"><group-editor-binder options="options"></group-editor-binder></div></div><div class="g-additions-workarea" data-ng-if="options.additionsStatus.permissionEditor"><div data-ng-include="\'views/entity-viewer/permission-editor-view.html\'" class="min-height"></div></div><div class="g-additions-workarea" data-ng-if="options.additionsStatus.reportWizard"><div data-ng-include="\'views/entity-viewer/entity-viewer-view.html\'" class="min-height"></div></div><div class="g-extra-features" data-ng-if="findSelectedFeature().isOpened"><div data-ng-include="{{findSelectedFeature().templateUrl}}"></div></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/grouping-view.html",'<div class="g-grouping-component"><div><p class="g-drag-section-title"><span class="g-meta-circle green">G</span>ROUPING AREA<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p></div><div class="g-second-line"><div class="groups-holder"><div class="group-folding-holder" data-ng-if="!options.isReport"><md-card><div><!--<div class="fold-btn-wrap {{folding ? \'\' : \'disabled\'}}">--><div class="fold-btn-wrap"><md-button class="grouping-fold-btn" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="add"></ng-md-icon></md-button><md-tooltip class="tooltip_1" md-direction="top">Expand</md-tooltip></div><!--<div class="fold-btn-wrap {{folding ? \'disabled\' : \'\'}}">--><div class="fold-btn-wrap"><md-button class="grouping-fold-btn" aria-label="hide/show grouping" data-ng-click="toggleGroupFold()"><ng-md-icon icon="remove"></ng-md-icon></md-button><md-tooltip class="tooltip_1" md-direction="top">Collapse</md-tooltip></div></div></md-card></div><div dragula="\'group-bag\'" dragula-model="grouping"><md-card data-ng-repeat="item in options.grouping track by $index" class="group-item card"><div class="sort"><md-button class="group-sort" data-ng-show="item.options.sort === \'ASC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon icon="keyboard_arrow_down"></ng-md-icon></md-button><md-button class="group-sort-up" data-ng-show="item.options.sort === \'DESC\'" aria-label="open settings" data-ng-click="sortHandler(item, \'ASC\')"><ng-md-icon icon="keyboard_arrow_up"></ng-md-icon></md-button><md-button class="group-sort group-both-sorted" data-ng-show="!item.options.sort" aria-label="open settings" data-ng-click="sortHandler(item, \'DESC\')"><ng-md-icon class="c-up" icon="keyboard_arrow_up"></ng-md-icon><ng-md-icon class="c-down" icon="keyboard_arrow_down"></ng-md-icon></md-button></div><div class="caption">{{item.name}}</div><div class="settings-btn"><md-menu data-ng-if="options.isReport"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item><md-menu-item data-ng-if="isReportGroupHaveExtSettings(item, $index, \'line\')"><md-button md-prevent-menu-close="md-prevent-menu-close" ng-click="reportSetSubtotalType(item, \'line\', $index)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="item.report_settings.subtotal_type == \'line\'"></ng-md-icon><ng-md-icon icon="done" style="visibility: hidden" data-ng-show="item.report_settings.subtotal_type != \'line\'"></ng-md-icon><span>Line subtotal</span></md-button></md-menu-item><md-menu-item data-ng-if="isReportGroupHaveExtSettings(item, $index, \'area\')"><md-button md-prevent-menu-close="md-prevent-menu-close" ng-click="reportSetSubtotalType(item, \'area\', $index)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="item.report_settings.subtotal_type == \'area\'"></ng-md-icon><ng-md-icon icon="done" style="visibility: hidden" data-ng-show="item.report_settings.subtotal_type != \'area\'"></ng-md-icon><span>Area subtotal</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="!options.isReport"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openGroupSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="4"><md-menu-item><md-button ng-click="removeGroup(item)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-group" id="groupsbag"><!-- Drop level {{grouping.length + 1}} Group --> Drop New Grouping Level</div></div><md-button class="md-fab g-settings-btn" aria-label="drag modal" data-ng-click="openModalSettings($event)"><ng-md-icon icon="view_week"></ng-md-icon></md-button></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/modal-view-old.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools"><h2 style="user-select: none">DRAG FIELDS FROM HERE</h2><span flex></span></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="{{tab.name}}" data-ng-repeat="tab in vm.tabs"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle green">G</span> <span class="g-meta-circle red">C</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in tab.attrs"><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><span flex></span><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row"><md-button ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/modal-view.html",'<md-dialog aria-label="Mango (Fruit)" ng-cloak class="g-modal-dialog drag" g-dialog-draggable><md-toolbar><div class="md-toolbar-tools" layout="row" layout-align="start center"><h2 style="user-select: none; position: relative">View Constructor<ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #fff"><md-tooltip md-direction="top">tooltip text</md-tooltip></ng-md-icon></h2><!-- <span class="tooltips-sign white">\n                (i)\n                <md-tooltip md-direction="top">tooltip text</md-tooltip>\n            </span> --></div></md-toolbar><md-dialog-content><div data-ng-if="vm.readyStatus.content"><md-tabs md-dynamic-height md-border-bottom id="dialogbag"><md-tab label="System"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.baseAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'group\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'filter\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div><div class="g-checkbox-row" data-ng-repeat="item in vm.entityAttrs" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'group\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-style="vm.checkAreaAccessibility(item, \'filter\') ? {\'visibility\': \'hidden\'} : {}" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><md-tab label="User Attributes"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.attrs" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox data-ng-if="vm.isReport == true" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox data-ng-if="vm.isReport == false" style="visibility: hidden" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><md-tab label="Custom Attributes" data-ng-if="vm.entityType === \'balance-report\'"><md-content class="md-padding"><div class="g-th-checkbox-row"><span class="g-meta-circle red">C</span> <span class="g-meta-circle green">G</span> <span class="g-meta-circle blue">F</span></div><div class="g-checkbox-row" data-ng-repeat="item in vm.custom" layout="row"><div><md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox style="visibility: hidden" ng-model="item.groups" aria="groups" class="md-g-green" data-ng-change="vm.updateAttrs()"></md-checkbox><md-checkbox style="visibility: hidden" ng-model="item.filters" aria="filters" class="md-primary" data-ng-change="vm.updateAttrs()"></md-checkbox></div><div dragula="\'columns-bag\'" class="g-modal-draggable-card"><md-card class="modal-dialog-card">{{item.name}}</md-card></div></div></md-content></md-tab><!--<md-tab label="Attributes">--><!--<md-content class="md-padding">--><!--<div class="g-th-checkbox-row">--><!--<span class="g-meta-circle green">G</span>--><!--<span class="g-meta-circle red">C</span>--><!--<span class="g-meta-circle blue">F</span>--><!--</div>--><!--<div class="g-checkbox-row" data-ng-repeat="item in vm.attrs">--><!--<md-checkbox ng-model="item.groups" aria="groups" class="md-g-green"--><!--data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<md-checkbox ng-model="item.columns" aria="columns" data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<md-checkbox style="visibility: hidden" ng-model="item.filters" aria="filters"--><!--class="md-primary" data-ng-change="vm.updateAttrs()">--><!--</md-checkbox>--><!--<span flex></span>--><!--<div dragula="\'columns-bag\'" class="g-modal-draggable-card">--><!--<md-card class="modal-dialog-card">{{item.name}}</md-card>--><!--</div>--><!--</div>--><!--</md-content>--><!--</md-tab>--></md-tabs></div><div data-ng-if="!vm.readyStatus.content" class="dialog-loader"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></md-dialog-content><md-dialog-actions layout="row" layout-align="space-between center"><md-button data-ng-if="vm.MABtnVisibility(vm.entityType)" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.attributesManager({entityType: vm.entityType})" data-ng-click="vm.cancel()">Manage attributes</md-button><md-button data-ng-if="vm.entityType === \'balance-report\'" class="md-raised md-primary" style="margin: 0" data-ui-sref="app.reports.balanceCustomAttributesManager" data-ng-click="vm.cancel()">Custom attributes</md-button><md-button class="md-raised" ng-click="vm.cancel()">OK</md-button></md-dialog-actions></md-dialog>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/sidebar-filter-view.html",'<div class="g-sidebar-filter-component" layout="column"><div data-ng-if="isReport" layout="column"><div data-ng-if="options.entityType == \'balance-report\' || options.entityType == \'pnl-report\'"><md-card class="g-sidebar-report-card"><md-card-content><p class="g-r-card-title">Report settings</p><div layout="column" style="padding-top: 16px"><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="reportOptions.report_date" position="left"></zh-date-picker></md-input-container><md-input-container style="margin-bottom: 20px"><label for="">Currency</label><md-select data-ng-model="reportOptions.currency"><md-option data-ng-repeat="item in currencies" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container><md-input-container><label for="">Pricing Policy</label><md-select data-ng-model="reportOptions.pricing_policy"><md-option data-ng-repeat="item in pricingPolicies" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></div><div layout="column" style="margin-top: 16px"><md-button data-ng-click="openReportSettings($event)" class="md-primary md-raised">Settings</md-button><md-button data-ng-click="calculateReport()" class="md-raised">Calculate</md-button></div></md-card-content></md-card></div><div data-ng-if="options.entityType == \'transaction-report\'"><md-card class="g-sidebar-report-card"><md-card-content><p class="g-r-card-title">Report settings</p><div layout="column" style="padding-top: 16px"><md-input-container><label for="">Begin date</label><zh-date-picker data-ng-model="reportOptions.begin_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">End date</label><zh-date-picker data-ng-model="reportOptions.end_date" position="left"></zh-date-picker></md-input-container></div><div layout="column" style="margin-top: 16px"><md-button data-ng-click="calculateReport()" class="md-raised">Calculate</md-button></div></md-card-content></md-card></div><div data-ng-if="options.entityType == \'cash-flow-projection-report\'"><md-card class="g-sidebar-report-card"><md-card-content><p class="g-r-card-title">Report settings</p><div layout="column" style="padding-top: 16px"><md-input-container><label for="">Begin date</label><zh-date-picker data-ng-model="reportOptions.begin_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">End date</label><zh-date-picker data-ng-model="reportOptions.end_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">Balance date</label><zh-date-picker data-ng-model="reportOptions.balance_date" position="left"></zh-date-picker></md-input-container><md-input-container><label for="">Report date</label><zh-date-picker data-ng-model="reportOptions.report_date" position="left"></zh-date-picker></md-input-container></div><div layout="column" style="margin-top: 16px"><md-button data-ng-click="calculateReport()" class="md-raised">Calculate</md-button></div></md-card-content></md-card></div></div><div layout="row" layout-align="space-between center"><p class="area-title g-section-title"><span class="g-meta-circle blue">F</span><span class="after-text">ILTER AREA</span><ng-md-icon class="tooltips-sign" icon="info" size="20" style="fill: #777777"><md-tooltip class="tooltip_1" md-direction="top">tooltip text</md-tooltip></ng-md-icon></p><md-button aria-label="resize" class="to-small-btn filter-sidenav f-s-collapse fab md-raised" data-ng-click="resizeFilterSideNav(\'collapse\')"><md-tooltip class="" md-direction="top">Collapse area</md-tooltip><ng-md-icon icon="chevron_right"></ng-md-icon></md-button></div><div layout="row"><md-button aria-label="resize" class="to-small-btn filter-sidenav f-s-expand fab md-raised" data-ng-click="resizeFilterSideNav(\'expand\')"><md-tooltip class="" md-direction="top">Expand area</md-tooltip><ng-md-icon icon="chevron_left"></ng-md-icon></md-button></div><div layout="row" class="filters-control-btn s-f-expanded-btns"><md-button class="md-raised" data-ng-click="selectAll()">Select all</md-button><md-button class="md-raised" data-ng-click="deselectAll()">Deselect all</md-button></div><div class="s-f-collpased-btns" layout="column"><md-button class="md-raised to-small-btn" data-ng-click="selectAll()"><ng-md-icon icon="select_all"></ng-md-icon><md-tooltip class="" md-direction="top">Select all</md-tooltip></md-button><md-button class="md-raised to-small-btn" data-ng-click="deselectAll()"><ng-md-icon icon="highlight_off"></ng-md-icon><md-tooltip class="" md-direction="top">Deselect all</md-tooltip></md-button></div><div layout="row" class="filters-control-btn s-f-expanded-btns"><md-button class="md-raised clear-all full-width" data-ng-click="clearAll()">Clear all</md-button></div><div dragula="\'filters-bag\'" dragula-model="filters" class="filters-holder"><md-card data-ng-repeat="filter in filters" class="{{filter.options.enabled ? \'\' : \'f-disabled\' }} g-filter-item" layout="row"><md-tooltip data-ng-if="sideNavCollapsed" class="" md-direction="top">{{filter.name}}<span data-ng-if="!getFilterType(filter[\'value_type\'])">: {{filter.options.query}}</span></md-tooltip><md-checkbox ng-model="filter.options.enabled" aria-label="filters" class="md-primary" ng-change="toggleFilterState(filter)" flex="15"></md-checkbox><md-input-container flex="65"><label data-ng-bind="filter.name"></label><div data-ng-if="getFilterType(filter[\'value_type\'])"><!-- {{fields}} --><div data-ng-if="fields[filter.key]"><md-select data-ng-model="filter.options.query" md-on-close="searchTerm = \'\'" data-ng-change="filterChange(filter)" multiple="{{fields[\'value_type\'] == \'mc_field\' ? \'true\' : \'false\'}}"><md-select-header><input data-ng-model="searchTerm" type="search" placeholder="Search for a ..." class="md-text md-select-search-pattern"></md-select-header><md-option data-ng-repeat="field in fields[filter.key] | orderBy:\'-\'+field.name | filter:{ name:searchTerm} track by $index" value="{{field.id}}">{{field.name}}</md-option></md-select></div><div data-ng-if="!fields[filter.key]"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div><!-- <div data-ng-if="filter[\'value_type\'] !== \'field\'"> --><div data-ng-if="!getFilterType(filter[\'value_type\'])"><input data-ng-model="filter.options.query" data-ng-change="filterChange(filter)" data-ng-model-options="{debounce: 1000}"></div></md-input-container><div class="settings-btn" flex="20"><md-menu data-ng-if="options.isRootEntityViewer"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openFilterSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeFilter(filter)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item></md-menu-content></md-menu><md-menu data-ng-if="!options.isRootEntityViewer"><md-button aria-label="Open phone interactions menu" class="md-icon-button" ng-click="openFilterSettings($mdOpenMenu, $event)"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content width="3"><md-menu-item><md-button ng-click="removeFilter(filter)" class="g-settings-option-btn"><ng-md-icon icon="visibility_off"></ng-md-icon><span>Remove</span></md-button></md-menu-item><md-menu-item><md-button ng-click="useFromAbove(filter)" class="g-settings-option-btn"><ng-md-icon icon="done" data-ng-show="filter.options.useFromAbove"></ng-md-icon><ng-md-icon icon="done" style="visibility: hidden" data-ng-show="!filter.options.useFromAbove"></ng-md-icon><span>Use from above</span></md-button></md-menu-item></md-menu-content></md-menu></div></md-card></div><div class="drop-new-filter">Drop new Filter</div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/directives/groupTable/table-body-view.html",'<!--<div class="g-table-body-component" data-group-vertical-scroll>--><div class="g-table-body-component custom-scrollbar" data-custom-scroll data-scroll-sticky="true"><div data-ng-if="!checkReady()"><div layout="row" layout-sm="column"><md-progress-linear md-mode="indeterminate"></md-progress-linear></div></div><div data-ng-show="checkReady()" ng-cloak style="padding-bottom: 75px"><div><div data-ng-if="grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-if="!options.isReport" data-ng-repeat="item in items"><div class="g-group-holder {{ checkRowSelection(item) ? \'selected-row\' : \'\' }}"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><md-card class="group-row-fold-holder"><div><md-button class="" aria-label="hide/show grouping" data-ng-show="item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="add"></ng-md-icon></md-button><md-button class="" aria-label="hide/show grouping" data-ng-show="!item.isFolded" data-ng-click="toggleGroupFold(item)"><ng-md-icon icon="remove"></ng-md-icon></md-button></div></md-card><div data-ng-repeat="group in item.groups track by $index" class="g-group"><span data-ng-bind="::bindGroupValue(group)"></span></div></div><div data-ng-repeat="groupedItem in item.items" contextmenu-item="groupedItem" data-ng-show="!item.isFolded" data-ng-right-click="$mdOpenMenu($event)" class="{{ checkRowSelection(groupedItem) ? \'selected-row\' : \'\'}} g-row" data-ng-click="rowCallback(groupedItem, $event)"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, groupedItem)"><ng-md-icon icon="done" data-ng-show="groupedItem.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns"><div class="g-cell {{getAlign(column)}}"><span title="{{bindCellTitle(groupedItem, column)}}" data-ng-bind-html="bindCell(groupedItem, column) | trustAsHtml"></span></div></div></div></div><div data-ng-if="options.isReport" class="report-holder"><!-- preInit.initGroup start --><group-bind-report-row data-ng-repeat="item in reportItemsProjection() track by $index" item="item"></group-bind-report-row><!-- !preInit.initGroup end--></div></div><div data-ng-if="!grouping.length" contextmenu-container="gtbody.contextmenu"><div data-ng-repeat="item in items" class="{{ checkRowSelection(item) ? \'selected-row\' : \'\'}} g-row" contextmenu-item="item" data-ng-click="rowCallback(item, $event)"><div class="g-row-selection" data-ng-click="toggleSelectRow($event, item)"><ng-md-icon icon="done" data-ng-show="item.selectedRow"></ng-md-icon></div><div class="g-cell-wrap" data-ng-repeat="column in columns"><div class="g-cell {{getAlign(column)}}"><span title="{{bindCellTitle(item, column)}}" data-ng-bind-html="bindCell(item, column) | trustAsHtml"></span></div></div></div></div></div><div class="table-end-row"></div><div data-ng-if="!options.isReport" paging class="g-table-body-pagination" page="paginationPageCurrent" page-size="paginationItemPerPage" total="paginationItemsTotal" paging-action="changePage(page)"></div></div></div><div contextmenu="gtbody.contextmenu" class="dropdown contextmenu ng-hide"><md-menu-content width="4"><md-menu-item><md-button ng-click="editEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="mode_edit"></ng-md-icon><span>Edit</span></md-button></md-menu-item><md-menu-item><md-button ng-click="deleteEntity($event, gtbody.contextmenu.get().item)" class="g-settings-option-btn"><ng-md-icon icon="delete"></ng-md-icon><span>Delete</span></md-button></md-menu-item></md-menu-content></div>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/complex-transaction/book-transaction-actions-tab-view.html",'<div data-ng-controller="BookTransactionActionsTabController as vm"><div data-ng-if="vm.readyStatus.transactionType"><table class="transaction-actions-table"><tbody><tr data-ng-repeat="key in vm.transactionActionsKeys"><td>{{vm.beatufier(key)}}</td><td data-ng-repeat="item in vm.transactionActions[key] track by $index">{{item}}</td></tr></tbody></table></div><div data-ng-if="!vm.readyStatus.transactionType"><div layout="row" layout-sm="column" layout-align="space-around" class="m-large"><md-progress-circular md-mode="indeterminate" md-diameter="96"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/complex-transaction/book-transaction-transactions-tab-view.html",'<div data-ng-controller="BookTransactionTransactionsTabController as vm"><h2>Transactions list</h2><table class="bordered"><thead><tr style="height: 40px"><th>Transaction date</th><th>Class</th><th>Currency</th><th>Instrument</th><th>Portfolio</th><th>Responsible</th><th>Counterparty</th><th>Edit</th></tr></thead><tbody><tr data-ng-repeat="item in vm.transactions" style="height: 40px"><td data-ng-bind="item.transaction_date"></td><td data-ng-bind="item.transaction_class_object.name"></td><td data-ng-bind="item.transaction_currency_object.name"></td><td data-ng-bind="item.instrument_object.user_code"></td><td data-ng-bind="item.portfolio_object.user_code"></td><td data-ng-bind="item.responsible_object.user_code"></td><td data-ng-bind="item.counterparty_object.user_code"></td><td><md-button data-ng-click="vm.editBaseTransaction($event, item.id)" class="md-raised md-primary">Edit</md-button></td></tr></tbody></table></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/instrument/accrual-calculation-schedules-view.html",'<div data-ng-controller="AccrualCalculationSchedulesTabController as vm"><div class="" data-ng-if="vm.checkReadyStatus()"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'accrual_start_date\')">Accrual start date<span class="sortorder" data-ng-show="vm.sort === \'accrual_start_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'first_payment_date\')">First payment date<span class="sortorder" data-ng-show="vm.sort === \'first_payment_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'accrual_size\')">Accrual size<span class="sortorder" data-ng-show="vm.sort === \'accrual_size\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'accrual_calculation_model\')">Accrual calculation model<span class="sortorder" data-ng-show="vm.sort === \'accrual_calculation_model\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity\')">Periodicity<span class="sortorder" data-ng-show="vm.sort === \'periodicity\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity_n\')">Periodicity N<span class="sortorder" data-ng-show="vm.sort === \'periodicity_n\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'notes\')">Notes<span class="sortorder" data-ng-show="vm.sort === \'notes\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrual_start_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.first_payment_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.accrual_size"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.calculation_model_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.periodicity"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.periodicity_n"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notes"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.accrual_calculation_schedules | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-if="!item.editStatus" data-ng-bind="item.accrual_start_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.first_payment_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.accrual_size"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindCalculationModel(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindPeriodicity(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.periodicity_n"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.notes"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Accrual start date</label><zh-date-picker data-ng-model="item.accrual_start_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">First payment date</label><zh-date-picker data-ng-model="item.first_payment_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Accrual size</label><input type="text" data-ng-model="item.accrual_size"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="item.accrual_calculation_model"><md-option data-ng-repeat="model in vm.accrualModels" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity</label><md-select data-ng-model="item.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity N</label><input type="text" data-ng-model="item.periodicity_n"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Notes</label><input type="text" data-ng-model="item.notes"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Accrual start date</label>--><zh-date-picker data-ng-model="vm.newItem.accrual_start_date"></zh-date-picker></md-input-container></td><td><md-input-container><!--<label for="">First payment date</label>--><zh-date-picker data-ng-model="vm.newItem.first_payment_date"></zh-date-picker></md-input-container></td><td><md-input-container><!--<label for="">Accrual size</label>--> <input type="text" data-ng-model="vm.newItem.accrual_size"></md-input-container></td><td><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.accrual_calculation_model"><md-option data-ng-repeat="model in vm.accrualModels" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--><md-select data-ng-model="vm.newItem.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity N</label>--> <input type="text" data-ng-model="vm.newItem.periodicity_n"></md-input-container></td><td><md-input-container><!--<label for="">Notes</label>--> <input type="text" data-ng-model="vm.newItem.notes"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/instrument/events-view.html",'<div data-ng-controller="EventSchedulesTabController as vm"><div class="" data-ng-if="vm.checkReadyStatus()"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'name\')">Name<span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'description\')">Description<span class="sortorder" data-ng-show="vm.sort === \'description\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'effective_date\')">Effective date<span class="sortorder" data-ng-show="vm.sort === \'effective_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'final_date\')">Final date<span class="sortorder" data-ng-show="vm.sort === \'final_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'notification_class_name\')">Notification class<span class="sortorder" data-ng-show="vm.sort === \'notification_class_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'event_class_name\')">Event class<span class="sortorder" data-ng-show="vm.sort === \'event_class_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th>Actions</th><th data-ng-click="vm.setSort(\'notify_in_n_days\')">Notify in N days<span class="sortorder" data-ng-show="vm.sort === \'notify_in_n_days\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity\')">Periodicity<span class="sortorder" data-ng-show="vm.sort === \'periodicity\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'periodicity_n\')">Periodicity N<span class="sortorder" data-ng-show="vm.sort === \'periodicity_n\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.description"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.effective_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.final_date"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notification_class_name"></md-input-container></th><th></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.event_class_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notify_in_n_days"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.periodicity_n"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notes"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.event_schedules | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-if="!item.editStatus" data-ng-bind="item.name"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.description"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.effective_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.final_date"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindNotificationClass(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindEventClass(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="[item.actions.length]"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.notify_in_n_days"></td><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindPeriodicity(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.periodicity_n"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Name</label><input type="text" data-ng-model="item.name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Description</label><input type="text" data-ng-model="item.description"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Effective date</label><zh-date-picker data-ng-model="item.effective_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Final date</label><zh-date-picker data-ng-model="item.final_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Notification class</label><md-select data-ng-model="item.notification_class" style="max-width: 195px"><md-option data-ng-repeat="model in vm.notificationClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Event class</label><md-select data-ng-model="item.event_class"><md-option data-ng-repeat="model in vm.eventClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" style="padding-top: 12px"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="item.actions" md-container-class="h-instrument-select" data-instrument-event-action-resolver md-selected-text="{{[item.actions.length]}}"><md-option data-ng-repeat="field in fields track by field.id" ng-value="field.id">{{field.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><!--<label for="">Notify in N days</label>--> <input type="text" data-ng-model="item.notify_in_n_days"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity</label><md-select data-ng-model="item.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Periodicity N</label><input type="text" data-ng-model="item.periodicity_n"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.name"></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.description"></md-input-container></td><td><md-input-container><!--<label for="">Effective date</label>--><zh-date-picker data-ng-model="vm.newItem.effective_date"></zh-date-picker></md-input-container></td><td><md-input-container><!--<label for="">Final date</label>--><zh-date-picker data-ng-model="vm.newItem.final_date"></zh-date-picker></md-input-container></td><td style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.notification_class" style="max-width: 195px"><md-option data-ng-repeat="model in vm.notificationClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td style="padding-top: 12px"><md-input-container><!--<label for="">Accrual calculation model</label>--><md-select data-ng-model="vm.newItem.event_class"><md-option data-ng-repeat="model in vm.eventClasses" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td style="padding-top: 12px"><md-input-container class="md-block"><label data-ng-bind="getName()"></label><md-select data-ng-model="item.actions" md-container-class="h-instrument-select" data-instrument-event-action-resolver md-selected-text="{{[vm.newItem.actions.length]}}"><md-option data-ng-repeat="field in fields track by field.id" ng-value="field.id">{{field.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--> <input type="text" data-ng-model="vm.newItem.notify_in_n_days"></md-input-container></td><td><md-input-container><!--<label for="">Periodicity</label>--><md-select data-ng-model="vm.newItem.periodicity"><md-option data-ng-repeat="model in vm.periodicityItems" ng-value="model.id">{{model.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Periodicity N</label>--> <input type="text" data-ng-model="vm.newItem.periodicity_n"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/instrument/factor-schedule-view.html",'<div data-ng-controller="FactorScheduleTabController as vm"><div class="factor-schedule-tab-view"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'factor_value\')">Value<span class="sortorder" data-ng-show="vm.sort === \'factor_value\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'effective_date\')">Date<span class="sortorder" data-ng-show="vm.sort === \'effective_date\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.factor_value"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.effective_date"></md-input-container></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.factor_schedules | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.factor_value" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.effective_date" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Value</label><input type="text" data-ng-model="item.factor_value"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Date</label><zh-date-picker data-ng-model="item.effective_date"></zh-date-picker></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Value</label>--> <input type="text" data-ng-model="vm.newItem.value"></md-input-container></td><td><md-input-container><!--<label for="">Date</label>--><zh-date-picker data-ng-model="vm.newItem.date"></zh-date-picker></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/instrument/manual-pricing-formulas-view.html",'<div data-ng-controller="ManualPricingFormulasTabController as vm"><div><div data-ng-if="vm.readyStatus.content"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'policy_name\')">Pricing policy<span class="sortorder" data-ng-show="vm.sort === \'policy_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'expr\')">Expression<span class="sortorder" data-ng-show="vm.sort === \'expr\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'notes\')">Notes<span class="sortorder" data-ng-show="vm.sort === \'notes\'" data-ng-class="{reverse: vm.direction}"></span></th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.policy_name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.expr"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.notes"></md-input-container></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.manual_pricing_formulas | filter:vm.query"><td data-ng-if="!item.editStatus" data-ng-bind="vm.bindPricingPolicy(item)"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.expr"></td><td data-ng-if="!item.editStatus" data-ng-bind="item.notes"></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Pricing policy</label><md-select data-ng-model="item.pricing_policy"><md-option data-ng-repeat="policy in vm.policies" ng-value="policy.id">{{policy.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Expression</label><input type="text" data-ng-model="item.expr"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Notes</label><input type="text" data-ng-model="item.notes"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><!--<label for="">Pricing policy</label>--><md-select data-ng-model="vm.newItem.pricing_policy"><md-option data-ng-repeat="policy in vm.policies" ng-value="policy.id">{{policy.name}}</md-option></md-select></md-input-container></td><td><md-input-container><!--<label for="">Expression</label>--> <input type="text" data-ng-model="vm.newItem.expr"></md-input-container></td><td><md-input-container><!--<label for="">Notes</label>--> <input type="text" data-ng-model="vm.newItem.notes"></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div><div data-ng-if="!vm.readyStatus.content"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/transaction-type/transaction-type-actions-tab-view(old-radio).html",'<div data-ng-controller="TransactionTypeActionsTabController as vm"><div class="transaction-type-actions-tab-view"><v-accordion class="vAccordion--default" multiple="multiple"><v-pane data-ng-repeat="item in vm.entity.actions" expanded="item.isPaneExpanded"><v-pane-header inactive class="transaction-type-action-pane"><div layout="row" layout-align="space-between center"><div layout="row"><span data-ng-if="item.isPaneExpanded"><md-input-container><input type="text" data-ng-model="item.action_notes" placeholder="Action notes"></md-input-container></span><span data-ng-if="!item.isPaneExpanded" data-ng-bind="item.action_notes"></span></div><div layout="row"><md-button class="md-raised" ng-disabled="$index == 0" data-ng-click="vm.moveUp(item, $index)">Move up</md-button><md-button class="md-raised" ng-disabled="$index == vm.entity.actions.length - 1" data-ng-click="vm.moveDown(item, $index )">Move Down</md-button><md-button class="md-raised" data-ng-click="vm.toggleItem($pane, item)"><span data-ng-if="item.isPaneExpanded">-</span> <span data-ng-if="!item.isPaneExpanded">+</span></md-button></div></div></v-pane-header><v-pane-content style="padding: 20px"><div data-ng-if="item.transaction != null"><div layout="row"><div flex="50"><div layout="row"><md-input-container><label for="">Transaction class</label><md-select data-ng-model="item.transaction.transaction_class" md-on-open="vm.loadRelation(\'transaction_class\')"><md-option data-ng-repeat="relationItem in vm.relationItems[\'transaction_class\']" ng-value="relationItem.value">{{relationItem.name}}</md-option></md-select></md-input-container></div><div layout="row"><div flex="33"><div layout="column"><md-switch ng-model="item.transaction.instrument_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'instrument\')"><span data-ng-if="!!item.transaction.instrument_toggle">Reference</span> <span data-ng-if="!!!item.transaction.instrument_toggle">Input</span></md-switch><div data-ng-if="item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction.instrument" md-on-open="vm.loadRelation(\'instrument\')"><md-option data-ng-if="!vm.relationItems[\'instrument\'].length" ng-value="item.transaction.instrument_object.id">{{item.transaction.instrument_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction[vm.resolveInstrumentProp(item)]"><md-optgroup label="Inputs"><md-option data-ng-click="vm.setTransactionInstrumentInput(item, inputItem.name)" data-ng-repeat="inputItem in vm.findInputs(\'instrument\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-optgroup><md-optgroup label="Phantoms"><md-option data-ng-click="vm.setTransactionInstrumentPhantom(item, phantomItem.positionOrder)" data-ng-repeat="phantomItem in vm.findPhantoms()" ng-value="phantomItem.positionOrder">{{phantomItem.action_notes}}</md-option></md-optgroup></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">Position size with sign</label><input type="text" data-ng-model="item.position_size_with_sign"></md-input-container></div><div flex="33"><md-switch ng-model="item.transaction.transaction_currency_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'transaction_currency\')"><span data-ng-if="!!item.transaction.transaction_currency_toggle">Reference</span> <span data-ng-if="!!!item.transaction.transaction_currency_toggle">Input</span></md-switch><div data-ng-if="item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency" md-on-open="vm.loadRelation(\'transaction_currency\')"><md-option data-ng-if="!vm.relationItems[\'transaction_currency\'].length" ng-value="item.transaction.transaction_currency_object.id">{{item.transaction.transaction_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'transaction_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'transaction_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Principal with sign</label><input type="text" data-ng-model="item.transaction.principal_with_sign"></md-input-container></div><div flex="33"><md-input-container><label for="">Carry with sign</label><input type="text" data-ng-model="item.transaction.carry_with_sign"></md-input-container></div><div flex="33"><md-input-container><label for="">Overheads with sign</label><input type="text" data-ng-model="item.transaction.overheads_with_sign"></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Accounting date</label><input type="text" data-ng-model="item.transaction.accounting_date"></md-input-container></div><div flex="33"><md-switch ng-model="item.transaction.account_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'account_position\')"><span data-ng-if="!!item.transaction.account_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.account_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position" md-on-open="vm.loadRelation(\'account_position\')"><md-option data-ng-if="!vm.relationItems[\'account_position\'].length" ng-value="item.transaction.account_position_object.id">{{item.transaction.account_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.strategy1_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy1_position\')"><span data-ng-if="!!item.transaction.strategy1_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy1_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position" md-on-open="vm.loadRelation(\'strategy1_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_position\'].length" ng-value="item.transaction.strategy1_position_object.id">{{item.transaction.strategy1_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy2_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy2_position\')"><span data-ng-if="!!item.transaction.strategy2_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy2_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position" md-on-open="vm.loadRelation(\'strategy2_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_position\'].length" ng-value="item.transaction.strategy2_position_object.id">{{item.transaction.strategy2_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy3_position_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy3_position\')"><span data-ng-if="!!item.transaction.strategy3_position_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy3_position_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position" md-on-open="vm.loadRelation(\'strategy3_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_position\'].length" ng-value="item.transaction.strategy3_position_object.id">{{item.transaction.strategy3_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Trade price</label><input type="text" data-ng-model="item.transaction.trade_price"></md-input-container></div><div flex="33"><md-input-container><label for="">Factor</label><input type="text" data-ng-model="item.transaction.factor"></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div></div><div flex="50"><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.portfolio_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'portfolio\')"><span data-ng-if="!!item.transaction.portfolio_toggle">Reference</span> <span data-ng-if="!!!item.transaction.portfolio_toggle">Input</span></md-switch><div data-ng-if="item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio" md-on-open="vm.loadRelation(\'portfolio\')"><md-option data-ng-if="!vm.relationItems[\'portfolio\'].length" ng-value="item.transaction.portfolio_object.id">{{item.transaction.portfolio_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'portfolio\'].length" data-ng-repeat="relationItem in vm.relationItems[\'portfolio\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'portfolio\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.counterparty_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'counterparty\')"><span data-ng-if="!!item.transaction.counterparty_toggle">Reference</span> <span data-ng-if="!!!item.transaction.counterparty_toggle">Input</span></md-switch><div data-ng-if="item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty" md-on-open="vm.loadRelation(\'counterparty\')"><md-option data-ng-if="!vm.relationItems[\'counterparty\'].length" ng-value="item.transaction.counterparty_object.id">{{item.transaction.counterparty_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'counterparty\'].length" data-ng-repeat="relationItem in vm.relationItems[\'counterparty\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'counterparty\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.responsible_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'responsible\')"><span data-ng-if="!!item.transaction.responsible_toggle">Reference</span> <span data-ng-if="!!!item.transaction.responsible_toggle">Input</span></md-switch><div data-ng-if="item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible" md-on-open="vm.loadRelation(\'responsible\')"><md-option data-ng-if="!vm.relationItems[\'responsible\'].length" ng-value="item.transaction.responsible_object.id">{{item.transaction.responsible_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'responsible\'].length" data-ng-repeat="relationItem in vm.relationItems[\'responsible\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'responsible\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.settlement_currency_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'settlement_currency\')"><span data-ng-if="!!item.transaction.settlement_currency_toggle">Reference</span> <span data-ng-if="!!!item.transaction.settlement_currency_toggle">Input</span></md-switch><div data-ng-if="item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency" md-on-open="vm.loadRelation(\'settlement_currency\')"><md-option data-ng-if="!vm.relationItems[\'settlement_currency\'].length" ng-value="item.transaction.settlement_currency_object.id">{{item.transaction.settlement_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'settlement_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'settlement_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">Cash consideration</label><input type="text" data-ng-model="item.transaction.cash_consideration"></md-input-container></div><div flex="33"><md-input-container><label for="">Reference fx-rate</label></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Cash date</label><input type="text" data-ng-model="item.transaction.cash_date"></md-input-container></div><div flex="33"><md-switch ng-model="item.transaction.account_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'account_cash\')"><span data-ng-if="!!item.transaction.account_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.account_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash" md-on-open="vm.loadRelation(\'account_cash\')"><md-option data-ng-if="!vm.relationItems[\'account_cash\'].length" ng-value="item.transaction.account_cash_object.id">{{item.transaction.account_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.account_interim_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'account_interim\')"><span data-ng-if="!!item.transaction.account_interim_toggle">Reference</span> <span data-ng-if="!!!item.transaction.account_interim_toggle">Input</span></md-switch><div data-ng-if="item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim" md-on-open="vm.loadRelation(\'account_interim\')"><md-option data-ng-if="!vm.relationItems[\'account_interim\'].length" ng-value="item.transaction.account_interim_object.id">{{item.transaction.account_interim_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_interim\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_interim\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.transaction.strategy1_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy1_cash\')"><span data-ng-if="!!item.transaction.strategy1_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy1_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash" md-on-open="vm.loadRelation(\'strategy1_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_cash\'].length" ng-value="item.transaction.strategy1_cash_object.id">{{item.transaction.strategy1_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy2_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy2_cash\')"><span data-ng-if="!!item.transaction.strategy2_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy2_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash" md-on-open="vm.loadRelation(\'strategy2_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_cash\'].length" ng-value="item.transaction.strategy2_cash_object.id">{{item.transaction.strategy2_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.transaction.strategy3_cash_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'transaction\', \'strategy3_cash\')"><span data-ng-if="!!item.transaction.strategy3_cash_toggle">Reference</span> <span data-ng-if="!!!item.transaction.strategy3_cash_toggle">Input</span></md-switch><div data-ng-if="item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash" md-on-open="vm.loadRelation(\'strategy3_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_cash\'].length" ng-value="item.transaction.strategy3_cash_object.id">{{item.transaction.strategy3_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Principal amount</label><input type="text" data-ng-model="item.transaction.principal_amount"></md-input-container></div><div flex="33"><md-input-container><label for="">Carry amount</label><input type="text" data-ng-model="item.transaction.carry_amount"></md-input-container></div><div flex="33"><md-input-container><label for="">Overheads</label><input type="text" data-ng-model="item.transaction.overheads"></md-input-container></div></div></div></div></div><div data-ng-if="item.instrument != null"><div layout="row"><div flex="50"><div layout="row"><div flex="33"><md-switch ng-model="item.instrument.instrument_type_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'instrument_type\')"><span data-ng-if="!!item.instrument.instrument_type_toggle">Reference</span> <span data-ng-if="!!!item.instrument.instrument_type_toggle">Input</span></md-switch><div data-ng-if="item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type" md-on-open="vm.loadRelation(\'instrument_type\')"><md-option data-ng-if="!vm.relationItems[\'instrument_type\'].length" ng-value="item.instrument.instrument_type_object.id">{{item.instrument.instrument_type_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument_type\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument_type\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'instrument-type\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">User code</label><input type="text" data-ng-model="item.instrument.user_code"></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">Name</label><input type="text" data-ng-model="item.instrument.name"></md-input-container></div><div flex="33"><md-input-container><label for="">Short name</label><input type="text" data-ng-model="item.instrument.short_name"></md-input-container></div><div flex="33"><md-input-container><label for="">Public name</label><input type="text" data-ng-model="item.instrument.public_name"></md-input-container></div></div><div layout="row"><div flex="33"><md-input-container><label for="">User text1</label><input type="text" data-ng-model="item.instrument.user_text_1"></md-input-container></div><div flex="33"><md-input-container><label for="">User text2</label><input type="text" data-ng-model="item.instrument.user_text_2"></md-input-container></div><div flex="33"><md-input-container><label for="">User text3</label><input type="text" data-ng-model="item.instrument.user_text_3"></md-input-container></div></div><div layout="row"><div flex="100"><md-input-container><label for="">Notes</label><input type="text" data-ng-model="item.instrument.notes"></md-input-container></div></div></div><div flex="50"><div layout="row"><div flex="33"><md-switch ng-model="item.instrument.daily_pricing_model_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'daily_pricing_model\')"><span data-ng-if="!!item.instrument.daily_pricing_model_toggle">Reference</span> <span data-ng-if="!!!item.instrument.daily_pricing_model_toggle">Input</span></md-switch><div data-ng-if="item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model" md-on-open="vm.loadRelation(\'daily_pricing_model\')"><md-option data-ng-if="!vm.relationItems[\'daily_pricing_model\'].length" ng-value="item.instrument.daily_pricing_model_object.id">{{item.instrument.daily_pricing_model_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'daily_pricing_model\'].length" data-ng-repeat="relationItem in vm.relationItems[\'daily_pricing_model\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'daily-pricing-model\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-switch ng-model="item.instrument.price_download_scheme_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'price_download_scheme\')"><span data-ng-if="!!item.instrument.price_download_scheme_toggle">Reference</span> <span data-ng-if="!!!item.instrument.price_download_scheme_toggle">Input</span></md-switch><div data-ng-if="item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme" md-on-open="vm.loadRelation(\'price_download_scheme\')"><md-option data-ng-if="!vm.relationItems[\'price_download_scheme\'].length" ng-value="item.instrument.price_download_scheme_object.id">{{item.instrument.price_download_scheme_object.scheme_name}}</md-option><md-option data-ng-if="vm.relationItems[\'price_download_scheme\'].length" data-ng-repeat="relationItem in vm.relationItems[\'price_download_scheme\']" ng-value="relationItem.id">{{relationItem.scheme_name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'price-download-scheme\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">Reference for pricing</label><input type="text" data-ng-model="item.instrument.reference_for_pricing"></md-input-container></div></div><div layout="row"><div flex="33" layout="row"><!--<md-switch ng-model="item.instrument.pricing_currency_toggle"--><!--aria-label=""--><!--data-ng-click="vm.resetProperty(item, \'instrument\', \'pricing_currency\')">--><!--<span data-ng-if="!!item.instrument.pricing_currency_toggle">Reference</span>--><!--<span data-ng-if="!!!item.instrument.pricing_currency_toggle">Input</span>--><!--</md-switch>--><style type="text/css">.ref {\n                                                background-color: rgb(255,64,129) !important;\n                                                color: #fff !important;\n                                            }</style><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.pricing_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyTest(item, \'instrument\', \'pricing_currency\')"><span data-ng-if="!!item.instrument.pricing_currency_toggle">R</span> <span data-ng-if="!!!item.instrument.pricing_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency" md-on-open="vm.loadRelation(\'pricing_currency\')"><md-option data-ng-if="!vm.relationItems[\'pricing_currency\'].length" ng-value="item.instrument.pricing_currency_object.id">{{item.instrument.pricing_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'pricing_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'pricing_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">Price multiplier</label><input type="text" data-ng-model="item.instrument.price_multiplier"></md-input-container></div><div flex="33"><md-input-container><label for="">Default price</label><input type="text" data-ng-model="item.instrument.default_price"></md-input-container></div></div><div layout="row"><div flex="33"><md-switch ng-model="item.instrument.accrued_currency_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'accrued_currency\')"><span data-ng-if="!!item.instrument.accrued_currency_toggle">Reference</span> <span data-ng-if="!!!item.instrument.accrued_currency_toggle">Input</span></md-switch><div data-ng-if="item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency" md-on-open="vm.loadRelation(\'accrued_currency\')"><md-option data-ng-if="!vm.relationItems[\'accrued_currency\'].length" ng-value="item.instrument.accrued_currency_object.id">{{item.instrument.accrued_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'accrued_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'accrued_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">Accrued multiplier</label><input type="text" data-ng-model="item.instrument.accrued_multiplier"></md-input-container></div><div flex="33"><md-input-container><label for="">Default accrued</label><input type="text" data-ng-model="item.instrument.default_accrued"></md-input-container></div></div><div flex="33"><md-switch ng-model="item.instrument.payment_size_detail_toggle" aria-label="" data-ng-click="vm.resetProperty(item, \'instrument\', \'payment_size_detail\')"><span data-ng-if="!!item.instrument.payment_size_detail_toggle">Reference</span> <span data-ng-if="!!!item.instrument.payment_size_detail_toggle">Input</span></md-switch><div data-ng-if="item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail" md-on-open="vm.loadRelation(\'payment_size_detail\')"><md-option data-ng-if="!vm.relationItems[\'payment_size_detail\'].length" ng-value="item.instrument.payment_size_detail_object.id">{{item.instrument.payment_size_detail_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'payment_size_detail\'].length" data-ng-repeat="relationItem in vm.relationItems[\'payment_size_detail\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'payment-size-detail\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">Maturity date</label><input type="text" data-ng-model="item.instrument.maturity_date"></md-input-container></div></div></div></div></v-pane-content></v-pane></v-accordion><div layout="row" layout-align="end center"><md-button class="md-raised" data-ng-click="vm.addAction(\'transaction\')">Add new transaction action</md-button><md-button class="md-raised" data-ng-click="vm.addAction(\'instrument\')">Add new instrument action</md-button></div></div></div>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/transaction-type/transaction-type-actions-tab-view.html",'<div data-ng-controller="TransactionTypeActionsTabController as vm"><div class="transaction-type-actions-tab-view"><v-accordion class="vAccordion--default" multiple="multiple" control="accordion"><v-pane data-ng-repeat="item in vm.entity.actions" expanded="item.isPaneExpanded"><v-pane-header inactive class="transaction-type-action-pane"><div layout="row" layout-align="space-between center"><div layout="row"><span data-ng-if="item.isPaneExpanded"><md-input-container><input type="text" data-ng-model="item.action_notes" placeholder="Action notes"></md-input-container></span><span data-ng-if="!item.isPaneExpanded" data-ng-bind="item.action_notes"></span></div><div layout="row"><md-button class="md-raised" style="background: #ffeee8" data-ng-click="vm.deletePane(item, $index, $event)">Delete</md-button><md-button class="md-raised" ng-disabled="$index == 0" data-ng-click="vm.moveUp(item, $index)">Move up</md-button><md-button class="md-raised" ng-disabled="$index == vm.entity.actions.length - 1" data-ng-click="vm.moveDown(item, $index )">Move Down</md-button><md-button class="md-raised" data-ng-click="vm.toggleItem($pane, item)"><span data-ng-if="item.isPaneExpanded">Collapse</span> <span data-ng-if="!item.isPaneExpanded">Expand</span></md-button></div></div></v-pane-header><v-pane-content style="padding: 20px"><div data-ng-if="item.transaction != null"><div layout="row"><div flex="50"><div layout="row"><md-input-container><label for="">Transaction class</label><md-select data-ng-model="item.transaction.transaction_class" md-on-open="vm.loadRelation(\'transaction_class\')"><md-option data-ng-if="!vm.relationItems[\'transaction_class\'].length" ng-value="item.transaction.transaction_class_object.id">{{item.transaction.transaction_class_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'transaction_class\'].length" data-ng-repeat="relationItem in vm.relationItems[\'transaction_class\']" ng-value="relationItem.value">{{relationItem.name}}</md-option><md-option data-ng-repeat="relationItem in vm.relationItems[\'transaction_class\']" ng-value="relationItem.value">{{relationItem.name}}</md-option></md-select></md-input-container></div><div layout="row"><div flex="33"><div layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.instrument_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'instrument\')"><span data-ng-if="!!item.transaction.instrument_toggle">R</span> <span data-ng-if="!!!item.transaction.instrument_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction.instrument" md-on-open="vm.loadRelation(\'instrument\')"><md-option data-ng-if="!vm.relationItems[\'instrument\'].length" ng-value="item.transaction.instrument_object.id">{{item.transaction.instrument_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.instrument_toggle"><md-input-container><label for="">Instrument</label><md-select data-ng-model="item.transaction[vm.resolveInstrumentProp(item)]"><md-optgroup label="Inputs"><md-option data-ng-click="vm.setTransactionInstrumentInput(item, inputItem.name)" data-ng-repeat="inputItem in vm.findInputs(\'instrument\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-optgroup><md-optgroup label="Phantoms"><md-option data-ng-click="vm.setTransactionInstrumentPhantom(item, phantomItem.positionOrder)" data-ng-repeat="phantomItem in vm.findPhantoms()" ng-value="phantomItem.positionOrder">{{phantomItem.action_notes}}</md-option></md-optgroup></md-select></md-input-container></div></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Position size with sign</label><input type="text" data-ng-model="item.transaction.position_size_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.position_size_with_sign, {obj: item.transaction, prop: \'position_size_with_sign\'})">...</md-button></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.transaction_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'transaction_currency\')"><span data-ng-if="!!item.transaction.transaction_currency_toggle">R</span> <span data-ng-if="!!!item.transaction.transaction_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency" md-on-open="vm.loadRelation(\'transaction_currency\')"><md-option data-ng-if="!vm.relationItems[\'transaction_currency\'].length" ng-value="item.transaction.transaction_currency_object.id">{{item.transaction.transaction_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'transaction_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'transaction_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.transaction_currency_toggle"><md-input-container><label for="">Transaction currency</label><md-select data-ng-model="item.transaction.transaction_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Principal with sign</label><input type="text" data-ng-model="item.transaction.principal_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.principal_with_sign, {obj: item.transaction, prop: \'principal_with_sign\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Carry with sign</label><input type="text" data-ng-model="item.transaction.carry_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.carry_with_sign, {obj: item.transaction, prop: \'carry_with_sign\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Overheads with sign</label><input type="text" data-ng-model="item.transaction.overheads_with_sign"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.overheads_with_sign, {obj: item.transaction, prop: \'overheads_with_sign\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Accounting date</label><input type="text" data-ng-model="item.transaction.accounting_date"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.accounting_date, {obj: item.transaction, prop: \'accounting_date\'})">...</md-button></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.account_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'account_position\')"><span data-ng-if="!!item.transaction.account_position_toggle">R</span> <span data-ng-if="!!!item.transaction.account_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position" md-on-open="vm.loadRelation(\'account_position\')"><md-option data-ng-if="!vm.relationItems[\'account_position\'].length" ng-value="item.transaction.account_position_object.id">{{item.transaction.account_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_position_toggle"><md-input-container><label for="">Account position</label><md-select data-ng-model="item.transaction.account_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy1_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy1_position\')"><span data-ng-if="!!item.transaction.strategy1_position_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy1_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position" md-on-open="vm.loadRelation(\'strategy1_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_position\'].length" ng-value="item.transaction.strategy1_position_object.id">{{item.transaction.strategy1_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_position_toggle"><md-input-container><label for="">Strategy1 position</label><md-select data-ng-model="item.transaction.strategy1_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy2_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy2_position\')"><span data-ng-if="!!item.transaction.strategy2_position_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy2_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position" md-on-open="vm.loadRelation(\'strategy2_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_position\'].length" ng-value="item.transaction.strategy2_position_object.id">{{item.transaction.strategy2_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_position_toggle"><md-input-container><label for="">Strategy2 position</label><md-select data-ng-model="item.transaction.strategy2_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy3_position_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy3_position\')"><span data-ng-if="!!item.transaction.strategy3_position_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy3_position_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position" md-on-open="vm.loadRelation(\'strategy3_position\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_position\'].length" ng-value="item.transaction.strategy3_position_object.id">{{item.transaction.strategy3_position_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_position\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_position\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_position_toggle"><md-input-container><label for="">Strategy3 position</label><md-select data-ng-model="item.transaction.strategy3_position_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Trade price</label><input type="text" data-ng-model="item.transaction.trade_price"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.trade_price, {obj: item.transaction, prop: \'trade_price\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Factor</label><input type="text" data-ng-model="item.transaction.factor"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.factor, {obj: item.transaction, prop: \'factor\'})">...</md-button></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div></div><div flex="50"><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.portfolio_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'portfolio\')"><span data-ng-if="!!item.transaction.portfolio_toggle">R</span> <span data-ng-if="!!!item.transaction.portfolio_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio" md-on-open="vm.loadRelation(\'portfolio\')"><md-option data-ng-if="!vm.relationItems[\'portfolio\'].length" ng-value="item.transaction.portfolio_object.id">{{item.transaction.portfolio_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'portfolio\'].length" data-ng-repeat="relationItem in vm.relationItems[\'portfolio\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.portfolio_toggle"><md-input-container><label for="">Portfolio</label><md-select data-ng-model="item.transaction.portfolio_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'portfolio\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.counterparty_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'counterparty\')"><span data-ng-if="!!item.transaction.counterparty_toggle">R</span> <span data-ng-if="!!!item.transaction.counterparty_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty" md-on-open="vm.loadRelation(\'counterparty\')"><md-option data-ng-if="!vm.relationItems[\'counterparty\'].length" ng-value="item.transaction.counterparty_object.id">{{item.transaction.counterparty_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'counterparty\'].length" data-ng-repeat="relationItem in vm.relationItems[\'counterparty\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.counterparty_toggle"><md-input-container><label for="">Counterparty</label><md-select data-ng-model="item.transaction.counterparty_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'counterparty\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.responsible_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'responsible\')"><span data-ng-if="!!item.transaction.responsible_toggle">R</span> <span data-ng-if="!!!item.transaction.responsible_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible" md-on-open="vm.loadRelation(\'responsible\')"><md-option data-ng-if="!vm.relationItems[\'responsible\'].length" ng-value="item.transaction.responsible_object.id">{{item.transaction.responsible_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'responsible\'].length" data-ng-repeat="relationItem in vm.relationItems[\'responsible\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.responsible_toggle"><md-input-container><label for="">Responsible</label><md-select data-ng-model="item.transaction.responsible_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'responsible\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.settlement_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'settlement_currency\')"><span data-ng-if="!!item.transaction.settlement_currency_toggle">R</span> <span data-ng-if="!!!item.transaction.settlement_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency" md-on-open="vm.loadRelation(\'settlement_currency\')"><md-option data-ng-if="!vm.relationItems[\'settlement_currency\'].length" ng-value="item.transaction.settlement_currency_object.id">{{item.transaction.settlement_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'settlement_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'settlement_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.settlement_currency_toggle"><md-input-container><label for="">Settlement currency</label><md-select data-ng-model="item.transaction.settlement_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Cash consideration</label><input type="text" data-ng-model="item.transaction.cash_consideration"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.cash_consideration, {obj: item.transaction, prop: \'cash_consideration\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Reference fx-rate</label><input type="text" data-ng-model="item.transaction.reference_fx_rate"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.reference_fx_rate, {obj: item.transaction, prop: \'reference_fx_rate\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Cash date</label><input type="text" data-ng-model="item.transaction.cash_date"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.cash_date, {obj: item.transaction, prop: \'cash_date\'})">...</md-button></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.account_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'account_cash\')"><span data-ng-if="!!item.transaction.account_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.account_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash" md-on-open="vm.loadRelation(\'account_cash\')"><md-option data-ng-if="!vm.relationItems[\'account_cash\'].length" ng-value="item.transaction.account_cash_object.id">{{item.transaction.account_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_cash_toggle"><md-input-container><label for="">Account cash</label><md-select data-ng-model="item.transaction.account_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.account_interim_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'account_interim\')"><span data-ng-if="!!item.transaction.account_interim_toggle">R</span> <span data-ng-if="!!!item.transaction.account_interim_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim" md-on-open="vm.loadRelation(\'account_interim\')"><md-option data-ng-if="!vm.relationItems[\'account_interim\'].length" ng-value="item.transaction.account_interim_object.id">{{item.transaction.account_interim_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'account_interim\'].length" data-ng-repeat="relationItem in vm.relationItems[\'account_interim\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.account_interim_toggle"><md-input-container><label for="">Account interim</label><md-select data-ng-model="item.transaction.account_interim_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'account\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy1_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy1_cash\')"><span data-ng-if="!!item.transaction.strategy1_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy1_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash" md-on-open="vm.loadRelation(\'strategy1_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy1_cash\'].length" ng-value="item.transaction.strategy1_cash_object.id">{{item.transaction.strategy1_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy1_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy1_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy1_cash_toggle"><md-input-container><label for="">Strategy1 cash</label><md-select data-ng-model="item.transaction.strategy1_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-1\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy2_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy2_cash\')"><span data-ng-if="!!item.transaction.strategy2_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy2_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash" md-on-open="vm.loadRelation(\'strategy2_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy2_cash\'].length" ng-value="item.transaction.strategy2_cash_object.id">{{item.transaction.strategy2_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy2_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy2_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy2_cash_toggle"><md-input-container><label for="">Strategy2 cash</label><md-select data-ng-model="item.transaction.strategy2_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-2\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.transaction.strategy3_cash_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'transaction\', \'strategy3_cash\')"><span data-ng-if="!!item.transaction.strategy3_cash_toggle">R</span> <span data-ng-if="!!!item.transaction.strategy3_cash_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash" md-on-open="vm.loadRelation(\'strategy3_cash\')"><md-option data-ng-if="!vm.relationItems[\'strategy3_cash\'].length" ng-value="item.transaction.strategy3_cash_object.id">{{item.transaction.strategy3_cash_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'strategy3_cash\'].length" data-ng-repeat="relationItem in vm.relationItems[\'strategy3_cash\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.transaction.strategy3_cash_toggle"><md-input-container><label for="">Strategy3 cash</label><md-select data-ng-model="item.transaction.strategy3_cash_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'strategy-3\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Principal amount</label><input type="text" data-ng-model="item.transaction.principal_amount"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.principal_amount, {obj: item.transaction, prop: \'principal_amount\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Carry amount</label><input type="text" data-ng-model="item.transaction.carry_amount"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.carry_amount, {obj: item.transaction, prop: \'carry_amount\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Overheads</label><input type="text" data-ng-model="item.transaction.overheads"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.transaction.overheads, {obj: item.transaction, prop: \'overheads\'})">...</md-button></div></div></div></div></div><div data-ng-if="item.instrument != null"><div layout="row"><div flex="50"><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.instrument_type_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'instrument_type\')"><span data-ng-if="!!item.instrument.instrument_type_toggle">R</span> <span data-ng-if="!!!item.instrument.instrument_type_toggle">I</span></md-button></div><div flex="80"><div><div data-ng-if="item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type" md-on-open="vm.loadRelation(\'instrument_type\')"><md-option data-ng-if="!vm.relationItems[\'instrument_type\'].length" ng-value="item.instrument.instrument_type_object.id">{{item.instrument.instrument_type_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'instrument_type\'].length" data-ng-repeat="relationItem in vm.relationItems[\'instrument_type\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.instrument_type_toggle"><md-input-container><label for="">Instrument type</label><md-select data-ng-model="item.instrument.instrument_type_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'instrument-type\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">User code</label><input type="text" data-ng-model="item.instrument.user_code"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_code, {obj: item.instrument, prop: \'user_code\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">Name</label><input type="text" data-ng-model="item.instrument.name"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.name, {obj: item.instrument, prop: \'name\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Short name</label><input type="text" data-ng-model="item.instrument.short_name"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.short_name, {obj: item.instrument, prop: \'short_name\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Public name</label><input type="text" data-ng-model="item.instrument.public_name"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.public_name, {obj: item.instrument, prop: \'public_name\'})">...</md-button></div></div><div layout="row"><div flex="33"><md-input-container class="expression-input-container"><label for="">User text1</label><input type="text" data-ng-model="item.instrument.user_text_1"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_text_1, {obj: item.instrument, prop: \'user_text_1\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">User text2</label><input type="text" data-ng-model="item.instrument.user_text_2"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_text_2, {obj: item.instrument, prop: \'user_text_2\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">User text3</label><input type="text" data-ng-model="item.instrument.user_text_3"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.user_text_3, {obj: item.instrument, prop: \'user_text_3\'})">...</md-button></div></div><div layout="row"><div flex="100"><md-input-container class="expression-input-container"><label for="">Notes</label><input type="text" data-ng-model="item.instrument.notes"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.notes, {obj: item.instrument, prop: \'notes\'})">...</md-button></div></div></div><div flex="50"><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.daily_pricing_model_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'daily_pricing_model\')"><span data-ng-if="!!item.instrument.daily_pricing_model_toggle">R</span> <span data-ng-if="!!!item.instrument.daily_pricing_model_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model" md-on-open="vm.loadRelation(\'daily_pricing_model\')"><md-option data-ng-if="!vm.relationItems[\'daily_pricing_model\'].length" ng-value="item.instrument.daily_pricing_model_object.id">{{item.instrument.daily_pricing_model_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'daily_pricing_model\'].length" data-ng-repeat="relationItem in vm.relationItems[\'daily_pricing_model\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.daily_pricing_model_toggle"><md-input-container><label for="">Daily pricing model</label><md-select data-ng-model="item.instrument.daily_pricing_model_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'daily-pricing-model\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.price_download_scheme_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'price_download_scheme\')"><span data-ng-if="!!item.instrument.price_download_scheme_toggle">R</span> <span data-ng-if="!!!item.instrument.price_download_scheme_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme" md-on-open="vm.loadRelation(\'price_download_scheme\')"><md-option data-ng-if="!vm.relationItems[\'price_download_scheme\'].length" ng-value="item.instrument.price_download_scheme_object.id">{{item.instrument.price_download_scheme_object.scheme_name}}</md-option><md-option data-ng-if="vm.relationItems[\'price_download_scheme\'].length" data-ng-repeat="relationItem in vm.relationItems[\'price_download_scheme\']" ng-value="relationItem.id">{{relationItem.scheme_name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.price_download_scheme_toggle"><md-input-container><label for="">Price download scheme</label><md-select data-ng-model="item.instrument.price_download_scheme_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'price-download-scheme\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Reference for pricing</label><input type="text" data-ng-model="item.instrument.reference_for_pricing"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.reference_for_pricing, {obj: item.instrument, prop: \'reference_for_pricing\'})">...</md-button></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.pricing_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'pricing_currency\')"><span data-ng-if="!!item.instrument.pricing_currency_toggle">R</span> <span data-ng-if="!!!item.instrument.pricing_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency" md-on-open="vm.loadRelation(\'pricing_currency\')"><md-option data-ng-if="!vm.relationItems[\'pricing_currency\'].length" ng-value="item.instrument.pricing_currency_object.id">{{item.instrument.pricing_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'pricing_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'pricing_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.pricing_currency_toggle"><md-input-container><label for="">Pricing currency</label><md-select data-ng-model="item.instrument.pricing_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Price multiplier</label><input type="text" data-ng-model="item.instrument.price_multiplier"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.price_multiplier, {obj: item.instrument, prop: \'price_multiplier\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Default price</label><input type="text" data-ng-model="item.instrument.default_price"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.default_price, {obj: item.instrument, prop: \'default_price\'})">...</md-button></div></div><div layout="row"><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.accrued_currency_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'accrued_currency\')"><span data-ng-if="!!item.instrument.accrued_currency_toggle">R</span> <span data-ng-if="!!!item.instrument.accrued_currency_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency" md-on-open="vm.loadRelation(\'accrued_currency\')"><md-option data-ng-if="!vm.relationItems[\'accrued_currency\'].length" ng-value="item.instrument.accrued_currency_object.id">{{item.instrument.accrued_currency_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'accrued_currency\'].length" data-ng-repeat="relationItem in vm.relationItems[\'accrued_currency\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.accrued_currency_toggle"><md-input-container><label for="">Accrued currency</label><md-select data-ng-model="item.instrument.accrued_currency_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'currency\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Accrued multiplier</label><input type="text" data-ng-model="item.instrument.accrued_multiplier"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.accrued_multiplier, {obj: item.instrument, prop: \'accrued_multiplier\'})">...</md-button></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Default accrued</label><input type="text" data-ng-model="item.instrument.default_accrued"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.default_accrued, {obj: item.instrument, prop: \'default_accrued\'})">...</md-button></div></div><div flex="33" layout="row"><div flex="20"><md-button class="md-icon-button md-raised {{!!item.instrument.payment_size_detail_toggle ? \'ref\' : \'\'}}" style="transform: scale(0.7,0.7)" data-ng-click="vm.resetPropertyBtn(item, \'instrument\', \'payment_size_detail\')"><span data-ng-if="!!item.instrument.payment_size_detail_toggle">R</span> <span data-ng-if="!!!item.instrument.payment_size_detail_toggle">I</span></md-button></div><div flex="80"><div data-ng-if="item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail" md-on-open="vm.loadRelation(\'payment_size_detail\')"><md-option data-ng-if="!vm.relationItems[\'payment_size_detail\'].length" ng-value="item.instrument.payment_size_detail_object.id">{{item.instrument.payment_size_detail_object.name}}</md-option><md-option data-ng-if="vm.relationItems[\'payment_size_detail\'].length" data-ng-repeat="relationItem in vm.relationItems[\'payment_size_detail\']" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></div><div data-ng-if="!item.instrument.payment_size_detail_toggle"><md-input-container><label for="">Payment size details</label><md-select data-ng-model="item.instrument.payment_size_detail_input"><md-option data-ng-repeat="inputItem in vm.findInputs(\'payment-size-detail\')" ng-value="inputItem.name">{{inputItem.name}}</md-option></md-select></md-input-container></div></div></div><div flex="33"><md-input-container><label for="">&nbsp;</label></md-input-container></div><div flex="33"><md-input-container class="expression-input-container"><label for="">Maturity date</label><input type="text" data-ng-model="item.instrument.maturity_date"></md-input-container><md-button class="md-raised md-primary expr-btn" data-ng-click="vm.openExpressionDialog($event, item.instrument.maturity_date, {obj: item.instrument, prop: \'maturity_date\'})">...</md-button></div></div></div></div></v-pane-content></v-pane></v-accordion><div layout="row" layout-align="end center"><md-button class="md-raised" data-ng-click="vm.addAction(\'transaction\')">Add new transaction action</md-button><md-button class="md-raised" data-ng-click="vm.addAction(\'instrument\')">Add new instrument action</md-button></div></div></div>');
}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/transaction-type/transaction-type-general-tab-view.html",'<div data-ng-controller="TransactionTypeGeneralTabController as vm"><div data-ng-if="vm.checkReadyStatus()"><div layout="row"><md-input-container><label for="">User code</label><input type="text" data-ng-model="vm.entity.user_code"></md-input-container><md-input-container><label for="">Group</label><md-select data-ng-model="vm.entity.group"><md-option ng-value="item.id" ng-repeat="item in vm.transactionTypeGroups">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row"><md-input-container><label for="">Name</label><input type="text" data-ng-model="vm.entity.name"></md-input-container></div><div layout="row"><md-input-container><label for="">Notes</label><textarea data-ng-model="vm.entity.notes" cols="30" rows="10"></textarea></md-input-container></div><div layout="row"><md-input-container><md-checkbox data-ng-model="vm.entity.is_valid_for_all_instruments">Valid for all instruments</md-checkbox></md-input-container><md-input-container><md-checkbox data-ng-model="vm.entity.is_valid_for_all_portfolios">Valid for all portfolios</md-checkbox></md-input-container></div><div layout="row" style="margin-bottom: 15px"><md-input-container style="min-width: 200px"><label for="">Instrument types</label><md-select data-ng-model="vm.entity.instrument_types" multiple="multiple" md-selected-text="vm.bindSelectedText(vm.entity.instrument_types, \'Instrument Type\')"><md-option ng-value="item.id" ng-repeat="item in vm.instrumentTypes">{{item.name}}</md-option></md-select></md-input-container><md-input-container style="min-width: 200px"><label for="">Portfolios</label><md-select data-ng-model="vm.entity.portfolios" multiple="multiple" md-selected-text="vm.bindSelectedText(vm.entity.portfolios, \'Portfolio\')"><md-option ng-value="item.id" ng-repeat="item in vm.portfolios">{{item.name}}</md-option></md-select></md-input-container></div><div layout="row"><md-input-container><label for="">Display expression</label><input type="text" data-ng-model="vm.entity.display_expr"></md-input-container></div><div layout="row"><md-input-container><label for="">Tags</label><md-select data-ng-model="vm.entity.tags" multiple="multiple"><md-option ng-value="item.id" ng-repeat="item in vm.tags">{{item.name}}</md-option></md-select></md-input-container></div></div><div data-ng-if="!vm.checkReadyStatus()"><div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="indeterminate"></md-progress-circular></div></div></div>')}])}(),function(t){try{t=angular.module("portal")}catch(e){t=angular.module("portal",[])}t.run(["$templateCache",function(t){t.put("views/tabs/transaction-type/transaction-type-inputs-tab-view.html",'<div data-ng-controller="TransactionTypeInputsTabController as vm"><div class="tt-inputs-tab-view"><table class="bordered"><thead><tr><th data-ng-click="vm.setSort(\'name\')">Name<span class="sortorder" data-ng-show="vm.sort === \'name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'verbose_name\')">Verbose name<span class="sortorder" data-ng-show="vm.sort === \'verbose_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'value_type_name\')">Value type<span class="sortorder" data-ng-show="vm.sort === \'value_type_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th data-ng-click="vm.setSort(\'content_type_name\')">Content type<span class="sortorder" data-ng-show="vm.sort === \'content_type_name\'" data-ng-class="{reverse: vm.direction}"></span></th><th>Default value</th><th>Fill from context</th><th><md-button class="md-icon-button"><ng-md-icon data-ng-click="vm.toggleQuery()" icon="search"></ng-md-icon></md-button></th></tr><tr style="border: 0" data-ng-if="vm.queryStatus" class="filter-row-holder"><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.name"></md-input-container></th><th><md-input-container><ng-md-icon icon="search"></ng-md-icon><input type="text" data-ng-model="vm.query.verbose_name"></md-input-container></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr data-ng-repeat="item in vm.entity.inputs | filter:vm.query | orderBy:vm.sort:vm.direction"><td data-ng-bind="item.name" data-ng-if="!item.editStatus"></td><td data-ng-bind="item.verbose_name" data-ng-if="!item.editStatus"></td><td data-ng-bind="vm.bindValueType(item)" data-ng-if="!item.editStatus"></td><td data-ng-bind="vm.bindContentType(item)" data-ng-if="!item.editStatus"></td><td data-ng-bind="vm.resolveDefaultValue(item)" data-ng-if="!item.editStatus"></td><td data-ng-if="!item.editStatus"><span class="bool-table-view" data-ng-if="item.is_fill_from_context"><ng-md-icon icon="check_circle" size="16" style="fill:rgb(0,0,0)"></ng-md-icon></span></td><td data-ng-if="!item.editStatus" class="table-misc-cell"><md-menu><!-- Trigger element is a md-button with an icon --><md-button ng-click="$mdOpenMenu($event)" class="md-icon-button" aria-label="Open sample menu"><ng-md-icon icon="settings"></ng-md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="vm.editItem(item)"><ng-md-icon icon="mode_edit" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Edit</md-button></md-menu-item><md-menu-item><md-button ng-click="vm.deleteItem(item, $index)"><ng-md-icon icon="delete" style="top: 6px;\n    position: relative;\n    margin-right: 10px"></ng-md-icon>Delete</md-button></md-menu-item></md-menu-content></md-menu></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Name</label><input type="text" data-ng-model="item.name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><label for="">Verbose name</label><input type="text" data-ng-model="item.verbose_name"></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Value type</label><md-select data-ng-model="item.value_type"><md-option data-ng-repeat="item in vm.valueTypes" ng-value="item.value">{{item.display_name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td" style="padding-top: 12px"><md-input-container><label for="">Content type</label><md-select data-ng-model="item.content_type"><md-option data-ng-repeat="item in vm.contentTypes" ng-value="item.key">{{item.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container data-ng-if="item.value_type != 100"><label for="">Default value</label><input type="text" data-ng-model="item.value"></md-input-container><md-input-container data-ng-if="item.value_type == 100" style="margin-top: -25px"><label for="">Default value</label><md-select data-ng-model="item[vm.resolveRelation(vm.newItem)]" md-on-open="vm.loadRelation(vm.resolveRelation(item))"><md-option data-ng-repeat="relationItem in vm.relationItems[vm.resolveRelation(item)]" ng-value="relationItem.id">{{relationItem.name}}</md-option></md-select></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-input-container><md-checkbox data-ng-model="item.is_fill_from_context">Fill from context</md-checkbox></md-input-container></td><td data-ng-if="item.editStatus" class="edit-state-td"><md-button data-ng-click="vm.saveItem(item)">Ok</md-button></td></tr><tr class="tab-input-row"><td><md-input-container><input type="text" data-ng-model="vm.newItem.name"></md-input-container></td><td><md-input-container><input type="text" data-ng-model="vm.newItem.verbose_name"></md-input-container></td><td style="padding-top: 12px"><md-input-container><md-select data-ng-model="vm.newItem.value_type"><md-option data-ng-repeat="item in vm.valueTypes" ng-value="item.value">{{item.display_name}}</md-option></md-select></md-input-container></td><td style="padding-top: 12px"><md-input-container><md-select data-ng-model="vm.newItem.content_type"><md-option data-ng-repeat="item in vm.contentTypes" ng-value="item.key">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container data-ng-if="vm.newItem.value_type != 100"><input type="text" data-ng-model="vm.newItem.value"></md-input-container><md-input-container data-ng-if="vm.newItem.value_type == 100" style="margin-top: -25px"><md-select data-ng-model="vm.newItem[vm.resolveRelation(vm.newItem)]" md-on-open="vm.loadRelation(vm.resolveRelation(vm.newItem))"><md-option data-ng-repeat="item in vm.relationItems[vm.resolveRelation(vm.newItem)]" ng-value="item.id">{{item.name}}</md-option></md-select></md-input-container></td><td><md-input-container><md-checkbox data-ng-model="vm.newItem.is_fill_from_context"></md-checkbox></md-input-container></td><td><md-button data-ng-click="vm.addRow()">Add</md-button></td></tr></tbody></table></div></div>')}])}()},{}]},{},[299]);